!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("vscode"));else if("function"==typeof define&&define.amd)define(["vscode"],t);else{var n="object"==typeof exports?t(require("vscode")):t(e.vscode);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(global,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=95)}([function(e,t){e.exports=require("buffer")},function(e,t,n){var r;e.exports=(r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(21)}catch(e){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},c=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},u=s.WordArray=c.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=c.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new u.init(t,e)}}),l=a.enc={},h=l.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new u.init(n,t/2)}},f=l.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new u.init(n,t)}},d=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*c,o);if(c){for(var h=0;h<c;h+=a)this._doProcessBlock(i,h);n=i.splice(0,c),r.sigBytes-=l}return new u.init(n,l)},clone:function(){var e=c.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=p.extend({cfg:c.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math),r)},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("util")},function(e,t,n){try{var r=n(3);if("function"!=typeof r.inherits)throw"";e.exports=r.inherits}catch(t){e.exports=n(143)}},function(e,t,n){var r,i,o=n(6),a=n(97),s=n(98),c=n(99),u=n(3);function l(e,t){Object.defineProperty(e,r,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!o[r]){var f=global[r]||[];l(o,f),o.close=function(e){function t(t,n){return e.call(o,t,(function(e){e||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,i,{value:e}),t}(o.close),o.closeSync=function(e){function t(t){e.apply(o,arguments),m()}return Object.defineProperty(t,i,{value:e}),t}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[r]),n(31).equal(o[r].length,0)}))}function d(e){a(e),e.gracefulify=d,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){"function"==typeof n&&(r=n,n=null);return function e(n,r,i){return t(n,r,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof i&&i.apply(this,arguments),m()):p([e,[n,r,i]])}))}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){"function"==typeof r&&(i=r,r=null);return function e(t,r,i,o){return n(t,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):p([e,[t,r,i,o]])}))}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){"function"==typeof n&&(i=n,n=null);return function e(t,n,i,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),m()):p([e,[t,n,i,o]])}))}(e,t,n,i)});var i=e.readdir;function o(t){return i.apply(e,t)}if(e.readdir=function(e,t,n){var r=[e];"function"!=typeof t?r.push(t):n=t;return r.push((function(e,t){t&&t.sort&&t.sort();!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof n&&n.apply(this,arguments),m()):p([o,[r]])})),o(r)},"v0.8"===process.version.substr(0,4)){var c=s(e);g=c.ReadStream,y=c.WriteStream}var u=e.ReadStream;u&&(g.prototype=Object.create(u.prototype),g.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var l=e.WriteStream;l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var e=this;b(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var h=g;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var f=y;function g(e,t){return this instanceof g?(u.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(e,t){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0});var v=e.open;function b(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i){return v(t,n,r,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),m()):p([e,[t,n,r,i]])}))}(e,t,n,r)}return e.open=b,e}function p(e){h("ENQUEUE",e[0].name,e[1]),o[r].push(e)}function m(){var e=o[r].shift();e&&(h("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}global[r]||l(global,o[r]),e.exports=d(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(e.exports=d(o),o.__patched=!0)},function(e,t){e.exports=require("fs")},function(e,t,n){var r,i,o,a,s,c,u,l,h,f,d,p,m,g,y,v,b,_,w;e.exports=(r=n(1),n(18),void(r.lib.Cipher||(i=r,o=i.lib,a=o.Base,s=o.WordArray,c=o.BufferedBlockAlgorithm,u=i.enc,u.Utf8,l=u.Base64,h=i.algo.EvpKDF,f=o.Cipher=c.extend({cfg:a.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),o.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=i.mode={},p=o.BlockCipherMode=a.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=d.CBC=function(){var e=p.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var o=0;o<n;o++)e[t+o]^=r[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[],a=0;a<r;a+=4)o.push(i);var c=s.create(o,r);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:m,padding:g}),reset:function(){var e;f.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),y=o.CipherParams=a.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(t):t).toString(l)},parse:function(e){var t,n=l.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),y.create({ciphertext:n,salt:t})}},b=o.SerializableCipher=a.extend({cfg:a.extend({format:v}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),o=i.finalize(t),a=i.cfg;return y.create({ciphertext:o,key:n,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),_=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=s.random(8));var i=h.create({keySize:t+n}).compute(e,r),o=s.create(i.words.slice(t),4*n);return i.sigBytes=4*t,y.create({key:i,iv:o,salt:r})}},w=o.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:_}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var o=b.encrypt.call(this,e,t,i.key,r);return o.mixIn(i),o},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}}))))},function(e,t,n){"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise((n,r)=>{e.apply(this,t.concat([(e,t)=>e?r(e):n(t)]))});e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>n(null,e),n)}),"name",{value:e.name})}},function(e,t){e.exports=require("stream")},function(e,t,n){"use strict";const r=n(8).fromPromise,{makeDir:i,makeDirSync:o}=n(101),a=r(i);e.exports={mkdirs:a,mkdirsSync:o,mkdirp:a,mkdirpSync:o,ensureDir:a,ensureDirSync:o}},function(e,t){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=Buffer.isBuffer},function(e,t,n){var r=n(9);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(77)).Stream=r||t,t.Readable=t,t.Writable=n(81),t.Duplex=n(28),t.Transform=n(82),t.PassThrough=n(214),t.finished=n(45),t.pipeline=n(215))},function(t,n){t.exports=e},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,r){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,o,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,r)}));default:for(i=new Array(a-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick((function(){e.apply(null,i)}))}}}:e.exports=process},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CmnLib=t.replaceFile=t.foldProc=t.treeProc=t.regNoUseSysPath=t.statBreak=t.is_mac=t.is_win=t.oIcon=t.setCtx4=t.uint=void 0;const r=n(13);t.uint=function(e){const t=parseInt(String(e),10);return t<0?-t:t},t.setCtx4=function(e){i=e.extensionPath};let i="";t.oIcon=function(e){return{light:`${i}/res/light/${e}.svg`,dark:`${i}/res/dark/${e}.svg`}},t.is_win="win32"===process.platform,t.is_mac="darwin"===process.platform,t.statBreak=t.is_mac?()=>"&&":t.is_win?()=>"cmd.exe"===String(r.workspace.getConfiguration("terminal.integrated.shell").get("windows")).slice(7)?"&":";":()=>";";const o=n(22),a=n(2),s=/^(\..+|.+.db|.+.ini|_notes|Icon\r)$/;t.regNoUseSysPath=/\/(\..+|.+.db|.+.ini|_notes|Icon\r)$/,t.treeProc=function e(t,n){o.readdirSync(t,{withFileTypes:!0}).forEach(r=>{s.lastIndex=0;const i=String(r.name).normalize("NFC");if(s.test(i))return;const o=a.resolve(t,i);r.isDirectory()?e(o,n):n(o)})},t.foldProc=function(e,t,n){o.readdirSync(e,{withFileTypes:!0}).forEach(r=>{s.lastIndex=0;const i=String(r.name).normalize("NFC");if(s.test(i))return;if(r.isDirectory())return void n(i);const o=a.resolve(e,i);t(o,i)})},t.replaceFile=function(e,t,n,r=e){try{if(!o.existsSync(e))return;const i=o.readFileSync(e,{encoding:"utf8"}),a=String(i.replace(t,n));o.ensureFileSync(r),i!=a&&o.writeFileSync(r,a)}catch(t){console.error(`replaceFile src:${e} ${t}`)}};class c{}t.CmnLib=c,c.getFn=e=>a.basename(e,a.extname(e))},function(e,t,n){"use strict";const r=n(8).fromPromise,i=n(30);e.exports={pathExists:r((function(e){return i.access(e).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(1),n(40),n(41),i=(r=l).lib,o=i.Base,a=i.WordArray,s=r.algo,c=s.MD5,u=s.EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),o=a.create(),s=o.words,c=r.keySize,u=r.iterations;s.length<c;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var l=1;l<u;l++)n=i.finalize(n),i.reset();o.concat(n)}return o.sigBytes=4*c,o}}),r.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)},l.EvpKDF)},function(e,t,n){var r=n(0),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";const r={};function i(e,t,n){n||(n=Error);class i extends n{constructor(e,n,r){super(function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(e,n,r))}}i.prototype.name=n.name,i.prototype.code=e,r[e]=i}function o(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map(e=>String(e)),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}i("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),i("ERR_INVALID_ARG_TYPE",(function(e,t,n){let r;var i,a;let s;if("string"==typeof t&&(i="not ",t.substr(!a||a<0?0:+a,i.length)===i)?(r="must not be",t=t.replace(/^not /,"")):r="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s=`The ${e} ${r} ${o(t,"type")}`;else{s=`The "${e}" ${function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument"} ${r} ${o(t,"type")}`}return s+=". Received type "+typeof n,s}),TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=r},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";e.exports={...n(30),...n(49),...n(52),...n(103),...n(105),...n(111),...n(10),...n(116),...n(118),...n(37),...n(17),...n(33)};const r=n(6);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(e.exports,"promises",{get:()=>r.promises})},function(e,t,n){var r,i,o;e.exports=(o=n(1),i=(r=o).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var c=r.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,r=this._reverseMap;if(!r){r=this._reverseMap=[];for(var o=0;o<n.length;o++)r[n.charCodeAt(o)]=o}var a=n.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,n){for(var r=[],o=0,a=0;a<t;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2,c=n[e.charCodeAt(a)]>>>6-a%4*2,u=s|c;r[o>>>2]|=u<<24-o%4*8,o++}return i.create(r,o)}(e,t,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},o.enc.Base64)},function(e,t,n){var r;e.exports=(r=n(1),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],d=e[t+2],p=e[t+3],m=e[t+4],g=e[t+5],y=e[t+6],v=e[t+7],b=e[t+8],_=e[t+9],w=e[t+10],S=e[t+11],x=e[t+12],E=e[t+13],k=e[t+14],R=e[t+15],T=o[0],P=o[1],I=o[2],D=o[3];T=u(T,P,I,D,a,7,s[0]),D=u(D,T,P,I,c,12,s[1]),I=u(I,D,T,P,d,17,s[2]),P=u(P,I,D,T,p,22,s[3]),T=u(T,P,I,D,m,7,s[4]),D=u(D,T,P,I,g,12,s[5]),I=u(I,D,T,P,y,17,s[6]),P=u(P,I,D,T,v,22,s[7]),T=u(T,P,I,D,b,7,s[8]),D=u(D,T,P,I,_,12,s[9]),I=u(I,D,T,P,w,17,s[10]),P=u(P,I,D,T,S,22,s[11]),T=u(T,P,I,D,x,7,s[12]),D=u(D,T,P,I,E,12,s[13]),I=u(I,D,T,P,k,17,s[14]),T=l(T,P=u(P,I,D,T,R,22,s[15]),I,D,c,5,s[16]),D=l(D,T,P,I,y,9,s[17]),I=l(I,D,T,P,S,14,s[18]),P=l(P,I,D,T,a,20,s[19]),T=l(T,P,I,D,g,5,s[20]),D=l(D,T,P,I,w,9,s[21]),I=l(I,D,T,P,R,14,s[22]),P=l(P,I,D,T,m,20,s[23]),T=l(T,P,I,D,_,5,s[24]),D=l(D,T,P,I,k,9,s[25]),I=l(I,D,T,P,p,14,s[26]),P=l(P,I,D,T,b,20,s[27]),T=l(T,P,I,D,E,5,s[28]),D=l(D,T,P,I,d,9,s[29]),I=l(I,D,T,P,v,14,s[30]),T=h(T,P=l(P,I,D,T,x,20,s[31]),I,D,g,4,s[32]),D=h(D,T,P,I,b,11,s[33]),I=h(I,D,T,P,S,16,s[34]),P=h(P,I,D,T,k,23,s[35]),T=h(T,P,I,D,c,4,s[36]),D=h(D,T,P,I,m,11,s[37]),I=h(I,D,T,P,v,16,s[38]),P=h(P,I,D,T,w,23,s[39]),T=h(T,P,I,D,E,4,s[40]),D=h(D,T,P,I,a,11,s[41]),I=h(I,D,T,P,p,16,s[42]),P=h(P,I,D,T,y,23,s[43]),T=h(T,P,I,D,_,4,s[44]),D=h(D,T,P,I,x,11,s[45]),I=h(I,D,T,P,R,16,s[46]),T=f(T,P=h(P,I,D,T,d,23,s[47]),I,D,a,6,s[48]),D=f(D,T,P,I,v,10,s[49]),I=f(I,D,T,P,k,15,s[50]),P=f(P,I,D,T,g,21,s[51]),T=f(T,P,I,D,x,6,s[52]),D=f(D,T,P,I,p,10,s[53]),I=f(I,D,T,P,w,15,s[54]),P=f(P,I,D,T,c,21,s[55]),T=f(T,P,I,D,b,6,s[56]),D=f(D,T,P,I,R,10,s[57]),I=f(I,D,T,P,y,15,s[58]),P=f(P,I,D,T,E,21,s[59]),T=f(T,P,I,D,m,6,s[60]),D=f(D,T,P,I,S,10,s[61]),I=f(I,D,T,P,d,15,s[62]),P=f(P,I,D,T,_,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+P|0,o[2]=o[2]+I|0,o[3]=o[3]+D|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function h(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},function(e,t,n){"use strict";var r=n(15),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=Object.create(n(11));o.inherits=n(4);var a=n(61),s=n(65);o.inherits(h,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(19).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";var r=n(15),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var o=Object.create(n(11));o.inherits=n(4);var a=n(68),s=n(71);o.inherits(h,a);for(var c=i(s.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=s.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var i=n(77),o=n(81);n(4)(u,i);for(var a=r(o.prototype),s=0;s<a.length;s++){var c=a[s];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},function(e,t,n){var r=n(5),i=n(2),o=(n(3),n(193)),a=n(67),s=n(198),c=n(9).Stream,u=n(199).PassThrough,l=e.exports={};l.file=n(202),l.collectStream=function(e,t){var n=[],r=0;e.on("error",t),e.on("data",(function(e){n.push(e),r+=e.length})),e.on("end",(function(){var e=new Buffer(r),i=0;n.forEach((function(t){t.copy(e,i),i+=t.length})),t(null,e)}))},l.dateify=function(e){return e=(e=e||new Date)instanceof Date?e:"string"==typeof e?new Date(e):new Date},l.defaults=function(e,t,n){var r=arguments;return r[0]=r[0]||{},s(...r)},l.isStream=function(e){return e instanceof c},l.lazyReadStream=function(e){return new o.Readable((function(){return r.createReadStream(e)}))},l.normalizeInputSource=function(e){if(null===e)return new Buffer(0);if("string"==typeof e)return new Buffer(e);if(l.isStream(e)&&!e._readableState){var t=new u;return e.pipe(t),t}return e},l.sanitizePath=function(e){return a(e,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},l.trailingSlashIt=function(e){return"/"!==e.slice(-1)?e+"/":e},l.unixifyPath=function(e){return a(e,!1).replace(/^\w+:/,"")},l.walkdir=function(e,t,n){var o=[];"function"==typeof t&&(n=t,t=e),r.readdir(e,(function(a,s){var c,u,h=0;if(a)return n(a);!function a(){if(!(c=s[h++]))return n(null,o);u=i.join(e,c),r.stat(u,(function(e,n){o.push({path:u,relative:i.relative(t,u).replace(/\\/g,"/"),stats:n}),n&&n.isDirectory()?l.walkdir(u,t,(function(e,t){t.forEach((function(e){o.push(e)})),a()})):a()}))}()}))}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(5),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof i[e]);Object.keys(i).forEach(e=>{"promises"!==e&&(t[e]=i[e])}),o.forEach(e=>{t[e]=r(i[e])}),t.exists=function(e,t){return"function"==typeof t?i.exists(e,t):new Promise(t=>i.exists(e,t))},t.read=function(e,t,n,r,o,a){return"function"==typeof a?i.read(e,t,n,r,o,a):new Promise((a,s)=>{i.read(e,t,n,r,o,(e,t,n)=>{if(e)return s(e);a({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?i.write(e,t,...n):new Promise((r,o)=>{i.write(e,t,...n,(e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffer:n})})})},"function"==typeof i.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?i.writev(e,t,...n):new Promise((r,o)=>{i.writev(e,t,...n,(e,t,n)=>{if(e)return o(e);r({bytesWritten:t,buffers:n})})})}),"function"==typeof i.realpath.native&&(t.realpath.native=r(i.realpath.native))},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";const r=n(30),i=n(2),o=n(3),a=n(50)("10.5.0"),s=e=>a?r.stat(e,{bigint:!0}):r.stat(e),c=e=>a?r.statSync(e,{bigint:!0}):r.statSync(e);function u(e,t){return Promise.all([s(e),s(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function l(e,t){if(t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev){if(a||t.ino<Number.MAX_SAFE_INTEGER)return!0;if(t.size===e.size&&t.mode===e.mode&&t.nlink===e.nlink&&t.atimeMs===e.atimeMs&&t.mtimeMs===e.mtimeMs&&t.ctimeMs===e.ctimeMs&&t.birthtimeMs===e.birthtimeMs)return!0}return!1}function h(e,t){const n=i.resolve(e).split(i.sep).filter(e=>e),r=i.resolve(t).split(i.sep).filter(e=>e);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function f(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:function(e,t,n,r){o.callbackify(u)(e,t,(i,o)=>{if(i)return r(i);const{srcStat:a,destStat:s}=o;return s&&l(a,s)?r(new Error("Source and destination must not be the same.")):a.isDirectory()&&h(e,t)?r(new Error(f(e,t,n))):r(null,{srcStat:a,destStat:s})})},checkPathsSync:function(e,t,n){const{srcStat:r,destStat:i}=function(e,t){let n;const r=c(e);try{n=c(t)}catch(e){if("ENOENT"===e.code)return{srcStat:r,destStat:null};throw e}return{srcStat:r,destStat:n}}(e,t);if(i&&l(r,i))throw new Error("Source and destination must not be the same.");if(r.isDirectory()&&h(e,t))throw new Error(f(e,t,n));return{srcStat:r,destStat:i}},checkParentPaths:function e(t,n,o,s,c){const u=i.resolve(i.dirname(t)),h=i.resolve(i.dirname(o));if(h===u||h===i.parse(h).root)return c();const d=(r,i)=>r?"ENOENT"===r.code?c():c(r):l(n,i)?c(new Error(f(t,o,s))):e(t,n,h,s,c);a?r.stat(h,{bigint:!0},d):r.stat(h,d)},checkParentPathsSync:function e(t,n,r,o){const a=i.resolve(i.dirname(t)),s=i.resolve(i.dirname(r));if(s===a||s===i.parse(s).root)return;let u;try{u=c(s)}catch(e){if("ENOENT"===e.code)return;throw e}if(l(n,u))throw new Error(f(t,r,o));return e(t,n,s,o)},isSrcSubdir:h}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(104);e.exports={remove:r(i),removeSync:i.sync}},function(e,t,n){var r,i,o,a,s,c;e.exports=(c=n(1),i=(r=c).lib,o=i.Base,a=i.WordArray,(s=r.x64={}).Word=o.extend({init:function(e,t){this.high=e,this.low=t}}),s.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=o.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),c)},function(e,t,n){e.exports=l,l.Minimatch=h;var r={sep:"/"};try{r=n(2)}catch(e){}var i=l.GLOBSTAR=h.GLOBSTAR={},o=n(189),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},s="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{});var c=/\/+/;function u(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach((function(e){n[e]=t[e]})),Object.keys(e).forEach((function(t){n[t]=e[t]})),n}function l(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new h(t,n).match(e))}function h(e,t){if(!(this instanceof h))return new h(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==r.sep&&(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(e,t){if(t||(t=this instanceof h?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:o(e)}l.filter=function(e,t){return t=t||{},function(n,r,i){return l(n,e,t)}},l.defaults=function(e){if(!e||!Object.keys(e).length)return l;var t=l,n=function(n,r,i){return t.minimatch(n,r,u(e,i))};return n.Minimatch=function(n,r){return new t.Minimatch(n,u(e,r))},n},h.defaults=function(e){return e&&Object.keys(e).length?l.defaults(e).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(c)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=e.length;i<o&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r));this.negate=t},l.braceExpand=function(e,t){return f(e,t)},h.prototype.braceExpand=f,h.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return i;if(""===e)return"";var r,o="",c=!!n.nocase,u=!1,l=[],h=[],f=!1,p=-1,m=-1,g="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function v(){if(r){switch(r){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+r}y.debug("clearStateChar %j %j",r,o),r=!1}}for(var b,_=0,w=e.length;_<w&&(b=e.charAt(_));_++)if(this.debug("%s\t%s %s %j",e,_,o,b),u&&s[b])o+="\\"+b,u=!1;else switch(b){case"/":return!1;case"\\":v(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,_,o,b),f){this.debug("  in class"),"!"===b&&_===m+1&&(b="^"),o+=b;continue}y.debug("call clearStateChar %j",r),v(),r=b,n.noext&&v();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:_-1,reStart:o.length,open:a[r].open,close:a[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!l.length){o+="\\)";continue}v(),c=!0;var S=l.pop();o+=S.close,"!"===S.type&&h.push(S),S.reEnd=o.length;continue;case"|":if(f||!l.length||u){o+="\\|",u=!1;continue}v(),o+="|";continue;case"[":if(v(),f){o+="\\"+b;continue}f=!0,m=_,p=o.length,o+=b;continue;case"]":if(_===m+1||!f){o+="\\"+b,u=!1;continue}if(f){var x=e.substring(m+1,_);try{RegExp("["+x+"]")}catch(e){var E=this.parse(x,d);o=o.substr(0,p)+"\\["+E[0]+"\\]",c=c||E[1],f=!1;continue}}c=!0,f=!1,o+=b;continue;default:v(),u?u=!1:!s[b]||"^"===b&&f||(o+="\\"),o+=b}f&&(x=e.substr(m+1),E=this.parse(x,d),o=o.substr(0,p)+"\\["+E[0],c=c||E[1]);for(S=l.pop();S;S=l.pop()){var k=o.slice(S.reStart+S.open.length);this.debug("setting tail",o,S),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",k,k,S,o);var R="*"===S.type?"[^/]*?":"?"===S.type?"[^/]":"\\"+S.type;c=!0,o=o.slice(0,S.reStart)+R+"\\("+k}v(),u&&(o+="\\\\");var T=!1;switch(o.charAt(0)){case".":case"[":case"(":T=!0}for(var P=h.length-1;P>-1;P--){var I=h[P],D=o.slice(0,I.reStart),O=o.slice(I.reStart,I.reEnd-8),M=o.slice(I.reEnd-8,I.reEnd),B=o.slice(I.reEnd);M+=B;var A=D.split("(").length-1,C=B;for(_=0;_<A;_++)C=C.replace(/\)[+*?]?/,"");var L="";""===(B=C)&&t!==d&&(L="$"),o=D+O+B+L+M}""!==o&&c&&(o="(?=.)"+o);T&&(o=g+o);if(t===d)return[o,c];if(!c)return function(e){return e.replace(/\\(.)/g,"$1")}(e);var N=n.nocase?"i":"";try{var q=new RegExp("^"+o+"$",N)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=o,q};var d={};l.makeRe=function(e,t){return new h(e,t||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",o=e.map((function(e){return e.map((function(e){return e===i?n:"string"==typeof e?function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e):e._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(e){this.regexp=!1}return this.regexp},l.match=function(e,t,n){var r=new h(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},h.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/"));e=e.split(c),this.debug(this.pattern,"split",e);var i,o,a=this.set;for(this.debug(this.pattern,"set",a),o=e.length-1;o>=0&&!(i=e[o]);o--);for(o=0;o<a.length;o++){var s=a[o],u=e;if(n.matchBase&&1===s.length&&(u=[i]),this.matchOne(u,s,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var o=0,a=0,s=e.length,c=t.length;o<s&&a<c;o++,a++){this.debug("matchOne loop");var u,l=t[a],h=e[o];if(this.debug(t,l,h),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[t,l,h]);var f=o,d=a+1;if(d===c){for(this.debug("** at the end");o<s;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;f<s;){var p=e[f];if(this.debug("\nglobstar while",e,f,t,d,p),this.matchOne(e.slice(f),t.slice(d),n))return this.debug("globstar found match!",f,s,p),!0;if("."===p||".."===p||!r.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,f,t,d);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",e,f,t,d),f!==s))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===s&&a===c)return!0;if(o===s)return n;if(a===c)return o===s-1&&""===e[o];throw new Error("wtf?")}},function(e,t){e.exports={stringify:function(e,t={}){const n=t.EOL||"\n";return JSON.stringify(e,t?t.replacer:null,t.spaces).replace(/\n/g,n)+n},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(5),o=n(2),a=n(10),s=n(17).pathExists;e.exports={outputFile:r((function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(e);s(c,(o,s)=>o?r(o):s?i.writeFile(e,t,n,r):void a.mkdirs(c,o=>{if(o)return r(o);i.writeFile(e,t,n,r)}))})),outputFileSync:function(e,...t){const n=o.dirname(e);if(i.existsSync(n))return i.writeFileSync(e,...t);a.mkdirsSync(n),i.writeFileSync(e,...t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const r=n(127),i=n(39),o=n(53),a=n(128);t.Source=class{constructor(e,t,n=0,r,i){this.name=e,this.path=t,this.sourceReference=n,r&&(this.origin=r),i&&(this.adapterData=i)}};t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}};t.StackFrame=class{constructor(e,t,n,r=0,i=0){this.id=e,this.source=n,this.line=r,this.column=i,this.name=t}};t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}};t.Variable=class{constructor(e,t,n=0,r,i){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof i&&(this.namedVariables=i),"number"==typeof r&&(this.indexedVariables=r)}};t.Breakpoint=class{constructor(e,t,n,r){this.verified=e;const i=this;"number"==typeof t&&(i.line=t),"number"==typeof n&&(i.column=n),r&&(i.source=r)}};t.Module=class{constructor(e,t){this.id=e,this.name=t}};t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class s extends i.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}}t.StoppedEvent=s;class c extends i.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends i.Event{constructor(){super("initialized")}}t.InitializedEvent=u;class l extends i.Event{constructor(e){if(super("terminated"),"boolean"==typeof e||e){this.body={restart:e}}}}t.TerminatedEvent=l;class h extends i.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=h;class f extends i.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=f;class d extends i.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=d;class p extends i.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=p;class m extends i.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=m;class g extends i.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=g;class y extends i.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=y;class v extends i.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class b extends i.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}var _;t.ProgressEndEvent=b,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(_=t.ErrorDestination||(t.ErrorDestination={}));class w extends r.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",()=>{this.shutdown()}),this.on("error",e=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){let t=0;if(process.argv.slice(2).forEach((function(e,n,r){const i=/^--server=(\d{4,5})$/.exec(e);i&&(t=parseInt(i[1],10))})),t>0)console.error("waiting for debug protocol on port "+t),o.createServer(t=>{console.error(">> accepted connection from client"),t.on("end",()=>{console.error(">> client connection closed\n")});const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)}).listen(t);else{const t=new e(!1);process.on("SIGTERM",()=>{t.shutdown()}),t.start(process.stdin,process.stdout)}}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,n,r,i=_.User){let o;"number"==typeof t?(o={id:t,format:n},r&&(o.variables=r),i&_.User&&(o.showUser=!0),i&_.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=w.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new i.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,_.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},_.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,r){this.sendErrorResponse(t,1014,"unrecognized request",null,_.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?w.uri2path(e):w.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?w.uri2path(e):w.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new a.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new a.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(w._formatPIIRegexp,(function(e,r){return t&&r.length>0&&"_"!==r[0]?e:n[r]&&n.hasOwnProperty(r)?n[r]:e}))}}t.DebugSession=w,w._formatPIIRegexp=/{([^}]+)}/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class r{constructor(e){this.seq=0,this.type=e}}t.Message=r;t.Response=class extends r{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};t.Event=class extends r{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(1),i=(r=l).lib,o=i.WordArray,a=i.Hasher,s=r.algo,c=[],u=s.SHA1=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=0;u<80;u++){if(u<16)c[u]=0|e[t+u];else{var l=c[u-3]^c[u-8]^c[u-14]^c[u-16];c[u]=l<<1|l>>>31}var h=(r<<5|r>>>27)+s+c[u];h+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,s=a,a=o,o=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=a._createHelper(u),r.HmacSHA1=a._createHmacHelper(u),l.SHA1)},function(e,t,n){var r,i,o,a;e.exports=(r=n(1),o=(i=r).lib.Base,a=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=a.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),o=this._iKey=t.clone(),s=i.words,c=o.words,u=0;u<n;u++)s[u]^=1549556828,c[u]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},function(e,t,n){e.exports=n(3).deprecate},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function i(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),n=t[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(t[2]||r)}e.exports="win32"===process.platform?i:r,e.exports.posix=r,e.exports.win32=i},function(e,t,n){var r=n(76);function i(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function o(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(i),e.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(e,t,n){"use strict";var r=n(20).codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,c=function(){t.writable||l()},u=t._writableState&&t._writableState.finished,l=function(){s=!1,u=!0,a||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){a=!1,h=!0,s||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return a&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!u?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},m=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",c),t.on("close",c)):(t.on("complete",l),t.on("abort",p),t.req?m():t.on("request",m)),t.on("end",f),t.on("finish",l),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",l),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",l),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},function(e,t){var n=e.exports=function(){};n.prototype.getName=function(){},n.prototype.getSize=function(){},n.prototype.getLastModifiedDate=function(){},n.prototype.isDirectory=function(){}},function(e,t){var n=e.exports={};n.dateToDos=function(e,t){var n=(t=t||!1)?e.getFullYear():e.getUTCFullYear();return n<1980?2162688:n>=2044?2141175677:n-1980<<25|(t?e.getMonth():e.getUTCMonth())+1<<21|(t?e.getDate():e.getUTCDate())<<16|(t?e.getHours():e.getUTCHours())<<11|(t?e.getMinutes():e.getUTCMinutes())<<5|(t?e.getSeconds():e.getUTCSeconds())/2},n.dosToDate=function(e){return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)},n.fromDosTime=function(e){return n.dosToDate(e.readUInt32LE(0))},n.getEightBytes=function(e){var t=Buffer.alloc(8);return t.writeUInt32LE(e%4294967296,0),t.writeUInt32LE(e/4294967296|0,4),t},n.getShortBytes=function(e){var t=Buffer.alloc(2);return t.writeUInt16LE((65535&e)>>>0,0),t},n.getShortBytesValue=function(e,t){return e.readUInt16LE(t)},n.getLongBytes=function(e){var t=Buffer.alloc(4);return t.writeUInt32LE((4294967295&e)>>>0,0),t},n.getLongBytesValue=function(e,t){return e.readUInt32LE(t)},n.toDosTime=function(e){return n.getLongBytes(n.dateToDos(e))}},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";e.exports={copySync:n(100)}},function(e,t){e.exports=e=>{const t=process.versions.node.split(".").map(e=>parseInt(e,10));return e=e.split(".").map(e=>parseInt(e,10)),t[0]>e[0]||t[0]===e[0]&&(t[1]>e[1]||t[1]===e[1]&&t[2]>=e[2])}},function(e,t,n){"use strict";const r=n(5);e.exports={utimesMillis:function(e,t,n,i){r.open(e,"r+",(e,o)=>{if(e)return i(e);r.futimes(o,t,n,e=>{r.close(o,t=>{i&&i(e||t)})})})},utimesMillisSync:function(e,t,n){const i=r.openSync(e,"r+");return r.futimesSync(i,t,n),r.closeSync(i)}}},function(e,t,n){"use strict";const r=n(8).fromCallback;e.exports={copy:r(n(102))}},function(e,t){e.exports=require("net")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const i=n(6),o=n(2),a=n(130),s=n(38);var c;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(c=t.LogLevel||(t.LogLevel={}));class u{constructor(){this._pendingLogQ=[]}log(e,t=c.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,c.Verbose)}warn(e){this.log(e,c.Warn)}error(e){this.log(e,c.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=c.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const r="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:r,prependTimestamp:n};this._currentLogger.setup(t).then(()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach(e=>this._write(e.msg,e.level))}})}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new l(e,n),this._logFilePathFromInit=t}}t.Logger=u,t.logger=new u;class l{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=c.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}setup(e){return r(this,void 0,void 0,(function*(){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(o.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,c.Error);try{yield a(o.dirname(e.logFilePath)),this.log("Verbose logs are written to:\n",c.Warn),this.log(e.logFilePath+"\n",c.Warn),this._logFileStream=i.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",e=>{t(e)})}catch(e){t(e)}}else this.log("logFilePath must be an absolute path: "+e.logFilePath,c.Error)}))}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+(e.getUTCMonth()+1)+"-"+e.getUTCDate()+", "+d();this.log(t+"\n",c.Verbose,!1)}setupShutdownListeners(){process.addListener("beforeExit",this.beforeExitCallback),process.addListener("SIGTERM",this.disposeCallback),process.addListener("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,n=!0){if(this._minLogLevel!==c.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===c.Error?console.error:t===c.Warn?console.warn:null;n&&n(f(e))}t===c.Error&&(e=`[${c[t]}] ${e}`),this._prependTimestamp&&n&&(e="["+d()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const n=new h(e,t);this._logCallback(n)}}}class h extends s.OutputEvent{constructor(e,t){super(e,t===c.Error?"stderr":t===c.Warn?"console":"stdout")}}function f(e){return e.replace(/(\n|\r\n)$/,"")}function d(){let e=new Date;return p(2,String(e.getUTCHours()))+":"+p(2,String(e.getUTCMinutes()))+":"+p(2,String(e.getUTCSeconds()))+"."+p(3,String(e.getUTCMilliseconds()))+" UTC"}function p(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.LogOutputEvent=h,t.trimLastNewline=f},function(e,t,n){const{dirname:r}=n(2),i=(e,t,n)=>{t.recursive=!1;const o=r(e);return o===e?t.mkdirAsync(e,t).catch(e=>{if("EISDIR"!==e.code)throw e}):t.mkdirAsync(e,t).then(()=>n||e,r=>{if("ENOENT"===r.code)return i(o,t).then(n=>i(e,t,n));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;return t.statAsync(e).then(e=>{if(e.isDirectory())return n;throw r},()=>{throw r})})},o=(e,t,n)=>{const i=r(e);if(t.recursive=!1,i===e)try{return t.mkdirSync(e,t)}catch(e){if("EISDIR"!==e.code)throw e;return}try{return t.mkdirSync(e,t),n||e}catch(r){if("ENOENT"===r.code)return o(e,t,o(i,t,n));if("EEXIST"!==r.code&&"EROFS"!==r.code)throw r;try{if(!t.statSync(e).isDirectory())throw r}catch(e){throw r}}};e.exports={mkdirpManual:i,mkdirpManualSync:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(144),i=n(145),o=n(146),a=n(147),s=n(148),c=n(57),u=n(149),l=n(150),h=n(151),f=n(152),d=n(153),p=n(154),m=n(155),g=n(156),y=n(157),v=n(158);t.typeHandlers={bmp:r.BMP,cur:i.CUR,dds:o.DDS,gif:a.GIF,icns:s.ICNS,ico:c.ICO,j2c:u.J2C,jp2:l.JP2,jpg:h.JPG,ktx:f.KTX,png:d.PNG,pnm:p.PNM,psd:m.PSD,svg:g.SVG,tiff:y.TIFF,webp:v.WEBP}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){const n=e.readUInt8(t);return 0===n?256:n}function i(e,t){const n=6+16*t;return{height:r(e,n+1),width:r(e,n)}}t.ICO={validate:e=>0===e.readUInt16LE(0)&&1===e.readUInt16LE(2),calculate(e){const t=e.readUInt16LE(4),n=i(e,0);if(1===t)return n;const r=[n];for(let n=1;n<t;n+=1)r.push(i(e,n));return{height:n.height,images:r,width:n.width}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readUInt=function(e,t,n,r){return n=n||0,e["readUInt"+t+(r?"BE":"LE")].call(e,n)}},function(e,t,n){var r;e.exports=(r=n(1),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],h=n[6],f=n[7],d=0;d<64;d++){if(d<16)u[d]=0|e[t+d];else{var p=u[d-15],m=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=u[d-2],y=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;u[d]=m+u[d-7]+y+u[d-16]}var v=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),_=f+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&h)+c[d]+u[d];f=h,h=l,l=s,s=a+_|0,a=o,o=i,i=r,r=_+(b+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)},function(e,t,n){var r;e.exports=(r=n(1),n(34),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var l=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],h=n[6],f=n[7],d=r.high,p=r.low,m=i.high,g=i.low,y=o.high,v=o.low,b=a.high,_=a.low,w=s.high,S=s.low,x=l.high,E=l.low,k=h.high,R=h.low,T=f.high,P=f.low,I=d,D=p,O=m,M=g,B=y,A=v,C=b,L=_,N=w,q=S,j=x,$=E,F=k,U=R,z=T,W=P,H=0;H<80;H++){var K,G,Y=u[H];if(H<16)G=Y.high=0|e[t+2*H],K=Y.low=0|e[t+2*H+1];else{var V=u[H-15],J=V.high,Z=V.low,Q=(J>>>1|Z<<31)^(J>>>8|Z<<24)^J>>>7,X=(Z>>>1|J<<31)^(Z>>>8|J<<24)^(Z>>>7|J<<25),ee=u[H-2],te=ee.high,ne=ee.low,re=(te>>>19|ne<<13)^(te<<3|ne>>>29)^te>>>6,ie=(ne>>>19|te<<13)^(ne<<3|te>>>29)^(ne>>>6|te<<26),oe=u[H-7],ae=oe.high,se=oe.low,ce=u[H-16],ue=ce.high,le=ce.low;G=(G=(G=Q+ae+((K=X+se)>>>0<X>>>0?1:0))+re+((K+=ie)>>>0<ie>>>0?1:0))+ue+((K+=le)>>>0<le>>>0?1:0),Y.high=G,Y.low=K}var he,fe=N&j^~N&F,de=q&$^~q&U,pe=I&O^I&B^O&B,me=D&M^D&A^M&A,ge=(I>>>28|D<<4)^(I<<30|D>>>2)^(I<<25|D>>>7),ye=(D>>>28|I<<4)^(D<<30|I>>>2)^(D<<25|I>>>7),ve=(N>>>14|q<<18)^(N>>>18|q<<14)^(N<<23|q>>>9),be=(q>>>14|N<<18)^(q>>>18|N<<14)^(q<<23|N>>>9),_e=c[H],we=_e.high,Se=_e.low,xe=z+ve+((he=W+be)>>>0<W>>>0?1:0),Ee=ye+me;z=F,W=U,F=j,U=$,j=N,$=q,N=C+(xe=(xe=(xe=xe+fe+((he+=de)>>>0<de>>>0?1:0))+we+((he+=Se)>>>0<Se>>>0?1:0))+G+((he+=K)>>>0<K>>>0?1:0))+((q=L+he|0)>>>0<L>>>0?1:0)|0,C=B,L=A,B=O,A=M,O=I,M=D,I=xe+(ge+pe+(Ee>>>0<ye>>>0?1:0))+((D=he+Ee|0)>>>0<he>>>0?1:0)|0}p=r.low=p+D,r.high=d+I+(p>>>0<D>>>0?1:0),g=i.low=g+M,i.high=m+O+(g>>>0<M>>>0?1:0),v=o.low=v+A,o.high=y+B+(v>>>0<A>>>0?1:0),_=a.low=_+L,a.high=b+C+(_>>>0<L>>>0?1:0),S=s.low=S+q,s.high=w+N+(S>>>0<q>>>0?1:0),E=l.low=E+$,l.high=x+j+(E>>>0<$>>>0?1:0),R=h.low=R+U,h.high=k+F+(R>>>0<U>>>0?1:0),P=f.low=P+W,f.high=T+z+(P>>>0<W>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)},function(e,t,n){"use strict";var r=n(15);e.exports=v;var i,o=n(62);v.ReadableState=y;n(14).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=n(63),c=n(19).Buffer,u=global.Uint8Array||function(){};var l=Object.create(n(11));l.inherits=n(4);var h=n(3),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var d,p=n(196),m=n(64);l.inherits(v,s);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(25));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(26).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(25),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function b(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):E(e,a)):_(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return d||(d=n(26).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),P(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function R(e){f("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:v;function c(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",p),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){f("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",l);var h=!1;var d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==M(i.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(t){f("onerror",t),v(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),v()}function y(){f("onfinish"),e.removeListener("close",g),v()}function v(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",y),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},v.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(R,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=I},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";var r=n(15);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(15);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var s=Object.create(n(11));s.inherits=n(4);var c={deprecate:n(42)},u=n(63),l=n(19).Buffer,h=global.Uint8Array||function(){};var f,d=n(64);function p(){}function m(e,t){o=o||n(25),e=e||{};var s=t instanceof o;this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:s&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var s=_(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?a(v,e,n,s,o):v(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(25),!(f.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}s.inherits(g,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):f=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof h);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=p),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),r.nextTick(i,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return c}(this,o,s,e,t,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=d.destroy,g.prototype._undestroy=d.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";e.exports=a;var r=n(25),i=Object.create(n(11));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t){
/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */
e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected path to be a string");if("\\"===e||"/"===e)return"/";var n=e.length;if(n<=1)return e;var r="";if(n>4&&"\\"===e[3]){var i=e[2];"?"!==i&&"."!==i||"\\\\"!==e.slice(0,2)||(e=e.slice(2),r="//")}var o=e.split(/[/\\]+/);return!1!==t&&""===o[o.length-1]&&o.pop(),r+o.join("/")}},function(e,t,n){"use strict";var r=n(15);e.exports=v;var i,o=n(62);v.ReadableState=y;n(14).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=n(69),c=n(19).Buffer,u=global.Uint8Array||function(){};var l=Object.create(n(11));l.inherits=n(4);var h=n(3),f=void 0;f=h&&h.debuglog?h.debuglog("stream"):function(){};var d,p=n(200),m=n(70);l.inherits(v,s);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(27));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(26).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function v(e){if(i=i||n(27),!(this instanceof v))return new v(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function b(e,t,n,r,i){var o,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(i||(o=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),o?e.emit("error",o):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):_(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?_(e,a,t,!1):E(e,a)):_(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function _(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),E(e,t)}Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),v.prototype.destroy=m.destroy,v.prototype._undestroy=m.undestroy,v.prototype._destroy=function(e,t){this.push(null),t(e)},v.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),b(this,e,t,!1,n)},v.prototype.unshift=function(e){return b(this,e,null,!0,!1)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return d||(d=n(26).StringDecoder),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(x,e):x(e))}function x(e){f("emit readable"),e.emit("readable"),P(e)}function E(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(f("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function R(e){f("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(f("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,i=n.data;e-=i.length;for(;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?i+=o:i+=o.slice(0,e),0===(e-=a)){a===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(a));break}++r}return t.length-=r,i}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,i=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0===(e-=a)){a===o.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(a));break}++i}return t.length-=i,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function D(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(O,t,e))}function O(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function M(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):S(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&D(this),null;var r,i=t.needReadable;return f("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",i=!0),t.ended||t.reading?f("reading or ended",i=!1):i&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(n,t))),null===(r=e>0?I(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&D(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?u:v;function c(t,r){f("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,f("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",l),e.removeListener("error",m),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",p),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}function u(){f("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",c);var l=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",l);var h=!1;var d=!1;function p(t){f("ondata"),d=!1,!1!==e.write(t)||d||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==M(i.pipes,e))&&!h&&(f("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function m(t){f("onerror",t),v(),e.removeListener("error",m),0===a(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),v()}function y(){f("onfinish"),e.removeListener("close",g),v()}function v(){f("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",m),e.once("close",g),e.once("finish",y),e.emit("pipe",n),i.flowing||(f("pipe resume"),n.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=M(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},v.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&S(this):r.nextTick(R,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(T,e,t))}(this,e)),this},v.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(f("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(f("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<g.length;o++)e.on(g[o],this.emit.bind(this,g[o]));return this._read=function(t){f("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(v.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),v._fromList=I},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";var r=n(15);function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(i,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(i,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";var r=n(15);function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var o,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:r.nextTick;g.WritableState=m;var s=Object.create(n(11));s.inherits=n(4);var c={deprecate:n(42)},u=n(69),l=n(19).Buffer,h=global.Uint8Array||function(){};var f,d=n(70);function p(){}function m(e,t){o=o||n(27),e=e||{};var s=t instanceof o;this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:s&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",i)):(o(i),e._writableState.errorEmitted=!0,e.emit("error",i),S(e,t))}(e,n,i,t,o);else{var s=_(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||b(e,n),i?a(v,e,n,s,o):v(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function g(e){if(o=o||n(27),!(f.call(g,this)||this instanceof o))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function v(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),S(e,t)}function b(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,y(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=_(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,r.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}s.inherits(g,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===g&&(e&&e._writableState instanceof m)}})):f=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=e,l.isBuffer(i)||i instanceof h);return s&&!l.isBuffer(e)&&(e=function(e){return l.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=p),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),r.nextTick(t,n)}(this,n):(s||function(e,t,n,i){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),r.nextTick(i,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=l.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,s,r,i,o);return c}(this,o,s,e,t,n)),a},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=d.destroy,g.prototype._undestroy=d.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,n){"use strict";e.exports=a;var r=n(27),i=Object.create(n(11));function o(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}i.inherits=n(4),i.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){e.exports=b;var r=n(6),i=n(74),o=n(35),a=(o.Minimatch,n(4)),s=n(14).EventEmitter,c=n(2),u=n(31),l=n(43),h=n(208),f=n(75),d=(f.alphasort,f.alphasorti,f.setopts),p=f.ownProp,m=n(209),g=(n(3),f.childrenIgnored),y=f.isIgnored,v=n(44);function b(e,t,n){if("function"==typeof t&&(n=t,t={}),t||(t={}),t.sync){if(n)throw new TypeError("callback provided to sync glob");return h(e,t)}return new w(e,t,n)}b.sync=h;var _=b.GlobSync=h.GlobSync;function w(e,t,n){if("function"==typeof t&&(n=t,t=null),t&&t.sync){if(n)throw new TypeError("callback provided to sync glob");return new _(e,t)}if(!(this instanceof w))return new w(e,t,n);d(this,e,t),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(e){n(null,e)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return a();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,a);function a(){--i._processing,i._processing<=0&&i._finish()}}b.glob=b,b.hasMagic=function(e,t){var n=function(e,t){if(null===t||"object"!=typeof t)return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}({},t);n.noprocess=!0;var r=new w(e,n).minimatch.set;if(!e)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},b.Glob=w,a(w,s),w.prototype._finish=function(){if(u(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var n=this.matches[e];if(!n)return t();var r=Object.keys(n),o=this,a=r.length;if(0===a)return t();var s=this.matches[e]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?s[n]=!0:o.emit("error",r):s[i]=!0,0==--a&&(o.matches[e]=s,t())}))}))},w.prototype._mark=function(e){return f.mark(this,e)},w.prototype._makeAbs=function(e){return f.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var n=e[t];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(t=0;t<r.length;t++){var i=r[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},w.prototype._process=function(e,t,n,r){if(u(this instanceof w),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,n,r]);else{for(var i,a=0;"string"==typeof e[a];)a++;switch(a){case e.length:return void this._processSimple(e.join("/"),t,r);case 0:i=null;break;default:i=e.slice(0,a).join("/")}var s,c=e.slice(a);null===i?s=".":l(i)||l(e.join("/"))?(i&&l(i)||(i="/"+i),s=i):s=i;var h=this._makeAbs(s);if(g(this,s))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,s,h,c,t,n,r):this._processReaddir(i,s,h,c,t,n,r)}},w.prototype._processReaddir=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){return s._processReaddir2(e,t,n,r,i,o,u,a)}))},w.prototype._processReaddir2=function(e,t,n,r,i,o,a,s){if(!a)return s();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,f=this.dot||"."===h.charAt(0),d=[],p=0;p<a.length;p++){if("."!==(g=a[p]).charAt(0)||f)(l&&!e?!g.match(u):g.match(u))&&d.push(g)}var m=d.length;if(0===m)return s();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(p=0;p<m;p++){var g=d[p];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return s()}r.shift();for(p=0;p<m;p++){g=d[p];e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(r),i,o,s)}s()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!y(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var n=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0;var i=this.statCache[n];i&&this.emit("stat",t,i),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var n=this,i=m("lstat\0"+e,(function(r,i){if(r&&"ENOENT"===r.code)return t();var o=i&&i.isSymbolicLink();n.symlinks[e]=o,o||!i||i.isDirectory()?n._readdir(e,!1,t):(n.cache[e]="FILE",t())}));i&&r.lstat(e,i)}},w.prototype._readdir=function(e,t,n){if(!this.aborted&&(n=m("readdir\0"+e+"\0"+t,n))){if(t&&!p(this.symlinks,e))return this._readdirInGlobStar(e,n);if(p(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(e,function(e,t,n){return function(r,i){r?e._readdirError(t,r,n):e._readdirEntries(t,i,n)}}(this,e,n))}},w.prototype._readdirEntries=function(e,t,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,n(null,t)}},w.prototype._readdirError=function(e,t,n){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return n()}},w.prototype._processGlobStar=function(e,t,n,r,i,o,a){var s=this;this._readdir(n,o,(function(c,u){s._processGlobStar2(e,t,n,r,i,o,u,a)}))},w.prototype._processGlobStar2=function(e,t,n,r,i,o,a,s){if(!a)return s();var c=r.slice(1),u=e?[e]:[],l=u.concat(c);this._process(l,i,!1,s);var h=this.symlinks[n],f=a.length;if(h&&o)return s();for(var d=0;d<f;d++){if("."!==a[d].charAt(0)||this.dot){var p=u.concat(a[d],c);this._process(p,i,!0,s);var m=u.concat(a[d],r);this._process(m,i,!0,s)}}s()},w.prototype._processSimple=function(e,t,n){var r=this;this._stat(e,(function(i,o){r._processSimple2(e,t,i,o,n)}))},w.prototype._processSimple2=function(e,t,n,r,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!r)return i();if(e&&l(e)&&!this.nomount){var o=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=c.join(this.root,e):(e=c.resolve(this.root,e),o&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()},w.prototype._stat=function(e,t){var n=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&p(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return t(null,o);if(i&&"FILE"===o)return t()}var a=this.statCache[n];if(void 0!==a){if(!1===a)return t(null,a);var s=a.isDirectory()?"DIR":"FILE";return i&&"FILE"===s?t():t(null,s,a)}var c=this,u=m("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(e,n,null,o,t):c._stat2(e,n,r,i,t)}));c._stat2(e,n,i,o,t)}));u&&r.lstat(n,u)},w.prototype._stat2=function(e,t,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[t]=!1,i();var o="/"===e.slice(-1);if(this.statCache[t]=r,"/"===t.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var a=!0;return r&&(a=r.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,o&&"FILE"===a?i():i(null,a,r)}},function(e,t,n){e.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(6),i=r.realpath,o=r.realpathSync,a=process.version,s=/^v[0-5]\./.test(a),c=n(207);function u(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function l(e,t,n){if(s)return i(e,t,n);"function"==typeof t&&(n=t,t=null),i(e,t,(function(r,i){u(r)?c.realpath(e,t,n):n(r,i)}))}function h(e,t){if(s)return o(e,t);try{return o(e,t)}catch(n){if(u(n))return c.realpathSync(e,t);throw n}}},function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.alphasort=u,t.alphasorti=c,t.setopts=function(e,t,n){n||(n={});if(n.matchBase&&-1===t.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!n.silent,e.pattern=t,e.strict=!1!==n.strict,e.realpath=!!n.realpath,e.realpathCache=n.realpathCache||Object.create(null),e.follow=!!n.follow,e.dot=!!n.dot,e.mark=!!n.mark,e.nodir=!!n.nodir,e.nodir&&(e.mark=!0);e.sync=!!n.sync,e.nounique=!!n.nounique,e.nonull=!!n.nonull,e.nosort=!!n.nosort,e.nocase=!!n.nocase,e.stat=!!n.stat,e.noprocess=!!n.noprocess,e.absolute=!!n.absolute,e.maxLength=n.maxLength||1/0,e.cache=n.cache||Object.create(null),e.statCache=n.statCache||Object.create(null),e.symlinks=n.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]);e.ignore.length&&(e.ignore=e.ignore.map(l))}(e,n),e.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(e.cwd=i.resolve(n.cwd),e.changedCwd=e.cwd!==o):e.cwd=o;e.root=n.root||i.resolve(e.cwd,"/"),e.root=i.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/"));e.cwdAbs=a(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/"));e.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,e.minimatch=new s(t,n),e.options=e.minimatch.options},t.ownProp=r,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,n=t?[]:Object.create(null),r=0,i=e.matches.length;r<i;r++){var o=e.matches[r];if(o&&0!==Object.keys(o).length){var a=Object.keys(o);t?n.push.apply(n,a):a.forEach((function(e){n[e]=!0}))}else if(e.nonull){var s=e.minimatch.globSet[r];t?n.push(s):n[s]=!0}}t||(n=Object.keys(n));e.nosort||(n=n.sort(e.nocase?c:u));if(e.mark){for(r=0;r<n.length;r++)n[r]=e._mark(n[r]);e.nodir&&(n=n.filter((function(t){var n=!/\/$/.test(t),r=e.cache[t]||e.cache[h(e,t)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}e.ignore.length&&(n=n.filter((function(t){return!f(e,t)})));e.found=n},t.mark=function(e,t){var n=h(e,t),r=e.cache[n],i=t;if(r){var o="DIR"===r||Array.isArray(r),a="/"===t.slice(-1);if(o&&!a?i+="/":!o&&a&&(i=i.slice(0,-1)),i!==t){var s=h(e,i);e.statCache[s]=e.statCache[n],e.cache[s]=e.cache[n]}}return i},t.isIgnored=f,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var i=n(2),o=n(35),a=n(43),s=o.Minimatch;function c(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}function u(e,t){return e.localeCompare(t)}function l(e){var t=null;if("/**"===e.slice(-3)){var n=e.replace(/(\/\*\*)+$/,"");t=new s(n,{dot:!0})}return{matcher:new s(e,{dot:!0}),gmatcher:t}}function h(e,t){var n=t;return n="/"===t.charAt(0)?i.join(e.root,t):a(t)||""===t?t:e.changedCwd?i.resolve(e.cwd,t):i.resolve(t),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),i=e[e.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(e){r[e]=i[e]})),r}}},function(e,t,n){"use strict";var r;e.exports=E,E.ReadableState=x;n(14).EventEmitter;var i=function(e,t){return e.listeners(t).length},o=n(78),a=n(0).Buffer,s=global.Uint8Array||function(){};var c,u=n(3);c=u&&u.debuglog?u.debuglog("stream"):function(){};var l,h,f,d=n(211),p=n(79),m=n(80).getHighWaterMark,g=n(20).codes,y=g.ERR_INVALID_ARG_TYPE,v=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(4)(E,o);var w=p.errorOrDestroy,S=["error","close","destroy","pause","resume"];function x(e,t,i){r=r||n(28),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",i),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=n(26).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function E(e){if(r=r||n(28),!(this instanceof E))return new E(e);var t=this instanceof r;this._readableState=new x(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function k(e,t,n,r,i){c("readableAddChunk",t);var o,u=e._readableState;if(null===t)u.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,I(e)))}(e,u);else if(i||(o=function(e,t){var n;r=t,a.isBuffer(r)||r instanceof s||"string"==typeof t||void 0===t||e.objectMode||(n=new y("chunk",["string","Buffer","Uint8Array"],t));var r;return n}(u,t)),o)w(e,o);else if(u.objectMode||t&&t.length>0)if("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),r)u.endEmitted?w(e,new _):R(e,u,t,!0);else if(u.ended)w(e,new v);else{if(u.destroyed)return!1;u.reading=!1,u.decoder&&!n?(t=u.decoder.write(t),u.objectMode||0!==t.length?R(e,u,t,!1):D(e,u)):R(e,u,t,!1)}else r||(u.reading=!1,D(e,u));return!u.ended&&(u.length<u.highWaterMark||0===u.length)}function R(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&P(e)),D(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=a.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},E.prototype.unshift=function(e){return k(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){l||(l=n(26).StringDecoder);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(I,e))}function I(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,C(e)}function D(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(O,e,t))}function O(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(c("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function M(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function B(e){c("readable nexttick read 0"),e.read(0)}function A(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),C(e),t.flowing&&!t.reading&&e.read(0)}function C(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function L(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function N(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(q,t,e))}function q(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function j(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}E.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?N(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&N(this),null;var r,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(n,t))),null===(r=e>0?L(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&N(this)),null!==r&&this.emit("data",r),r},E.prototype._read=function(e){w(this,new b("_read()"))},E.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,c("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:m;function a(t,i){c("onunpipe"),t===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",m),n.removeListener("data",h),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}function s(){c("onend"),e.end()}r.endEmitted?process.nextTick(o):n.once("end",o),e.on("unpipe",a);var u=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,C(e))}}(n);e.on("drain",u);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==j(r.pipes,e))&&!l&&(c("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){c("onerror",t),m(),e.removeListener("error",f),0===i(e,"error")&&w(e,t)}function d(){e.removeListener("finish",p),m()}function p(){c("onfinish"),e.removeListener("close",d),m()}function m(){c("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",n),r.flowing||(c("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=j(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},E.prototype.on=function(e,t){var n=o.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,c("on readable",r.length,r.reading),r.length?P(this):r.reading||process.nextTick(B,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(M,this),n},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(M,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(A,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i)||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<S.length;o++)e.on(S[o],this.emit.bind(this,S[o]));return this._read=function(t){c("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=n(212)),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=L,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===f&&(f=n(213)),f(E,e,t)})},function(e,t,n){e.exports=n(9)},function(e,t,n){"use strict";function r(e,t){o(e,t),i(e)}function i(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return a||s?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(o,this,e)):process.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?process.nextTick(i,n):(n._writableState.errorEmitted=!0,process.nextTick(r,n,e)):process.nextTick(r,n,e):t?(process.nextTick(i,n),t(e)):process.nextTick(i,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,n){"use strict";var r=n(20).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},function(e,t,n){"use strict";function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var i;e.exports=E,E.WritableState=x;var o={deprecate:n(42)},a=n(78),s=n(0).Buffer,c=global.Uint8Array||function(){};var u,l=n(79),h=n(80).getHighWaterMark,f=n(20).codes,d=f.ERR_INVALID_ARG_TYPE,p=f.ERR_METHOD_NOT_IMPLEMENTED,m=f.ERR_MULTIPLE_CALLBACK,g=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,v=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,_=f.ERR_UNKNOWN_ENCODING,w=l.errorOrDestroy;function S(){}function x(e,t,o){i=i||n(28),e=e||{},"boolean"!=typeof o&&(o=t instanceof i),this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",o),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,i=n.writecb;if("function"!=typeof i)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,i){--t.pendingcb,n?(process.nextTick(i,r),process.nextTick(D,e,t),e._writableState.errorEmitted=!0,w(e,r)):(i(r),e._writableState.errorEmitted=!0,w(e,r),D(e,t))}(e,n,r,t,i);else{var o=P(n)||e.destroyed;o||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),r?process.nextTick(R,e,n,o,i):R(e,n,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function E(e){var t=this instanceof(i=i||n(28));if(!t&&!u.call(E,this))return new E(e);this._writableState=new x(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function R(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),D(e,t)}function T(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,o=new Array(i),a=t.corkedRequestsFree;a.entry=n;for(var s=0,c=!0;n;)o[s]=n,n.isBuf||(c=!1),n=n.next,s+=1;o.allBuffers=c,k(e,t,!0,t.length,o,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(k(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function P(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(n){t.pendingcb--,n&&w(e,n),t.prefinished=!0,e.emit("prefinish"),D(e,t)}))}function D(e,t){var n=P(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(I,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(4)(E,a),x.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(x.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(u=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!u.call(this,e)||this===E&&(e&&e._writableState instanceof x)}})):u=function(e){return e instanceof this},E.prototype.pipe=function(){w(this,new g)},E.prototype.write=function(e,t,n){var r,i=this._writableState,o=!1,a=!i.objectMode&&(r=e,s.isBuffer(r)||r instanceof c);return a&&!s.isBuffer(e)&&(e=function(e){return s.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof n&&(n=S),i.ending?function(e,t){var n=new b;w(e,n),process.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var i;return null===n?i=new v:"string"==typeof n||t.objectMode||(i=new d("chunk",["string","Buffer"],n)),!i||(w(e,i),process.nextTick(r,i),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=s.from(t,n));return t}(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var c=t.objectMode?1:r.length;t.length+=c;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,c,r,i,o);return u}(this,i,a,e,t,n)),o},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,n){n(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,D(e,t),n&&(t.finished?process.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=l.destroy,E.prototype._undestroy=l.undestroy,E.prototype._destroy=function(e,t){t(e)}},function(e,t,n){"use strict";e.exports=l;var r=n(20).codes,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,c=n(28);function u(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);c.call(this,e),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(4)(l,c),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,n){e.exports={ArchiveEntry:n(46),ZipArchiveEntry:n(84),ArchiveOutputStream:n(87),ZipArchiveOutputStream:n(219)}},function(e,t,n){var r=n(3).inherits,i=n(67),o=n(46),a=n(85),s=n(218),c=n(86),u=n(47),l=e.exports=function(e){if(!(this instanceof l))return new l(e);o.call(this),this.platform=c.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new a,this.crc=0,this.time=-1,this.minver=c.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,e&&this.setName(e)};r(l,o),l.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},l.prototype.getComment=function(){return null!==this.comment?this.comment:""},l.prototype.getCompressedSize=function(){return this.csize},l.prototype.getCrc=function(){return this.crc},l.prototype.getExternalAttributes=function(){return this.exattr},l.prototype.getExtra=function(){return null!==this.extra?this.extra:c.EMPTY},l.prototype.getGeneralPurposeBit=function(){return this.gpb},l.prototype.getInternalAttributes=function(){return this.inattr},l.prototype.getLastModifiedDate=function(){return this.getTime()},l.prototype.getLocalFileDataExtra=function(){return this.getExtra()},l.prototype.getMethod=function(){return this.method},l.prototype.getName=function(){return this.name},l.prototype.getPlatform=function(){return this.platform},l.prototype.getSize=function(){return this.size},l.prototype.getTime=function(){return-1!==this.time?u.dosToDate(this.time):-1},l.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},l.prototype.getUnixMode=function(){return this.platform!==c.PLATFORM_UNIX?0:this.getExternalAttributes()>>c.SHORT_SHIFT&c.SHORT_MASK},l.prototype.getVersionNeededToExtract=function(){return this.minver},l.prototype.setComment=function(e){Buffer.byteLength(e)!==e.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=e},l.prototype.setCompressedSize=function(e){if(e<0)throw new Error("invalid entry compressed size");this.csize=e},l.prototype.setCrc=function(e){if(e<0)throw new Error("invalid entry crc32");this.crc=e},l.prototype.setExternalAttributes=function(e){this.exattr=e>>>0},l.prototype.setExtra=function(e){this.extra=e},l.prototype.setGeneralPurposeBit=function(e){if(!(e instanceof a))throw new Error("invalid entry GeneralPurposeBit");this.gpb=e},l.prototype.setInternalAttributes=function(e){this.inattr=e},l.prototype.setMethod=function(e){if(e<0)throw new Error("invalid entry compression method");this.method=e},l.prototype.setName=function(e){e=i(e,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),Buffer.byteLength(e)!==e.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=e},l.prototype.setPlatform=function(e){this.platform=e},l.prototype.setSize=function(e){if(e<0)throw new Error("invalid entry size");this.size=e},l.prototype.setTime=function(e,t){if(!(e instanceof Date))throw new Error("invalid entry time");this.time=u.dateToDos(e,t)},l.prototype.setUnixMode=function(e){var t=0;t|=(e|=this.isDirectory()?c.S_IFDIR:c.S_IFREG)<<c.SHORT_SHIFT|(this.isDirectory()?c.S_DOS_D:c.S_DOS_A),this.setExternalAttributes(t),this.mode=e&c.MODE_MASK,this.platform=c.PLATFORM_UNIX},l.prototype.setVersionNeededToExtract=function(e){this.minver=e},l.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},l.prototype.isUnixSymlink=function(){return(this.getUnixMode()&s.FILE_TYPE_FLAG)===s.LINK_FLAG},l.prototype.isZip64=function(){return this.csize>c.ZIP64_MAGIC||this.size>c.ZIP64_MAGIC}},function(e,t,n){var r=n(47),i=e.exports=function(){return this instanceof i?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new i};i.prototype.encode=function(){return r.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},i.prototype.parse=function(e,t){var n=r.getShortBytesValue(e,t),o=new i;return o.useDataDescriptor(0!=(8&n)),o.useUTF8ForNames(0!=(2048&n)),o.useStrongEncryption(0!=(64&n)),o.useEncryption(0!=(1&n)),o.setSlidingDictionarySize(0!=(2&n)?8192:4096),o.setNumberOfShannonFanoTrees(0!=(4&n)?3:2),o},i.prototype.setNumberOfShannonFanoTrees=function(e){this.numberOfShannonFanoTrees=e},i.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},i.prototype.setSlidingDictionarySize=function(e){this.slidingDictionarySize=e},i.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},i.prototype.useDataDescriptor=function(e){this.descriptor=e},i.prototype.usesDataDescriptor=function(){return this.descriptor},i.prototype.useEncryption=function(e){this.encryption=e},i.prototype.usesEncryption=function(){return this.encryption},i.prototype.useStrongEncryption=function(e){this.strongEncryption=e},i.prototype.usesStrongEncryption=function(){return this.strongEncryption},i.prototype.useUTF8ForNames=function(e){this.utf8=e},i.prototype.usesUTF8ForNames=function(){return this.utf8}},function(e,t){e.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}},function(e,t,n){var r=n(3).inherits,i=n(12).Transform,o=n(46),a=n(88),s=e.exports=function(e){if(!(this instanceof s))return new s(e);i.call(this,e),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};r(s,i),s.prototype._appendBuffer=function(e,t,n){},s.prototype._appendStream=function(e,t,n){},s.prototype._emitErrorCallback=function(e){e&&this.emit("error",e)},s.prototype._finish=function(e){},s.prototype._normalizeEntry=function(e){},s.prototype._transform=function(e,t,n){n(null,e)},s.prototype.entry=function(e,t,n){if(t=t||null,"function"!=typeof n&&(n=this._emitErrorCallback.bind(this)),e instanceof o)if(this._archive.finish||this._archive.finished)n(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(e),this._entry=e,t=a.normalizeInputSource(t),Buffer.isBuffer(t))this._appendBuffer(e,t,n);else{if(!a.isStream(t))return this._archive.processing=!1,void n(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(e,t,n)}return this}n(new Error("already processing an entry"))}else n(new Error("not a valid instance of ArchiveEntry"))},s.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},s.prototype.getBytesWritten=function(){return this.offset},s.prototype.write=function(e,t){return e&&(this.offset+=e.length),i.prototype.write.call(this,e,t)}},function(e,t,n){var r=n(9).Stream,i=n(12).PassThrough,o=e.exports={};o.isStream=function(e){return e instanceof r},o.normalizeInputSource=function(e){if(null===e)return Buffer.alloc(0);if("string"==typeof e)return Buffer.from(e);if(o.isStream(e)&&!e._readableState){var t=new i;return e.pipe(t),t}return e}},function(e,t,n){var r=n(0).Buffer,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function o(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function a(e){var t=o(4);return t.writeInt32BE(e,0),t}function s(e,t){e=o(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,a=0;a<e.length;a++)n=i[255&(n^e[a])]^n>>>8;return-1^n}function c(){return a(s.apply(null,arguments))}"undefined"!=typeof Int32Array&&(i=new Int32Array(i)),c.signed=function(){return s.apply(null,arguments)},c.unsigned=function(){return s.apply(null,arguments)>>>0},e.exports=c},function(e,t,n){"use strict";e.exports={CRC32Stream:n(220),DeflateCRC32Stream:n(221)}},function(e,t){e.exports=require("zlib")},function(e,t){var n=Buffer.alloc,r="0".charCodeAt(0),i=Buffer.from("ustar\0","binary"),o=Buffer.from("00","binary"),a=Buffer.from("ustar ","binary"),s=Buffer.from(" \0","binary"),c=parseInt("7777",8),u=function(e,t,n,r){for(;n<r;n++)if(e[n]===t)return n;return r},l=function(e){for(var t=256,n=0;n<148;n++)t+=e[n];for(var r=156;r<512;r++)t+=e[r];return t},h=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "};var f=function(e,t,n){if(128&(e=e.slice(t,t+n))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var n=[],r=e.length-1;r>0;r--){var i=e[r];t?n.push(i):n.push(255-i)}var o=0,a=n.length;for(r=0;r<a;r++)o+=n[r]*Math.pow(256,r);return t?o:-1*o}(e);for(;t<e.length&&32===e[t];)t++;for(var r=(i=u(e,32,t,e.length),o=e.length,a=e.length,"number"!=typeof i?a:(i=~~i)>=o?o:i>=0||(i+=o)>=0?i:0);t<r&&0===e[t];)t++;return r===t?0:parseInt(e.slice(t,r).toString(),8);var i,o,a},d=function(e,t,n,r){return e.slice(t,u(e,0,t,t+n)).toString(r)},p=function(e){var t=Buffer.byteLength(e),n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e};t.decodeLongPath=function(e,t){return d(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var n=e.pax;if(n)for(var r in n)t+=p(" "+r+"="+n[r]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var n=0;n<e.length&&32!==e[n];)n++;var r=parseInt(e.slice(0,n).toString(),10);if(!r)return t;var i=e.slice(n+1,r-1).toString(),o=i.indexOf("=");if(-1===o)return t;t[i.slice(0,o)]=i.slice(o+1),e=e.slice(r)}return t},t.encode=function(e){var t=n(512),a=e.name,s="";if(5===e.typeflag&&"/"!==a[a.length-1]&&(a+="/"),Buffer.byteLength(a)!==a.length)return null;for(;Buffer.byteLength(a)>100;){var u=a.indexOf("/");if(-1===u)return null;s+=s?"/"+a.slice(0,u):a.slice(0,u),a=a.slice(u+1)}return Buffer.byteLength(a)>100||Buffer.byteLength(s)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(a),t.write(h(e.mode&c,6),100),t.write(h(e.uid,6),108),t.write(h(e.gid,6),116),t.write(h(e.size,11),124),t.write(h(e.mtime.getTime()/1e3|0,11),136),t[156]=r+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),i.copy(t,257),o.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(h(e.devmajor||0,6),329),t.write(h(e.devminor||0,6),337),s&&t.write(s,345),t.write(h(l(t),6),148),t)},t.decode=function(e,t){var n=0===e[156]?0:e[156]-r,o=d(e,0,100,t),c=f(e,100,8),u=f(e,108,8),h=f(e,116,8),p=f(e,124,12),m=f(e,136,12),g=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(n),y=0===e[157]?null:d(e,157,100,t),v=d(e,265,32),b=d(e,297,32),_=f(e,329,8),w=f(e,337,8),S=l(e);if(256===S)return null;if(S!==f(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===i.compare(e,257,263))e[345]&&(o=d(e,345,155,t)+"/"+o);else if(0!==a.compare(e,257,263)||0!==s.compare(e,263,265))throw new Error("Invalid tar header: unknown format.");return 0===n&&o&&"/"===o[o.length-1]&&(n=5),{name:o,mode:c,uid:u,gid:h,size:p,mtime:new Date(1e3*m),type:g,linkname:y,uname:v,gname:b,devmajor:_,devminor:w}}},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";n.r(t),n.d(t,"crc1",(function(){return a})),n.d(t,"crc8",(function(){return c})),n.d(t,"crc81wire",(function(){return l})),n.d(t,"crc16",(function(){return f})),n.d(t,"crc16ccitt",(function(){return p})),n.d(t,"crc16modbus",(function(){return g})),n.d(t,"crc16xmodem",(function(){return y})),n.d(t,"crc16kermit",(function(){return b})),n.d(t,"crc24",(function(){return w})),n.d(t,"crc32",(function(){return x})),n.d(t,"crcjam",(function(){return k}));var r=n(0);var i=r.Buffer.from&&r.Buffer.alloc&&r.Buffer.allocUnsafe&&r.Buffer.allocUnsafeSlow?r.Buffer.from:e=>new r.Buffer(e),o=function(e,t){const n=(e,n)=>t(e,n)>>>0;return n.signed=t,n.unsigned=n,n.model=e,n};var a=o("crc1",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=~~t,o=0;for(let t=0;t<e.length;t++){o+=e[t]}return n+=o%256,n%256}));let s=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];"undefined"!=typeof Int32Array&&(s=new Int32Array(s));var c=o("crc-8",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=~~t;for(let t=0;t<e.length;t++){const r=e[t];n=255&s[255&(n^r)]}return n}));let u=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];"undefined"!=typeof Int32Array&&(u=new Int32Array(u));var l=o("dallas-1-wire",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=~~t;for(let t=0;t<e.length;t++){const r=e[t];n=255&u[255&(n^r)]}return n}));let h=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(h=new Int32Array(h));var f=o("crc-16",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=~~t;for(let t=0;t<e.length;t++){const r=e[t];n=65535&(h[255&(n^r)]^n>>8)}return n}));let d=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];"undefined"!=typeof Int32Array&&(d=new Int32Array(d));var p=o("ccitt",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const r=e[t];n=65535&(d[255&(n>>8^r)]^n<<8)}return n}));let m=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];"undefined"!=typeof Int32Array&&(m=new Int32Array(m));var g=o("crc-16-modbus",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=void 0!==t?~~t:65535;for(let t=0;t<e.length;t++){const r=e[t];n=65535&(m[255&(n^r)]^n>>8)}return n}));var y=o("xmodem",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){let r=n>>>8&255;r^=255&e[t],r^=r>>>4,n=n<<8&65535,n^=r,r=r<<5&65535,n^=r,r=r<<7&65535,n^=r}return n}));let v=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];"undefined"!=typeof Int32Array&&(v=new Int32Array(v));var b=o("kermit",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=void 0!==t?~~t:0;for(let t=0;t<e.length;t++){const r=e[t];n=65535&(v[255&(n^r)]^n>>8)}return n}));let _=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];"undefined"!=typeof Int32Array&&(_=new Int32Array(_));var w=o("crc-24",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=void 0!==t?~~t:11994318;for(let t=0;t<e.length;t++){const r=e[t];n=16777215&(_[255&(n>>16^r)]^n<<8)}return n}));let S=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(S=new Int32Array(S));var x=o("crc-32",(function(e,t){r.Buffer.isBuffer(e)||(e=i(e));let n=0===t?0:-1^~~t;for(let t=0;t<e.length;t++){const r=e[t];n=S[255&(n^r)]^n>>>8}return-1^n}));let E=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];"undefined"!=typeof Int32Array&&(E=new Int32Array(E));var k=o("jam",(function(e,t=-1){r.Buffer.isBuffer(e)||(e=i(e));let n=0===t?0:~~t;for(let t=0;t<e.length;t++){const r=e[t];n=E[255&(n^r)]^n>>>8}return n}));t.default={crc1:a,crc8:c,crc81wire:l,crc16:f,crc16ccitt:p,crc16modbus:g,crc16xmodem:y,crc16kermit:b,crc24:w,crc32:x,crcjam:k}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deactivate=t.activate=void 0;const r=n(96);t.activate=function(e){r.ActivityBar.start(e)},t.deactivate=function(){r.ActivityBar.stopActBar()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityBar=void 0;const r=n(16),i=n(120),o=n(238),a=n(13),{exec:s}=n(93),c=n(22),u=n(239),l=n(240);var h;!function(e){e[e.NODE=0]="NODE",e[e.NPM=1]="NPM",e[e.WINDOWS_BUILD_TOOLS=2]="WINDOWS_BUILD_TOOLS",e[e.SKYNOVEL_VER=3]="SKYNOVEL_VER"}(h||(h={}));class f{constructor(e){this.ctx=e,this.aReady=[void 0,void 0,void 0,void 0],this._onDidChangeTreeData=new a.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.getTreeItem=e=>e,this.pnlWV=null,f.aTiRoot.forEach(e=>e.contextValue=e.label),this.refreshWork(),e.subscriptions.push(a.commands.registerCommand("skynovel.refreshSetting",()=>this.refresh())),e.subscriptions.push(a.commands.registerCommand("skynovel.dlNode",()=>a.env.openExternal(a.Uri.parse("https://nodejs.org/dist/v14.4.0/node-v14.4.0"+(r.is_mac?".pkg":("64"==u.arch().slice(-2)?"-x64":"-x86")+".msi"))))),e.subscriptions.push(a.commands.registerCommand("skynovel.opNodeSite",()=>a.env.openExternal(a.Uri.parse("https://nodejs.org/ja/"))))}static start(e){r.setCtx4(e),f.actBar=new f(e),e.subscriptions.push(a.window.registerTreeDataProvider("sn-setting",f.actBar)),f.workSps=new i.WorkSpaces(e,f.chkLastVerSKYNovel),e.subscriptions.push(a.window.registerTreeDataProvider("sn-dev",f.workSps)),e.subscriptions.push(a.window.registerTreeDataProvider("sn-doc",new o.TreeDPDoc(e)))}static stopActBar(){f.actBar.dispose(),f.workSps.dispose()}dispose(){this.pnlWV&&this.pnlWV.dispose()}refresh(){this.refreshWork(),this._onDidChangeTreeData.fire(void 0)}getChildren(e){if(!e)return Promise.resolve(f.aTiRoot);return"Node.js"===e.label&&(f.aTiRoot[h.NODE].iconPath=this.aReady[h.NODE]?"":r.oIcon("error")),Promise.resolve([])}refreshWork(){let e=0;this.aReady[h.NODE]||s("node -v",(t,n)=>{const i=f.aTiRoot[h.NODE];if(t)return this.aReady[h.NODE]=!1,i.description="-- 見つかりません",i.iconPath=r.oIcon("error"),this._onDidChangeTreeData.fire(i),void this.activityBarBadge(++e);this.aReady[h.NODE]=!0,i.description="-- "+n,i.iconPath="",i.contextValue="",this._onDidChangeTreeData.fire(i)});const t=f.aTiRoot[h.WINDOWS_BUILD_TOOLS],n=()=>{r.is_win&&s("npm ls -g windows-build-tools",(n,i)=>{const o=String(i).split(/@|\n/);if(n||o.length<3)return this.aReady[h.WINDOWS_BUILD_TOOLS]=!1,t.description="-- 見つかりません",t.iconPath=r.oIcon("error"),this._onDidChangeTreeData.fire(t),void this.activityBarBadge(++e);this.aReady[h.WINDOWS_BUILD_TOOLS]=!0,t.description="-- "+o[2],t.iconPath="",this._onDidChangeTreeData.fire(t)})};this.aReady[h.NPM]?n():s("npm -v",(t,i)=>{const o=f.aTiRoot[h.NPM];if(t)return this.aReady[h.NPM]=!1,o.description="-- 見つかりません",o.iconPath=r.oIcon("error"),this._onDidChangeTreeData.fire(o),void this.activityBarBadge(++e);this.aReady[h.NPM]=!0,o.description="-- "+i,o.iconPath="",this._onDidChangeTreeData.fire(o),n()}),f.chkLastVerSKYNovel()}static chkLastVerSKYNovel(){const e=a.workspace.workspaceFolders;e&&l.get("https://raw.githubusercontent.com/famibee/SKYNovel/master/package.json",t=>{let n="";t.setEncoding("utf8"),t.on("data",e=>{n+=e}),t.on("end",()=>{const t=JSON.parse(n).version,r=f.aTiRoot[h.SKYNOVEL_VER];r.description="-- "+t,f.actBar._onDidChangeTreeData.fire(r),e.find(e=>{var n;const r=e.uri.fsPath+"/package.json";if(!c.existsSync(r))return!1;const i=null===(n=c.readJsonSync(r).dependencies["@famibee/skynovel"])||void 0===n?void 0:n.slice(1);return"ile:"!==i.slice(0,4)&&t!=i})&&a.window.showInformationMessage(`SKYNovelに更新（${t}）があります。【開発ツール】-【SKYNovel更新】のボタンを押してください`)})}).on("error",e=>console.error(e.message))}activityBarBadge(e=0){var t;const n=null===(t=a.window.activeTextEditor)||void 0===t?void 0:t.viewColumn;if(this.pnlWV)return void this.pnlWV.reveal(n);const r=this.ctx.extensionPath+"/doc";this.pnlWV=a.window.createWebviewPanel("SKYNovel-envinfo","SKYNovel情報",n||a.ViewColumn.One,{enableScripts:!1,localResourceRoots:[a.Uri.file(r)]}),this.pnlWV.onDidDispose(()=>this.pnlWV=null),c.readFile(r+"/index.htm","utf-8",(t,n)=>{if(t)throw t;this.pnlWV.webview.html=n.replace("${エラー数}",String(e)).replace(/<img src="img\//g,`<img src="vscode-resource:${r}/img/`).replace('type="text/css" href="',`type="text/css" href="vscode-resource:${r}/`)})}}t.ActivityBar=f,f.aTiRoot=[new a.TreeItem("Node.js"),new a.TreeItem("npm"),new a.TreeItem(r.is_win?"windows-build-tools":""),new a.TreeItem("SKYNovel（最新）")]},function(e,t,n){var r=n(48),i=process.cwd,o=null,a=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(e){}var s=process.chdir;process.chdir=function(e){o=null,s.call(process,e)},e.exports=function(e){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,i){e.open(t,r.O_WRONLY|r.O_SYMLINK,n,(function(t,r){t?i&&i(t):e.fchmod(r,n,(function(t){e.close(r,(function(e){i&&i(t||e)}))}))}))},e.lchmodSync=function(t,n){var i,o=e.openSync(t,r.O_WRONLY|r.O_SYMLINK,n),a=!0;try{i=e.fchmodSync(o,n),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}}(e);e.lutimes||function(e){r.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,n,i,o){e.open(t,r.O_SYMLINK,(function(t,r){t?o&&o(t):e.futimes(r,n,i,(function(t){e.close(r,(function(e){o&&o(t||e)}))}))}))},e.lutimesSync=function(t,n,i){var o,a=e.openSync(t,r.O_SYMLINK),s=!0;try{o=e.futimesSync(a,n,i),s=!1}finally{if(s)try{e.closeSync(a)}catch(e){}else e.closeSync(a)}return o}):(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e);e.chown=o(e.chown),e.fchown=o(e.fchown),e.lchown=o(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=u(e.statSync),e.fstatSync=u(e.fstatSync),e.lstatSync=u(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){});e.lchown||(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){});"win32"===a&&(e.rename=(t=e.rename,function(n,r,i){var o=Date.now(),a=0;t(n,r,(function s(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){e.stat(r,(function(e,o){e&&"ENOENT"===e.code?t(n,r,s):i(c)}))}),a),void(a<100&&(a+=10));i&&i(c)}))}));var t;function n(t){return t?function(n,r,i){return t.call(e,n,r,(function(e){l(e)&&(e=null),i&&i.apply(this,arguments)}))}:t}function i(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!l(e))throw e}}:t}function o(t){return t?function(n,r,i,o){return t.call(e,n,r,i,(function(e){l(e)&&(e=null),o&&o.apply(this,arguments)}))}:t}function s(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!l(e))throw e}}:t}function c(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function u(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:t}function l(e){return!e||("ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code))}e.read=function(t){function n(n,r,i,o,a,s){var c;if(s&&"function"==typeof s){var u=0;c=function(l,h,f){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,r,i,o,a,c);s.apply(this,arguments)}}return t.call(e,n,r,i,o,a,c)}return n.__proto__=t,n}(e.read),e.readSync=(h=e.readSync,function(t,n,r,i,o){for(var a=0;;)try{return h.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}});var h}},function(e,t,n){var r=n(9).Stream;e.exports=function(e){return{ReadStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var a=Object.keys(i),s=0,c=a.length;s<c;s++){var u=a[s];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return o.emit("error",e),void(o.readable=!1);o.fd=t,o.emit("open",t),o._read()}))},WriteStream:function t(n,i){if(!(this instanceof t))return new t(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),a=0,s=o.length;a<s;a++){var c=o[a];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(e,t,n){"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}},function(e,t,n){"use strict";const r=n(5),i=n(2),o=n(10).mkdirsSync,a=n(51).utimesMillisSync,s=n(32);function c(e,t,n,o){if(!o.filter||o.filter(t,n))return function(e,t,n,o){const a=(o.dereference?r.statSync:r.lstatSync)(t);if(a.isDirectory())return function(e,t,n,i,o){if(!t)return function(e,t,n,i){return r.mkdirSync(n),h(t,n,i),l(n,e)}(e.mode,n,i,o);if(t&&!t.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return h(n,i,o)}(a,e,t,n,o);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return function(e,t,n,i,o){return t?function(e,t,n,i){if(i.overwrite)return r.unlinkSync(n),u(e,t,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,i,o):u(e,n,i,o)}(a,e,t,n,o);if(a.isSymbolicLink())return function(e,t,n,o){let a=r.readlinkSync(t);o.dereference&&(a=i.resolve(process.cwd(),a));if(e){let e;try{e=r.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return r.symlinkSync(a,n);throw e}if(o.dereference&&(e=i.resolve(process.cwd(),e)),s.isSrcSubdir(a,e))throw new Error(`Cannot copy '${a}' to a subdirectory of itself, '${e}'.`);if(r.statSync(n).isDirectory()&&s.isSrcSubdir(e,a))throw new Error(`Cannot overwrite '${e}' with '${a}'.`);return function(e,t){return r.unlinkSync(t),r.symlinkSync(e,t)}(a,n)}return r.symlinkSync(a,n)}(e,t,n,o)}(e,t,n,o)}function u(e,t,n,i){return r.copyFileSync(t,n),i.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){l(e,128|t)}(n,e);(function(e,t){const n=r.statSync(e);a(t,n.atime,n.mtime)})(t,n)}(e.mode,t,n),l(n,e.mode)}function l(e,t){return r.chmodSync(e,t)}function h(e,t,n){r.readdirSync(e).forEach(r=>function(e,t,n,r){const o=i.join(t,e),a=i.join(n,e),{destStat:u}=s.checkPathsSync(o,a,"copy");return c(u,o,a,r)}(r,e,t,n))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:a,destStat:u}=s.checkPathsSync(e,t,"copy");return s.checkParentPathsSync(e,a,t,"copy"),function(e,t,n,a){if(a.filter&&!a.filter(t,n))return;const s=i.dirname(n);r.existsSync(s)||o(s);return c(e,t,n,a)}(u,e,t,n)}},function(e,t,n){"use strict";const r=n(30),i=n(2),o=n(50)("10.12.0"),a=e=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error("Path contains invalid characters: "+e);throw t.code="EINVAL",t}}},s=e=>("number"==typeof e&&(e={mode:e}),{mode:511,...e}),c=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};e.exports.makeDir=async(e,t)=>{if(a(e),t=s(t),o){const n=i.resolve(e);return r.mkdir(n,{mode:t.mode,recursive:!0})}const n=async e=>{try{await r.mkdir(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw c(e);if(t.message.includes("null bytes"))throw t;return await n(i.dirname(e)),n(e)}try{if(!(await r.stat(e)).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return n(i.resolve(e))},e.exports.makeDirSync=(e,t)=>{if(a(e),t=s(t),o){const n=i.resolve(e);return r.mkdirSync(n,{mode:t.mode,recursive:!0})}const n=e=>{try{r.mkdirSync(e,t.mode)}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(i.dirname(e)===e)throw c(e);if(t.message.includes("null bytes"))throw t;return n(i.dirname(e)),n(e)}try{if(!r.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch{throw t}}};return n(i.resolve(e))}},function(e,t,n){"use strict";const r=n(5),i=n(2),o=n(10).mkdirs,a=n(17).pathExists,s=n(51).utimesMillis,c=n(32);function u(e,t,n,r,s){const c=i.dirname(n);a(c,(i,a)=>i?s(i):a?h(e,t,n,r,s):void o(c,i=>i?s(i):h(e,t,n,r,s)))}function l(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(a=>a?e(t,n,r,i,o):o(),e=>o(e))}function h(e,t,n,r,i){return r.filter?l(f,e,t,n,r,i):f(e,t,n,r,i)}function f(e,t,n,i,o){(i.dereference?r.stat:r.lstat)(t,(a,s)=>a?o(a):s.isDirectory()?function(e,t,n,i,o,a){if(!t)return function(e,t,n,i,o){r.mkdir(n,r=>{if(r)return o(r);g(t,n,i,t=>t?o(t):m(n,e,o))})}(e.mode,n,i,o,a);if(t&&!t.isDirectory())return a(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return g(n,i,o,a)}(s,e,t,n,i,o):s.isFile()||s.isCharacterDevice()||s.isBlockDevice()?function(e,t,n,i,o,a){return t?function(e,t,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):d(e,t,n,i,o))}(e,n,i,o,a):d(e,n,i,o,a)}(s,e,t,n,i,o):s.isSymbolicLink()?v(e,t,n,i,o):void 0)}function d(e,t,n,i,o){r.copyFile(t,n,r=>r?o(r):i.preserveTimestamps?function(e,t,n,r){if(function(e){return 0==(128&e)}(e))return function(e,t,n){return m(e,128|t,n)}(n,e,i=>i?r(i):p(e,t,n,r));return p(e,t,n,r)}(e.mode,t,n,o):m(n,e.mode,o))}function p(e,t,n,i){!function(e,t,n){r.stat(e,(e,r)=>e?n(e):s(t,r.atime,r.mtime,n))}(t,n,t=>t?i(t):m(n,e,i))}function m(e,t,n){return r.chmod(e,t,n)}function g(e,t,n,i){r.readdir(e,(r,o)=>r?i(r):y(o,e,t,n,i))}function y(e,t,n,r,o){const a=e.pop();return a?function(e,t,n,r,o,a){const s=i.join(n,t),u=i.join(r,t);c.checkPaths(s,u,"copy",(t,i)=>{if(t)return a(t);const{destStat:c}=i;h(c,s,u,o,t=>t?a(t):y(e,n,r,o,a))})}(e,a,t,n,r,o):o()}function v(e,t,n,o,a){r.readlink(t,(t,s)=>t?a(t):(o.dereference&&(s=i.resolve(process.cwd(),s)),e?void r.readlink(n,(t,u)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?r.symlink(s,n,a):a(t):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(s,u)?a(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`)):e.isDirectory()&&c.isSrcSubdir(u,s)?a(new Error(`Cannot overwrite '${u}' with '${s}'.`)):function(e,t,n){r.unlink(t,i=>i?n(i):r.symlink(e,t,n))}(s,n,a))):r.symlink(s,n,a)))}e.exports=function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(e,t,"copy",(i,o)=>{if(i)return r(i);const{srcStat:a,destStat:s}=o;c.checkParentPaths(e,a,t,"copy",i=>i?r(i):n.filter?l(u,s,e,t,n,r):u(s,e,t,n,r))})}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(5),o=n(2),a=n(10),s=n(33),c=r((function(e,t){t=t||function(){},i.readdir(e,(n,r)=>{if(n)return a.mkdirs(e,t);r=r.map(t=>o.join(e,t)),function e(){const n=r.pop();if(!n)return t();s.remove(n,n=>{if(n)return t(n);e()})}()})}));function u(e){let t;try{t=i.readdirSync(e)}catch{return a.mkdirsSync(e)}t.forEach(t=>{t=o.join(e,t),s.removeSync(t)})}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(e,t,n){"use strict";const r=n(5),i=n(2),o=n(31),a="win32"===process.platform;function s(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||r[t],e[t+="Sync"]=e[t]||r[t]}),e.maxBusyTries=e.maxBusyTries||3}function c(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(t,"rimraf: invalid options argument provided"),o.strictEqual(typeof t,"object","rimraf: options should be object"),s(t),u(e,t,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries){r++;return setTimeout(()=>u(e,t,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function u(e,t,n){o(e),o(t),o("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&a?l(e,t,r,n):i&&i.isDirectory()?f(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return a?l(e,t,r,n):f(e,t,r,n);if("EISDIR"===r.code)return f(e,t,r,n)}return n(r)}))}function l(e,t,n,r){o(e),o(t),o("function"==typeof r),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?f(e,t,n,r):t.unlink(e,r)})})}function h(e,t,n){let r;o(e),o(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?p(e,t,n):t.unlinkSync(e)}function f(e,t,n,r){o(e),o(t),o("function"==typeof r),t.rmdir(e,a=>{!a||"ENOTEMPTY"!==a.code&&"EEXIST"!==a.code&&"EPERM"!==a.code?a&&"ENOTDIR"===a.code?r(n):r(a):function(e,t,n){o(e),o(t),o("function"==typeof n),t.readdir(e,(r,o)=>{if(r)return n(r);let a,s=o.length;if(0===s)return t.rmdir(e,n);o.forEach(r=>{c(i.join(e,r),t,r=>{if(!a)return r?n(a=r):void(0==--s&&t.rmdir(e,n))})})})}(e,t,r)})}function d(e,t){let n;s(t=t||{}),o(e,"rimraf: missing path"),o.strictEqual(typeof e,"string","rimraf: path should be a string"),o(t,"rimraf: missing options"),o.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&a&&h(e,t,n)}try{n&&n.isDirectory()?p(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return a?h(e,t,n):p(e,t,n);if("EISDIR"!==n.code)throw n;p(e,t,n)}}function p(e,t,n){o(e),o(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(o(e),o(t),t.readdirSync(e).forEach(n=>d(i.join(e,n),t)),!a){return t.rmdirSync(e,t)}{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}e.exports=c,c.sync=d},function(e,t,n){"use strict";const r=n(106),i=n(107),o=n(108);e.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(2),o=n(5),a=n(10);e.exports={createFile:r((function(e,t){function n(){o.writeFile(e,"",e=>{if(e)return t(e);t()})}o.stat(e,(r,s)=>{if(!r&&s.isFile())return t();const c=i.dirname(e);o.stat(c,(e,r)=>{if(e)return"ENOENT"===e.code?a.mkdirs(c,e=>{if(e)return t(e);n()}):t(e);r.isDirectory()?n():o.readdir(c,e=>{if(e)return t(e)})})})})),createFileSync:function(e){let t;try{t=o.statSync(e)}catch{}if(t&&t.isFile())return;const n=i.dirname(e);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;a.mkdirsSync(n)}o.writeFileSync(e,"")}}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(2),o=n(5),a=n(10),s=n(17).pathExists;e.exports={createLink:r((function(e,t,n){function r(e,t){o.link(e,t,e=>{if(e)return n(e);n(null)})}s(t,(c,u)=>c?n(c):u?n(null):void o.lstat(e,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const c=i.dirname(t);s(c,(i,o)=>i?n(i):o?r(e,t):void a.mkdirs(c,i=>{if(i)return n(i);r(e,t)}))}))})),createLinkSync:function(e,t){if(o.existsSync(t))return;try{o.lstatSync(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const n=i.dirname(t);return o.existsSync(n)||a.mkdirsSync(n),o.linkSync(e,t)}}},function(e,t,n){"use strict";const r=n(8).fromCallback,i=n(2),o=n(5),a=n(10),s=a.mkdirs,c=a.mkdirsSync,u=n(109),l=u.symlinkPaths,h=u.symlinkPathsSync,f=n(110),d=f.symlinkType,p=f.symlinkTypeSync,m=n(17).pathExists;e.exports={createSymlink:r((function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(t,(a,c)=>a?r(a):c?r(null):void l(e,t,(a,c)=>{if(a)return r(a);e=c.toDst,d(c.toCwd,n,(n,a)=>{if(n)return r(n);const c=i.dirname(t);m(c,(n,i)=>n?r(n):i?o.symlink(e,t,a,r):void s(c,n=>{if(n)return r(n);o.symlink(e,t,a,r)}))})}))})),createSymlinkSync:function(e,t,n){if(o.existsSync(t))return;const r=h(e,t);e=r.toDst,n=p(r.toCwd,n);const a=i.dirname(t);return o.existsSync(a)||c(a),o.symlinkSync(e,t,n)}}},function(e,t,n){"use strict";const r=n(2),i=n(5),o=n(17).pathExists;e.exports={symlinkPaths:function(e,t,n){if(r.isAbsolute(e))return i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const a=r.dirname(t),s=r.join(a,e);return o(s,(t,o)=>t?n(t):o?n(null,{toCwd:s,toDst:e}):i.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:r.relative(a,e)})))}},symlinkPathsSync:function(e,t){let n;if(r.isAbsolute(e)){if(n=i.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const o=r.dirname(t),a=r.join(o,e);if(n=i.existsSync(a),n)return{toCwd:a,toDst:e};if(n=i.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:r.relative(o,e)}}}}},function(e,t,n){"use strict";const r=n(5);e.exports={symlinkType:function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);r.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})},symlinkTypeSync:function(e,t){let n;if(t)return t;try{n=r.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(e,t,n){"use strict";const r=n(8).fromPromise,i=n(112);i.outputJson=r(n(114)),i.outputJsonSync=n(115),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,e.exports=i},function(e,t,n){"use strict";const r=n(113);e.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},function(e,t,n){let r;try{r=n(5)}catch(e){r=n(6)}const i=n(8),{stringify:o,stripBom:a}=n(36);const s={readFile:i.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,o=!("throws"in t)||t.throws;let s,c=await i.fromCallback(n.readFile)(e,t);c=a(c);try{s=JSON.parse(c,t?t.reviver:null)}catch(t){if(o)throw t.message=`${e}: ${t.message}`,t;return null}return s})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||r,i=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=a(r),JSON.parse(r,t.reviver)}catch(t){if(i)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:i.fromPromise((async function(e,t,n={}){const a=n.fs||r,s=o(t,n);await i.fromCallback(a.writeFile)(e,s,n)})),writeFileSync:function(e,t,n={}){const i=n.fs||r,a=o(t,n);return i.writeFileSync(e,a,n)}};e.exports=s},function(e,t,n){"use strict";const{stringify:r}=n(36),{outputFile:i}=n(37);e.exports=async function(e,t,n={}){const o=r(t,n);await i(e,o,n)}},function(e,t,n){"use strict";const{stringify:r}=n(36),{outputFileSync:i}=n(37);e.exports=function(e,t,n){const o=r(t,n);i(e,o,n)}},function(e,t,n){"use strict";e.exports={moveSync:n(117)}},function(e,t,n){"use strict";const r=n(5),i=n(2),o=n(49).copySync,a=n(33).removeSync,s=n(10).mkdirpSync,c=n(32);function u(e,t,n){try{r.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return o(e,t,{overwrite:n,errorOnExist:true}),a(e)}(e,t,n)}}e.exports=function(e,t,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l}=c.checkPathsSync(e,t,"move");return c.checkParentPathsSync(e,l,t,"move"),s(i.dirname(t)),function(e,t,n){if(n)return a(t),u(e,t,n);if(r.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,o)}},function(e,t,n){"use strict";const r=n(8).fromCallback;e.exports={move:r(n(119))}},function(e,t,n){"use strict";const r=n(5),i=n(2),o=n(52).copy,a=n(33).remove,s=n(10).mkdirp,c=n(17).pathExists,u=n(32);function l(e,t,n,i){r.rename(e,t,r=>r?"EXDEV"!==r.code?i(r):function(e,t,n,r){o(e,t,{overwrite:n,errorOnExist:!0},t=>t?r(t):a(e,r))}(e,t,n,i):i())}e.exports=function(e,t,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;u.checkPaths(e,t,"move",(n,h)=>{if(n)return r(n);const{srcStat:f}=h;u.checkParentPaths(e,f,t,"move",n=>{if(n)return r(n);s(i.dirname(t),n=>n?r(n):function(e,t,n,r){if(n)return a(t,i=>i?r(i):l(e,t,n,r));c(t,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):l(e,t,n,r))}(e,t,o,r))})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkSpaces=void 0;const r=n(16),i=n(121),o=n(13),a=n(22),s=n(186),c=n(2),u=n(232),{execSync:l}=n(93);class h{constructor(e,t){if(this.ctx=e,this.chkLastVerSKYNovel=t,this.aTiRoot=[],this.oTiPrj={},this.aTreeTmp=[{cmd:"PrjSet",icon:"gear",label:"プロジェクト設定"},{cmd:"SnUpd",icon:"skynovel",label:"SKYNovel更新",npm:`npm un -S skynovel ${r.statBreak()} npm i @famibee/skynovel@latest ${r.statBreak()} npm run webpack:dev`},{cmd:"LibUpd",icon:"plugin",label:"全ライブラリ更新",npm:`npm update ${r.statBreak()} npm update --dev ${r.statBreak()} npm run webpack:dev`},{cmd:"Crypto",icon:"gear",label:"暗号化"},{cmd:"ReBuild",icon:"gear",label:"リビルド",npm:"npm run rebuild"},{cmd:"TaskWeb",icon:"browser",label:"起動：ブラウザ版",npm:"npm run web"},{cmd:"TaskApp",icon:"electron",label:"起動：アプリ版",npm:"npm run start"},{cmd:"PackWin",icon:"windows",label:"生成：Windows用 exe x64",npm:`npm run webpack:pro ${r.statBreak()} ./node_modules/.bin/electron-builder --win --x64 -c.artifactName="\${prj.title}-\${prj.version}-x64.exe"`},{cmd:"PackWin32",icon:"windows",label:"生成：Windows用 exe ia32",npm:`npm run webpack:pro ${r.statBreak()} ./node_modules/.bin/electron-builder --win --ia32 -c.artifactName="\${prj.title}-\${prj.version}-ia32.exe"`},{cmd:"PackMac",icon:"macosx",label:"生成：macOS用 dmg",npm:`npm run webpack:pro ${r.statBreak()} ./node_modules/.bin/electron-builder --mac`},{cmd:"PackLinux",icon:"linux",label:"生成：Linux用 AppImage",npm:`npm run webpack:pro ${r.statBreak()} ./node_modules/.bin/electron-builder --linux`},{cmd:"PackFreem",icon:"freem",label:"生成：ふりーむ！形式 zip",npm:"npm run webpack:pro"}],this.idxDevPrjSet=1,this.idxDevCrypto=3,this.idxDevPackMac=9,this.hPrj={},this.tidDelay=null,this.decChars={aRange:[],decorator:o.window.createTextEditorDecorationType({})},this._onDidChangeTreeData=new o.EventEmitter,this.onDidChangeTreeData=this._onDidChangeTreeData.event,this.hOnEndTask={},this.getTreeItem=e=>e,r.is_win){const e=this.aTreeTmp[this.idxDevPackMac];e.label="",e.cmd="",e.desc="（Windowsでは使えません）"}this.refresh(),o.workspace.onDidChangeWorkspaceFolders(e=>this.refresh(e)),this.aTreeTmp.forEach(t=>{t.cmd&&e.subscriptions.push(o.commands.registerCommand("skynovel.dev"+t.cmd,e=>this.onClickTreeItemBtn(e)))}),o.tasks.onDidEndTaskProcess(e=>{var t;return null===(t=this.hOnEndTask)||void 0===t?void 0:t[e.execution.task.name](e)}),this.onUpdDoc(o.window.activeTextEditor),o.window.onDidChangeActiveTextEditor(e=>this.onUpdDoc(e),null,e.subscriptions),o.workspace.onDidCloseTextDocument(e=>{var t;(null===(t=this.teActive)||void 0===t?void 0:t.document)===e&&(this.teActive=void 0)}),o.workspace.onDidChangeTextDocument(e=>{var t;e.document===(null===(t=this.teActive)||void 0===t?void 0:t.document)&&this.onUpdDoc(this.teActive)},null,e.subscriptions)}onUpdDoc(e){e&&"skynovel"==e.document.languageId&&(this.teActive=e,this.tidDelay&&clearTimeout(this.tidDelay),this.tidDelay=setTimeout(()=>this.updDeco(),500))}updDeco(){if(!this.teActive)return;const e=this.teActive.document,t=e.getText();let n;for(o.window.setStatusBarMessage(""),this.decChars.decorator.dispose(),this.decChars={aRange:[],decorator:o.window.createTextEditorDecorationType({light:{textDecoration:"underline"},dark:{textDecoration:"underline"}})};n=h.REG_FN_OR_LABEL.exec(t);)this.decChars.aRange.push(new o.Range(e.positionAt(n.index+n[0].length-n[1].length),e.positionAt(n.index+n[0].length)));this.teActive.setDecorations(this.decChars.decorator,this.decChars.aRange)}refresh(e){const t=o.workspace.workspaceFolders;if(t){if(!e)return t.forEach(e=>this.makePrj(e)),this.aTiRoot[0].collapsibleState=o.TreeItemCollapsibleState.Expanded,void this._onDidChangeTreeData.fire(void 0);if(e.added.length>0)this.makePrj(t.slice(-1)[0]);else{const t=e.removed[0].name,n=this.aTiRoot.findIndex(e=>e.label===t);this.aTiRoot.splice(n,1);const r=e.removed[0].uri.fsPath;delete this.oTiPrj[r],this.hPrj[r].dispose()}this._onDidChangeTreeData.fire(void 0)}}makePrj(e){const t=new o.TreeItem("",o.TreeItemCollapsibleState.Collapsed),n=e.uri.fsPath;t.iconPath=o.ThemeIcon.Folder,t.tooltip=n,t.description=e.name,this.aTiRoot.push(t);const s=a.existsSync(n+"/package.json"),c=a.existsSync(n+"/doc/prj/prj.json");if(!s||!c){const e=new o.TreeItem((s?"prj":"package")+".json がありません");return e.iconPath=r.oIcon("warn"),void(this.oTiPrj[n]=[e])}this.oTiPrj[n]=this.aTreeTmp.map(e=>{var t;const i=new o.TreeItem(e.label);return i.iconPath=r.oIcon(e.icon),i.contextValue="skynovel.dev"+e.cmd,i.description=null!==(t=e.desc)&&void 0!==t?t:"",i.tooltip=n,i}),this.updLocalSNVer(n),this.hPrj[n]=new i.Project(this.ctx,n,e=>{t.label=e,this._onDidChangeTreeData.fire(t)}),this.dspCryptoMode(n)}updLocalSNVer(e){var t;const n=a.readJsonSync(e+"/package.json"),r=null===(t=null==n?void 0:n.dependencies["@famibee/skynovel"])||void 0===t?void 0:t.slice(1);this.oTiPrj[e][this.idxDevPrjSet].description=r?"-- "+r:"取得できません"}dspCryptoMode(e){const t=this.oTiPrj[e],n=this.hPrj[e];t[this.idxDevCrypto].description="-- "+(n.isCryptoMode?"する":"しない")}onClickTreeItemBtn(e){var t;if(!e)return;const n=o.workspace.workspaceFolders;if(!n)return void o.window.showWarningMessage("[SKYNovel] フォルダを開いているときのみ使用できます");let h=n.length>1?`cd "${e.tooltip}" ${r.statBreak()} `:"";const f=null!==(t=e.tooltip)&&void 0!==t?t:"";a.existsSync(f+"/node_modules")||(h+=`npm i ${r.statBreak()} `);const d=this.aTreeTmp.findIndex(t=>t.label===e.label);if(-1===d)return;const p=this.aTreeTmp[d],m=this.hPrj[f];switch(p.npm&&(h+=p.npm.replace(/\${prj.title}/g,m.title).replace(/\${prj.version}/g,m.version)),p.cmd){case"PrjSet":return void m.openPrjSetting();case"SnUpd":this.chkLastVerSKYNovel();break;case"Crypto":return void o.window.showInformationMessage("暗号化（する / しない）を切り替えますか？",{modal:!0},"はい").then(t=>{"はい"==t&&(m.tglCryptoMode(),this.dspCryptoMode(f),this._onDidChangeTreeData.fire(e))});case"PackFreem":let t=!1;if(r.treeProc(f+"/doc/prj",e=>{t||".svg"!==e.slice(-4)||(t=!0,o.window.showErrorMessage("ふりーむ！では svg ファイル使用禁止です。png などに置き換えて下さい","フォルダを開く","Online Converter").then(t=>{switch(t){case"フォルダを開く":o.env.openExternal(o.Uri.file(c.dirname(e)));break;case"Online Converter":o.env.openExternal(o.Uri.parse("https://cancerberosgx.github.io/demos/svg-png-converter/playground/"))}}))}),t)return}switch(p.cmd){case"TaskWeb":case"TaskApp":case"PackWin":case"PackWin32":case"PackMac":case"PackLinux":const e=f+"/build/icon.png";if(!a.existsSync(e))break;const t=a.statSync(e).mtimeMs,n=a.readFileSync(e);a.ensureDirSync(f+"/build/icon/");{const e=f+"/build/icon/icon.icns";if(t>(a.existsSync(e)?a.statSync(e).mtimeMs:0)){const t=u.createICNS(n,u.BILINEAR,0);t&&a.writeFileSync(e,t)}}{const e=f+"/build/icon/icon.ico";if(t>(a.existsSync(e)?a.statSync(e).mtimeMs:0)){const t=u.createICO(n,u.BICUBIC2,0,!1,!0);t&&a.writeFileSync(e,t)}}}switch(p.cmd){case"PackWin":case"PackWin32":if(!r.is_win)break;if(!/(Restricted|AllSigned)/.test(l("PowerShell Get-ExecutionPolicy")))break;return void o.window.showErrorMessage("管理者権限つきのPowerShell で実行ポリシーを RemoteSigned などに変更して下さい。\n例、管理者コマンドプロンプトで）PowerShell Set-ExecutionPolicy RemoteSigned",{modal:!0},"参考サイトを開く").then(e=>{e&&o.env.openExternal(o.Uri.parse("https://qiita.com/Targityen/items/3d2e0b5b0b7b04963750"))})}const g=new o.Task({type:"SKYNovel "+d},p.label,"SKYNovel",new o.ShellExecution(h));switch(p.cmd){case"SnUpd":case"LibUpd":this.hOnEndTask[p.label]=e=>{e.execution.task.definition.type==g.definition.type&&e.execution.task.source==g.source&&(this.updLocalSNVer(f),this._onDidChangeTreeData.fire(void 0))};break;case"PackWin":case"PackWin32":case"PackMac":case"PackLinux":this.hOnEndTask[p.label]=()=>o.window.showInformationMessage(p.label+" パッケージを生成しました","出力フォルダを開く").then(e=>{e&&o.env.openExternal(o.Uri.file(f+"/build/package/"))});break;case"PackFreem":this.hOnEndTask[p.label]=()=>{const e=s.create("zip",{zlib:{level:9}}).append(a.createReadStream(f+"/doc/web.htm"),{name:"index.html"}).append(a.createReadStream(f+"/build/include/readme.txt"),{name:"readme.txt"}).glob("web.js",{cwd:f+"/doc/"}).glob("web.*.js",{cwd:f+"/doc/"}).glob((m.isCryptoMode?i.Project.fldnm_crypto_prj:"prj")+"/**/*",{cwd:f+"/doc/"}).glob("favicon.ico",{cwd:f+"/doc/"}),t=c.basename(f)+"_1.0freem.zip",n=a.createWriteStream(f+"/build/package/"+t).on("close",()=>o.window.showInformationMessage(`ふりーむ！形式で出力（${t}）しました`,"出力フォルダを開く").then(e=>{e&&o.env.openExternal(o.Uri.file(f+"/build/package/"))}));e.pipe(n),e.finalize()}}o.tasks.executeTask(g).then(void 0,e=>console.error("fn:TreeDPDev onClickTreeItemBtn() rj:"+e.message))}getChildren(e){return e?this.oTiPrj[e.tooltip]:this.aTiRoot}dispose(){for(const e in this.hPrj)this.hPrj[e].dispose();this.hPrj={}}}t.WorkSpaces=h,h.REG_FN_OR_LABEL=/(?<=\s)(?:fn|label)\s*=\s*([^\]\s]+)/g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Project=void 0;const r=n(16),i=n(122),o=n(140),a=n(13),s=n(22),c=n(2),u=n(141),l=n(161),h=n(241),f=n(185),d=n(9);class p{constructor(e,t,n){this.ctx=e,this.pathWs=t,this.chgTitle=n,this.$isCryptoMode=!0,this.regNeedCrypto=/\.(sn|json|html?|jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv|html?)$/,this.regFullCrypto=/\.(sn|json|html?)$/,this.regRepPathJson=/\.(jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv)/g,this.hExt2N={jpg:1,jpeg:1,png:2,svg:3,webp:4,mp3:10,m4a:11,ogg:12,aac:13,flac:14,wav:15,mp4:20,webm:21,ogv:22},this.regNeedHash=/\.(js|css)$/,this.hDiff=Object.create(null),this.LEN_CHKDIFF=1024,this.REG_SPATH2HFN=/([^\/]+)\/[^\/]+(\.\w+)/,this.aRepl=["core/app4webpack.js","core/web4webpack.js"],this.regDir=/(^.+)\//,this.regPlgAddTag=/(?<=\.\s*addTag\s*\(\s*)(["'])(.+?)\1/g,this.regSprSheetImg=/^(.+)\.(\d+)x(\d+)\.(png|jpe?g)$/,this.curPrj=t+"/doc/prj/",this.codSpt=new i.CodingSupporter(e,t,this.curPrj),this.curPlg=t+"/core/plugin/",s.ensureDirSync(this.curPlg),s.existsSync(this.pathWs+"/node_modules")?this.updPlugin():(this.rebuildTask(),a.window.showInformationMessage("初期化中です。ターミナルの処理が終わって止まるまでしばらくお待ち下さい。",{modal:!0})),this.lenCurPrj=this.curPrj.length,this.updPathJson();const c=a.workspace.createFileSystemWatcher(this.curPlg+"**/*"),u=a.workspace.createFileSystemWatcher(this.curPrj+"*/*"),f=a.workspace.createFileSystemWatcher(this.curPrj+"prj.json");this.aFSW=[c.onDidCreate(()=>this.updPlugin()),c.onDidChange(()=>this.updPlugin()),c.onDidDelete(()=>this.updPlugin()),u.onDidCreate(e=>{r.regNoUseSysPath.lastIndex=0,r.regNoUseSysPath.test(e.path)||(this.crePrj(e),this.codSpt.crePrj(e))}),u.onDidChange(e=>{r.regNoUseSysPath.lastIndex=0,r.regNoUseSysPath.test(e.path)||(this.chgPrj(e),this.codSpt.chgPrj(e))}),u.onDidDelete(e=>{r.regNoUseSysPath.lastIndex=0,r.regNoUseSysPath.test(e.path)||(this.delPrj(e),this.codSpt.delPrj(e))}),f.onDidChange(e=>this.chgPrj(e))],this.curCrypto=t+`/doc/${p.fld_crypto_prj}/`,this.$isCryptoMode=s.existsSync(this.curCrypto);const d=this.curPlg+"pass.json",m=s.existsSync(d);this.hPass=m?s.readJsonSync(d,{throws:!1}):{pass:h.v4(),salt:String(l.lib.WordArray.random(16)),iv:String(l.lib.WordArray.random(16)),ite:500+Math.floor((new Date).getTime()%300),stk:String(l.lib.WordArray.random(16))},m||s.outputJsonSync(d,this.hPass),this.iv=l.enc.Hex.parse(this.hPass.iv),this.pbkdf2=l.PBKDF2(l.enc.Utf8.parse(this.hPass.pass),l.enc.Hex.parse(this.hPass.salt),{keySize:this.hPass.keySize,iterations:this.hPass.ite}),this.fnDiff=t+"/core/diff.json",s.existsSync(this.fnDiff)&&(this.hDiff=s.readJsonSync(this.fnDiff)),this.ps=new o.PnlPrjSetting(e,t,n,this.codSpt),this.initCrypto()}static get fldnm_crypto_prj(){return p.fld_crypto_prj}get isCryptoMode(){return this.$isCryptoMode}openPrjSetting(){this.ps.open()}get title(){return this.ps.cfg.book.title}get version(){return this.ps.cfg.book.version}dispose(){this.aFSW.forEach(e=>e.dispose())}crePrj(e){this.encIfNeeded(e.path),this.updPathJson()}chgPrj(e){this.encIfNeeded(e.path)}delPrj(e){const t=e.path.slice(this.lenCurPrj);this.regNeedCrypto.lastIndex=0,s.removeSync(this.curCrypto+t.replace(this.regRepPathJson,".bin").replace(/"/,"")),this.updPathJson(),delete this.hDiff[t],this.updDiffJson()}initCrypto(){const e=this.$isCryptoMode?e=>{this.isDiff(e)&&this.encrypter(e)}:e=>this.isDiff(e);r.treeProc(this.curPrj,e),this.updDiffJson()}encIfNeeded(e){this.$isCryptoMode&&this.isDiff(e)&&this.encrypter(e),this.updDiffJson()}updDiffJson(){s.writeJsonSync(this.fnDiff,this.hDiff)}isDiff(e){var t;const n=e.slice(this.lenCurPrj);let r=0;if(this.regFullCrypto.test(e))r=f.str(s.readFileSync(e,{encoding:"utf8"}));else{const t=new Uint8Array(this.LEN_CHKDIFF),n=s.openSync(e,"r");s.readSync(n,t,0,this.LEN_CHKDIFF,0),s.closeSync(n),r=f.buf(t)}return(null===(t=this.hDiff[n])||void 0===t?void 0:t.hash)!==r&&(this.hDiff[n]={hash:r,cn:this.regNeedCrypto.test(n)?n.replace(this.REG_SPATH2HFN,`$1/${h.v5(n,this.hPass.pass)}$2`).replace(this.regRepPathJson,".bin"):n},!0)}tglCryptoMode(){const e=this.curPlg+"snsys_pre";if(this.$isCryptoMode=!this.$isCryptoMode,!this.$isCryptoMode)return s.removeSync(this.curCrypto),s.removeSync(e),this.aRepl.forEach(e=>r.replaceFile(this.pathWs+"/"+e,new RegExp("\\(hPlg, {.+?}\\);"),"(hPlg);")),void r.replaceFile(this.pathWs+"/package.json",new RegExp(`"${p.fld_crypto_prj}\\/",`),'"prj/",');s.ensureDir(this.curCrypto),this.aRepl.forEach(e=>r.replaceFile(this.pathWs+"/"+e,/\(hPlg\);/,`(hPlg, {cur: '${p.fld_crypto_prj}/', crypto: true});`)),r.replaceFile(this.pathWs+"/package.json",/"prj\/",/,`"${p.fld_crypto_prj}/",`),r.replaceFile(this.ctx.extensionPath+"/res/snsys_pre/index.js",/{p:0}/,JSON.stringify(this.hPass),e+"/index.js"),this.hDiff=Object.create(null),this.initCrypto()}async encrypter(e){var t;try{const n=e.slice(this.lenCurPrj),r=this.curCrypto+this.hDiff[n].cn;if(!this.regNeedCrypto.test(e))return void s.ensureLink(e,r).catch(e=>console.error("encrypter cp1 "+e));if(this.regFullCrypto.test(n)){let t=await s.readFile(e,{encoding:"utf8"});if("path.json"===n){const e=JSON.parse(t);for(const t in e){const n=e[t];for(const e in n){if(":cnt"===e)continue;if(":RIPEMD160"===e.slice(-10))continue;const t=String(n[e]),r=this.regDir.exec(t);r&&this.ps.cfg.code[r[1]]||(n[e]=this.hDiff[t].cn)}}t=JSON.stringify(e)}const i=l.AES.encrypt(t,this.pbkdf2,{iv:this.iv});return void await s.outputFile(r,i.toString())}const i=this.regDir.exec(n);if(i&&this.ps.cfg.code[i[1]])return void s.ensureLink(e,r).catch(e=>console.error("encrypter cp2 "+e));let o=p.LEN_ENC,a=2;const u=new Uint8Array(a+o);u[0]=0,u[1]=null!==(t=this.hExt2N[c.extname(n).slice(1)])&&void 0!==t?t:0;const h=s.createReadStream(e).on("error",e=>console.error("encrypter rs=%o",e)),f=r.replace(/\.[^.]+$/,".bin");s.ensureFileSync(f);const m=s.createWriteStream(f).on("error",e=>console.error("encrypter ws=%o",e)),g=new d.Transform({transform:(e,t,n)=>{if(0===o)return void n(null,e);const r=e.length;if(o>r)return u.set(e,a),a+=r,o-=r,void n(null);u.set(e.slice(0,o),a);const i=l.AES.encrypt(l.lib.WordArray.create(u),this.pbkdf2,{iv:this.iv}),s=Buffer.from(i.toString(),"base64"),c=Buffer.alloc(4);c.writeUInt32LE(s.length,0),g.push(c),g.push(s),n(null,o===r?null:e.slice(o)),o=0}}).on("end",()=>{if(0===o)return;const e=l.AES.encrypt(l.lib.WordArray.create(u.slice(0,a)),this.pbkdf2,{iv:this.iv}),t=Buffer.from(e.toString(),"base64"),n=Buffer.alloc(4);n.writeUInt32LE(t.length,0),m.write(n),m.write(t)});h.pipe(g).pipe(m)}catch(e){console.error("encrypter other "+e.message)}}updPlugin(){if(!s.existsSync(this.curPlg))return;const e={},t={};r.foldProc(this.curPlg,()=>{},n=>{e[n]=0;const r=`${this.curPlg}${n}/index.js`;if(!s.existsSync(r))return;const i=s.readFileSync(r,"utf8");let o;for(;o=this.regPlgAddTag.exec(i);){const e=o[2],n=e.length,s=this.regPlgAddTag.lastIndex-n-1;let c=0,u=s;for(;(u=i.lastIndexOf("\n",u-1))>=0;)++c;const l=s-i.lastIndexOf("\n",s)-1;t[e]=new a.Location(a.Uri.file(r),new a.Range(c,l,c,l+n))}}),this.codSpt.setHDefPlg(t),s.outputFile(this.curPlg.slice(0,-1)+".js",`export default ${JSON.stringify(e)};`).then(()=>this.rebuildTask()).catch(e=>console.error("PrjFileProc updPlugin "+e))}rebuildTask(){let e=`cd "${this.pathWs}" ${r.statBreak()} `;s.existsSync(this.pathWs+"/node_modules")||(e+=`npm i ${r.statBreak()} `),e+="npm run webpack:dev";const t=new a.Task({type:"SKYNovel auto"},"webpack:dev","SKYNovel",new a.ShellExecution(e));a.tasks.executeTask(t).then(void 0,e=>console.error("TreeDPDev rebuildTask() rj:"+e.message))}async updPathJson(){try{const e=this.get_hPathFn2Exts(this.curPrj);await s.outputJson(this.curPrj+"path.json",e),this.$isCryptoMode&&this.encrypter(this.curPrj+"path.json")}catch(e){console.error("PrjFileProc updPathJson "+e)}}get_hPathFn2Exts(e){const t={};return r.foldProc(e,()=>{},n=>{const i=c.resolve(e,n);r.foldProc(i,(e,o)=>{this.addPath(t,n,o);const h=o.match(this.regNeedHash);if(h){const n=s.readFileSync(e,{encoding:"utf8"}),r=l.RIPEMD160(n).toString(l.enc.Hex),i=o.slice(0,-h[0].length);t[i][h[1]+":RIPEMD160"]=r}const f=o.match(this.regSprSheetImg);if(!f)return;const d=c.resolve(i,f[1]+".json");if(s.existsSync(d))return;const p=u(e),m=r.uint(f[2]),g=r.uint(f[3]),y=p.width/m,v=p.height/g,b=f[1],_=f[4],w={frames:{},meta:{app:"skynovel",version:"1.0",image:f[0],format:"RGBA8888",size:{w:p.width,h:p.height},scale:1,animationSpeed:1}};let S=0;for(let e=0;e<m;++e)for(let t=0;t<g;++t)w.frames[b+String(++S).padStart(4,"0")+"."+_]={frame:{x:e*y,y:t*v,w:y,h:v},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:p.width,h:p.height},sourceSize:{w:y,h:v},pivot:{x:.5,y:.5}};s.writeFileSync(d,JSON.stringify(w)),a.window.showInformationMessage(`[SKYNovel] ${o} からスプライトシート用 ${f[1]}.json を自動生成しました`),this.addPath(t,n,f[1]+".json")},()=>{})}),t}addPath(e,t,n){const i=c.parse(n),o=i.ext.slice(1),u=i.name;let l=e[u];if(l){if(o in l)return void a.window.showErrorMessage(`[SKYNovel] プロジェクト内でファイル【${i.base}】が重複しています。フォルダを縦断検索するため許されません`,{modal:!0}).then(()=>a.window.showQuickPick([{label:"1) "+l[o],description:"クリックで削除対象"},{label:"2) "+(t+"/"+n),description:"クリックで削除対象"}])).then(e=>{if(!e)return;const r=Number(e.label.slice(0,1)),i=this.curPrj+(1===r?l[o]:t+"/"+n);a.window.showInformationMessage(i+" を削除しますか？",{modal:!0},"はい").then(e=>{"はい"===e&&s.removeSync(i)})});l[":cnt"]=r.uint(l[":cnt"])+1}else l=e[u]={":cnt":1};l[o]=t+"/"+n}}t.Project=p,p.fld_crypto_prj="crypto_prj",p.LEN_ENC=10240},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodingSupporter=void 0;const r=n(16),i=n(123),o=n(125),a=n(13),s=n(139);class c{constructor(e,t,n){this.hArgDesc={},this.tidDelay=null,this.hChgTxt={},this.hRsvNm2Then={},this.nm4rename="",this.aCITagMacro=[],this.preSigHelp=new a.SignatureHelp,this.hScr2Pro={},this.crePrj=e=>this.scrScn.goAll(),this.chgPrj=e=>this.scrScn.goFile(e),this.delPrj=e=>this.scrScn.goAll(),this.loadCfg=()=>c.pickItems.sort(this.compare).forEach(e=>e.description+="（SKYNovel）"),this.lenRootPath=t.length+1,c.initClass(e),c.pickItems.map(e=>{var t;return this.hArgDesc[e.label]={label:`[${e.label} ...]`,doc:null!==(t=e.description)&&void 0!==t?t:"タグの説明"}}),a.commands.registerCommand(c.CMD_SCANSCR_TRGPARAMHINTS,()=>a.commands.executeCommand("editor.action.triggerParameterHints")),this.aCITagMacro=[];const r={title:"「スクリプト再捜査」「引数の説明」",command:c.CMD_SCANSCR_TRGPARAMHINTS};for(const e in s){const t=s[e],n=new a.CompletionItem(e,a.CompletionItemKind.Snippet);n.detail=t.detail,n.command=r,t.comment&&(n.documentation=new a.MarkdownString(`$(book)[タグリファレンス](https://famibee.github.io/SKYNovel/tag.htm#${e})\n\n---\n${t.comment}`,!0)),this.aCITagMacro.push(n);const i=t.snippet.length;for(let e=1;e<i;++e){const i=new a.CompletionItem(t.snippet[e].nm,a.CompletionItemKind.Snippet);i.detail=t.detail,i.command=r,i.documentation=n.documentation,this.aCITagMacro.push(i)}}this.loadCfg(),e.subscriptions.push(a.workspace.onDidChangeConfiguration(()=>this.loadCfg()));const u={scheme:"file",language:"skynovel"};e.subscriptions.push(a.languages.registerHoverProvider(u,this)),e.subscriptions.push(a.languages.registerDefinitionProvider(u,this)),e.subscriptions.push(a.languages.registerReferenceProvider(u,this)),e.subscriptions.push(a.languages.registerRenameProvider(u,this)),this.clDiag=a.languages.createDiagnosticCollection(u.language),e.subscriptions.push(this.clDiag),e.subscriptions.push(a.languages.registerCompletionItemProvider(u,this,"["," ","=")),e.subscriptions.push(a.languages.registerSignatureHelpProvider(u,this," ")),e.subscriptions.push(a.languages.registerDocumentSymbolProvider(u,this)),o.initDebug(e,u),a.languages.registerEvaluatableExpressionProvider(u,{provideEvaluatableExpression(e,t){const n=e.getWordRangeAtPosition(t,c.REG_VAR);if(!n)return Promise.reject("No word here.");const r=e.getText(n),i=r.charAt(0);return"["===i||"*"===i||";"===i||"="===r.slice(-1)?Promise.reject("No word here."):new a.EvaluatableExpression(n,r)}}),a.workspace.onDidChangeTextDocument(e=>{const t=e.document;0!==e.contentChanges.length&&"skynovel"==t.languageId&&t.fileName.slice(0,this.lenRootPath-1)==a.workspace.rootPath&&(this.hChgTxt[t.fileName]=t,this.tidDelay&&clearTimeout(this.tidDelay),this.tidDelay=setTimeout(()=>this.delayedUpdate(),500))},null,e.subscriptions),this.scrScn=new i.ScriptScanner(n,this.clDiag,c.hTag)}delayedUpdate(){const e=this.hChgTxt;this.hChgTxt={};for(const t in e){const n=e[t];this.scrScn.goScriptSrc(n.uri,n.getText())}for(const e in this.hRsvNm2Then)this.hRsvNm2Then[e]();this.hRsvNm2Then={}}static initClass(e){c.initClass=()=>{};for(const e in s){const t=s[e];c.pickItems.push({label:e,description:t.detail}),c.hTag[e]=!0,t.snippet.forEach(e=>c.hSnippet[e.nm]=e.txt)}e.subscriptions.push(a.commands.registerCommand("skynovel.openReferencePallet",()=>{a.window.showQuickPick(c.pickItems,{placeHolder:"Which reference will you open?",matchOnDescription:!0}).then(e=>{e&&c.openTagRef(e)})}))}static openTagRef(e){a.commands.executeCommand("open",a.Uri.parse("https://famibee.github.io/SKYNovel/tag.htm#"+e.label))}provideHover(e,t,n){if(!e.getWordRangeAtPosition(t,c.regTagName))return Promise.reject("No word here.");const r=e.getText(e.getWordRangeAtPosition(t)),i=this.scrScn.hMacro[r];if(i){const e=i.uri.fsPath;return new a.Hover(new a.MarkdownString(`~~~skynovel\n(マクロ) [${r}]\n~~~\n定義ファイル：${e.slice(this.lenRootPath)}`))}const o=this.scrScn.hPlugin[r];if(o){const e=o.uri.fsPath;return new a.Hover(new a.MarkdownString(`~~~skynovel\n(プラグイン定義タグ) [${r}]\n~~~\n---\n定義ファイル：${e.slice(this.lenRootPath)}`))}let u="["+r;const l=s[r];return l?(l.param.forEach(e=>{const t=`${e.name}=${e.default?`%${e.name}|${e.default}`:"【必須】"}`;u+=" "+t}),new a.Hover(new a.MarkdownString(`~~~skynovel\n(タグ) ${u}]\n~~~\n---\n${l.detail}`))):Promise.reject("Nothing md file.")}provideDefinition(e,t,n){return e.getWordRangeAtPosition(t,c.regTagName)?new Promise((n,r)=>{var i;const o=e.getText(e.getWordRangeAtPosition(t)),a=null!==(i=this.scrScn.hMacro[o])&&void 0!==i?i:this.scrScn.hPlugin[o];if(a)return n(a);const s=c.pickItems.find(e=>e.label===o);return s?(c.openTagRef(s),n()):r("No definition found")}):Promise.reject("No word here.")}provideReferences(e,t,n,r){return e.getWordRangeAtPosition(t,c.regTagName)?new Promise((n,r)=>{const i=e.getText(e.getWordRangeAtPosition(t)),o=this.scrScn.hMacroUse[i];return o?n(o):r("No references found")}):Promise.reject("No word here.")}prepareRename(e,t,n){const r=e.getWordRangeAtPosition(t,c.regTagName);return r?new Promise((n,i)=>{var o;const a=e.getText(e.getWordRangeAtPosition(t));if(a in c.hTag)return i("タグは変名できません");const s=null!==(o=this.scrScn.hPlugin[a])&&void 0!==o?o:this.scrScn.hMacro[a];return s?(this.nm4rename=a,n(e.uri===s.uri&&s.range.contains(t)?s.range:r)):i("未定義マクロ・タグです")}):Promise.reject("No word here.")}provideRenameEdits(e,t,n,r){return new Promise((e,t)=>{if(/(\s|　)/.test(n))return t("空白を含む変名はできません");if(n in c.hTag)return t("既にあるタグ名です");if(n in this.scrScn.hMacro)return t("既にあるマクロ名です");if(n in this.scrScn.hPlugin)return t("既にあるプラグイン定義タグ名です");const r=new a.WorkspaceEdit,i=this.scrScn.hMacroUse[this.nm4rename];i&&(this.scrScn.hMacroUse[n]=i,delete this.scrScn.hMacroUse[this.nm4rename],i.forEach(e=>r.replace(e.uri,e.range,n)));const o=this.scrScn.hPlugin[this.nm4rename];if(o)return this.scrScn.hPlugin[n]=o,delete this.scrScn.hPlugin[this.nm4rename],r.replace(o.uri,o.range,n),e(r);const s=this.scrScn.hMacro[this.nm4rename];return this.scrScn.hMacro[n]=s,delete this.scrScn.hMacro[this.nm4rename],r.replace(s.uri,s.range,n),e(r)})}provideCompletionItems(e,t,n,r){const i=e.lineAt(t.line),o=r.triggerCharacter;if("["===o){return"[]"===i.text.slice(t.character-1,t.character+1)?this.aCITagMacro:[]}const u=this.scrScn.hTagMacroUse[e.uri.path];if(!u)return[];const l=u.find(e=>e.rng.contains(t));if(!l)return[];const h=s[l.nm];if(!h)return[];if(" "===o)return h.param.map(e=>new a.CompletionItem(e.name,a.CompletionItemKind.Field));const f=e.getWordRangeAtPosition(t,c.REG_FIELD);if(!f)return[];const d=this.searchArgName(e.getText(f),h);if(-1===d)return[];const p=h.param[d];let m=null==p?void 0:p.rangetype;if(!m)return[];switch(m){case"Boolean":m="true、false"}if(m.includes("、"))return m.split("、").map(e=>new a.CompletionItem(e,a.CompletionItemKind.Keyword));let g=a.CompletionItemKind.Value;const y=this.scrScn.hPreWords[m];if(!y)return(null==p?void 0:p.default)?[new a.CompletionItem(p.default,g)]:[];switch(m){case"イベント名":g=a.CompletionItemKind.Event;break;case"代入変数名":g=a.CompletionItemKind.Variable;break;case"ジャンプ先":g=a.CompletionItemKind.Reference;break;case"スクリプトファイル名":case"画像ファイル名":case"音声ファイル名":case"HTMLファイル名":g=a.CompletionItemKind.File;break;default:g=a.CompletionItemKind.EnumMember}return y.slice(1,-1).split(",").map(e=>new a.CompletionItem(e,"const."===e.slice(0,6)?a.CompletionItemKind.Constant:g))}resolveCompletionItem(e,t){var n,i;if(e.kind===a.CompletionItemKind.Snippet){const t=c.hSnippet[e.label];t&&(e.insertText=new a.SnippetString(this.scrScn.cnvSnippet(t,r.CmnLib.getFn(null!==(i=null===(n=a.window.activeTextEditor)||void 0===n?void 0:n.document.fileName)&&void 0!==i?i:""))))}return e}provideSignatureHelp(e,t,n,r){var o;const u=e.uri.path;let l="";const h=this.scrScn.hTagMacroUse[u];if(!h)return Promise.reject("Nothing tag file.");if(r.isRetrigger){let n=this.rngPreTag;n=n.with(void 0,n.end.translate(2,0));const r=this.scrScn.analyzToken(e.getText(n));if(!r)return Promise.reject("No tag here.");if(l=r[0],n=n.with(void 0,e.positionAt(e.offsetAt(n.start)+l.length)),!new a.Range(n.start.translate(0,1),n.end.translate(0,-1)).contains(t))return Promise.reject("Out of tag.");this.rngPreTag=n}else{const n=null===(o=h.find(e=>e.rng.contains(t)))||void 0===o?void 0:o.rng;if(!n)return Promise.reject("No args here.");this.rngPreTag=n.with(void 0,n.end.translate(0,1)),l=e.getText(this.rngPreTag)}const f=i.ScriptScanner.analyzTagArg(l),d=null==f?void 0:f.groups;if(!d)return Promise.reject("No args here.");const p=d.name,m=this.scrScn.hMacro[p];if(m)return Promise.reject(`[${p}] マクロです 定義ファイル：${m.uri.path.slice(this.lenRootPath)}`);const g=s[p];if(!g)return Promise.reject("Nothing md file.");if(!r.isRetrigger){const e=new a.SignatureHelp,t=this.hArgDesc[p];let n="["+p;const r=[];g.param.length>0&&""!=g.param[0].name&&g.param.forEach(e=>{const t=`${e.name}=${e.required?"【必須】":`%${e.name}|${e.default}`}`;n+=" "+t,r.push(new a.ParameterInformation(t,new a.MarkdownString(e.comment)))});const i=new a.SignatureInformation(n+"]",t.doc);i.parameters=r,e.signatures=[i],this.preSigHelp=e}const y=e.getWordRangeAtPosition(t,c.REG_FIELD);return this.preSigHelp.activeParameter=y?this.searchArgName(e.getText(y),g):-1,this.preSigHelp}searchArgName(e,t){const n=e.search(/(?<=[^=]+)=/);if(-1===n){const n=new RegExp("^"+e.replace(/=.*$/,""));return t.param.findIndex(e=>n.test(e.name))}const r=e.slice(0,n);return t.param.findIndex(e=>e.name===r)}provideDocumentSymbols(e,t){const n=e.uri.path;return e.isDirty&&n in this.hScr2Pro?new Promise(e=>this.hRsvNm2Then["アウトライン"]=()=>{var t;e(null!==(t=this.scrScn.hSn2aDsOutline[n])&&void 0!==t?t:[])}):(this.hScr2Pro[n]=1,new Promise(e=>{var t;return e(null!==(t=this.scrScn.hSn2aDsOutline[n])&&void 0!==t?t:[])}))}setHDefPlg(e){this.scrScn.hPlugin=e}setEscape(e){this.scrScn.setEscape(e)}compare(e,t){const n=e.label+e.description,r=t.label+t.description;return n>r?1:n===r?0:-1}}t.CodingSupporter=c,c.pickItems=[],c.hTag={},c.hSnippet={},c.CMD_SCANSCR_TRGPARAMHINTS="extension.skynovel.scanScr_trgParamHints",c.REG_VAR=/;.+|[\[*]?[\d\w\.]+=?/,c.regTagName=/[^\s\[\]="'#;]+/,c.REG_FIELD=/(?<=\s)[^\s=[\]]+(?:=(?:[^"'#\s;\]]+|(["'#]).*?\1)?)?/},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptScanner=void 0;const r=n(16),i=n(124),o=n(13),a=n(22);class s{constructor(e,t,n){this.curPrj=e,this.clDiag=t,this.hTag=n,this.hPlugin={},this.hMacro={},this.hMacroUse={},this.hTagMacroUse={},this.hSetWords={"代入変数名":new Set,"ジャンプ先":new Set,"レイヤ名":new Set,"文字レイヤ名":new Set,"画像レイヤ名":new Set,"マクロ名":new Set,"スクリプトファイル名":new Set,"画像ファイル名":new Set,"音声ファイル名":new Set,"HTMLファイル名":new Set,"差分名称":new Set,"フレーム名":new Set,"サウンドバッファ":new Set,"文字出現演出名":new Set,"文字消去演出名":new Set},this.cnvSnippet=(e,t)=>e,this.hPreWords={"イベント名":"|Click,RightClick,MiddleClick,UpWheel,DownWheel,Control,Alt,Meta,Backspace,Enter,=,A,alt+A,ctrl+A,shift+A,alt+ctrl+A,ctrl+shift+A,alt+shift+A,alt+ctrl+shift+A,' ',ArrowLeft,ArrowRight,ArrowUp,ArrowDown,Tab,Delete,Home,End,PageUp,PageDown|","animation-timing-function":"|ease,ease-in,ease-out,ease-in-out,linear,step-start,step-end,cubic-bezier(...)|","イージング名":"|Back.In,Back.InOut,Back.Out,Bounce.In,Bounce.InOut,Bounce.Out,Circular.In,Circular.InOut,Circular.Out,Cubic.In,Cubic.InOut,Cubic.Out,Elastic.In,Elastic.InOut,Elastic.Out,Exponential.In,Exponential.InOut,Exponential.Out,Linear.None,Quadratic.In,Quadratic.InOut,Quadratic.Out,Quartic.In,Quartic.InOut,Quartic.Out,Quintic.In,Quintic.InOut,Quintic.Out,Sinusoidal.In,Sinusoidal.InOut,Sinusoidal.Out|","ブレンドモード名":"|normal,add,multiply,screen|"},this.hFn2JumpSnippet={},this.nm2Diag={},this.isDuplicateMacroDef=!1,this.wasDuplicateMacroDef=!1,this.hSn2aDsOutline={},this.hScr2KeyWord={},this.alzTagArg=new i.AnalyzeTagArg,this.fncToken=this.procToken,this.hTagProc={let_ml:e=>{var t;this.fncToken=(e,t)=>{const n=t.length;let r=0,i=-1;for(;(i=t.indexOf("\n",i+1))>=0;)++r;0===r?e.col+=n:(e.line+=r,e.col=n-t.lastIndexOf("\n")-1),this.fncToken=this.procToken};const n=null===(t=this.alzTagArg.hPrm.name)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(e.add("代入変数名\t"+n),this.hSetWords["代入変数名"].add(n))},macro:(e,t,n,r,i,a,c,u)=>{var l,h;const f=null===(l=this.alzTagArg.hPrm.name)||void 0===l?void 0:l.val;if(!f)return void i.push(new o.Diagnostic(r,`マクロ定義[${f}]の属性が異常です`,o.DiagnosticSeverity.Error));if(this.hTag[f])return void i.push(new o.Diagnostic(r,`定義済みのタグ[${f}]と同名のマクロは定義できません`,o.DiagnosticSeverity.Error));if(this.hPlugin[f])return void i.push(new o.Diagnostic(r,`プラグイン定義済みのタグ[${f}]と同名のマクロは定義できません`,o.DiagnosticSeverity.Error));const d=this.hMacro[f];if(!d){const e=n.match(s.regValName);if(!e)return void i.push(new o.Diagnostic(r,`マクロ定義（[${f}]）が異常です`,o.DiagnosticSeverity.Error));const u=(null!==(h=e.index)&&void 0!==h?h:0)+(e[3]?1:0);let l=0,d=u;for(;(d=n.lastIndexOf("\n",d-1))>=0;)++l;const p=a.line-c+l,m=(0===l?a.col-n.length:0)+u-n.lastIndexOf("\n",u)-1,g=new o.Range(p,m,p,m+f.length);this.hMacro[f]=new o.Location(t,g);const y=new o.DocumentSymbol(f,"マクロ定義",o.SymbolKind.Class,g,g);return this.aDsOutline.push(y),this.aDsOutlineStack.push(this.aDsOutline),void(this.aDsOutline=y.children)}if(this.isDuplicateMacroDef=!0,!i.find(e=>e.range===d.range)){const e=new o.Diagnostic(d.range,`マクロ定義（[${f}]）が重複`,o.DiagnosticSeverity.Error);d.uri===t?i.push(e):this.clDiag.set(d.uri,[e])}i.push(new o.Diagnostic(u.with({end:new o.Position(a.line,a.col+f.length)}),`マクロ定義（[${f}]）が重複`,o.DiagnosticSeverity.Error))},endmacro:()=>{var e;return this.aDsOutline=null!==(e=this.aDsOutlineStack.pop())&&void 0!==e?e:[]},if:(e,t,n,r)=>{const i=new o.DocumentSymbol(n,"",o.SymbolKind.Function,r,r);this.aDsOutline.push(i),this.aDsOutlineStack.push(this.aDsOutline),this.aDsOutline=i.children},elsif:(e,t,n,r,i,o,a,s)=>{var c;this.hTagProc.if(e,t,n,r,i,o,a,s),this.aDsOutline=null!==(c=this.aDsOutlineStack.pop())&&void 0!==c?c:[]},endif:()=>{var e;return this.aDsOutline=null!==(e=this.aDsOutlineStack.pop())&&void 0!==e?e:[]},s:(e,t,n,r)=>{this.aDsOutline.push(new o.DocumentSymbol(n,"",o.SymbolKind.Function,r,r))},let:e=>{var t;const n=null===(t=this.alzTagArg.hPrm.name)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(this.hSetWords["代入変数名"].add(n),e.add("代入変数名\t"+n))},add_frame:e=>{var t;const n=null===(t=this.alzTagArg.hPrm.id)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(this.hSetWords["フレーム名"].add(n),e.add("フレーム名\t"+n))},playbgm:e=>{this.hSetWords["サウンドバッファ"].add("BGM"),e.add("サウンドバッファ\tBGM")},playse:e=>{var t,n;const r=null!==(n=null===(t=this.alzTagArg.hPrm.buf)||void 0===t?void 0:t.val)&&void 0!==n?n:"SE";r&&"&"!=r.charAt(0)&&this.hSetWords["サウンドバッファ"].add(r),e.add("サウンドバッファ\t"+r)},button:e=>{var t,n,r,i,o,a;const s=null!==(n=null===(t=this.alzTagArg.hPrm.clicksebuf)||void 0===t?void 0:t.val)&&void 0!==n?n:"SYS";s&&"&"!=s.charAt(0)&&this.hSetWords["サウンドバッファ"].add(s),e.add("サウンドバッファ\t"+s);const c=null!==(i=null===(r=this.alzTagArg.hPrm.entersebuf)||void 0===r?void 0:r.val)&&void 0!==i?i:"SYS";c&&"&"!=c.charAt(0)&&this.hSetWords["サウンドバッファ"].add(c),e.add("サウンドバッファ\t"+c);const u=null!==(a=null===(o=this.alzTagArg.hPrm.leavesebuf)||void 0===o?void 0:o.val)&&void 0!==a?a:"SYS";u&&"&"!=u.charAt(0)&&this.hSetWords["サウンドバッファ"].add(u),e.add("サウンドバッファ\t"+u)},link:e=>{var t,n,r,i,o,a;const s=null!==(n=null===(t=this.alzTagArg.hPrm.clicksebuf)||void 0===t?void 0:t.val)&&void 0!==n?n:"SYS";s&&"&"!=s.charAt(0)&&this.hSetWords["サウンドバッファ"].add(s),e.add("サウンドバッファ\t"+s);const c=null!==(i=null===(r=this.alzTagArg.hPrm.entersebuf)||void 0===r?void 0:r.val)&&void 0!==i?i:"SYS";c&&"&"!=c.charAt(0)&&this.hSetWords["サウンドバッファ"].add(c),e.add("サウンドバッファ\t"+c);const u=null!==(a=null===(o=this.alzTagArg.hPrm.leavesebuf)||void 0===o?void 0:o.val)&&void 0!==a?a:"SYS";u&&"&"!=u.charAt(0)&&this.hSetWords["サウンドバッファ"].add(u),e.add("サウンドバッファ\t"+u)},ch_in_style:e=>{var t;const n=null===(t=this.alzTagArg.hPrm.name)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(this.hSetWords["文字出現演出名"].add(n),e.add("文字出現演出名\t"+n))},ch_out_style:e=>{var t;const n=null===(t=this.alzTagArg.hPrm.name)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(this.hSetWords["文字消去演出名"].add(n),e.add("文字消去演出名\t"+n))},add_lay:e=>{var t,n;const r=null===(t=this.alzTagArg.hPrm.layer)||void 0===t?void 0:t.val;if(!r)return;this.hSetWords["レイヤ名"].add(r),e.add("レイヤ名\t"+r);const i=("grp"===(null===(n=this.alzTagArg.hPrm.class)||void 0===n?void 0:n.val)?"画像":"文字")+"レイヤ名";this.hSetWords[i].add(r),e.add(`${i}\t${r}`)},add_face:e=>{var t;const n=null===(t=this.alzTagArg.hPrm.name)||void 0===t?void 0:t.val;n&&"&"!=n.charAt(0)&&(this.hSetWords["差分名称"].add(n),e.add("差分名称\t"+n))}},this.aDsOutlineStack=[],this.hTagProc.let_abs=this.hTagProc.let_char_at=this.hTagProc.let_index_of=this.hTagProc.let_length=this.hTagProc.let_replace=this.hTagProc.let_round=this.hTagProc.let_search=this.hTagProc.let_substr=this.hTagProc.let,this.hTagProc.set_frame=this.hTagProc.let_frame,this.hTagProc.jump=this.hTagProc.call=this.hTagProc.event=this.hTagProc.button=this.hTagProc.link=this.hTagProc.return=this.hTagProc.s,this.hTagProc.else=this.hTagProc.elsif}bldCnvSnippet(){let e=!0;const t=this.hSetWords["マクロ名"];t.clear();for(const e in this.hMacro)t.add(e);this.hSetWords["代入変数名"].add(s.sPredefWrtVar),this.hSetWords["文字出現演出名"].add("default"),this.hSetWords["文字消去演出名"].add("default");for(const t in this.hSetWords){const n=`|${[...this.hSetWords[t].values()].sort().join(",")}|`;this.hPreWords[t]!==n&&(e=!1),this.hPreWords[t]="||"===n?":"+t:n}e||(this.hFn2JumpSnippet={},this.cnvSnippet=(e,t)=>{const n=this.hPreWords["ジャンプ先"],r=this.hFn2JumpSnippet[t];this.hPreWords["ジャンプ先"]=null!=r?r:(()=>{if("string"!=typeof n)return"ジャンプ先";let e="";const r=(n.slice(1,-1)+",").replace(new RegExp(`fn=${t},(?:fn=${t} [^,|]+,)*`),t=>(e=t,""));return this.hFn2JumpSnippet[t]=`|${(e+r).slice(0,-1)}|`})();const i=e.replace(/{{([^\}]+)}}/g,(e,t)=>this.hPreWords[t]);return this.hPreWords["ジャンプ先"]=n,i})}goAll(){this.isDuplicateMacroDef=!1,this.hMacro={},this.hMacroUse={},this.hTagMacroUse={};for(const e in this.hSetWords)this.hSetWords[e]=new Set;this.clDiag.clear(),this.nm2Diag={},this.hScr2KeyWord={},this.hSn2aDsOutline={},r.treeProc(this.curPrj,e=>this.scanFile(o.Uri.file(e)));for(const e in this.hMacro){if(e in this.hMacroUse)continue;const t=this.hMacro[e];this.nm2Diag[t.uri.path].push(new o.Diagnostic(t.range,`未使用のマクロ[${e}]があります`,o.DiagnosticSeverity.Information))}for(const e in this.hMacroUse){if(e in this.hMacro)continue;if(e in this.hPlugin)continue;this.hMacroUse[e].forEach(t=>this.nm2Diag[t.uri.path].push(new o.Diagnostic(t.range,`未定義マクロ[${e}]を使用、あるいはスペルミスです`,o.DiagnosticSeverity.Warning)))}for(const e in this.nm2Diag)this.clDiag.set(o.Uri.file(e),this.nm2Diag[e]);this.isDuplicateMacroDef&&!this.wasDuplicateMacroDef&&o.window.showErrorMessage("[SKYNovel] プロジェクト内でマクロ定義が重複しています。どちらか削除して下さい",{modal:!0}),this.wasDuplicateMacroDef=this.isDuplicateMacroDef,this.bldCnvSnippet()}goFile(e){this.goInitFile(e),this.scanFile(e),this.goFinishFile(e)}goScriptSrc(e,t){this.goInitFile(e);const n=e.path,r=this.hScr2KeyWord[n];this.hScr2KeyWord[n]=new Set,this.scanScriptSrc(e,t),this.goFinishFile(e);const i=this.hScr2KeyWord[n];for(const e of r){if(i.has(e))continue;let t=!1;for(const r in this.hScr2KeyWord)if(r!==n&&(t=this.hScr2KeyWord[r].has(e)))break;if(t)continue;const r=e.split("\t");this.hSetWords[r[0]].delete(r[1])}}goInitFile(e){const t=e.path;this.isDuplicateMacroDef=!1;const n={};for(const e in this.hMacro){const r=this.hMacro[e];r.uri.path!=t&&(n[e]=r)}this.hMacro=n;const r={};for(const e in this.hMacroUse)this.hMacroUse[e].forEach(n=>{var i;n.uri.path!=t&&(r[e]=null!==(i=r[e])&&void 0!==i?i:[]).push(n)});this.hMacroUse=r,this.hTagMacroUse[t]=[],this.clDiag.delete(e),this.nm2Diag[t]=[]}goFinishFile(e){const t=e.path;for(const e in this.hMacro){if(e in this.hMacroUse)continue;const n=this.hMacro[e];n.uri.path!==t&&this.nm2Diag[n.uri.path].push(new o.Diagnostic(n.range,`未使用のマクロ[${e}]があります`,o.DiagnosticSeverity.Information))}for(const e in this.hMacroUse){if(e in this.hMacro)continue;if(e in this.hPlugin)continue;this.hMacroUse[e].forEach(n=>{n.uri.path!==t&&this.nm2Diag[n.uri.path].push(new o.Diagnostic(n.range,`未定義マクロ[${e}]を使用、あるいはスペルミスです`,o.DiagnosticSeverity.Warning))})}this.clDiag.set(e,this.nm2Diag[t]),this.isDuplicateMacroDef&&!this.wasDuplicateMacroDef&&o.window.showErrorMessage("[SKYNovel] プロジェクト内でマクロ定義が重複しています。どちらか削除して下さい",{modal:!0}),this.wasDuplicateMacroDef=this.isDuplicateMacroDef,this.bldCnvSnippet()}scanFile(e){var t,n,i,c;const u=e.path,l=r.CmnLib.getFn(u);if(".sn"!=u.slice(-3))return void(s.EXT_SPRITE.test(u)?this.hSetWords["画像ファイル名"].add(l):s.EXT_SOUND.test(u)?this.hSetWords["音声ファイル名"].add(l):s.EXT_HTML.test(u)&&this.hSetWords["HTMLファイル名"].add(l));this.hSetWords["スクリプトファイル名"].add(l),this.nm2Diag[u]=null!==(t=this.nm2Diag[u])&&void 0!==t?t:[],this.hSetWords["ジャンプ先"].add("fn="+l),this.hTagMacroUse[u]=null!==(n=this.hTagMacroUse[u])&&void 0!==n?n:[],this.hScr2KeyWord[u]=null!==(i=this.hScr2KeyWord[u])&&void 0!==i?i:new Set;const h=o.workspace.textDocuments.find(t=>t.fileName===e.fsPath);this.scanScriptSrc(e,null!==(c=null==h?void 0:h.getText())&&void 0!==c?c:a.readFileSync(e.fsPath,{encoding:"utf8"}))}scanScriptSrc(e,t){const n=e.path,i=this.nm2Diag[n],a={},c=this.hScr2KeyWord[n];this.aDsOutline=this.hSn2aDsOutline[n]=[],this.fncToken=this.procToken=(t,u)=>{var l,h;const f=u.charCodeAt(0),d=u.length;if(9===f)return void(t.col+=d);if(10===f)return t.line+=d,void(t.col=0);if(38===f){if(t.col+=d,"&"===u.substr(-1))return;try{const e=s.splitAmpersand(u.slice(1));if("&"!=e.name.charAt(0)){const t=e.name.trimEnd();this.hSetWords["代入変数名"].add(t),c.add("代入変数名\t"+t)}}catch{}return}if(59===f){const n=u.match(/#NO_WARM_UNUSED_MACRO\s+(\S+)/);if(n){const r=n[1];(this.hMacroUse[r]=null!==(l=this.hMacroUse[r])&&void 0!==l?l:[]).push(new o.Location(e,new o.Range(t.line,t.col+22,t.line,t.col+22+d)))}return void(t.col+=d)}const p=new o.Range(t.line,t.col,t.line,t.col+d);if(42===f&&u.length>1){t.col+=d;const e=`fn=${r.CmnLib.getFn(n)} label=${u}`;if(this.hSetWords["ジャンプ先"].add(e),c.add("ジャンプ先\t"+e),this.aDsOutline.push(new o.DocumentSymbol(u,"",o.SymbolKind.Key,p,p)),"*"===u.charAt(1))return;if(u in a){const e=a[u];e&&(i.push(new o.Diagnostic(e,`同一スクリプトにラベル【${u}】が重複しています`,o.DiagnosticSeverity.Error)),a[u]=null),i.push(new o.Diagnostic(p,`同一スクリプトにラベル【${u}】が重複しています`,o.DiagnosticSeverity.Error))}else a[u]=p;return}if(91!=f)return t.col+=d,void this.aDsOutline.push(new o.DocumentSymbol(u,"",o.SymbolKind.String,p,p));const m=s.REG_TAG.exec(u);if(!m)return i.push(new o.Diagnostic(p,`タグ記述【${u}】異常です`,o.DiagnosticSeverity.Error)),void(t.col+=d);let g=0,y=-1;for(;(y=u.indexOf("\n",y+1))>=0;)++g;g<=0?t.col+=d:(t.line+=g,t.col=d-u.lastIndexOf("\n")-1,g>10&&i.push(new o.Diagnostic(new o.Range(p.start.line,p.start.character-1,t.line,0),"改行タグが10行を超えています",o.DiagnosticSeverity.Warning)));const v=m.groups.name;if(this.hTagMacroUse[n].push({nm:v,rng:p.with(void 0,new o.Position(t.line,t.col))}),v in this.hPlugin)return;const b=new o.Range(p.start,p.end.translate(0,m.groups.name.length-d)),_=new o.Range(b.start.translate(0,1),b.end.translate(0,1));if(!(v in this.hTag)){const t=null!==(h=this.hMacroUse[v])&&void 0!==h?h:[];return t.push(new o.Location(e,_)),void(this.hMacroUse[v]=t)}const w=this.hTagProc[v];w&&(this.alzTagArg.go(m.groups.args),w(c,e,u,_,i,t,g,b))};const u={line:0,col:0};this.resolveScript(t).aToken.forEach(e=>{e&&this.fncToken(u,e)})}procToken(e,t){}static splitAmpersand(e){const t=e.replace(/==/g,"＝").replace(/!=/g,"≠").split("="),n=t.length;if(n<2||n>3)throw"「&計算」書式では「=」指定が一つか二つ必要です";if("&"===t[1].charAt(0))throw"「&計算」書式では「&」指定が不要です";return{name:t[0].replace(/＝/g,"==").replace(/≠/g,"!="),text:t[1].replace(/＝/g,"==").replace(/≠/g,"!="),cast:3===n?t[2].trim():null}}resolveScript(e){var t;const n=null!==(t=e.replace(/(\r\n|\r)/g,"\n").match(this.REG_TOKEN))&&void 0!==t?t:[];for(let e=n.length-1;e>=0;--e){const t=n[e];if(s.REG_TAG_LET_ML.test(t)){const r=t.indexOf("]")+1;if(0===r)throw"[let_ml]で閉じる【]】がありません";const i=t.slice(0,r),o=t.slice(r);n.splice(e,1,i,o)}}const r={aToken:n,len:n.length,aLNum:[]};return this.replaceScript_let_ml(r),r}replaceScript_let_ml(e,t=0){var n;for(let r=e.len-1;r>=t;--r){const t=e.aToken[r];if(s.REG_TAG_LET_ML.test(t)){const i=t.indexOf("]")+1,o=t.slice(i),a=(null!==(n=o.match(/\n/g))&&void 0!==n?n:[]).length;e.aToken.splice(r,1,t.slice(0,i),o),e.aLNum.splice(r,0,e.aLNum[r]);const s=e.aToken.length;for(let t=r+2;t<s;++t)e.aLNum[t]+=a}}e.len=e.aToken.length}analyzToken(e){return this.REG_TOKEN.lastIndex=0,this.REG_TOKEN.exec(e)}setEscape(e){this.REG_TOKEN=new RegExp((e?`\\${e}\\S|`:"")+"\\n+|\\t+|\\[let_ml\\s+[^\\]]+\\].+?(?=\\[endlet_ml[\\]\\s])|\\[(?:[^\"'#;\\]]+|([\"'#]).*?\\1|;[^\\n]*)*?]|;[^\\n]*|&[^&\\n]+&|&&?[^;\\n\\t&]+|^\\*\\w+"+`|[^\\n\\t\\[;${e?"\\"+e:""}]+`,"gs"),this.goAll()}}t.ScriptScanner=s,s.sPredefWrtVar="save:sn.doRecLog\nsys:sn.auto.msecLineWait\nsys:sn.auto.msecLineWait_Kidoku\nsys:sn.auto.msecPageWait\nsys:sn.auto.msecPageWait_Kidoku\nsys:sn.skip.mode\nsys:sn.tagCh.canskip\nsys:sn.tagCh.doWait\nsys:sn.tagCh.doWait_Kidoku\nsys:sn.tagCh.msecWait\nsys:sn.tagCh.msecWait_Kidoku\nsys:TextLayer.Back.Alpha\nsn.auto.enabled\nsn.button.fontFamily\nsn.event.domdata.（任意）\nsn.eventArg\nsn.eventLabel\nsn.skip.all\nsn.skip.enabled\nsn.tagL.enabled".replace(/\n/g,","),s.EXT_SPRITE=/\.(png|jpg|jpeg|json|svg|webp|mp4|webm)$/,s.EXT_SOUND=/\.(mp3|m4a|ogg|aac|flac|wav)$/,s.EXT_HTML=/\.(htm|html)$/,s.regValName=/(?<=name\s*=\s*)([^"'#;\]]+|(["'#])(.*?)\2)/m,s.REG_TAG_LET_ML=/^\[let_ml\s/g,s.REG_TAG=/\[(?<name>[^\s;\]]+)\s*(?<args>(?:[^"'#\]]+|(["'#]).*?\3)*?)]/,s.analyzTagArg=e=>s.REG_TAG.exec(e)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyzeTagArg=void 0;t.AnalyzeTagArg=class{constructor(){this.REG_TAGARG=/;.*\n|(?<key>\w+)(?:\s+|;[^\n]*\n)*=(?:\s+|;.*\n)*(?:(?<val>[^\s"'#|;]+)|(["'#])(?<val2>.*?)\3)(?:\|(?:(?<def>[^\s"'#;]+)|(["'#])(?<def2>.*?)\6))?|(?<literal>[^\s;]+)/g,this.$hPrm={},this.$isKomeParam=!1}go(e){var t,n;if(this.$hPrm={},this.$isKomeParam=!1,!e)return;let r=null;for(;r=this.REG_TAGARG.exec(e);){const e=null==r?void 0:r.groups;e&&(e.key?this.$hPrm[e.key]={val:null!==(t=e.val)&&void 0!==t?t:e.val2,def:null!==(n=e.def)&&void 0!==n?n:e.def2}:e.literal&&("*"===e.literal?this.$isKomeParam=!0:this.$hPrm[e.literal]={val:"1"}))}}get hPrm(){return this.$hPrm}get isKomeParam(){return this.$isKomeParam}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDebug=void 0;const r=n(13),i=n(126),o=n(2),a=n(137),{Subject:s}=n(138);function c(e){return new Promise(t=>setTimeout(t,e))}t.initDebug=function(e,t){var n;const i=null!==(n=t.language)&&void 0!==n?n:"";r.debug.registerDebugConfigurationProvider(i,{provideDebugConfigurations:e=>[{name:"1.アプリを起動",type:"node",request:"launch"},{name:"2.アプリに接続",type:"skynovel",request:"attach"},{name:"2b.デバッガ",type:"skynovel",request:"launch"}]}),e.subscriptions.push(r.debug.registerDebugConfigurationProvider("node",{resolveDebugConfiguration:(e,t)=>({program:"${workspaceFolder}/doc/app.js",runtimeExecutable:"${workspaceFolder}/node_modules/.bin/electron",windows:{runtimeExecutable:"${workspaceFolder}/node_modules/.bin/electron.cmd"},console:"integratedTerminal",autoAttachChildProcesses:!0,skipFiles:["<node_internals>/**/*.js"],...t,env:{SKYNOVEL_DBG:"on",...t.env}})})),e.subscriptions.push(r.debug.registerDebugConfigurationProvider(i,{resolveDebugConfiguration:(e,t)=>({cwd:"${workspaceFolder}",...t})}));const o={createDebugAdapterDescriptor:e=>new r.DebugAdapterInlineImplementation(new u)};e.subscriptions.push(r.debug.registerDebugAdapterDescriptorFactory(i,o)),"dispose"in o&&e.subscriptions.push(o)};class u extends i.LoggingDebugSession{constructor(){super("sn_debug.txt"),this.dbg=new a.Debugger,this.cfgDone=new s,this.hdlsVar=new i.Handles,this.hNm2HdlNm={},this.mapCancelationTokens=new Map,this.mapIsLongrunning=new Map,this.hScope={tmp:{},sys:{},save:{},mp:{}},this.setDebuggerLinesStartAt1(!0),this.setDebuggerColumnsStartAt1(!0),this.dbg.on("stopOnEntry",()=>{this.sendEvent(new i.StoppedEvent("entry",u.THREAD_ID))}),this.dbg.on("stopOnStep",()=>{this.sendEvent(new i.StoppedEvent("step",u.THREAD_ID))}),this.dbg.on("stopOnBreakpoint",()=>{this.sendEvent(new i.StoppedEvent("breakpoint",u.THREAD_ID))}),this.dbg.on("stopOnDataBreakpoint",()=>{this.sendEvent(new i.StoppedEvent("data breakpoint",u.THREAD_ID))}),this.dbg.on("stopOnException",()=>{this.sendEvent(new i.StoppedEvent("exception",u.THREAD_ID))}),this.dbg.on("breakpointValidated",e=>{this.sendEvent(new i.BreakpointEvent("changed",e))}),this.dbg.on("output",(e,t,n,r)=>{const o=new i.OutputEvent(e+"\n");"start"!==e&&"startCollapsed"!==e&&"end"!==e||(o.body.group=e,o.body.output=`group-${e}\n`),o.body.source=this.createSource(t),o.body.line=this.convertDebuggerLineToClient(n),o.body.column=this.convertDebuggerColumnToClient(r),this.sendEvent(o)}),this.dbg.on("end",()=>this.sendEvent(new i.TerminatedEvent))}initializeRequest(e,t){var n;e.body=null!==(n=e.body)&&void 0!==n?n:{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsHitConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsRestartRequest=!0,e.body.supportsDataBreakpoints=!0,e.body.supportsCancelRequest=!1,this.sendResponse(e),this.sendEvent(new i.InitializedEvent)}disconnectRequest(e,t,n){this.dbg.end()}configurationDoneRequest(e,t){this.cfgDone.notify()}launchRequest(e,t){i.logger.setup(i.Logger.LogLevel.Stop,!1),this.dbg.launch(t)}attachRequest(e,t){i.logger.setup(i.Logger.LogLevel.Stop,!1),this.dbg.attach(t)}async restartRequest(e,t){await this.dbg.restart(e.request_seq),this.sendResponse(e)}setBreakPointsRequest(e,t){var n;e.body={breakpoints:this.dbg.setBreakPoints(t.source.path,(null!==(n=t.breakpoints)&&void 0!==n?n:[]).map(e=>({...e,line:this.convertClientLineToDebugger(e.line)}))).map(e=>new i.Breakpoint(e.verified,this.convertDebuggerLineToClient(e.ln),e.col))},this.sendResponse(e)}async setFunctionBreakPointsRequest(e,t,n){const r=[];e.body={breakpoints:[]},t.breakpoints.forEach(t=>{t.enabled&&r.push({name:t.name}),e.body.breakpoints.push({verified:Boolean(t.name)})}),await this.dbg.setFuncBreakpoint(e.request_seq,r),this.sendResponse(e)}restartFrameRequest(e,t,n){console.log(`fn:DebugAdapter.ts line:386 restartFrameRequest(res:${JSON.stringify(e)} args:${JSON.stringify(t)} req:${JSON.stringify(n)})`)}pauseRequest(e,t){this.dbg.pause()}threadsRequest(e){e.body={threads:[new i.Thread(u.THREAD_ID,"thread 1")]},this.sendResponse(e)}async stackTraceRequest(e,t){const n="number"==typeof t.startFrame?t.startFrame:0,r=n+("number"==typeof t.levels?t.levels:1e3),o=await this.dbg.stack(e.request_seq,n,r);e.body={stackFrames:o.map((e,t)=>new i.StackFrame(t,e.nm,this.createSource(e.fn),this.convertDebuggerLineToClient(e.ln),this.convertDebuggerColumnToClient(e.col))),totalFrames:o.length},this.sendResponse(e)}scopesRequest(e,t){this.hScope={tmp:{},sys:{},save:{},mp:{}},e.body={scopes:[new i.Scope("雑用変数 tmp:",this.hdlsVar.create("tmp"),!1),new i.Scope("雑用変数 tmp:（SKYNovel組み込み）",this.hdlsVar.create("tmp:sn"),!1),new i.Scope("マクロ変数 mp:",this.hdlsVar.create("mp"),!1),new i.Scope("システム変数 sys:",this.hdlsVar.create("sys"),!1),new i.Scope("システム変数 sys:（SKYNovel組み込み）",this.hdlsVar.create("sys:sn"),!1),new i.Scope("セーブ変数 save:",this.hdlsVar.create("save"),!1),new i.Scope("セーブ変数 save:（SKYNovel組み込み）",this.hdlsVar.create("save:sn"),!1)]},this.sendResponse(e)}async variablesRequest(e,t,n){const r=[];if(this.mapIsLongrunning.get(t.variablesReference)){console.log("fn:DebugAdapter.ts line:329 "),n&&this.mapCancelationTokens.set(n.seq,!1);for(let e=0;e<100&&(await c(1e3),r.push({name:"i_"+e,type:"integer",value:""+e,variablesReference:0}),!n||!this.mapCancelationTokens.get(n.seq));e++);n&&this.mapCancelationTokens.delete(n.seq)}else{let n=this.hdlsVar.get(t.variablesReference);if(n){let t=!0;":sn"===n.slice(-3)&&(t=!1,n=n.slice(0,-3));let i={};if(n in this.hScope)this.hScope[n]=i=await this.dbg.var(e.request_seq,n);else{const e=(n+":").split(":",2),t=this.hScope[e[0]];if(t){const n=t[e[1]];n&&(i=JSON.parse(String(n)))}}for(const e in i){if(u.REG_SN_VAR.test(e)===t)continue;const o=String(i[e]),a={name:e,type:this.getType(o),value:o,presentationHint:{kind:"property",visibility:"public"},variablesReference:0};"const."===e.slice(0,6)&&(a.presentationHint.attributes=["readOnly"]),"[object Object]"===o?a.value=JSON.stringify(i[e]):"object"!==a.type&&"array"!==a.type||(this.hNm2HdlNm[`${n}:${e}`]=a.variablesReference=this.hdlsVar.create(`${n}:${e}`)),r.push(a)}}}e.body={variables:r.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)},this.sendResponse(e)}getType(e){let t="string";if("true"===e||"false"===e)t="boolean";else if("[object Object]"===e)t="object";else if(/^[+-]?[0-9]+([0-9]*)?$/.test(e))t="integer";else if(/^[+-]?[0-9]+(\.[0-9]*)?([eE][+-]?[0-9]+)?$/.test(e))t="float";else if(e){const n=e.charAt(0);"{"!==n&&"["!==n||(t="{"===n?"object":"array")}return t}async setVariableRequest(e,t,n){await this.dbg.setVariable(e.request_seq,t.name,t.value),e.body={value:t.value},this.sendResponse(e)}continueRequest(e,t){this.dbg.continue(),this.sendResponse(e)}reverseContinueRequest(e,t){this.dbg.continue(!0),this.sendResponse(e)}nextRequest(e,t){this.dbg.step(),this.sendResponse(e)}stepInRequest(e,t,n){this.dbg.stepin(),this.sendResponse(e)}stepOutRequest(e,t,n){this.dbg.stepout(),this.sendResponse(e)}stepBackRequest(e,t){this.dbg.step(!0),this.sendResponse(e)}async evaluateRequest(e,t){var n;switch(t.context){case"hover":const r=this.getVar(t.expression);if(!r.exist){e.body={result:`変数 ${r.fullnm} はありません`,variablesReference:0};break}const i=this.hNm2HdlNm[null!==(n=r.fullnm)&&void 0!==n?n:""];e.body={result:`変数（${r.fullnm}）の値${i?"":`【${r.ret}】`}`,presentationHint:{kind:"property",visibility:"public",attributes:r.const?["readOnly"]:void 0},variablesReference:null!=i?i:0};break;case"watch":{const n=await this.dbg.eval(e.request_seq,t.expression);e.body=n?{result:n,presentationHint:{kind:"formula",visibility:"public"},variablesReference:0}:{result:"【null】",variablesReference:0}}break;case"repl":{const n=await this.dbg.eval(e.request_seq,t.expression);e.body={result:n?"="+n:"【null】",variablesReference:0}}}this.sendResponse(e)}getVar(e){const t=(e+":").split(":",2),n=""===t[1]?"tmp":t[0],r=""===t[1]?t[0]:t[1];switch(n){case"tmp":case"sys":case"save":case"mp":break;default:return{exist:!1}}const i="const."===r.slice(0,6),o=this.hScope[n];return r in o?{exist:!0,fullnm:`${n}:${r}`,ret:o[r],const:i}:{exist:!1,fullnm:`${n}:${r}`}}dataBreakpointInfoRequest(e,t){if(t.variablesReference&&t.name){const n=this.getVar(t.name);n.exist&&(e.body={dataId:n.fullnm,description:"変数値変更："+n.fullnm,accessTypes:["write"],canPersist:!0})}else e.body={dataId:null,description:"cannot break on data access"};this.sendResponse(e)}async setDataBreakpointsRequest(e,t){const n=[];e.body={breakpoints:[]},t.breakpoints.forEach(t=>{t.enabled&&n.push({dataId:t.dataId}),e.body.breakpoints.push({verified:Boolean(t.dataId)})}),await this.dbg.setDataBreakpoint(e.request_seq,n),this.sendResponse(e)}completionsRequest(e,t){e.body={targets:[{label:"item 10",sortText:"10"},{label:"item 1",sortText:"01"},{label:"item 2",sortText:"02"},{label:"array[]",selectionStart:6,sortText:"03"},{label:"func(arg)",selectionStart:5,selectionLength:3,sortText:"04"}]},this.sendResponse(e)}loadedSourcesRequest(e,t,n){console.log(`fn:DebugAdapter.ts line:741 loadedSourcesRequest() res:${JSON.stringify(e)} args:${JSON.stringify(t)} req:${JSON.stringify(n)}`),e.body.sources=[{name:"main.sn とか?",path:"doc/prj/script/main.sn",sourceReference:0}],this.sendResponse(e)}cancelRequest(e,t){t.requestId&&this.mapCancelationTokens.set(t.requestId,!0)}createSource(e){return new i.Source(o.basename(e),this.convertDebuggerPathToClient(e),void 0,void 0,"mock-adapter-data")}}u.THREAD_ID=1,u.REG_SN_VAR=/^(?:const\.)?sn\./},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=t.Response=t.Event=t.ErrorDestination=t.CompletionItem=t.Module=t.Source=t.Breakpoint=t.Variable=t.Scope=t.StackFrame=t.Thread=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ContinuedEvent=t.StoppedEvent=t.TerminatedEvent=t.InitializedEvent=t.logger=t.Logger=t.LoggingDebugSession=t.DebugSession=void 0;const r=n(38);Object.defineProperty(t,"DebugSession",{enumerable:!0,get:function(){return r.DebugSession}}),Object.defineProperty(t,"InitializedEvent",{enumerable:!0,get:function(){return r.InitializedEvent}}),Object.defineProperty(t,"TerminatedEvent",{enumerable:!0,get:function(){return r.TerminatedEvent}}),Object.defineProperty(t,"StoppedEvent",{enumerable:!0,get:function(){return r.StoppedEvent}}),Object.defineProperty(t,"ContinuedEvent",{enumerable:!0,get:function(){return r.ContinuedEvent}}),Object.defineProperty(t,"OutputEvent",{enumerable:!0,get:function(){return r.OutputEvent}}),Object.defineProperty(t,"ThreadEvent",{enumerable:!0,get:function(){return r.ThreadEvent}}),Object.defineProperty(t,"BreakpointEvent",{enumerable:!0,get:function(){return r.BreakpointEvent}}),Object.defineProperty(t,"ModuleEvent",{enumerable:!0,get:function(){return r.ModuleEvent}}),Object.defineProperty(t,"LoadedSourceEvent",{enumerable:!0,get:function(){return r.LoadedSourceEvent}}),Object.defineProperty(t,"CapabilitiesEvent",{enumerable:!0,get:function(){return r.CapabilitiesEvent}}),Object.defineProperty(t,"ProgressStartEvent",{enumerable:!0,get:function(){return r.ProgressStartEvent}}),Object.defineProperty(t,"ProgressUpdateEvent",{enumerable:!0,get:function(){return r.ProgressUpdateEvent}}),Object.defineProperty(t,"ProgressEndEvent",{enumerable:!0,get:function(){return r.ProgressEndEvent}}),Object.defineProperty(t,"Thread",{enumerable:!0,get:function(){return r.Thread}}),Object.defineProperty(t,"StackFrame",{enumerable:!0,get:function(){return r.StackFrame}}),Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return r.Scope}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return r.Variable}}),Object.defineProperty(t,"Breakpoint",{enumerable:!0,get:function(){return r.Breakpoint}}),Object.defineProperty(t,"Source",{enumerable:!0,get:function(){return r.Source}}),Object.defineProperty(t,"Module",{enumerable:!0,get:function(){return r.Module}}),Object.defineProperty(t,"CompletionItem",{enumerable:!0,get:function(){return r.CompletionItem}}),Object.defineProperty(t,"ErrorDestination",{enumerable:!0,get:function(){return r.ErrorDestination}});const i=n(129);Object.defineProperty(t,"LoggingDebugSession",{enumerable:!0,get:function(){return i.LoggingDebugSession}});const o=n(54);t.Logger=o;const a=n(39);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return a.Event}}),Object.defineProperty(t,"Response",{enumerable:!0,get:function(){return a.Response}});const s=n(136);Object.defineProperty(t,"Handles",{enumerable:!0,get:function(){return s.Handles}});const c=o.logger;t.logger=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const r=n(14),i=n(39);class o{get event(){return this._event||(this._event=(e,t)=>{let n;return this._listener=e,this._this=t,n={dispose:()=>{this._listener=void 0,this._this=void 0}},n}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class a extends r.EventEmitter{constructor(){super(),this._sendMessage=new o,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,n=this._pendingRequests.get(t.request_seq);n&&(this._pendingRequests.delete(t.request_seq),n(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=new Buffer(0),e.on("data",e=>this._handleData(e)),e.on("close",()=>{this._emitEvent(new i.Event("close"))}),e.on("error",e=>{this._emitEvent(new i.Event("error","inStream error: "+(e&&e.message)))}),t.on("error",e=>{this._emitEvent(new i.Event("error","outStream error: "+(e&&e.message)))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error("attempt to send more than one response for command "+e.command):this._send("response",e)}sendRequest(e,t,n,r){const o={command:e};if(t&&Object.keys(t).length>0&&(o.arguments=t),this._send("request",o),r){this._pendingRequests.set(o.seq,r);const e=setTimeout(()=>{clearTimeout(e);const t=this._pendingRequests.get(o.seq);t&&(this._pendingRequests.delete(o.seq),t(new i.Response(o,"timeout")))},n)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new i.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(a.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const n=t[e].split(/: +/);"Content-Length"==n[0]&&(this._contentLength=+n[1])}this._rawData=this._rawData.slice(e+a.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=a,a.TWO_CRLF="\r\n\r\n"},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const r=n(54),i=r.logger,o=n(38);class a extends o.DebugSession{constructor(e,t,n){super(t,n),this.obsolete_logFilePath=e,this.on("error",e=>{i.error(e.body)})}start(e,t){super.start(e,t),i.init(e=>this.sendEvent(e),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof r.LogOutputEvent)){let t=e;e instanceof o.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t=Object.assign({},e),t.body=Object.assign(Object.assign({},e.body),{output:"<output not logged>"})),i.verbose("To client: "+JSON.stringify(t))}super.sendEvent(e)}sendRequest(e,t,n,r){i.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${n}`),super.sendRequest(e,t,n,r)}sendResponse(e){i.verbose("To client: "+JSON.stringify(e)),super.sendResponse(e)}dispatchRequest(e){i.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=a},function(e,t,n){const r=n(131),i=n(132),{mkdirpNative:o,mkdirpNativeSync:a}=n(133),{mkdirpManual:s,mkdirpManualSync:c}=n(55),{useNative:u,useNativeSync:l}=n(135),h=(e,t)=>(e=i(e),t=r(t),u(t)?o(e,t):s(e,t));h.sync=(e,t)=>(e=i(e),t=r(t),l(t)?a(e,t):c(e,t)),h.native=(e,t)=>o(i(e),r(t)),h.manual=(e,t)=>s(i(e),r(t)),h.nativeSync=(e,t)=>a(i(e),r(t)),h.manualSync=(e,t)=>c(i(e),r(t)),e.exports=h},function(e,t,n){const{promisify:r}=n(3),i=n(6);e.exports=e=>{if(e)if("object"==typeof e)e={mode:511,fs:i,...e};else if("number"==typeof e)e={mode:e,fs:i};else{if("string"!=typeof e)throw new TypeError("invalid options argument");e={mode:parseInt(e,8),fs:i}}else e={mode:511,fs:i};return e.mkdir=e.mkdir||e.fs.mkdir||i.mkdir,e.mkdirAsync=r(e.mkdir),e.stat=e.stat||e.fs.stat||i.stat,e.statAsync=r(e.stat),e.statSync=e.statSync||e.fs.statSync||i.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||i.mkdirSync,e}},function(e,t,n){const r=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:i,parse:o}=n(2);e.exports=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=i(e),"win32"===r){const t=/[*|"<>?:]/,{root:n}=o(e);if(t.test(e.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e}},function(e,t,n){const{dirname:r}=n(2),{findMade:i,findMadeSync:o}=n(134),{mkdirpManual:a,mkdirpManualSync:s}=n(55);e.exports={mkdirpNative:(e,t)=>{t.recursive=!0;return r(e)===e?t.mkdirAsync(e,t):i(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(n=>{if("ENOENT"===n.code)return a(e,t);throw n}))},mkdirpNativeSync:(e,t)=>{t.recursive=!0;if(r(e)===e)return t.mkdirSync(e,t);const n=o(t,e);try{return t.mkdirSync(e,t),n}catch(n){if("ENOENT"===n.code)return s(e,t);throw n}}}},function(e,t,n){const{dirname:r}=n(2),i=(e,t,n)=>n===t?Promise.resolve():e.statAsync(t).then(e=>e.isDirectory()?n:void 0,n=>"ENOENT"===n.code?i(e,r(t),t):void 0),o=(e,t,n)=>{if(n!==t)try{return e.statSync(t).isDirectory()?n:void 0}catch(n){return"ENOENT"===n.code?o(e,r(t),t):void 0}};e.exports={findMade:i,findMadeSync:o}},function(e,t,n){const r=n(6),i=(process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version).replace(/^v/,"").split("."),o=+i[0]>10||10==+i[0]&&+i[1]>=12,a=o?e=>e.mkdir===r.mkdir:()=>!1,s=o?e=>e.mkdirSync===r.mkdirSync:()=>!1;e.exports={useNative:a,useNativeSync:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0;t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Debugger=void 0;const r=n(6),i=n(14),o=n(53);class a extends i.EventEmitter{constructor(){super(...arguments),this.hProcSnRes={stopOnStep:e=>(this.sendEvent2Adpt(e.type),!1),stopOnBreakpoint:e=>(this.sendEvent2Adpt(e.type),!1),stopOnDataBreakpoint:e=>(this.sendEvent2Adpt(e.type),!1)},this.sktDbg=null,this.sktBuf="",this.idBP=0,this.fn2ABP={},this.hScriptLines={},this.setDataBreakpoint=(e,t)=>new Promise(n=>{this.send2SN({type:"set_data_break",ri:e,a:t}),this.hProcSnRes[e]=e=>(n(e.v),!0)}),this.setFuncBreakpoint=(e,t)=>new Promise(n=>{this.send2SN({type:"set_func_break",ri:e,a:t}),this.hProcSnRes[e]=e=>(n(e.v),!0)}),this.setVariable=(e,t,n)=>new Promise(r=>{this.send2SN({type:"set_var",ri:e,nm:t,val:n}),this.hProcSnRes[e]=e=>(r(e.v),!0)})}launch(e){const t=e.cwd+"/.vscode/sn_launch.sock";try{r.unlinkSync(t)}catch{}o.createServer(()=>this.attach(e,"launch")).listen(t)}attach(e,t="attach"){this.sktDbg=o.createConnection(e.cwd+"/.vscode/skynovel.sock").on("data",e=>{const t=e.toString();""==t.charAt(0)&&t.slice(1).split("").forEach(e=>{const t=JSON.parse(e);this.hProcSnRes[t.type](t)&&(this.hProcSnRes[t.type]=()=>!1)})}).on("close",()=>{this.send2SN=()=>{},this.sktDbg=null}).on("error",e=>console.error(e.message)),this.sktDbg.write(this.sktBuf),this.sktBuf="",this.send2SN=e=>{var t;return null===(t=this.sktDbg)||void 0===t?void 0:t.write(""+JSON.stringify(e))},this.send2SN({type:t})}send2SN(e){this.sktBuf=this.sktBuf+""+JSON.stringify(e)}end(){var e;this.send2SN({type:"disconnect"}),null===(e=this.sktDbg)||void 0===e||e.end()}restart(e){return new Promise(t=>{this.send2SN({type:"restart",ri:e}),this.hProcSnRes[e]=()=>(t(),!0)})}continue(e=!1){this.send2SN({type:"continue",reverse:e})}step(e=!1){this.send2SN({type:"stepover",reverse:e})}stepin(){this.send2SN({type:"stepin"})}stepout(){this.send2SN({type:"stepout"})}pause(){this.send2SN({type:"pause"})}var(e,t){return new Promise(n=>{this.send2SN({type:"var",ri:e,scope:t}),this.hProcSnRes[e]=e=>(n(e.v),!0)})}stack(e,t,n){return new Promise(r=>{this.send2SN({type:"stack",ri:e}),this.hProcSnRes[e]=e=>(r(Array.isArray(e.a)?e.a.slice(t,n):[]),!0)})}eval(e,t){return new Promise(n=>{this.send2SN({type:"eval",ri:e,txt:t}),this.hProcSnRes[e]=e=>(n(e.v),!0)})}setBreakPoints(e,t){const n=t.map(e=>({id:++this.idBP,ln:e.line,col:e.column,verified:!0})),r={};this.loadSource(e);const i=this.hScriptLines[e],o=i.length;return n.forEach(e=>{for(;""===i[e.ln-1].replace(/;.*$/,"").trim();)if(e.ln++===o){e.verified=!1;break}r[e.ln]=e,this.sendEvent2Adpt("breakpointValidated",e)}),this.send2SN({type:"add_break",fn:e,o:r}),this.fn2ABP[e]=n}loadSource(e){e in this.hScriptLines||(this.hScriptLines[e]=r.readFileSync(e).toString().split("\n"))}sendEvent2Adpt(e,...t){setImmediate(n=>this.emit(e,...t))}}t.Debugger=a},function(e,t){function n(){this.waiters=[]}n.prototype.wait=function(e){var t=this,n={};this.waiters.push(n);var r=new Promise((function(e){var r=!1;n.resolve=function(i){if(!r){if(r=!0,n.timeout&&(clearTimeout(n.timeout),n.timeout=null),!i){var o=t.waiters.indexOf(n);o>-1&&t.waiters.splice(o,1)}e()}}}));return e>0&&isFinite(e)&&(n.timeout=setTimeout((function(){n.timeout=null,n.resolve()}),e)),r},n.prototype.notify=function(){this.waiters.length>0&&this.waiters.pop().resolve(!0)},n.prototype.notifyAll=function(){for(var e=this.waiters.length-1;e>=0;e--)this.waiters[e].resolve(!0);this.waiters=[]},t.Subject=n},function(e){e.exports=JSON.parse('{"add_face":{"detail":"差分名称の定義  \\n差分名称を定義する","param":[{"name":"name","required":"y","default":"","rangetype":"差分名称","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)タグface属性で指定する差分名称"},{"name":"fn","required":"","default":"属性nameの値","rangetype":"画像ファイル名","comment":"表示する画像、アニメpng"},{"name":"dx","required":"","default":"0","rangetype":"基本画像左上を(0, 0)とする座標","comment":"差分画像の表示横位置"},{"name":"dy","required":"","default":"0","rangetype":"基本画像左上を(0, 0)とする座標","comment":"差分画像の表示縦位置"},{"name":"blendmode","required":"","default":"何もしない","rangetype":"ブレンドモード名","comment":"このレイヤと下のレイヤとの重なりにおいて、ドット単位で色のブレンド演算を行なう"}],"snippet":[{"nm":"add_face","txt":"add_face name=${1{{画像ファイル名}}}"}],"comment":"本タグだけでは差分画像を表示しない。画像レイヤの[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)タグface属性で指定する差分名称を登録するのみ。\\n\\n例えば同じ画像で差分表示位置やブレンドモードが違う登録をしたい場合、\\n### コード例\\n~~~skynovel\\n[add_face name=a_normal fn=画像 dx=0 dy=0]\\n[add_face name=a_10_10 fn=画像 dx=10 dy=10]\\n[add_face name=a_screen fn=画像 dx=0 dy=0 blendmode=screen]\\n~~~\\nとnameを変えることで登録できます。\\n\\n\\n機能ギャラリーにサンプルがあります。$(play)[画像も動画も表情差分](https://famibee.github.io/SKYNovel_gallery/?cur=tag_lay_face)"},"add_frame":{"detail":"フレーム追加  \\nHTMLファイルをベースとする「フレーム」を追加する","param":[{"name":"id","required":"y","default":"","rangetype":"String","comment":"フレーム名。他のタグなどで操作・参照する歳の名前となる。"},{"name":"src","required":"y","default":"","rangetype":"HTMLファイル名","comment":"フレームとして読み込むhtmlファイルのファイル名（画像や音声などのfn属性と同じように）"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"rotate","required":"","default":"0","rangetype":"Number","comment":"回転角度（単位：deg 度）、正の値は時計回り"},{"name":"visible","required":"","default":"true","rangetype":"Boolean","comment":"trueで行末クリック待ち記号を表示、falseで非表示"},{"name":"b_color","required":"","default":"透過","rangetype":"色指定。0x000000など","comment":"背後の矩形色。初期値は 透過（htmlで画像を表示すれば表示）"},{"name":"x","required":"","default":"0","rangetype":"画面左上を(0, 0)とする座標","comment":"画面内におけるフレームの横位置を指定"},{"name":"y","required":"","default":"0","rangetype":"画面左上を(0, 0)とする座標","comment":"画面内におけるフレームの縦位置を指定"},{"name":"width","required":"","default":"フレームの横サイズ","rangetype":"1〜","comment":"表示するフレームの横ドットサイズ。元のサイズと異なる場合は拡大・縮小される。"},{"name":"height","required":"","default":"フレームの縦サイズ","rangetype":"1〜","comment":"保存するフレームの縦ドットサイズ。元のサイズと異なる場合は拡大・縮小される"}],"snippet":[{"nm":"add_frame","txt":"add_frame id=${1{{フレーム名}}} src=${2{{HTMLファイル名}}} visible=${3|true,false|}"}],"comment":"$(warning)注：これは HTML要素の iframe（インラインフレーム要素）で、フレームは全てのレイヤの手前に表示され、互い違いに重ねられない。   \\nconst.sn.frm.（フレーム名）系の値もセットする。\\n\\n### コード例\\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n機能ギャラリーにサンプルがあります。$(play)[HTMLフレーム](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"add_lay":{"detail":"レイヤを追加する  \\nレイヤはページの裏表があり、文字レイヤや画像レイヤなどの種類があります","param":[{"name":"layer","required":"y","default":"","rangetype":"String","comment":"レイヤ名を指定する。未使用のレイヤ名でなければエラー＆アプリ停止"},{"name":"class","required":"y","default":"","rangetype":"grp、txt","comment":"grp（画像レイヤ）、txt（文字レイヤ）のレイヤ種別"}],"snippet":[{"nm":"add_lay","txt":"add_lay layer=${1:レイヤ名} class=${2|grp,txt|}"}],"comment":"### コード例\\n~~~skynovel\\n[add_lay layer=base class=grp]\\n[add_lay layer=0 class=grp]\\n[add_lay layer=mes class=txt]\\n~~~"},"autowc":{"detail":"文字ごとのウェイト  \\n特定の文字の直後に自動的にウェイトを入れる。\\ntextに指定した文字に対し、timeに指定した数値が対応する。\\n通常の文字表示速度にtimeの数値を掛け算する","param":[{"name":"enabled","required":"","default":"現在値","rangetype":"Boolean","comment":"自動ウェイトを有効にするか。初期値false"},{"name":"text","required":"両方同時に指定、或いは省略","default":"現在値","rangetype":"String","comment":"ウェイトを指定する文字の集まり"},{"name":"time","required":"(↑と同じ)","default":"現在値","rangetype":"カンマ区切りの数値","comment":"文字表示ウェイト倍数"}],"snippet":[{"nm":"autowc","txt":"autowc enabled=${1|true,false|} text=${2:\'、。\'} time=${3:\'50,100\'}"}],"comment":"以下のように指定する。\\n\\n### コード例\\n~~~skynovel\\n[autowc enabled=true text=\\"４５６\\" time=\\"50,100,150\\"]\\n[autowc enabled=true text=\\"４５６\\" time=\\"100,100,100\\"]\\n[autowc enabled=false]\\n~~~\\n\\n　以下はエラーとなる。\\n### コード例\\n~~~skynovel\\n;x [autowc enabled=true text=\\"４５６\\" time=\\"100,100\\"]\\n;x [autowc enabled=true text=\\"４５６\\" time=\\"100,100,100,100\\"]\\n;x [autowc enabled=true text=\\"４５６\\"]\\n;x [autowc enabled=true time=\\"100,100,100\\"]\\n;x [autowc enabled=true]\\n;x [autowc enabled=true text=\\"\\" time=\\"\\"]\\n;x [autowc text=\\"\\" time=\\"\\"]\\n~~~"},"bracket2macro":{"detail":"括弧マクロの定義  \\n属性textを持つマクロやタグを、任意の二つの文字を括弧とし、括弧で囲った記述で代用できるよう","param":[{"name":"text","required":"y","default":"","rangetype":"特定の文字","comment":"括弧にする任意の二つの文字。  \\nマクロに出来るのは英文字、空白、;、[、]、、=、&、｜、《、》以外のみ。  \\n正規表現で言えば　/[\\\\w\\\\s;[]=&｜《》]/　以外。  \\n一文字マクロや定義済みの括弧文字は使用できない。"},{"name":"name","required":"y","default":"","rangetype":"定義済みのマクロ名","comment":"半角文字に割り当てるマクロ名を指定。  \\n組み込みタグか、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)による定義済みマクロ名で無ければならない。  \\n組み込みタグやマクロは属性textだけを指定しても問題なく動作し、 それを処理すること。渡される属性textは空文字の場合もある"}],"snippet":[{"nm":"bracket2macro","txt":"bracket2macro text=${1:【】} name=${2{{マクロ名}}}"}],"comment":"※適用範囲について\\n本タグより前にロードされたスクリプトファイルには適用されません。\\nまたスクリプトファイルに本タグが記述された場合、本タグより前に出現した半角文字にも適用されません\\n\\n機能ギャラリーにサンプルがあります。$(play)[履歴と機能追加](https://famibee.github.io/SKYNovel_gallery/?cur=log_and_play)"},"button":{"detail":"ボタンを表示  \\n文字レイヤにボタンを配置する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"ボタンを配置する文字レイヤ"},{"name":"page","required":"","default":"back","rangetype":"fore、back","comment":"ページの裏表"},{"name":"pic","required":"y","default":"","rangetype":"画像ファイル名","comment":"画像ボタンとして配置する画像を指定する。  \\nただし画像は縦に三等分し、左から「通常時」「クリック押下時」「マウスカーソルを載せた時」の画像として表示する。"},{"name":"text","required":"...","default":"","rangetype":"ボタンにする文字列","comment":"文字ボタンとして配置する文字列を指定する。  \\npicかtextのどちらかの指定を必須とする"},{"name":"b_pic","required":"","default":"","rangetype":"画像ファイル名","comment":"文字ボタンの背景画像が指定できる。画像の大きさにかかわらず、文字ボタンのちょうど真ん中に来るよう配置される。"},{"name":"width","required":"","default":"100","rangetype":"1〜","comment":"文字ボタンの横幅を指定する。画像ボタンの場合はこの指定を無視し、画像横幅の1/3にする。"},{"name":"height","required":"","default":"30","rangetype":"1〜","comment":"文字ボタンの縦幅を指定する。画像ボタンの場合はこの指定を無視し、画像横幅の1/3にする。  \\nまた、文字は必ず横一列になるため、この設定値はフォントサイズと兼用になる。"},{"name":"style","required":"","default":"","rangetype":"CSS style（一部）","comment":"文字ボタン上にマウスカーソルが乗っていない状態のCSS スタイル。"},{"name":"style_hover","required":"","default":"","rangetype":"CSS style（一部）","comment":"文字ボタン上にマウスカーソルが乗っている状態（クリックしていない）のCSS スタイル。  \\n設定できる値はstyleと同様。"},{"name":"style_clicked","required":"","default":"","rangetype":"CSS style（一部）","comment":"文字ボタン上にマウスカーソルが乗っている状態（クリックしている）のCSS スタイル。  \\n設定できる値はstyleと同様。"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"left","required":"","default":"0","rangetype":"","comment":""},{"name":"top","required":"","default":"0","rangetype":"","comment":"詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照"},{"name":"rotation","required":"","default":"0","rangetype":"-180〜180","comment":"回転角を度単位で指定。時計回りは0～180、反時計回りは0～-180を指定。 左上を中心に回る"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"enabled","required":"","default":"true","rangetype":"Boolean","comment":"falseだと押せないボタンとなり、クリックイベントが発生しない。  \\nこれにより文字レイヤの任意の位置に画像表示できる機能を提供する。  \\n画像は三等分しない。イベントや効果音指定は無効だが、ヒント機能は有効。"},{"name":"call","required":"","default":"false","rangetype":"Boolean","comment":"trueの場合は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)、falseは[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)。  \\nただしcall=trueによりサブルーチンコールした場合、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)によって「コールする前のイベント予約状態＆待ち状態」に戻る。"},{"name":"fn","required":"","default":"処理中のスクリプトファイル","rangetype":"ジャンプ先","comment":"クリック時にジャンプする先"},{"name":"label","required":"","default":"スクリプトファイルの先頭","rangetype":"ラベル名","comment":"コール先のスクリプトファイルにあるラベル","undefined":"クリック時ジャンプ先で「&sn.eventLabel」にて値を受け取れる"},{"name":"global","required":"","default":"false","rangetype":"Boolean","comment":"詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)と同様。  \\nボタンを[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)する場合はtrueにしておく"},{"name":"arg","required":"","default":"","rangetype":"String","comment":"指定した場合、クリック時ジャンプ先で「&sn.eventArg」にて値を受け取れる"},{"name":"onenter","required":"","default":"何もしない","rangetype":"ラベル名","comment":"マウス重なり（フォーカス取得）時、指定したラベルをコールする。 必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で戻ること。"},{"name":"onleave","required":"","default":"何もしない","rangetype":"ラベル名","comment":"マウス重なり外れ（フォーカス外れ）時、指定したラベルをコールする。 必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で戻ること。"},{"name":"clickse","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、クリック時に効果音を再生する"},{"name":"enterse","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、ボタン上にマウスカーソルが載った時に効果音を再生する"},{"name":"leavese","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、ボタン上からマウスカーソルが外れた時に効果音を再生する"},{"name":"clicksebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"},{"name":"entersebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"},{"name":"leavesebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"}],"snippet":[{"nm":"button","txt":"button text=${1:ボタンにする文字列} left=${2:0} top=${3:0} ${4{{ジャンプ先}}}"}],"comment":"選択肢として使用する場合、ジャンプ先のラベル直後には必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を記述して、ジャンプ直後でセーブしても正しくセーブされるようにして下さい\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=ch_button)"},"call":{"detail":"サブルーチンコール  \\nスクリプト処理の現在位置をコールスタックに積み、ジャンプする","param":[{"name":"fn","required":"","default":"処理中のスクリプトファイル","rangetype":"ジャンプ先","comment":"コール先のスクリプトファイル[call fn=ext_*]のようにワイルドカードをサポート。マッチするスクリプトを順不同にコールする。（ワイルドカードは後方のみ）"},{"name":"label","required":"","default":"スクリプトファイルの先頭","rangetype":"ラベル名","comment":"コール先のスクリプトファイルにあるラベル","undefined":"クリック時ジャンプ先で「&sn.eventLabel」にて値を受け取れる"},{"name":"count","required":"","default":"false","rangetype":"Boolean","comment":"タグ位置を既読とするか"},{"name":"clear_local_event","required":"","default":"何もしない","rangetype":"Boolean","comment":"trueの場合は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を行なってからコールする"}],"snippet":[{"nm":"call","txt":"call ${1{{ジャンプ先}}}"}],"comment":"ジャンプ先での[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)により本タグの次の位置に戻る事が出来る。\\n\\n$(info)マニアックな話ですが、あらゆるタグの中で唯一「通常、既読としない」タグです。"},"ch":{"detail":"文字を追加する  \\n文字レイヤに文字を出力する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"表示したい文字列。ルビ文法（《》）も解析する。改行も [[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1) で出来る"},{"name":"record","required":"","default":"true","rangetype":"Boolean","comment":"履歴に保存するか"},{"name":"wait","required":"","default":"現在の文字表示速度","rangetype":"ミリ秒","comment":"一時的な文字表示速度。0で瞬時。"},{"name":"style","required":"","default":"何もしない","rangetype":"CSS style","comment":"CSS styleを指定する。このタグによる表示のみに適用、以降は元に戻る"},{"name":"ch_in_style","required":"","default":"何もしない","rangetype":"文字出現演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字出現演出名"},{"name":"ch_out_style","required":"","default":"何もしない","rangetype":"文字消去演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字消去演出名"}],"snippet":[{"nm":"ch","txt":"ch layer=${1{{文字レイヤ名}}} page=${2|fore,back|} text=${3:表示したい文字列} ch_in_style=${4{{文字出現演出名}}} ch_out_style=${5{{文字消去演出名}}}"}],"comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を使わない、より簡潔な記述文法があります。\\n以下の記述は、\\n[ch text=&test]\\n[ch text=test]\\n[ch text=\\"&a + b\\"]\\n\\n以下のようにも書けます。&から&までを[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)文と解釈します。\\n&test&\\n&\'test\'&\\n&a + b&\\n\\nでは「&（半角）」を表示するには？（これらの文法のせいで普通に書けない）\\n[ch text=\\"&\'&\'\\"]として下さい"},"ch_in_style":{"detail":"文字出現演出定義  \\n文字出現演出アニメを定義する","param":[{"name":"name","required":"y","default":"","rangetype":"文字出現演出名","comment":"文字出現演出を特定する名前"},{"name":"wait","required":"","default":"500","rangetype":"ミリ秒","comment":"一時的な文字表示速度。0で瞬時。"},{"name":"alpha","required":"","default":"0.0","rangetype":"0.0〜1.0（実数）","comment":"透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"x","required":"","default":"\'=0\'","rangetype":"相対位置指定","comment":"以下のような相対位置指定が出来る  \\n500 ──　X位置を500に  \\n\'=500\' ──　文字表示位置を基準に+500加算した位置  \\n\'=-500\' ──　文字表示位置を基準に-500加算した位置","undefined":"変化の初期値"},{"name":"y","required":"","default":"\'=0\'","rangetype":"相対位置指定"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"rotate","required":"","default":"0","rangetype":"Number","comment":"回転角度（単位：deg 度）、正の値は時計回り"},{"name":"join","required":"","default":"true","rangetype":"Boolean","comment":"文字を順番に出すか（true）同時か（false）"},{"name":"ease","required":"","default":"\'ease-out\'","rangetype":"animation-timing-function","comment":"[CSSのanimation-timing-function プロパティ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)"}],"snippet":[{"nm":"ch_in_style","txt":"ch_in_style name=${1:文字出現演出名} wait=${2:500}"}],"comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などの ch_in_style属性で指定すると、定義どおりの文字出現演出アニメを行なう。\\n参考）[CSSのanimation-timing-function プロパティ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)\\n\\n機能ギャラリーにサンプルがあります。$(play)[文字出現演出](https://famibee.github.io/SKYNovel_gallery/?cur=ch_in_out)"},"ch_out_style":{"detail":"文字消去演出定義  \\n文字消去演出アニメを定義する","param":[{"name":"name","required":"y","default":"","rangetype":"文字消去演出名","comment":"文字消去演出を特定する名前"},{"name":"wait","required":"","default":"500","rangetype":"ミリ秒","comment":"一時的な文字消去速度。0で瞬時。"},{"name":"alpha","required":"","default":"0.0","rangetype":"0.0〜1.0（実数）","comment":"透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"x","required":"","default":"\'=0\'","rangetype":"相対位置指定","comment":"以下のような相対位置指定が出来る  \\n500 ──　X位置を500に  \\n\'=500\' ──　文字位置を基準に+500加算した位置  \\n\'=-500\' ──　文字位置を基準に-500加算した位置","undefined":"変化の目標値"},{"name":"y","required":"","default":"\'=0\'","rangetype":"相対位置指定"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"rotate","required":"","default":"0","rangetype":"Number","comment":"回転角度（単位：deg 度）、正の値は時計回り"},{"name":"join","required":"","default":"false","rangetype":"Boolean","comment":"文字を順番に出すか（true）同時か（false）"},{"name":"ease","required":"","default":"\'ease-out\'","rangetype":"animation-timing-function","comment":"[CSSのanimation-timing-function プロパティ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)"}],"snippet":[{"nm":"ch_out_style","txt":"ch_out_style name=${1:文字消去演出名} wait=${2:500}"}],"comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などの ch_out_style属性で指定すると、定義どおりの文字消去演出アニメを行なう。  \\n文字消去演出は、次ページの文字出現演出と同時に行なわれる。文字消去演出を待ちたい場合は、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などで待つ。\\n参考）[CSSのanimation-timing-function プロパティ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)\\n\\n機能ギャラリーにサンプルがあります。$(play)[文字出現演出](https://famibee.github.io/SKYNovel_gallery/?cur=ch_in_out)"},"char2macro":{"detail":"一文字マクロの定義  \\n属性無しのマクロやタグを、半角文字の記述で代用できるよう定義する","param":[{"name":"char","required":"y","default":"","rangetype":"特定の半角文字","comment":"マクロにする半角文字。  \\nマクロに出来るのは英文字、空白、;、[、]、、=、&、｜、《、》以外のみ。  \\n正規表現で言えば　/[\\\\w\\\\s;[]=&｜《》]/　以外。  \\n括弧文字や定義済みの一文字マクロは使用できない。"},{"name":"name","required":"y","default":"","rangetype":"定義済みのマクロ名","comment":"半角文字に割り当てるマクロ名を指定。  \\n組み込みタグか、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)による定義済みマクロ名で無ければならない"}],"snippet":[{"nm":"char2macro","txt":"char2macro char=${1:マクロにする半角文字} name=${2{{マクロ名}}}"}],"comment":"本タグより前にロードされたスクリプトファイルには適用されません。\\nまたスクリプトファイルに本タグが記述された場合、本タグより前に出現した半角文字にも適用されません\\n\\n機能ギャラリーにサンプルがあります。$(play)[メッセージウインドウ](https://famibee.github.io/SKYNovel_gallery/?cur=txt_back)"},"clear_event":{"detail":"イベントを全消去  \\nイベント予約を全て削除する","param":[{"name":"global","required":"","default":"false","rangetype":"Boolean","comment":"trueを指定すると全ての大域イベントを削除する。  \\nfalseの場合は大域以外の全てのイベントを削除する"}],"snippet":[{"nm":"clear_event","txt":"clear_event global=${1|false,true|}"}],"comment":""},"clear_lay":{"detail":"レイヤ設定の消去  \\n画像や文字などレイヤ状態をクリアする","param":[{"name":"layer","required":"","default":"全てのレイヤ","rangetype":"レイヤ名（半角カンマ区切りで複数レイヤを指定可能）","comment":""},{"name":"page","required":"","default":"fore","rangetype":"fore、back、both","comment":"ページの裏表（both指定で両面）"},{"name":"filter","required":"","default":"false","rangetype":"Boolean","comment":"true：フィルタもクリア"}],"snippet":[{"nm":"clear_lay","txt":"clear_lay layer=${1{{レイヤ名}}} page=${2|fore,back|}"}],"comment":"alpha、blendMode、rotation、scaleX、scaleYを初期値にする\\n※背景や背景画像はクリアしません（b_left、b_top、b_width、b_height、b_color、b_alpha） 　クリアしたい場合は、[lay back_clear=true]"},"clear_text":{"detail":"文字消去  \\n文字のみをクリアする","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"}],"snippet":[{"nm":"clear_text","txt":"clear_text layer=${1{{文字レイヤ名}}} page=${2|fore,back|}"}],"comment":""},"clearsysvar":{"detail":"システム変数の全消去   \\nsys:変数を全消去。削除すると言うより、初期化する","param":[],"snippet":[{"nm":"clearsysvar","txt":"clearsysvar"}],"comment":""},"clearvar":{"detail":"ゲーム変数の全消去   \\nsave:変数を全消去。削除すると言うより、初期化する","param":[],"snippet":[{"nm":"clearvar","txt":"clearvar"}],"comment":""},"close":{"detail":"アプリの終了  \\nアプリケーションを終了する","param":[],"snippet":[{"nm":"close","txt":"close"}],"comment":""},"copybookmark":{"detail":"しおりの複写  \\nしおりデータを複写する","param":[{"name":"from","required":"y","default":"","rangetype":"Number","comment":"複写元のしおり番号"},{"name":"to","required":"y","default":"","rangetype":"Number","comment":"複写先のしおり番号"}],"snippet":[{"nm":"copybookmark","txt":"copybookmark from=${1:複写元のしおり番号} to=${2:複写先のしおり番号}"}],"comment":""},"current":{"detail":"デフォルト文字レイヤ設定  \\nデフォルト文字レイヤを設定する","param":[{"name":"layer","required":"y","default":"","rangetype":"文字レイヤ名","comment":"デフォルトとするレイヤ"}],"snippet":[{"nm":"current","txt":"current layer=${1{{文字レイヤ名}}}"}],"comment":""},"dump_lay":{"detail":"レイヤのダンプ  \\nレイヤの内容をデバッグ表示する","param":[{"name":"layer","required":"","default":"全てのレイヤ","rangetype":"レイヤ名","comment":"デバッグ表示するレイヤ名を指定。半角カンマ区切りで複数レイヤを指定可能"}],"snippet":[{"nm":"dump_lay","txt":"dump_lay layer=${1{{レイヤ名}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[デバッグ機能](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"dump_script":{"detail":"スクリプトのダンプ  \\n内部API","param":[],"snippet":[{"nm":"dump_script","txt":"dump_script"}],"comment":""},"dump_stack":{"detail":"スタックのダンプ  \\n[call]等によるコールスタックの内容をデバッグ表示する","param":[],"snippet":[{"nm":"dump_stack","txt":"dump_stack"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[デバッグ機能](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"dump_val":{"detail":"変数のダンプ  \\n変数の内容をデバッグ表示する","param":[],"snippet":[{"nm":"dump_val","txt":"dump_val"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[デバッグ機能](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"else":{"detail":"その他ifブロック開始  \\nプログラム言語における、条件分岐のelse文。\\n詳細は【開発者向け情報：式の評価と条件分岐】をご覧下さい","param":[],"snippet":[{"nm":"else","txt":"else"}],"comment":""},"elsif":{"detail":"別条件のifブロック開始  \\nプログラム言語における、条件分岐のelsif文。\\n詳細は【開発者向け情報：式の評価と条件分岐】をご覧下さい","param":[{"name":"exp","required":"y","default":"","rangetype":"Boolean","comment":"trueの場合処理は直後にうつる。  \\nfalseなら次の[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)や[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)の評価を行なう"}],"snippet":[{"nm":"elsif","txt":"elsif exp=${1:Boolean式}"}],"comment":""},"enable_event":{"detail":"イベント有無の切替  \\n文字レイヤごとのイベント発生有効無効を設定する\\n無効にするとマウスイベントが無効になり、[s]待ちなどでイベントが発生しなくなるが、イベント予約は別の話であり、削除などされない。 有効にすればマウスイベントが発生するようになり、再びイベント待ちされるようになる","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"イベント有効無効を設定するレイヤ"},{"name":"abled","required":"","default":"true","rangetype":"Boolean","comment":"イベントを有効にするか"}],"snippet":[{"nm":"enable_event","txt":"enable_event global=${1|false,true|}"}],"comment":""},"endif":{"detail":"ifブロックの終端  \\nプログラム言語における、条件分岐のendif文。\\n詳細は【開発者向け情報：式の評価と条件分岐】をご覧下さい","param":[],"snippet":[{"nm":"endif","txt":"endif"}],"comment":""},"endlet_ml":{"detail":"インラインテキスト代入の終端\\n[let_ml]〜[endlet_ml]で囲んだ複数行テキストを代入する","param":[],"snippet":[{"nm":"endlet_ml","txt":"endlet_ml"}],"comment":""},"endlink":{"detail":"ハイパーリンクの終了  \\n[link]（ハイパーリンク）で開始したリンク区間を終了する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"}],"snippet":[{"nm":"endlink","txt":"endlink layer=${1{{文字レイヤ名}}} page=${2|fore,back|}"}],"comment":""},"endmacro":{"detail":"マクロ定義の終了  \\n[macro]と[endmacro]に囲まれた部分をマクロとして定義する","param":[],"snippet":[{"nm":"endmacro","txt":"endmacro"}],"comment":""},"er":{"detail":"ページ両面の文字消去  \\nデフォルト文字レイヤの裏と表の両方に対して[clear_lay]を行う","param":[{"name":"rec_page_break","required":"","default":"true","rangetype":"Boolean","comment":"履歴を改ページするか"}],"snippet":[{"nm":"er","txt":"er"}],"comment":""},"erasebookmark":{"detail":"しおりの消去  \\nしおりデータを削除する","param":[{"name":"place","required":"y","default":"","rangetype":"Number","comment":"処理対象のしおり番号"}],"snippet":[{"nm":"erasebookmark","txt":"erasebookmark place=${1:処理対象のしおり番号}"}],"comment":""},"event":{"detail":"イベントを予約  \\n次の[s]などのイベント待ちに向けてイベント処理を予約する","param":[{"name":"key","required":"y","default":"","rangetype":"イベントのキー名","comment":"イベントを発生させるトリガーイベント  \\n修飾キーの同時押し（あるいは修飾キーを押しといて通常キー）を任意に組み合わせられます。「半角プラスで」「ABC順に」「イベントのキー名の前に」繋げて下さい。  \\n（例1）key=alt+enter  \\n（例2）key=alt+ctrl+shift+enter"},{"name":"fn","required":"y","default":"","rangetype":"ジャンプ先","comment":"イベント発生時にジャンプする先。指定方法は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)と同様。  \\ncallの場合、ジャンプ先から[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で戻ると、再度[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などのイベント待ち状態に戻る。"},{"name":"label","required":"y","default":"","rangetype":"ラベル名","comment":"イベント発生時にジャンプする先。指定方法は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)と同様。  \\nクリック時ジャンプ先で「&sn.eventLabel」にて値を受け取れる"},{"name":"global","required":"","default":"false","rangetype":"Boolean","comment":"trueを指定すると大域的なイベント扱いとなり、イベント発生時にイベント予約が削除されない"},{"name":"arg","required":"","default":"null","rangetype":"String","comment":"指定した場合、クリック時ジャンプ先で「&sn.eventArg」にて値を受け取れる"},{"name":"url","required":"","default":"開くURL","rangetype":"URL文字列","comment":"開くURL"},{"name":"del","required":"","default":"false","rangetype":"Boolean","comment":"trueを指定すると予約済みイベントを削除する。  \\nfn/label/callとdelは同時指定できません"}],"snippet":[{"nm":"event","txt":"event key=${1{{イベント名}}} ${2{{ジャンプ先}}} global=${3|true,false|}"}],"comment":"あるイベントが発生した際、global=falseのイベント予約は全て削除される"},"export":{"detail":"プレイデータをエクスポート  \\nプレイデータをファイルとしてエクスポートする\\n\\n保存ダイアログが表示され、選択したフォルダにプレイデータファイルが保存される。\\nプレイデータ拡張子、ウェブ版は.swpd、アプリ版は.spdで互換性はない。\\n暗号化するプロジェクトの場合、出力するプレイデータファイルも暗号化される。\\nブラウザならファイルをダウンロードする。\\n\\nエクスポート完了時には【sn:exported】というイベントを発火する。\\n【[event key=\'sn:exported\' 〜]】という記述でジャンプできる。\\n\\n機能ギャラリーにサンプルがあります。$(play)[プレイデータ](https://famibee.github.io/SKYNovel_gallery/?cur=import)","param":[],"snippet":[{"nm":"export","txt":"export"}],"comment":""},"fadebgm":{"detail":"BGMのフェード  \\nBGMを指定した音量に、段階的に変化させる","param":[{"name":"volume","required":"y","default":"","rangetype":"0.0〜1.0（実数）","comment":"音量"},{"name":"time","required":"y","default":"","rangetype":"ミリ秒","comment":"フェード時間"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒","comment":"変化する前に待機する遅延時"}],"snippet":[{"nm":"fadebgm","txt":"fadebgm volume=${1:0.0} time=${2:1000}"}],"comment":""},"fadeoutbgm":{"detail":"BGMのフェードアウト  \\nBGMを無音に、段階的に変化させる","param":[{"name":"time","required":"y","default":"","rangetype":"ミリ秒","comment":"フェード時間"},{"name":"stop","required":"","default":"true","rangetype":"Boolean","comment":"trueで「フェード終了時の再生停止」、falseなら行なわない"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒","comment":"変化する前に待機する遅延時"}],"snippet":[{"nm":"fadeoutbgm","txt":"fadeoutbgm time=${1:1000}"}],"comment":""},"fadeoutse":{"detail":"効果音のフェードアウト  \\n効果音を無音に、段階的に変化させる","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"time","required":"y","default":"","rangetype":"ミリ秒","comment":"フェード時間"},{"name":"stop","required":"","default":"true","rangetype":"Boolean","comment":"trueで「フェード終了時の再生停止」、falseなら行なわない"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒","comment":"変化する前に待機する遅延時"}],"snippet":[{"nm":"fadeoutse","txt":"fadeoutse buf=${1{{サウンドバッファ}}} time=${2:1000}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"fadese":{"detail":"効果音のフェード  \\n効果音を指定した音量に、段階的に変化させる","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"volume","required":"y","default":"","rangetype":"0.0〜1.0（実数）","comment":"音量"},{"name":"time","required":"y","default":"","rangetype":"ミリ秒","comment":"フェード時間"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒","comment":"変化する前に待機する遅延時"}],"snippet":[{"nm":"fadese","txt":"fadese buf=${1{{サウンドバッファ}}} volume=${2:0.0} time=${3:1000}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"finish_trans":{"detail":"トランス強制終了  \\n[trans]で開始したトランスをすぐ終了させる","param":[],"snippet":[{"nm":"finish_trans","txt":"finish_trans"}],"comment":""},"frame":{"detail":"フレームに設定  \\nフレームそのものの属性を設定する","param":[{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義したフレーム名"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"rotate","required":"","default":"0","rangetype":"Number","comment":"回転角度（単位：deg 度）、正の値は時計回り"},{"name":"visible","required":"","default":"true","rangetype":"Boolean","comment":"trueで行末クリック待ち記号を表示、falseで非表示"},{"name":"disabled","required":"","default":"false","rangetype":"Boolean","comment":"trueでスライダーなど操作不可・[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)の【dom=系】イベント無効、falseで可能"},{"name":"b_color","required":"","default":"透過","rangetype":"色指定。0x000000など","comment":"背後の矩形色。初期値は 透過（htmlで画像を表示すれば表示）"},{"name":"x","required":"","default":"0","rangetype":"画面左上を(0, 0)とする座標","comment":"画面内におけるフレームの横位置を指定"},{"name":"y","required":"","default":"0","rangetype":"画面左上を(0, 0)とする座標","comment":"画面内におけるフレームの縦位置を指定"},{"name":"width","required":"","default":"フレームの横サイズ","rangetype":"1〜","comment":"表示するフレームの横ドットサイズ。元のサイズと異なる場合は拡大・縮小される。"},{"name":"height","required":"","default":"フレームの縦サイズ","rangetype":"1〜","comment":"保存するフレームの縦ドットサイズ。元のサイズと異なる場合は拡大・縮小される"}],"snippet":[{"nm":"frame","txt":"frame id=${1{{フレーム名}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[HTMLフレーム](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"graph":{"detail":"インライン画像表示  \\n文字レイヤに画像を文字として表示する。ルビは同時に設定する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"pic","required":"y","default":"","rangetype":"画像ファイル名","comment":"表示する画像やアニメpng"},{"name":"r","required":"","default":"ルビ無し","rangetype":"String","comment":"ルビ文字列（ただしあまりに他の文字サイズと大きく異なる場合は正しい位置に表示されない）"},{"name":"width","required":"","default":"画像の横サイズ（※）","rangetype":"1〜","comment":"表示する画像の横ドットサイズ。  \\n元のサイズと異なる場合は拡大・縮小される。"},{"name":"height","required":"","default":"画像の縦サイズ（※）","rangetype":"1〜","comment":"保存する画像の縦ドットサイズ。  \\n元のサイズと異なる場合は拡大・縮小される。"},{"name":"style","required":"","default":"何もしない","rangetype":"CSS style","comment":"※文字表示中の場合はすべてのスタイルが変更される"},{"name":"ch_in_style","required":"","default":"何もしない","rangetype":"文字出現演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字出現演出名"},{"name":"ch_out_style","required":"","default":"何もしない","rangetype":"文字消去演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字消去演出名"},{"name":"wait","required":"","default":"現在の文字表示速度","rangetype":"ミリ秒","comment":"一時的な文字表示速度。0で瞬時"}],"snippet":[{"nm":"graph","txt":"graph pic=${1{{画像ファイル名}}}"}],"comment":"フォントにない外字やアニメpng画像表示に使える。\\n※省略時は画像サイズになるが、ロード完了直後に文字配置を決めるのでちらつく。それを嫌う際に指定する\\n※特にモバイルなどでゲーム画面が自動で拡大縮小される場合、省略したらその時の本文文字サイズとして扱われる。なるべくサイズ指定を推奨。"},"if":{"detail":"ifブロックの開始  \\nプログラム言語における、条件分岐のif文","param":[{"name":"exp","required":"y","default":"","rangetype":"Boolean","comment":"trueの場合処理は直後にうつる。  \\nfalseなら次の[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)や[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)の評価を行なう"}],"snippet":[{"nm":"if","txt":"if exp=${1:Boolean式}][endif"}],"comment":"詳細は【[開発者向け情報：式の評価と条件分岐](https://famibee.github.io/SKYNovel/dev.htm#cond)】をご覧下さい。\\n\\n機能ギャラリーにサンプルがあります。$(play)[直感的なルビ文法](https://famibee.github.io/SKYNovel_gallery/?cur=ruby)"},"import":{"detail":"プレイデータをインポート  \\nプレイデータファイルをインポートする\\n\\n読み込みダイアログが表示され、選択したプレイデータファイルをインポートする。\\nプレイデータ拡張子、ウェブ版は.swpd、アプリ版は.spdで互換性はない。\\n\\nタグはダイアログを表示次第すぐ次の処理に移り、ユーザーの選択を待たない。\\nインポート完了時には【sn:imported】というイベントを発火する。\\n【[event key=\'sn:imported\' 〜]】という記述でジャンプできる。\\n\\n機能ギャラリーにサンプルがあります。$(play)[プレイデータ](https://famibee.github.io/SKYNovel_gallery/?cur=import)","param":[],"snippet":[{"nm":"import","txt":"import"}],"comment":""},"jump":{"detail":"シナリオジャンプ  \\n指定位置のスクリプトにジャンプする","param":[{"name":"fn","required":"","default":"処理中のスクリプトファイル","rangetype":"ジャンプ先","comment":"ジャンプ先のスクリプトファイル"},{"name":"label","required":"","default":"スクリプトファイルの先頭","rangetype":"ラベル名","comment":"ジャンプ先のスクリプトファイルにあるラベル"},{"name":"count","required":"","default":"false","rangetype":"Boolean","comment":"タグ位置を既読とするか"}],"snippet":[{"nm":"jump","txt":"jump ${1{{ジャンプ先}}}"}],"comment":"ラベルは例えば以下のように使います。\\n\\n### コード例\\n~~~skynovel\\n*aaa\\n無限ループ\\n[jump label=*aaa]\\n~~~\\n\\nさらにラベル名を考えるのが面倒なとき、「無名ラベル」ともいうべき機能が使えます。  \\n「**after」は「そのタグ以降で最初に見つかった**ラベルに」  \\n「**before」は「そのタグ以前で最初に見つかった**ラベルに」  \\nジャンプ・コールする、という指定です。次のように書きます。\\n\\n### コード例\\n~~~skynovel\\n[jump label=****after]\\n*** ; 最後のbeforeはここに戻る\\n**\\nも\\n[jump label=**after]\\n;**\\nっ\\n**\\n[l]\\nぷ\\n[jump label=**before]\\n**\\n＠[s]\\n**\\n****    ; 最初のafterはここへ\\nす\\n[jump label=***before]\\n~~~\\nこの例では「すもぷぷぷ……」と文字が表示されます。\\n「**」とか「***」とかアスタリスクは二個以上の任意の数が使え、同じ数同士が対応するラベルとなります。\\nが、上記例で見るとおりあんまり複雑に使うと可読性が下がってしまう気がしますので、局所的な用途に限ったほうが良さげです"},"l":{"detail":"行末クリック待ち\\nシナリオファイルの順次処理を停止し、クリックやキー押下（→詳細は[waitclick]）を待つ","param":[{"name":"visible","required":"","default":"true","rangetype":"Boolean","comment":"trueで行末クリック待ち記号を表示、falseで非表示"}],"snippet":[{"nm":"l","txt":"l visible=${1|true,false|}"}],"comment":"「breakline」という画像やアニメpngファイルが用意されていれば、行末クリック待ちマークとして表示する。\\nクリックやキー押下が発生した場合、処理を再開する。\\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などでイベントが登録されていれば、イベント発生待ちを行う"},"lay":{"detail":"レイヤ設定  \\nレイヤに各種設定を行う","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"visible","required":"","default":"現在値","rangetype":"Boolean","comment":"true：表示、false：非表示"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"レイヤの透過度。0（完全透明）〜0.5（半透明）〜1（不透明）"},{"name":"blendmode","required":"","default":"何もしない","rangetype":"ブレンドモード名","comment":"このレイヤと下のレイヤとの重なりにおいて、ドット単位で色のブレンド演算を行なう"},{"name":"pos","required":"","default":"c","rangetype":"c、l、r、横座標","comment":"主に立ち絵に使う。横と縦座標を同時に設定する。横座標は指定した値（文字cの場合は画面中央、lは左寄り、rは右寄り）に設定し、画像下端を画面下端に接するように自動計算する"},{"name":"left","required":"","default":"0","rangetype":"画面左上を(0, 0)とする横座標","comment":"レイヤやボタン左端の画面左端からの距離"},{"name":"center","required":"","default":"0","rangetype":"画面左上を(0, 0)とする横座標","comment":"レイヤやボタン中央の画面左端からの距離"},{"name":"right","required":"","default":"0","rangetype":"画面左上を(0, 0)とする横座標","comment":"レイヤやボタン右端の画面左端からの距離"},{"name":"s_right","required":"","default":"0","rangetype":"画面左上を(0, 0)とする横座標","comment":"レイヤやボタン右端の画面右端からの距離"},{"name":"top","required":"","default":"0","rangetype":"画面左上を(0, 0)とする縦座標","comment":"レイヤやボタン上端の画面上端からの距離"},{"name":"middle","required":"","default":"0","rangetype":"画面左上を(0, 0)とする縦座標","comment":"レイヤやボタン中央の画面上端からの距離"},{"name":"bottom","required":"","default":"0","rangetype":"画面左上を(0, 0)とする縦座標","comment":"レイヤやボタン下端の画面上端からの距離"},{"name":"s_bottom","required":"","default":"0","rangetype":"画面左上を(0, 0)とする縦座標","comment":"レイヤやボタン下端の画面下端からの距離"},{"name":"rotation","required":"","default":"0","rangetype":"-180〜180","comment":"回転角を度単位で指定。時計回りは0～180、反時計回りは0～-180を指定。左上を中心に回る"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転"},{"name":"float","required":"","default":"何もしない","rangetype":"Boolean","comment":"true：レイヤを最前面に移動する。"},{"name":"index","required":"","default":"何もしない","rangetype":"0〜","comment":"レイヤをindexで指定したインデックスに移動する。  \\n0がもっとも背後。レイヤを重ねるたびに1加算したindexになる"},{"name":"dive","required":"","default":"何もしない","rangetype":"レイヤ名","comment":"レイヤをdiveで指定したレイヤのすぐ後ろに潜り込ませる。  \\n「plg:プラグイン名」と記述する事でプラグインも指定できる。"},{"name":"style","required":"","default":"何もしない","rangetype":"CSS style","comment":"※文字表示中の場合はすべてのスタイルが変更される"},{"name":"ch_in_style","required":"","default":"何もしない","rangetype":"文字出現演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字出現演出名"},{"name":"ch_out_style","required":"","default":"何もしない","rangetype":"文字消去演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字消去演出名"},{"name":"fn","required":"y","default":"何もしない","rangetype":"画像ファイル名","comment":"基本画像ファイルを指定する"},{"name":"face","required":"","default":"何もしない","rangetype":"差分名称","comment":"差分名称を指定する（半角カンマ区切りで複数可能）。[fg fn=\\"a\\" face=\\"b,c,d\\"]なら「基本a」の上に「差分b」を重ね、「差分c」を重ね、「差分d」を重ねる"}],"snippet":[{"nm":"lay","txt":"lay layer=${1{{レイヤ名}}} page=${2|fore,back|}"},{"nm":"lay（文字レイヤ）","txt":"lay layer=${1{{文字レイヤ名}}}"},{"nm":"lay（画像レイヤ）","txt":"lay layer=${1{{画像レイヤ名}}} fn=${2{{画像ファイル名}}} face=${3{{差分名称}}}"}],"comment":""},"let":{"detail":"変数代入・演算  \\n変数に値を代入する","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"セットする値"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。  \\nnum……数値（実数）。「01」は数値の1となる。  \\nint……数値（符合付き整数）  \\nuint……数値（符合なし整数）  \\nbool……Boolean  \\nstr……文字列。「01」は「01」のまま"}],"snippet":[{"nm":"let","txt":"let name=${1{{代入変数名}}} text=${2:セットする値}"}],"comment":"### コード例\\n~~~skynovel\\n[let name=a text=\'てんぐ👺🌈𩸽🌕\']\\n[trace text=&a] ; -> \'てんぐ👺🌈𩸽🌕\'\\n&a=\'abcde\'\\n[trace text=&a] ; -> \'abcde\'\\n\\n\\n[let_substr name=a text=&a pos=2 len=3]\\n[trace text=&a] ; -> \'cde\'\\n[let_substr name=a text=&a pos=1 len=all]\\n[trace text=&a] ; -> \'de\'\\n~~~"},"let_abs":{"detail":"絶対値   \\n絶対値を求める。結果を変数に代入する","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"Number","comment":"絶対値を求める数"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_abs","txt":"let_abs name=${1{{代入変数名}}} text=${2:絶対値を求める数}"}],"comment":"### コード例\\n~~~skynovel\\n[let_abs name=a text=-3.56]\\n[trace text=&a] ; -> 3.56\\n~~~"},"let_char_at":{"detail":"文字列から一字取りだし   \\n文字列中の一文字を取り出す。結果を変数に代入する","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"元になる文字列"},{"name":"pos","required":"","default":"0","rangetype":"0（先頭）〜","comment":"何番目の文字を取り出すか"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_char_at","txt":"let_char_at name=${1{{代入変数名}}} text=${2:元になる文字列} pos=${3:取り出す位置}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcde\'\\n[let_char_at name=a text=&a pos=1]\\n[trace text=&a] ; -> \'b\'\\n~~~"},"let_frame":{"detail":"フレーム変数を取得  \\nフレーム内の変数から、値を取得する","param":[{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義したフレーム名"},{"name":"var_name","required":"y","default":"","rangetype":"String","comment":"フレーム内の変数/関数名"}],"snippet":[{"nm":"let_frame","txt":"let_frame id=${1{{フレーム名}}} var_name=${2:フレーム内の変数/関数名}"}],"comment":"関数名を指定した場合は関数を実行し、その戻り値を取得する。  \\n【const.sn.frm.（id名）.（var_name名）】に値がセットされる。\\n\\n### コード例\\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n機能ギャラリーにサンプルがあります。$(play)[HTMLフレーム](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"let_index_of":{"detail":"文字列で検索  \\n文字列内を検索し、文字列内の start 以降で、最初に val が見つかった位置を返す","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数。-1の場合は見つからなかった"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"元になる文字列"},{"name":"val","required":"y","default":"","rangetype":"String","comment":"探す文字列"},{"name":"start","required":"","default":"0","rangetype":"0（先頭）〜","comment":"検索を開始する位置"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_index_of","txt":"let_index_of name=${1{{代入変数名}}} text=${2:元になる文字列} val=${3:探す文字列}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcdeFGHIabcde\'\\n[let_index_of name=a text=&a val=cd start=5]\\n[trace text=&a] ; -> 11\\n[let_index_of name=a text=&a val=GG]\\n[trace text=&a] ; -> -1\\n~~~"},"let_length":{"detail":"文字列の長さ  \\n文字列の長さを求める","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"長さを求める文字列"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_length","txt":"let_length name=${1{{代入変数名}}} text=${2:長さを求める文字列}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcde\'\\n[let_length name=a text=&a]\\n[trace text=&a] ; -> 5\\n~~~"},"let_ml":{"detail":"インラインテキスト代入  \\n[let_ml]〜[endlet_ml]で囲んだ複数行テキストを代入する","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"}],"snippet":[{"nm":"let_ml","txt":"let_ml name=${1{{代入変数名}}}]\\n\\tここに自由な複数行テキストを\\n[endlet_ml"}],"comment":"【JSON文字列を「.」表記で取り出せる書式】との組み合わせで、以下のようなことができます。\\n\\n### コード例\\n~~~skynovel\\n[let_ml name=a]\\n\\t{\\n\\t\\t\\"b\\": 3,\\n\\t\\t\\"c\\": 5\\n\\t}\\n[endlet_ml]\\n[trace text=&a] ; -> {\\"b\\": 3, \\"c\\": 5}\\n[trace text=&a.b] ; -> 3\\n[trace text=&a.c] ; -> 5\\n~~~\\n\\n機能ギャラリー【[フラグメントシェーダで[trans ]](https://famibee.github.io/SKYNovel_gallery/?cur=glsl_slide)】では、GLSLというシェーダー記述言語を扱うのに使用しています。\\n\\n### コード例\\n~~~skynovel\\n[let_ml name=ml]\\n\\tprecision mediump float;\\n\\tvarying vec2 vTextureCoord;\\n\\tuniform sampler2D uSampler;\\n\\tuniform float tick;\\n\\n\\tvoid main(void) {\\n\\t\\tvec2 pos = vTextureCoord;\\n\\t\\tpos.x = pos.x + tick;\\n\\t\\tif (pos.x > 1.0) gl_FragColor = vec4(0);\\n\\t\\telse gl_FragColor = texture2D(uSampler, pos);\\n\\t}\\n[endlet_ml]\\n~~~"},"let_replace":{"detail":"正規表現で置換  \\n文字列を正規表現で検索し、マッチする箇所を文字列で置き換える","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"置換対象の文字列"},{"name":"reg","required":"y","default":"","rangetype":"String","comment":"正規表現"},{"name":"flags","required":"","default":"（なし）","rangetype":"String","comment":"正規表現のフラグ"},{"name":"val","required":"y","default":"","rangetype":"String","comment":"置き換える文字列"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_replace","txt":"let_replace name=${1{{代入変数名}}} text=${2:置換対象の文字列} reg=${3:正規表現} val=${4:置き換える文字列}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcde\'\\n[let_replace name=a text=&a reg=\'cd\' val=GG]\\n[trace text=&a] ; -> abGGe\\n~~~"},"let_round":{"detail":"四捨五入  \\n四捨五入する","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"Number","comment":"四捨五入する数"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_round","txt":"let_round name=${1{{代入変数名}}} text=${2:四捨五入する数}"}],"comment":"### コード例\\n~~~skynovel\\n[let_round name=a text=3.45]\\n[trace text=&a] ; <- 3\\n~~~"},"let_search":{"detail":"正規表現で検索  \\n文字列内を正規表現で検索し、最初に val が見つかった位置を返す","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"検索対象の文字列"},{"name":"reg","required":"y","default":"","rangetype":"String","comment":"正規表現"},{"name":"flags","required":"","default":"（なし）","rangetype":"String","comment":"正規表現のフラグ"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_search","txt":"let_search name=${1{{代入変数名}}} text=${2:検索対象の文字列} reg=${3:正規表現}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcde\'\\n[let_search name=a text=&a reg=\'cd\']\\n[trace text=&a] ; -> 2。a(=0),b(=1),c(=2)の2\\n~~~"},"let_substr":{"detail":"文字列から抜きだし  \\n文字列の一部を取り出す","param":[{"name":"name","required":"y","default":"","rangetype":"代入変数名","comment":"代入する変数"},{"name":"text","required":"y","default":"","rangetype":"String","comment":"元になる文字列"},{"name":"pos","required":"","default":"0","rangetype":"0（先頭）〜または〜-1（末尾）","comment":"何番目の文字から取り出すか。負の値なら「後ろから何個目か」。-1が最後の文字。【pos=-3 len=all】とすると、後ろから３文字を取り出す。"},{"name":"len","required":"","default":"1","rangetype":"文字数またはall","comment":"何文字取り出すか。all でpos以降の全て"},{"name":"cast","required":"","default":"出来るだけ数値変換","rangetype":"num、int、uint、bool、str","comment":"値をセットする際の型。（詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照）"}],"snippet":[{"nm":"let_substr","txt":"let_substr name=${1{{代入変数名}}} text=${2:元になる文字列} pos=${3:取り出す位置} len=${4:文字数またはall}"}],"comment":"### コード例\\n~~~skynovel\\n&a=\'abcde\'\\n[let_substr name=a text=&a pos=2 len=3]\\n[trace text=&a] ; -> \'cde\'\\n[let_substr name=a text=&a pos=1 len=all]\\n[trace text=&a] ; -> \'de\'\\n~~~"},"link":{"detail":"ハイパーリンク  \\n指定した文字レイヤの表ページに、ハイパーリンクを作成する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ名"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"style","required":"","default":"何もしない","rangetype":"CSS style","comment":"※文字表示中の場合はすべてのスタイルが変更される"},{"name":"ch_in_style","required":"","default":"何もしない","rangetype":"文字出現演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字出現演出名"},{"name":"ch_out_style","required":"","default":"何もしない","rangetype":"文字消去演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字消去演出名"},{"name":"wait","required":"","default":"現在の文字表示速度","rangetype":"ミリ秒","comment":"一時的な文字表示速度。0で瞬時。"},{"name":"call","required":"","default":"false","rangetype":"Boolean","comment":"trueの場合は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)、falseは[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)。  \\nただしcall=trueによりサブルーチンコールした場合、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)によって「コールする前のイベント予約状態＆待ち状態」に戻る。"},{"name":"fn","required":"","default":"処理中のスクリプトファイル","rangetype":"ジャンプ先","comment":"クリック時にジャンプする先"},{"name":"label","required":"","default":"スクリプトファイルの先頭","rangetype":"ラベル名","comment":"コール先のスクリプトファイルにあるラベル","undefined":"クリック時ジャンプ先で「&sn.eventLabel」にて値を受け取れる"},{"name":"global","required":"","default":"false","rangetype":"Boolean","comment":"詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)と同様。  \\n※ボタンを[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)する場合はtrueにしておく"},{"name":"arg","required":"","default":"","rangetype":"String","comment":"指定した場合、クリック時ジャンプ先で「&sn.eventArg」にて値を受け取れる"},{"name":"onenter","required":"","default":"何もしない","rangetype":"ラベル名","comment":"マウス重なり（フォーカス取得）時、指定したラベルをコールする。 必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で戻ること。"},{"name":"onleave","required":"","default":"何もしない","rangetype":"ラベル名","comment":"マウス重なり外れ（フォーカス外れ）時、指定したラベルをコールする。 必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で戻ること。"},{"name":"clickse","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、クリック時に効果音を再生する"},{"name":"enterse","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、ボタン上にマウスカーソルが載った時に効果音を再生する"},{"name":"leavese","required":"","default":"省略時は無音","rangetype":"音声ファイル名","comment":"指定すると、ボタン上からマウスカーソルが外れた時に効果音を再生する"},{"name":"clicksebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"},{"name":"entersebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"},{"name":"leavesebuf","required":"","default":"SYS","rangetype":"サウンドバッファ","comment":"クリック時効果音を再生するサウンドバッファを指定する"}],"snippet":[{"nm":"link","txt":"link ${1{{ジャンプ先}}}][endlink"}],"comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)から[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)（ハイパーリンクの終了）までで囲った範囲をリンク区間と呼び、\\nその区間の文字や縦中横がハイパーリンクになる。（リンク区間は入れ子に出来ません）\\n※選択肢として使用する場合、ジャンプ先のラベル直後には必ず[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を記述して、ジャンプ直後でセーブしても正しくセーブされるようにして下さい\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=ch_button)"},"load":{"detail":"しおりの読込  \\nしおりデータを読み込み、スクリプト処理を再開する","param":[{"name":"place","required":"y","default":"","rangetype":"Number","comment":"処理対象のしおり番号"},{"name":"fn","required":"","default":"処理中のスクリプトファイル","rangetype":"スクリプトファイル名","comment":"ロード後最初にしたい共通処理をコールする（処理は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で終わらせる）。指定方法は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)と同様。ただし指定する際、fnとlabelは両方指定しなければならない。"},{"name":"label","required":"","default":"スクリプトファイルの先頭","rangetype":"ラベル名","comment":"コール先のスクリプトファイルにあるラベル"}],"snippet":[{"nm":"load","txt":"load place=${1:処理対象のしおり番号} ${2{{ジャンプ先}}}"}],"comment":""},"loadplugin":{"detail":"プラグインの読み込み  \\nプラグインとして読み込む","param":[{"name":"fn","required":"y","default":"","rangetype":"CSSファイルURL","comment":"読み込むプラグインのファイル名（拡張子はcssのみ、Webフォント用）"},{"name":"join","required":"","default":"true","rangetype":"Boolean","comment":"trueで読み込みを待って次のタグへ進む"}],"snippet":[{"nm":"loadplugin","txt":"loadplugin fn=${1:WebフォントのCSSファイルURL} join=${2|true,false|}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=font)"},"log":{"detail":"ログ出力  \\nダウンロードフォルダにテキスト出力する（追記ではなく上書き。追記する。出力日時・分・スクリプト名や行番号やプロジェクト名も出力","param":[{"name":"text","required":"y","default":"","rangetype":"String","comment":"ログ出力する値"}],"snippet":[{"nm":"log","txt":"log text=&${1{{代入変数名}}}"}],"comment":"### コード例\\n~~~skynovel\\n[log text=\'てんぐ👺🌈𩸽🌕\']\\n~~~"},"macro":{"detail":"マクロ定義の開始  \\n[macro]と[endmacro]に囲まれた部分をマクロとして定義する。定義したマクロは既存のタグと同様に使用できる。渡した属性は、マクロ側で「mp:」スコープにより参照できる","param":[{"name":"name","required":"y","default":"マクロ名","rangetype":"String","comment":"既存のタグやマクロと重複しないマクロ名"}],"snippet":[{"nm":"macro","txt":"macro name=${1:マクロ名}]\\n\\t; ここにマクロの処理内容を\\n[endmacro"}],"comment":""},"navigate_to":{"detail":"ＵＲＬを開く  \\nWebページを開く","param":[{"name":"url","required":"y","default":"","rangetype":"URL文字列","comment":"開くURL"}],"snippet":[{"nm":"navigate_to","txt":"navigate_to url=${1:WebページURL}"}],"comment":""},"p":{"detail":"改ページクリック待ち  \\nシナリオファイルの順次処理を停止し、クリックやキー押下（→詳細は[waitclick]）を待つ","param":[{"name":"visible","required":"","default":"true","rangetype":"Boolean","comment":"trueで改ページ記号を表示、falseで非表示"},{"name":"er","required":"","default":"何もしない","rangetype":"Boolean","comment":"trueで改ページ待ち後に[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)処理を行なう"}],"snippet":[{"nm":"p","txt":"p visible=${1|true,false|}"}],"comment":"「breakpage」という画像やアニメpngファイルが用意されていれば、改ページクリック待ちマークとして表示する。\\nクリックやキー押下が発生した場合、処理を再開する。\\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などでイベントが登録されていれば、イベント発生待ちを行う。"},"pause_tsy":{"detail":"一時停止  \\nレイヤーやフレームのトゥイーンアニメを一時停止させる","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"処理対象のフレーム"}],"snippet":[{"nm":"pause_tsy","txt":"pause_tsy layer=${1{{レイヤ名}}}"}],"comment":"「layer（とpage）」を指定した場合はレイヤーの操作、  \\n「id」を指定した場合はフレームの操作を行なう\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"playbgm":{"detail":"BGM の演奏  \\nBGMを再生する。[playse]とは違い、キー押下Skip中でも必ず再生を行なう。（canskip = false）","param":[{"name":"fn","required":"y","default":"","rangetype":"音声ファイル名","comment":"再生する音声ファイル名"},{"name":"loop","required":"","default":"true","rangetype":"Boolean","comment":"trueでBGMのようにループ再生する。"},{"name":"volume","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"再生音量。ただし音量を示すシステム変数（sys:const.an.sound.BGM.volume）は変更しない"},{"name":"speed","required":"","default":"1.0","rangetype":"0.0<（実数）","comment":"再生速度。（=1:元のまま、<1:遅い、>1:早い）"},{"name":"join","required":"","default":"true","rangetype":"Boolean","comment":"trueで読み込みを待って次のタグへ進む"},{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでキー押下Skip中なら再生をしない"},{"name":"start_ms","required":"","default":"0","rangetype":"ミリ秒","comment":"再生の開始位置を指定する。0は冒頭"},{"name":"end_ms","required":"","default":"","rangetype":"ミリ秒","comment":"再生の終了位置を指定する。省略時は末端。  \\n正の値は「冒頭から何ms目を終端とするか」  \\n負の値は「末尾から何ms手前を終端とするか」の指定。"},{"name":"ret_ms","required":"","default":"0","rangetype":"ミリ秒","comment":"ループ戻り位置を指定する。0は冒頭。  \\nループ再生中にend_ms指定位置（省略時は末尾）に到達した場合、この指定位置に戻る。 ループ再生しない（loop=false）際は無視される。"}],"snippet":[{"nm":"playbgm","txt":"playbgm fn=${1{{音声ファイル名}}}"}],"comment":""},"playse":{"detail":"効果音の再生  \\n効果音を再生する","param":[{"name":"fn","required":"y","default":"","rangetype":"音声ファイル名","comment":"再生する音声ファイル名"},{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"loop","required":"","default":"false","rangetype":"Boolean","comment":"trueでBGMのようにループ再生する。"},{"name":"volume","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"再生音量。ただし音量を示すシステム変数（sys:const.an.sound.BGM.volume）は変更しない"},{"name":"speed","required":"","default":"1.0","rangetype":"0.0<（実数）","comment":"再生速度。（=1:元のまま、<1:遅い、>1:早い）"},{"name":"join","required":"","default":"true","rangetype":"Boolean","comment":"trueで読み込みを待って次のタグへ進む"},{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでキー押下Skip中なら再生をしない"},{"name":"start_ms","required":"","default":"0","rangetype":"ミリ秒","comment":"再生の開始位置を指定する。0は冒頭"},{"name":"end_ms","required":"","default":"","rangetype":"ミリ秒","comment":"再生の終了位置を指定する。省略時は末端。  \\n正の値は「冒頭から何ms目を終端とするか」  \\n負の値は「末尾から何ms手前を終端とするか」の指定。"},{"name":"ret_ms","required":"","default":"0","rangetype":"ミリ秒","comment":"ループ戻り位置を指定する。0は冒頭。  \\nループ再生中にend_ms指定位置（省略時は末尾）に到達した場合、この指定位置に戻る。 ループ再生しない（loop=false）際は無視される。"}],"snippet":[{"nm":"playse","txt":"playse fn=${1{{音声ファイル名}}} buf=${2{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"pop_stack":{"detail":"コールスタック破棄  \\nコールスタックを一つ破棄する\\n極力使用しないコーディングを推奨します","param":[{"name":"clear","required":"","default":"false","rangetype":"Boolean","comment":"true：全て破棄する。空でもエラーを出さない  \\nfalse：スタックを一つ破棄する。空の場合はエラーメッセージ＆アプリ停止"}],"snippet":[{"nm":"pop_stack","txt":"pop_stack clear=${1|false,true|}"}],"comment":""},"quake":{"detail":"画面を揺らす  \\n画面全体を揺らす","param":[{"name":"time","required":"y","default":"","rangetype":"ミリ秒数","comment":"揺らす時間"},{"name":"hmax","required":"","default":"10","rangetype":"Integer","comment":"横方向の最大揺らし幅。幅はランダム値を取る"},{"name":"vmax","required":"","default":"10","rangetype":"Integer","comment":"縦方向の最大揺らし幅。幅はランダム値を取る"},{"name":"ease","required":"","default":"Linear.None（イージング無し）","rangetype":"イージング名","comment":"揺れのイージング（値の変化の仕方）を指定する。[イージングの変化はこちらの図](https://createjs.com/demos/tweenjs/tween_sparktable)（または[こちら](https://sole.github.io/tween.js/examples/03_graphs.html)）が分かりやすい。指定できる値は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照"}],"snippet":[{"nm":"quake","txt":"quake time=${1:500} hmax=${2:10} vmax=${3:10}][wq"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[文字出現演出](https://famibee.github.io/SKYNovel_gallery/?cur=tag_quake)"},"r":{"detail":"改行  \\n指定した文字レイヤの表ページに、改行を出力する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"}],"snippet":[{"nm":"r","txt":"r"}],"comment":""},"rec_ch":{"detail":"履歴書き込み  \\n履歴に文字や付加情報を出力する","param":[{"name":"text","required":"","default":"","rangetype":"String","comment":"表示したい文字列。ルビ文法（《》）も解析する"}],"snippet":[{"nm":"rec_ch","txt":"rec_ch text=${1:表示したい文字列}"}],"comment":"「現在のページ」のテキストに文字を追加する。\\n「現在のページ」に対する、任意の属性も自由に追加できる。その属性はconst.sn.log.jsonにも含まれ、フレームに渡しJavaScriptなどで（JSON.parse()して）利用できる"},"rec_r":{"detail":"履歴改行  \\n履歴に改行を出力する","param":[],"snippet":[{"nm":"rec_r","txt":"rec_r"}],"comment":""},"record_place":{"detail":"セーブポイント指定\\n本タグの位置を、スクリプト読み込み時に再開する位置として設定する","param":[{"name":"layer","required":"","default":"全てのレイヤ","rangetype":"レイヤ名","comment":"保存対象レイヤ名（カンマ区切りで複数可能）。しおりに状態を保存するレイヤ。Save/Load画面レイヤや設定画面レイヤなど、保存すべきでないレイヤを除いて指定すべき"},{"name":"reset_sound","required":"","default":"true","rangetype":"Boolean","comment":"全てのサウンドを停止・再度再生開始するか"}],"snippet":[{"nm":"record_place","txt":"record_place"}],"comment":""},"reload_script":{"detail":"スクリプト再読込\\n現在処理中のスクリプトをリロードする。実行位置は[record_place]によるセーブポイントまで戻って再開する。  \\n※スクリプトを大幅に変えた後だと、正常に再開できない場合があります。","param":[],"snippet":[{"nm":"reload_script","txt":"reload_script"}],"comment":""},"reset_rec":{"detail":"履歴リセット  \\n履歴をクリアする。応用として、履歴に加工した文字列を設定し、履歴画面に機能を追加する事も","param":[{"name":"text","required":"","default":"全てクリア","rangetype":"String","comment":"履歴に設定したい文字列"}],"snippet":[{"nm":"reset_rec","txt":"reset_rec"}],"comment":""},"resume_tsy":{"detail":"一時停止再開  \\nレイヤーやフレームのトゥイーンアニメ一時停止を再開させる","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"処理対象のフレーム"}],"snippet":[{"nm":"resume_tsy","txt":"resume_tsy layer=${1{{レイヤ名}}}"}],"comment":"「layer（とpage）」を指定した場合はレイヤーの操作、  \\n「id」を指定した場合はフレームの操作を行なう\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"return":{"detail":"サブルーチンから戻る  \\nコールスタックに積まれているジャンプ先にジャンプする。\\n最後に積んだスタックを一つ破棄する","param":[],"snippet":[{"nm":"return","txt":"return"}],"comment":""},"ruby2":{"detail":"文字列と複数ルビの追加  \\n親文字列とルビ文字列のセットで文字を追加する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"t","required":"y","default":"","rangetype":"String","comment":"親文字列"},{"name":"r","required":"y","default":"","rangetype":"String","comment":"ルビ文字列"}],"snippet":[{"nm":"ruby2","txt":"ruby2 t=${1:親文字列} r=${2:ルビ文字列}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[直感的なルビ文法](https://famibee.github.io/SKYNovel_gallery/?cur=ruby)"},"s":{"detail":"停止する  \\nシナリオファイルの順次処理を停止する\\n[event]などでイベントが登録されていれば、イベント発生待ちを行う","param":[],"snippet":[{"nm":"s","txt":"s"}],"comment":""},"save":{"detail":"しおりの保存  \\nしおりデータを保存する","param":[{"name":"place","required":"y","default":"","rangetype":"Number","comment":"処理対象のしおり番号"}],"snippet":[{"nm":"save","txt":"save place=${1:処理対象のしおり番号}"}],"comment":"しおりデータを保存する。  \\n読み込み時に再開するスクリプトの位置は最後に[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)をコールした位置。  \\n\\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)がゲーム状態（レイヤ状態など）をバッファに退避し、  \\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)は指定しおりに書き出す機能。"},"set_cancel_skip":{"detail":"スキップ中断予約  \\n（内部APIにつき説明省略）","param":[],"snippet":[{"nm":"set_cancel_skip","txt":"set_cancel_skip"}],"comment":""},"set_focus":{"detail":"フォーカス移動  \\n（未作成）","param":[],"snippet":[{"nm":"set_focus","txt":"set_focus"}],"comment":""},"set_frame":{"detail":"フレーム変数に設定  \\nフレーム内の変数に、値を設定する","param":[{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義したフレーム名"},{"name":"var_name","required":"y","default":"","rangetype":"String","comment":"フレーム内の変数名"},{"name":"text","required":"y","default":"セットする値","rangetype":"String","comment":"フレーム内の変数にセットする値"}],"snippet":[{"nm":"set_frame","txt":"set_frame id=${1{{フレーム名}}} var_name=${2:フレーム内の変数名} text=${3:セットする値}"}],"comment":"### コード例\\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n機能ギャラリーにサンプルがあります。$(play)[HTMLフレーム](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"snapshot":{"detail":"スナップショット  \\nアプリ表示部分全体を画像として保存する","param":[{"name":"layer","required":"","default":"全てのレイヤ","rangetype":"レイヤ名","comment":"半角カンマ区切りで複数レイヤを指定可能"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"fn","required":"","default":"snapshot","rangetype":"String","comment":"保存するファイル名  \\n省略時はデスクトップに保存  \\n保存する画像フォーマット（png、jpg）は拡張子で指定"},{"name":"width","required":"","default":"アプリ表示部分の横サイズ","rangetype":"1〜","comment":"保存する画像の横ドットサイズ。  \\n元のサイズと異なる場合は拡大・縮小される。"},{"name":"height","required":"","default":"アプリ表示部分の縦サイズ","rangetype":"1〜","comment":"保存する画像の縦ドットサイズ。  \\n元のサイズと異なる場合は拡大・縮小される。"},{"name":"smoothing","required":"","default":"false","rangetype":"Boolean","comment":"拡大・縮小保存される場合、スムージングするか"},{"name":"b_color","required":"","default":"config.anprjで指定した背景色","rangetype":"色指定。0xFF000000（黒）など  \\n16進数では透過2桁＋赤2桁＋緑2桁＋青2桁で指定","comment":"テキスト背後の矩形色。pngで 0x0 にすると透過する。  \\n透過しない黒は 0xFF000000"}],"snippet":[{"nm":"snapshot","txt":"snapshot layer=${1:レイヤ名}"}],"comment":"画面スナップショットをダウンロードフォルダに保存する。\\nファイル名にはプロジェクト名と日時どが追加される。\\n\\n※文字の表示とスナップショットは、厳密には同じではないので注意。"},"span":{"detail":"インラインスタイル設定  \\nこの指定以降の文字のレイアウト（フォントや文字色など）を指定する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"wait","required":"","default":"現在の文字表示速度","rangetype":"ミリ秒","comment":"一時的な文字表示速度。0で瞬時。"},{"name":"style","required":"","default":"何もしない","rangetype":"CSSstyle","comment":"※文字表示中の場合はすべてのスタイルが変更される"},{"name":"ch_in_style","required":"","default":"何もしない","rangetype":"文字出現演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字出現演出名"},{"name":"ch_out_style","required":"","default":"何もしない","rangetype":"文字消去演出名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義した文字消去演出名"},{"name":"r_align","required":"","default":"現在値","rangetype":"left、center、right、justify、121、even、1ruby","comment":"ルビ揃えを指定する。  \\n> left ……（肩付き）先頭親文字から、ルビ間は密着  \\n> center ……（中付き）センター合わせ、〃  \\n> right ……（右／下揃え）末尾親文字から、〃  \\n> justify ……（両端揃え）先頭から末尾親文字間に、ルビ間は均等にあける  \\n> 121 ……（1-2-1(JIS)）ルビの前後を比率1、ルビ間を比率2であける  \\n> even ……（均等アキ）ルビの前後、ルビ間も均等にあける  \\n> 1ruby ……（1ルビ文字アキ）ルビの前後をルビ一文字空け、ルビ間は均等にあける  \\n  \\n初期値は center。  \\n  \\n※親文字よりルビの方が長い場合は、親文字に対する「中付き」表示になる  \\n→参考（[機能ギャラリー・直感的なルビ文法](https://famibee.github.io/SKYNovel_gallery/index.html?cur=built_in_ruby)）"}],"snippet":[{"nm":"span","txt":"span style=${1:CSSstyle}"}],"comment":"一時的に文字レイヤのlayout属性への指定を上書きするイメージ。 文字レイヤをクリア（[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)、[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)）するとリセット、以降は元通り文字レイヤのlayout属性に従う"},"stop_allse":{"detail":"全効果音再生の停止  \\n全てのサウンドを停止する。ぴたっと止める。","param":[],"snippet":[{"nm":"stop_allse","txt":"stop_allse"}],"comment":""},"stop_quake":{"detail":"画面揺らし中断  \\n画面揺らしを中断する","param":[{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"stop_quake","txt":"stop_quake canskip=${1|true,false|}"}],"comment":""},"stop_tsy":{"detail":"トゥイーン中断  \\nレイヤーやフレームのトゥイーンアニメを中断、終了する","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"処理対象のフレーム"}],"snippet":[{"nm":"stop_tsy","txt":"stop_tsy layer=${1{{レイヤ名}}}"}],"comment":"「layer（とpage）」を指定した場合はレイヤーの操作、  \\n「id」を指定した場合はフレームの操作を行なう\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"stopbgm":{"detail":"BGM 演奏の停止   \\nBGM 演奏を停止する。ぴたっと止める。","param":[],"snippet":[{"nm":"stopbgm","txt":"stopbgm"}],"comment":""},"stopfadese":{"detail":"音声フェードの停止  \\n音声フェードを停止する","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"}],"snippet":[{"nm":"stopfadese","txt":"stopfadese buf=${1{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"stopse":{"detail":"効果音再生の停止  \\n効果音再生を停止する","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"}],"snippet":[{"nm":"stopse","txt":"stopse buf=${1{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"tcy":{"detail":"縦中横を表示する  \\n縦中横文字を追加する。ルビは同時に設定する","param":[{"name":"layer","required":"","default":"デフォルト文字レイヤ","rangetype":"文字レイヤ名","comment":"文字を表示するレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"t","required":"y","default":"","rangetype":"String","comment":"縦中横文字列、通常半角文字を指定する"},{"name":"r","required":"","default":"ルビ無し","rangetype":"String","comment":"ルビ文字列"}],"snippet":[{"nm":"tcy","txt":"tcy t=${1:縦中横文字列}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[トップページの「451」](https://famibee.github.io/SKYNovel_gallery/)"},"title":{"detail":"タイトル指定  \\nアプリウインドウのタイトル文字列を設定する","param":[{"name":"text","required":"y","default":"","rangetype":"String","comment":"タイトル文字列"}],"snippet":[{"nm":"title","txt":"title text=${1:タイトル文字列}"}],"comment":""},"toggle_full_screen":{"detail":"全画面状態切替\\n呼び出す度にアプリの全画面／ウインドウモードを切り替える","param":[{"name":"key","required":"","default":"イベント登録せずモード切替","rangetype":"イベントのキー名※1","comment":"イベントを発生させるトリガーイベントを予約する。key属性の値は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照"}],"snippet":[{"nm":"toggle_full_screen","txt":"toggle_full_screen key=${1{{イベント名}}}"}],"comment":"現在の状態は文字列変数「tmp:const.sn.displayState」で分かる。trueならフルスクリーン"},"trace":{"detail":"デバッグ表示へ出力  \\n属性をデバッグ表示する","param":[{"name":"text","required":"y","default":"","rangetype":"String","comment":"デバッグ表示する値"}],"snippet":[{"nm":"trace","txt":"trace text=&${1{{代入変数名}}}"}],"comment":""},"trans":{"detail":"ページ裏表を交換  \\n裏ページを表ページとクロスフェードする","param":[{"name":"layer","required":"","default":"全てのレイヤ","rangetype":"レイヤ名","comment":"クロスフェードするレイヤ（カンマ区切りで複数可能）。指定以外のレイヤは変化させない"},{"name":"time","required":"","default":"0","rangetype":"ミリ秒","comment":"変化にかける時間"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒","comment":"変化する前に待機する遅延時間"},{"name":"rule","required":"","default":"","rangetype":"画像ファイル名","comment":"指定した場合はルール画像として、ピクセル単位でクロスフェードするタイミングをずらす。ルール画像の黒いピクセル（と同じ位置にあるピクセル）が先に処理され、白が最後になる。  \\n省略時は画面全体ピクセルで同時にクロスフェードする"},{"name":"vague","required":"","default":"0.04","rangetype":"トランジション期間全体を1とした値","comment":"表レイヤと裏レイヤの境界を曖昧にぼかす度合い"},{"name":"ease","required":"","default":"Linear.None（イージング無し）","rangetype":"イージング名","comment":"揺れのイージング（値の変化の仕方）を指定する。  \\n[イージングの変化はこちらの図](https://createjs.com/demos/tweenjs/tween_sparktable)（または[こちら](https://sole.github.io/tween.js/examples/03_graphs.html)）が分かりやすい。  \\n指定できる値は以下の通り。  \\nBack.In、Back.InOut、Back.Out  \\nBounce.In、Bounce.InOut、Bounce.Out  \\nCircular.In、Circular.InOut、Circular.Out  \\nCubic.In、Cubic.InOut、Cubic.Out  \\nElastic.In、Elastic.InOut、Elastic.Out  \\nExponential.In、Exponential.InOut、Exponential.Out  \\nLinear.None  \\nQuadratic.In、Quadratic.InOut、Quadratic.Out  \\nQuartic.In、Quartic.InOut、Quartic.Out  \\nQuintic.In、Quintic.InOut、Quintic.Out  \\nSinusoidal.In、Sinusoidal.InOut、Sinusoidal.Out  \\n- [tween.js/README.md at master · tweenjs/tween.js](https://github.com/tweenjs/tween.js/blob/master/README.md)  \\n- [CreateJS でのトゥイーンの作成方法 - ICS MEDIA](https://ics.media/tutorial-createjs/tween/)"},{"name":"glsl","required":"","default":"","rangetype":"シェーダー記述言語GLSL","comment":"機能ギャラリーに[フラグメントシェーダの動作サンプル](https://famibee.github.io/SKYNovel_gallery/?cur=glsl_slide)がありますので、詳細はそちらで。  \\nざっくり説明すると、  \\n【vTextureCoord】がピクセルの位置、  \\n【uSampler】が一ピクセル単位の画像データ、  \\n【tick】が時間経過、です"}],"snippet":[{"nm":"trans","txt":"trans layer=${1{{レイヤ名}}} time=${2:500} rule=${3{{画像ファイル名}}}][wt"}],"comment":"クロスフェードを開始すると、終了を待たずに次のタグへと処理を進める。\\n終了を待ちたい場合は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を使用する。\\n\\nクロスフェード終了後は元・裏ページから元・表ページに内容をコピーし、同じ内容になる。\\n\\nルール画像は白黒かグレースケールを推奨。（見た目と動きが一致する）\\n\\n$(warning)また[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)～[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)間で文字表示や[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)は動作未定義、非推奨。\\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)終了を待たず何かをするのは避けた方がよいでしょう。"},"tsy":{"detail":"トゥイーン開始  \\nレイヤーにトゥイーンアニメ（変形・移動・回転アニメーション）を加える","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"time","required":"y","default":"","rangetype":"ミリ秒数","comment":"トゥイーンにかける時間"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒数","comment":"トゥイーンを始める前の、何もしない待ち時間- "},{"name":"repeat","required":"","default":"1","rangetype":"0〜","comment":"繰返し回数。0 で無限ループ。1を設定すると「繰り返しなし」、2を設定すると「二回同じ動き」を行なう。"},{"name":"arrive","required":"","default":"false","rangetype":"Boolean","comment":"trueならクリックキャンセルでアニメ終端までSkip。falseならその場で停止"},{"name":"backlay","required":"","default":"false","rangetype":"Boolean","comment":"trueならトゥイーン終了時、fore→backへ属性をコピーする。  \\nコピーする属性はalpha, height, rotation, scale_x, scale_y, width, left, top。"},{"name":"ease","required":"","default":"Linear.None（イージング無し）","rangetype":"イージング名","comment":"揺れのイージング（値の変化の仕方）を指定する。[イージングの変化はこちらの図](https://createjs.com/demos/tweenjs/tween_sparktable)（または[こちら](https://sole.github.io/tween.js/examples/03_graphs.html)）が分かりやすい。指定できる値は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照"},{"name":"yoyo","required":"","default":"false","rangetype":"Boolean","comment":"（暫定）ヨーヨーのように逆方向に戻って繰り返す"},{"name":"chain","required":"","default":"なにもしない","rangetype":"レイヤ名","comment":"指定したレイヤのトゥイーンアニメが終了してから、このトゥイーンを続けて開始する"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"レイヤの透過度。0（完全透明）〜0.5（半透明）〜1（不透明）  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"width","required":"","default":"なにもしない","rangetype":"Number","comment":"横幅  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"height","required":"","default":"なにもしない","rangetype":"Number","comment":"縦幅  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"rotation","required":"","default":"0","rangetype":"-180〜180","comment":"回転角を度単位で指定。時計回りは0～180、反時計回りは0～-180を指定。左上を中心に回る  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"x","required":"","default":"0","rangetype":"Number","comment":"leftの変化目標値  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"y","required":"","default":"0","rangetype":"Number","comment":"topの変化目標値  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"}],"snippet":[{"nm":"tsy","txt":"tsy layer=${1{{レイヤ名}}} time=${2:トゥイーンにかける時間}"}],"comment":"「目標値」を設定する時、相対値あるいは絶対値を指定できる\\n\\n| 指定\\t\\t\\t | 説明\\t|\\n--|--\\n| x=500\\t\\t\\t| X位置を500に |\\n| x=\'=500\'\\t\\t| 現在のX位置に+500加算した位置 |\\n| x=\'=-500\'\\t\\t| 現在のX位置に-500加算した位置 |\\n| x=\'250,500\'\\t| +250から＋500までの間でランダムな位置 |\\n| x=\'=250,500\'\\t| +250から＋500までの間でランダムな値を現在のX位置に加算した位置 |\\n\\n\\n機能ギャラリーにサンプルがあります。$(play)[トゥイーンアニメを行なう](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"tsy_frame":{"detail":"フレームをトゥイーン開始  \\nフレームのトゥイーンアニメを行なう","param":[{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)で定義したフレーム名"},{"name":"time","required":"y","default":"","rangetype":"ミリ秒数","comment":"トゥイーンにかける時間"},{"name":"delay","required":"","default":"0","rangetype":"ミリ秒数","comment":"トゥイーンを始める前の、何もしない待ち時間"},{"name":"repeat","required":"","default":"1","rangetype":"0〜","comment":"繰返し回数。0 で無限ループ。1を設定すると「繰り返しなし」、2を設定すると「二回同じ動き」を行なう。"},{"name":"ease","required":"","default":"Linear.None（イージング無し）","rangetype":"イージング名","comment":"揺れのイージング（値の変化の仕方）を指定する。[イージングの変化はこちらの図](https://createjs.com/demos/tweenjs/tween_sparktable)（または[こちら](https://sole.github.io/tween.js/examples/03_graphs.html)）が分かりやすい。指定できる値は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)を参照"},{"name":"yoyo","required":"","default":"false","rangetype":"Boolean","comment":"（暫定）ヨーヨーのように逆方向に戻って繰り返す"},{"name":"chain","required":"","default":"なにもしない","rangetype":"レイヤ名","comment":"指定したレイヤのトゥイーンアニメが終了してから、このトゥイーンを続けて開始する"},{"name":"alpha","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"レイヤの透過度。0（完全透明）〜0.5（半透明）〜1（不透明）  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"width","required":"","default":"なにもしない","rangetype":"Number","comment":"横幅  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"height","required":"","default":"なにもしない","rangetype":"Number","comment":"縦幅  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"rotation","required":"","default":"0","rangetype":"-180〜180","comment":"回転角を度単位で指定。時計回りは0～180、反時計回りは0～-180を指定。左上を中心に回る  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"scale_x","required":"","default":"1.0","rangetype":"正負の実数値","comment":"横方向を何倍に拡大／縮小するか。負の値ならレイヤを左右反転  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"scale_y","required":"","default":"1.0","rangetype":"正負の実数値","comment":"縦方向を何倍に拡大／縮小するか。負の値ならレイヤを上下反転  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"x","required":"","default":"0","rangetype":"Number","comment":"leftの変化目標値  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"},{"name":"y","required":"","default":"0","rangetype":"Number","comment":"topの変化目標値  \\n> **相対値あるいは絶対値を指定できる**  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... 現在のxに+500加算した値  \\n> x=\'=-500\' ...... 現在のxに-500加算した値  \\n> x=\'250,500\' .... +250から＋500までの間でランダムな値  \\n> x=\'=250,500\' ... +250から＋500までの間でランダムな値を現在のxに加算した値"}],"snippet":[{"nm":"tsy_frame","txt":"tsy_frame id=${1{{フレーム名}}} time=${2:トゥイーンにかける時間}"}],"comment":"「目標値」を設定する時、相対値あるいは絶対値を指定できる\\n\\n| 指定\\t\\t\\t | 説明\\t|\\n--|--\\n| x=500\\t\\t\\t| X位置を500に |\\n| x=\'=500\'\\t\\t| 現在のX位置に+500加算した位置 |\\n| x=\'=-500\'\\t\\t| 現在のX位置に-500加算した位置 |\\n| x=\'250,500\'\\t| +250から＋500までの間でランダムな位置 |\\n| x=\'=250,500\'\\t| +250から＋500までの間でランダムな値を現在のX位置に加算した位置 |"},"update_check":{"detail":"更新チェック機能  \\nネットにアプリの更新を確認し、ダウンロードもサポートする","param":[{"name":"url","required":"y","default":"","rangetype":"URL文字列","comment":"latest(-mac).ymlや、dmg(exe)を置いたWebサーバーのフォルダURLを指定する。終端は「/」をつけること"}],"snippet":[{"nm":"update_check","txt":"update_check url=${1:WebページURL}"}],"comment":"アプリの最新バージョンをネットで確認する。（アプリ版でのみ動作）\\n処理は非同期に行われ、更新があった時のみ更新確認ウインドウが表示される。\\nダウンロードフォルダにアプリパッケージの dmg（インストーラー exe）をダウンロードする"},"volume":{"detail":"BGMや効果音の音量を指定  \\nBGMや効果音を指定した音量にする","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"volume","required":"","default":"1.0","rangetype":"0.0〜1.0（実数）","comment":"再生音量。ただし音量を示すシステム変数（sys:const.an.sound.BGM.volume）は変更しない"}],"snippet":[{"nm":"volume","txt":"volume buf=${1{{サウンドバッファ}}} volume=${2:1.0}"}],"comment":""},"wait":{"detail":"ウェイトを入れる\\n指定時間スクリプト処理を待ち、再開する\\n[event]などでイベントが登録されていても、イベント発生待ちを行わない","param":[{"name":"time","required":"y","default":"","rangetype":"ミリ秒","comment":"処理を待つ時間"},{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"クリックなど（→詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)）でウエイトをキャンセルできるか"}],"snippet":[{"nm":"wait","txt":"wait time=${1:処理を待つ時間}"}],"comment":""},"wait_tsy":{"detail":"トゥイーン終了待ち  \\nレイヤーやフレームの終了を待ち、再開する","param":[{"name":"layer","required":"y","default":"","rangetype":"レイヤ名","comment":"処理対象のレイヤ"},{"name":"page","required":"","default":"fore","rangetype":"fore、back","comment":"ページの裏表"},{"name":"id","required":"y","default":"","rangetype":"フレーム名","comment":"処理対象のフレーム"},{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"クリックなどでウエイトをキャンセルできるか"}],"snippet":[{"nm":"wait_tsy","txt":"wait_tsy layer=${1{{レイヤ名}}} canskip=${2|true,false|}"}],"comment":"[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)などでイベントが登録されていても、イベント発生待ちを行わない。 繰返し回数が0（無限ループ）の場合、何もせず終了する。  \\n「layer（とpage）」を指定した場合はレイヤーの操作、  \\n「id」を指定した場合はフレームの操作を行なう\\n\\n機能ギャラリーにサンプルがあります。$(play)[フォント利用](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"waitclick":{"detail":"クリックを待つ  \\nシナリオファイルの順次処理を停止し、クリックやキー押下を待つ","param":[],"snippet":[{"nm":"waitclick","txt":"waitclick"}],"comment":""},"wb":{"detail":"BGM フェードの終了待ち  \\nBGM フェードの終了を待つ","param":[{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"wb","txt":"wb canskip=${1|false,true|}"}],"comment":""},"wf":{"detail":"効果音フェードの終了待ち  \\n効果音 フェードの終了を待つ","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"canskip","required":"","default":"false","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"wf","txt":"wf buf=${1{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"window":{"detail":"アプリウインドウ設定  \\nゲームアプリのウインドウサイズや位置などを変更する","param":[{"name":"width","required":"","default":"現在値","rangetype":"1〜","comment":"アプリウインドウの横幅を指定"},{"name":"height","required":"","default":"現在値","rangetype":"1〜","comment":"アプリウインドウの高さを指定"},{"name":"framerate","required":"","default":"現在値","rangetype":"1〜","comment":"アプリ全体のフレームレートを変更"},{"name":"centering","required":"","default":"何もしない","rangetype":"Boolean","comment":"trueを指定すると、アプリウインドウをデスクトップの中央に移動する"},{"name":"x","required":"","default":"何もしない","rangetype":"画面左上を(0, 0)とする座標","comment":"デスクトップにおけるアプリウインドウの横位置を指定"},{"name":"y","required":"","default":"何もしない","rangetype":"(↑と同じ)","comment":"デスクトップにおけるアプリウインドウの縦位置を指定"}],"snippet":[{"nm":"window","txt":"window"}],"comment":""},"wl":{"detail":"BGM 再生の終了待ち  \\nBGM 再生の終了を待つ。\\nloop=true（[playbgm]のデフォルト値）なら待たない。\\n利用時は【音声再生[playbgm]がjoin=true(ちなみにデフォルト)であること】を必須条件とします","param":[],"snippet":[{"nm":"wl","txt":"wl"}],"comment":""},"wq":{"detail":"画面揺らし終了待ち  \\n画面揺らしの終了を待ち、再開する。\\n[event]などでイベントが登録されていても、イベント発生待ちを行わない","param":[{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"wq","txt":"wq canskip=${1|true,false|}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[文字出現演出](https://famibee.github.io/SKYNovel_gallery/?cur=tag_quake)"},"ws":{"detail":"効果音再生の終了待ち  \\n効果音再生の終了を待つ  \\nloop=trueなら待たない。 利用時は【音声再生[playse]がjoin=true(ちなみにデフォルト)であること】を必須条件とします","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"効果音を識別するサウンドバッファ。サウンドバッファを変えれば同時に複数の音を操作することが出来ます"},{"name":"canskip","required":"","default":"false","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"ws","txt":"ws buf=${1{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"wt":{"detail":"トランス終了待ち  \\n[trans]で開始したトランスの終了を待つ","param":[{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"trueでクリックキャンセル可能にする"}],"snippet":[{"nm":"wt","txt":"wt canskip=${1|true,false|}"}],"comment":"終了次第、スクリプト処理を次へ進める。\\n\\n$(warning)また[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)～[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)間で文字表示や[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)は動作未定義、非推奨。\\n[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)終了を待たず何かをするのは避けた方がよいでしょう。"},"wv":{"detail":"動画再生終了待ち  \\n[lay]で開始したムービー再生の終了を待つ","param":[{"name":"canskip","required":"","default":"true","rangetype":"Boolean","comment":"クリックなど（→詳細は[[$1]](https://famibee.github.io/SKYNovel/tag.htm#$1)）でウエイトをキャンセルできるか"}],"snippet":[{"nm":"wv","txt":"wv canskip=${1|true,false|}"}],"comment":"何かしらの画像レイヤで再生している動画の終了を待つ"},"xchgbuf":{"detail":"サウンドバッファの交換  \\n二つのバッファを交換する。未再生でも再生中でも良いが、フェード中は避けること","param":[{"name":"buf","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"サウンドバッファ"},{"name":"buf2","required":"","default":"SE","rangetype":"サウンドバッファ","comment":"もう一つのサウンドバッファ"}],"snippet":[{"nm":"xchgbuf","txt":"xchgbuf buf=${1{{サウンドバッファ}}} buf2=${2{{サウンドバッファ}}}"}],"comment":"機能ギャラリーにサンプルがあります。$(play)[効果音とBGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PnlPrjSetting=void 0;const r=n(16),i=n(13),o=n(22);class a{constructor(e,t,n,s){var c,u,l;this.ctx=e,this.pathWs=t,this.chgTitle=n,this.codSpt=s,this.oCfg={book:{title:"",creator:"",cre_url:"",publisher:"",pub_url:"",detail:"",version:"1.0"},save_ns:"",window:{width:300,height:300},log:{max_len:1024},init:{bg_color:0,tagch_msecwait:10,auto_msecpagewait:3500,escape:""},debug:{devtool:!1,token:!1,tag:!1,putCh:!1,debugLog:!1,baseTx:!1,masume:!1,variable:!1},code:{}},this.pnlWV=null,this.hRep={save_ns:e=>{r.replaceFile(this.fnPkgJs,/("name"\s*:\s*").*(")/,`$1${e}$2`),r.replaceFile(this.fnPkgJs,/("(?:appBundleId|appId)"\s*:\s*").*(")/g,`$1com.fc2.blog.famibee.skynovel.${e}$2`)},"window.width":e=>r.replaceFile(this.fnAppJs,/(width\s*: ).*(,)/,`$1${e}$2`),"window.height":e=>r.replaceFile(this.fnAppJs,/(height\s*: ).*(,)/,`$1${e}$2`),"book.version":e=>{r.replaceFile(this.fnPkgJs,/("version"\s*:\s*").*(")/,`$1${e}$2`),r.replaceFile(this.fnReadme4Freem,/(【Version】)\S+/g,"$1"+e)},"book.title":e=>{this.chgTitle(e),r.replaceFile(this.fnPkgJs,/("productName"\s*:\s*").*(")/,`$1${e}$2`),r.replaceFile(this.fnReadme4Freem,/(【タイトル】)\S+/g,"$1"+e)},"book.creator":e=>{r.replaceFile(this.fnPkgJs,/("author"\s*:\s*").*(")/,`$1${e}$2`),r.replaceFile(this.fnPkgJs,/("appCopyright"\s*:\s*").*(")/,`$1(c)${e}$2`),r.replaceFile(this.fnReadme4Freem,/(【著 作 者】)\S+/g,"$1"+e)},"book.cre_url":e=>{r.replaceFile(this.fnReadme4Freem,/(【連 絡 先】メール： )\S+/,"$1"+e)},"book.publisher":e=>{r.replaceFile(this.fnAppJs,/(companyName\s*:\s*)(['"]).*\2/,`$1"${e}"`),r.replaceFile(this.fnInsNsh,/(!define PUBLISHER ").+"/,`$1${e}"`),r.replaceFile(this.fnReadme4Freem,/(Copyright \(C\) )\d+ "([^"]+)"/g,`$1${(new Date).getFullYear()} "${e}"`)},"book.pub_url":e=>{r.replaceFile(this.fnPkgJs,/("homepage"\s*:\s*").*(")/,`$1${e}$2`),r.replaceFile(this.fnReadme4Freem,/(　　　　　　ＷＥＢ： )\S+/g,"$1"+e),r.replaceFile(this.fnAppJs,/(npm_package_appCopyright \+' )\d+/,"$1"+(new Date).getFullYear())},"book.detail":e=>r.replaceFile(this.fnPkgJs,/("description"\s*:\s*").*(")/,`$1${e}$2`)},this.fnPrj=t+"/doc/prj/",this.fnPrjJs=this.fnPrj+"prj.json",this.fnAppJs=t+"/doc/app.js",this.fnPkgJs=t+"/package.json",this.fnReadme4Freem=t+"/build/include/readme.txt";let h=!1;if(o.existsSync(this.fnReadme4Freem)||(h=!0,o.ensureFileSync(this.fnReadme4Freem),o.copyFileSync(this.ctx.extensionPath+"/res/readme.txt",this.fnReadme4Freem),i.workspace.openTextDocument(this.fnReadme4Freem).then(e=>i.window.showTextDocument(e))),this.fnInsNsh=t+"/build/installer.nsh",o.existsSync(this.fnInsNsh)||o.copyFileSync(this.ctx.extensionPath+"/res/installer.nsh",this.fnInsNsh),this.fnIcon=t+"/build/icon.png",o.existsSync(this.fnIcon)||o.copyFileSync(this.ctx.extensionPath+"/res/icon.png",this.fnIcon),a.htmSrc)return void("hatsune"!==this.oCfg.save_ns&&"uc"!==this.oCfg.save_ns||this.open());this.oCfg={...this.oCfg,...o.readJsonSync(this.fnPrjJs,{encoding:"utf8"})},"slideBaseSpan"in this.oCfg.debug&&(delete this.oCfg.debug.slideBaseSpan,this.oCfg.debug.debugLog=!1),n(this.oCfg.book.title),this.codSpt.setEscape(null!==(l=null===(u=null===(c=this.oCfg)||void 0===c?void 0:c.init)||void 0===u?void 0:u.escape)&&void 0!==l?l:""),h&&["title","version","creator","cre_url","publisher","pub_url"].forEach(e=>this.hRep["book."+e](this.oCfg.book[e]));const f=e.extensionPath+"/res/setting/";this.localResourceRoots=i.Uri.file(f),o.readFile(f+"index.htm",{encoding:"utf8"},(e,t)=>{e&&console.error("PrjSetting constructor "+e),a.htmSrc=String(t),"hatsune"!==this.oCfg.save_ns&&"uc"!==this.oCfg.save_ns||this.open()})}get cfg(){return this.oCfg}open(){var e;const t=null===(e=i.window.activeTextEditor)||void 0===e?void 0:e.viewColumn;if(this.pnlWV)return this.pnlWV.reveal(t),void this.openSub();const n=this.pnlWV=i.window.createWebviewPanel("SKYNovel-prj_setting","プロジェクト設定",t||i.ViewColumn.One,{enableScripts:!0,localResourceRoots:[this.localResourceRoots]});n.onDidDispose(()=>this.pnlWV=null),n.webview.onDidReceiveMessage(e=>{switch(e.cmd){case"get":n.webview.postMessage({cmd:"res",o:this.oCfg});break;case"info":i.window.showInformationMessage(e.text);break;case"warn":i.window.showWarningMessage(e.text);break;case"openURL":i.env.openExternal(i.Uri.parse(e.url));break;case"input":this.inputProc(e.id,e.val)}},!1),this.openSub()}openSub(){const e=[];r.foldProc(this.fnPrj,()=>{},t=>{e.push(t),this.oCfg.code[t]}),this.pnlWV.webview.html=a.htmSrc.replace(/(href|src)="\.\//g,`$1="${this.pnlWV.webview.asWebviewUri(this.localResourceRoots)}/`).replace(/(.+)"code.\w+"(.+)<span>\w+(.+)\n/,e.map(e=>`$1"code.${e}"$2<span>${e}$3\n`).join(""))}inputProc(e,t){var n,r;const i=/^[-]?([1-9]\d*|0)$/.test(t)?Number(t):/^(true|false)$/.test(t)?t:String(t).replace(/"/g,"%22"),a=e.indexOf(".");if(a>=0){const t=e.slice(a+1),n=e.slice(0,a);this.oCfg[n][t]=i,"init"===n&&"escape"===t&&this.codSpt.setEscape(i)}else this.oCfg[e]=i;o.outputJson(this.fnPrjJs,this.oCfg),null===(r=(n=this.hRep)[e])||void 0===r||r.call(n,i)}}t.PnlPrjSetting=a,a.htmSrc=""},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6),o=n(2),a=n(142),s=n(56),c=n(159);n(160);const u=new a.default({concurrency:100,autostart:!0});function l(e,t){const n=c.detector(e);if(n&&n in s.typeHandlers){const r=s.typeHandlers[n].calculate(e,t);if(void 0!==r)return r.type=n,r}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function h(e,t){if(Buffer.isBuffer(e))return l(e);if("string"!=typeof e)throw new TypeError("invalid invocation");const n=o.resolve(e);if("function"!=typeof t){return l(function(e){const t=i.openSync(e,"r"),n=i.fstatSync(t).size,r=Math.min(n,524288),o=Buffer.alloc(r);return i.readSync(t,o,0,r,0),i.closeSync(t),o}(n),n)}u.push(()=>function(e){return r(this,void 0,void 0,(function*(){const t=yield i.promises.open(e,"r"),{size:n}=yield t.stat();if(n<=0)throw new Error("Empty file");const r=Math.min(n,524288),o=Buffer.alloc(r);return yield t.read(o,0,r,0),yield t.close(),o}))}(n).then(e=>process.nextTick(t,null,l(e,n))).catch(t))}e.exports=t=h,t.imageSize=h,t.setConcurrency=e=>{u.concurrency=e},t.types=Object.keys(s.typeHandlers)},function(e,t,n){var r=n(4),i=n(14).EventEmitter;function o(e){if(!(this instanceof o))return new o(e);i.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}e.exports=o,e.exports.default=o,r(o,i);["pop","shift","indexOf","lastIndexOf"].forEach((function(e){o.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),o.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},o.prototype.reverse=function(){return this.jobs.reverse(),this};function a(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function s(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function r(i){t.removeListener("error",n),t.removeListener("end",r),e(i,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}["push","unshift","splice"].forEach((function(e){o.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(o.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),o.prototype.start=function(e){if(e&&s.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),r=!0,i=this.session,o=null,a=!1,u=null,l=n.timeout||this.timeout;l&&(o=setTimeout((function(){a=!0,t.listeners("timeout").length>0?t.emit("timeout",f,n):f()}),l),this.timers[o]=o),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",n);var h=n(f);h&&h.then&&"function"==typeof h.then&&h.then((function(e){return f(null,e)})).catch((function(e){return f(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function f(e,s){r&&t.session===i&&(r=!1,t.pending--,null!==o&&(delete t.timers[o],clearTimeout(o)),e?t.emit("error",e,n):!1===a&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",s,n)),t.session===i&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},o.prototype.stop=function(){this.running=!1},o.prototype.end=function(e){a.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP={validate:e=>"BM"===e.toString("ascii",0,2),calculate:e=>({height:Math.abs(e.readInt32LE(22)),width:e.readUInt32LE(18)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(57);t.CUR={validate:e=>0===e.readUInt16LE(0)&&2===e.readUInt16LE(2),calculate:e=>r.ICO.calculate(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS={validate:e=>542327876===e.readUInt32LE(0),calculate:e=>({height:e.readUInt32LE(12),width:e.readUInt32LE(16)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=/^GIF8[79]a/;t.GIF={validate(e){const t=e.toString("ascii",0,6);return r.test(t)},calculate:e=>({height:e.readUInt16LE(8),width:e.readUInt16LE(6)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(e,t){const n=t+4;return[e.toString("ascii",t,n),e.readUInt32BE(n)]}function o(e){const t=r[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===e.toString("ascii",0,4),calculate(e){const t=e.length,n=e.readUInt32BE(4);let r=8,a=i(e,r),s=o(a[0]);if(r+=a[1],r===n)return s;const c={height:s.height,images:[s],width:s.width};for(;r<n&&r<t;)a=i(e,r),s=o(a[0]),r+=a[1],c.images.push(s);return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C={validate:e=>"ff4fff51"===e.toString("hex",0,4),calculate:e=>({height:e.readUInt32BE(12),width:e.readUInt32BE(8)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="66747970",i="6a703268",o="6a502020",a="72726571",s=e=>({height:e.readUInt32BE(4),width:e.readUInt32BE(8)});t.JP2={validate(e){const t=e.toString("hex",4,8),n=e.readUInt32BE(0);if(t!==o||n<1)return!1;const i=n+4,a=e.readUInt32BE(n);return e.slice(i,i+a).toString("hex",0,4)===r},calculate(e){const t=e.readUInt32BE(0);let n=t+4+e.readUInt16BE(t+2);switch(e.toString("hex",n,n+4)){case a:return n=n+4+4+(e=>{const t=e.readUInt8(0);let n=1+2*t;n=n+2+e.readUInt16BE(n)*(2+t);return n+2+e.readUInt16BE(n)*(16+t)})(e.slice(n+4)),s(e.slice(n+8,n+24));case i:return s(e.slice(n+8,n+24));default:throw new TypeError("Unsupported header found: "+e.toString("ascii",n,n+4))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(58);function i(e){return"45786966"===e.toString("hex",2,6)}function o(e,t){return{height:e.readUInt16BE(t),width:e.readUInt16BE(t+2)}}function a(e,t){const n=e.slice(2,t),i=n.toString("hex",6,8),o="4d4d"===i;if(o||"4949"===i)return function(e,t){const n=r.readUInt(e,16,14,t);for(let i=0;i<n;i++){const n=16+12*i,o=n+12;if(n>e.length)return;const a=e.slice(n,o);if(274===r.readUInt(a,16,0,t)){if(3!==r.readUInt(a,16,2,t))return;if(1!==r.readUInt(a,32,4,t))return;return r.readUInt(a,16,8,t)}}}(n,o)}function s(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")}t.JPG={validate:e=>"ffd8"===e.toString("hex",0,2),calculate(e){let t,n;for(e=e.slice(4);e.length;){const r=e.readUInt16BE(0);if(i(e)&&(t=a(e,r)),s(e,r),n=e[r+1],192===n||193===n||194===n){const n=o(e,r+5);return t?{height:n.height,orientation:t,width:n.width}:n}e=e.slice(r+2)}throw new TypeError("Invalid JPG, no size found")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KTX={validate:e=>"KTX 11"===e.toString("ascii",1,7),calculate:e=>({height:e.readUInt32LE(40),width:e.readUInt32LE(36)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.PNG={validate(e){if("PNG\r\n\n"===e.toString("ascii",1,8)){let t=e.toString("ascii",12,16);if("CgBI"===t&&(t=e.toString("ascii",28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>"CgBI"===e.toString("ascii",12,16)?{height:e.readUInt32BE(36),width:e.readUInt32BE(32)}:{height:e.readUInt32BE(20),width:e.readUInt32BE(16)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},i=Object.keys(r),o={default:e=>{let t=[];for(;e.length>0;){const n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const n=e.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[r,i]=n.split(" ");if(r&&i&&(t[r.toLowerCase()]=parseInt(i,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate(e){const t=e.toString("ascii",0,2);return i.includes(t)},calculate(e){const t=e.toString("ascii",0,2),n=r[t],i=e.toString("ascii",3).split(/[\r\n]+/);return(o[n]||o.default)(i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD={validate:e=>"8BPS"===e.toString("ascii",0,4),calculate:e=>({height:e.readUInt32BE(14),width:e.readUInt32BE(18)})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,i={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/,width:/\swidth=(['"])([^%]+?)\1/},o={cm:96/2.54,em:16,ex:8,m:96/2.54*100,mm:96/2.54/10,pc:96/72/12,pt:96/72};function a(e){const t=/([0-9.]+)([a-z]*)/.exec(e);if(t)return Math.round(parseFloat(t[1])*(o[t[2]]||1))}function s(e){const t=e.split(" ");return{height:a(t[3]),width:a(t[2])}}t.SVG={validate(e){const t=String(e);return r.test(t)},calculate(e){const t=e.toString("utf8").match(i.root);if(t){const e=function(e){const t=e.match(i.width),n=e.match(i.height),r=e.match(i.viewbox);return{height:n&&a(n[2]),viewbox:r&&s(r[2]),width:t&&a(t[2])}}(t[0]);if(e.width&&e.height)return function(e){return{height:e.height,width:e.width}}(e);if(e.viewbox)return function(e,t){const n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(e,e.viewbox)}throw new TypeError("Invalid SVG")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6),i=n(58);function o(e,t){const n=i.readUInt(e,16,8,t);return(i.readUInt(e,16,10,t)<<16)+n}function a(e){if(e.length>24)return e.slice(12)}const s=["49492a00","4d4d002a"];t.TIFF={validate:e=>s.includes(e.toString("hex",0,4)),calculate(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");const n="BE"===function(e){const t=e.toString("ascii",0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),s=function(e,t){const n={};let r=e;for(;r&&r.length;){const e=i.readUInt(r,16,0,t),s=i.readUInt(r,16,2,t),c=i.readUInt(r,32,4,t);if(0===e)break;1!==c||3!==s&&4!==s||(n[e]=o(r,t)),r=a(r)}return n}(function(e,t,n){const o=i.readUInt(e,32,4,n);let a=1024;const s=r.statSync(t).size;o+a>s&&(a=s-o-10);const c=Buffer.alloc(a),u=r.openSync(t,"r");return r.readSync(u,c,0,a,o),c.slice(2)}(e,t,n),n),c=s[256],u=s[257];if(!c||!u)throw new TypeError("Invalid Tiff. Missing tags");return{height:u,width:c}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP={validate(e){const t="RIFF"===e.toString("ascii",0,4),n="WEBP"===e.toString("ascii",8,12),r="VP8"===e.toString("ascii",12,15);return t&&n&&r},calculate(e){const t=e.toString("ascii",12,16);if(e=e.slice(20,30),"VP8X"===t){const t=e[0],n=0==(1&t);if(0==(192&t)&&n)return function(e){return{height:1+e.readUIntLE(7,3),width:1+e.readUIntLE(4,3)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&e.readInt16LE(8),width:16383&e.readInt16LE(6)}}(e);const n=e.toString("hex",3,6);if("VP8L"===t&&"9d012a"!==n)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(56),i=Object.keys(r.typeHandlers),o={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){const t=e[0];if(t in o){const n=o[t];if(r.typeHandlers[n].validate(e))return n}return i.find(t=>r.typeHandlers[t].validate(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);if(!("promises"in r)){class e{constructor(e){this.fd=e}stat(){return new Promise((e,t)=>{r.fstat(this.fd,(n,r)=>{n?t(n):e(r)})})}read(e,t,n,i){return new Promise((o,a)=>{r.read(this.fd,e,t,n,i,e=>{e?a(e):o()})})}close(){return new Promise((e,t)=>{r.close(this.fd,n=>{n?t(n):e()})})}}Object.defineProperty(r,"promises",{value:{open:(t,n)=>new Promise((i,o)=>{r.open(t,n,(t,n)=>{t?o(t):i(new e(n))})})},writable:!1})}},function(e,t,n){var r;e.exports=(r=n(1),n(34),n(162),n(163),n(23),n(24),n(40),n(59),n(164),n(60),n(165),n(166),n(167),n(41),n(168),n(18),n(7),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),r)},function(e,t,n){var r;e.exports=(r=n(1),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},function(e,t,n){var r;e.exports=(r=n(1),function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var n=e.length,r=[],i=0;i<n;i++)r[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(r,2*n)}},n.Utf16LE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],o=0;o<n;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);r.push(String.fromCharCode(a))}return r.join("")},parse:function(e){for(var n=e.length,r=[],o=0;o<n;o++)r[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(r,2*n)}}}(),r.enc.Utf16)},function(e,t,n){var r,i,o,a,s,c;e.exports=(c=n(1),n(59),i=(r=c).lib.WordArray,o=r.algo,a=o.SHA256,s=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=a._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=a._createHelper(s),r.HmacSHA224=a._createHmacHelper(s),c.SHA224)},function(e,t,n){var r,i,o,a,s,c,u,l;e.exports=(l=n(1),n(34),n(60),i=(r=l).x64,o=i.Word,a=i.WordArray,s=r.algo,c=s.SHA512,u=s.SHA384=c.extend({_doReset:function(){this._hash=new a.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var e=c._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=c._createHelper(u),r.HmacSHA384=c._createHmacHelper(u),l.SHA384)},function(e,t,n){var r;e.exports=(r=n(1),n(34),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.x64.Word,s=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,n=0;n<24;n++){c[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,h=0,f=0;f<7;f++){if(1&i){var d=(1<<f)-1;d<32?h^=1<<d:s^=1<<d-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=a.create()}();var f=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(P=n[i]).high^=a,P.low^=o}for(var s=0;s<24;s++){for(var f=0;f<5;f++){for(var d=0,p=0,m=0;m<5;m++)d^=(P=n[f+5*m]).high,p^=P.low;var g=h[f];g.high=d,g.low=p}for(f=0;f<5;f++){var y=h[(f+4)%5],v=h[(f+1)%5],b=v.high,_=v.low;for(d=y.high^(b<<1|_>>>31),p=y.low^(_<<1|b>>>31),m=0;m<5;m++)(P=n[f+5*m]).high^=d,P.low^=p}for(var w=1;w<25;w++){var S=(P=n[w]).high,x=P.low,E=c[w];E<32?(d=S<<E|x>>>32-E,p=x<<E|S>>>32-E):(d=x<<E-32|S>>>64-E,p=S<<E-32|x>>>64-E);var k=h[u[w]];k.high=d,k.low=p}var R=h[0],T=n[0];for(R.high=T.high,R.low=T.low,f=0;f<5;f++)for(m=0;m<5;m++){var P=n[w=f+5*m],I=h[w],D=h[(f+1)%5+5*m],O=h[(f+2)%5+5*m];P.high=I.high^~D.high&O.high,P.low=I.low^~D.low&O.low}P=n[0];var M=l[s];P.high^=M.high,P.low^=M.low}},_doFinalize:function(){var t=this._data,n=t.words,r=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var h=a[l],f=h.high,d=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),u.push(d),u.push(f)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=o._createHelper(f),t.HmacSHA3=o._createHmacHelper(f)}(Math),r.SHA3)},function(e,t,n){var r;e.exports=(r=n(1),
/** @preserve
	(c) 2012 by Cédric Mesnil. All rights reserved.

	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	*/
function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),f=i.create([1352829926,1548603684,1836072691,2053994217,0]),d=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,d,_,w,S,x,E,k,R,T,P=this._hash.words,I=h.words,D=f.words,O=s.words,M=c.words,B=u.words,A=l.words;for(S=o=P[0],x=a=P[1],E=d=P[2],k=_=P[3],R=w=P[4],n=0;n<80;n+=1)T=o+e[t+O[n]]|0,T+=n<16?p(a,d,_)+I[0]:n<32?m(a,d,_)+I[1]:n<48?g(a,d,_)+I[2]:n<64?y(a,d,_)+I[3]:v(a,d,_)+I[4],T=(T=b(T|=0,B[n]))+w|0,o=w,w=_,_=b(d,10),d=a,a=T,T=S+e[t+M[n]]|0,T+=n<16?v(x,E,k)+D[0]:n<32?y(x,E,k)+D[1]:n<48?g(x,E,k)+D[2]:n<64?m(x,E,k)+D[3]:p(x,E,k)+D[4],T=(T=b(T|=0,A[n]))+R|0,S=R,R=k,k=b(E,10),E=x,x=T;T=P[1]+d+k|0,P[1]=P[2]+_+R|0,P[2]=P[3]+w+S|0,P[3]=P[4]+o+x|0,P[4]=P[0]+a+E|0,P[0]=T},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function p(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function y(e,t,n){return e&n|t&~n}function v(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(d),t.HmacRIPEMD160=o._createHmacHelper(d)}(Math),r.RIPEMD160)},function(e,t,n){var r,i,o,a,s,c,u,l,h;e.exports=(h=n(1),n(40),n(41),i=(r=h).lib,o=i.Base,a=i.WordArray,s=r.algo,c=s.SHA1,u=s.HMAC,l=s.PBKDF2=o.extend({cfg:o.extend({keySize:4,hasher:c,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=u.create(n.hasher,e),i=a.create(),o=a.create([1]),s=i.words,c=o.words,l=n.keySize,h=n.iterations;s.length<l;){var f=r.update(t).finalize(o);r.reset();for(var d=f.words,p=d.length,m=f,g=1;g<h;g++){m=r.finalize(m),r.reset();for(var y=m.words,v=0;v<p;v++)d[v]^=y[v]}i.concat(f),c[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,n){return l.create(n).compute(e,t)},h.PBKDF2)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var a=0;a<n;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),r.mode.CFB)},function(e,t,n){var r,i,o;e.exports=(o=n(1),n(7),o.mode.CTR=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);n.encryptBlock(a,0),o[r-1]=o[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=a[s]}}),r.Decryptor=i,r),o.mode.CTR)},function(e,t,n){var r;e.exports=(r=n(1),n(7),
/** @preserve
	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	 * derived from CryptoJS.mode.CTR
	 * Jan Hruby jhruby.web@gmail.com
	 */
r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)e[n+c]^=s[c]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},function(e,t,n){var r,i,o;e.exports=(o=n(1),n(7),o.mode.OFB=(r=o.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var a=0;a<r;a++)e[t+a]^=o[a]}}),r.Decryptor=i,r),o.mode.OFB)},function(e,t,n){var r,i;e.exports=(i=n(1),n(7),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,o=n+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},function(e,t,n){var r;e.exports=(r=n(1),n(7),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},function(e,t,n){var r,i,o,a;e.exports=(a=n(1),n(7),i=(r=a).lib.CipherParams,o=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}},a.format.Hex)},function(e,t,n){var r;e.exports=(r=n(1),n(23),n(24),n(18),n(7),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],h=[],f=[],d=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var p=r^r<<1^r<<2^r<<3^r<<4;p=p>>>8^255&p^99,i[n]=p,o[p]=n;var m=e[n],g=e[m],y=e[g],v=257*e[p]^16843008*p;a[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,c[n]=v<<8|v>>>24,u[n]=v,v=16843009*y^65537*g^257*m^16843008*n,l[p]=v<<24|v>>>8,h[p]=v<<16|v>>>16,f[p]=v<<8|v>>>24,d[p]=v,n?(n=m^e[e[e[y^m]]],r^=e[e[r]]):n=r=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],a=0;a<r;a++)a<n?o[a]=t[a]:(u=o[a-1],a%n?n>6&&a%n==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=p[a/n|0]<<24),o[a]=o[a-n]^u);for(var s=this._invKeySchedule=[],c=0;c<r;c++){if(a=r-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^h[i[u>>>16&255]]^f[i[u>>>8&255]]^d[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,l,h,f,d,o),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,o,a,s){for(var c=this._nRounds,u=e[t]^n[0],l=e[t+1]^n[1],h=e[t+2]^n[2],f=e[t+3]^n[3],d=4,p=1;p<c;p++){var m=r[u>>>24]^i[l>>>16&255]^o[h>>>8&255]^a[255&f]^n[d++],g=r[l>>>24]^i[h>>>16&255]^o[f>>>8&255]^a[255&u]^n[d++],y=r[h>>>24]^i[f>>>16&255]^o[u>>>8&255]^a[255&l]^n[d++],v=r[f>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&h]^n[d++];u=m,l=g,h=y,f=v}m=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[h>>>8&255]<<8|s[255&f])^n[d++],g=(s[l>>>24]<<24|s[h>>>16&255]<<16|s[f>>>8&255]<<8|s[255&u])^n[d++],y=(s[h>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^n[d++],v=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&h])^n[d++],e[t]=m,e[t+1]=g,e[t+2]=y,e[t+3]=v},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},function(e,t,n){var r;e.exports=(r=n(1),n(23),n(24),n(18),n(7),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=a[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(n=0;n<24;n++)u[n/6|0]|=t[(s[n]-1+l)%28]<<31-n%6,u[4+(n/6|0)]|=t[28+(s[n+24]-1+l)%28]<<31-n%6;for(u[0]=u[0]<<1|u[0]>>>31,n=1;n<7;n++)u[n]=u[n]>>>4*(n-1)+3;u[7]=u[7]<<5|u[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],f.call(this,4,252645135),f.call(this,16,65535),d.call(this,2,858993459),d.call(this,8,16711935),f.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,f.call(this,1,1431655765),d.call(this,8,16711935),d.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function f(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function d(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(h);var p=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(p)}(),r.TripleDES)},function(e,t,n){var r;e.exports=(r=n(1),n(23),n(24),n(18),n(7),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var o=0;i<256;i++){var a=i%n,s=t[a>>>2]>>>24-a%4*8&255;o=(o+r[i]+s)%256;var c=r[i];r[i]=r[o],r[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){n=(n+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[n],e[n]=o,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)},function(e,t,n){var r;e.exports=(r=n(1),n(23),n(24),n(18),n(7),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)c.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(i[0]^=u,i[1]^=h,i[2]^=l,i[3]^=f,i[4]^=u,i[5]^=h,i[6]^=l,i[7]^=f,n=0;n<4;n++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)},function(e,t,n){var r;e.exports=(r=n(1),n(23),n(24),n(18),n(7),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),h=u>>>16|4294901760&l,f=l<<16|65535&u;for(r[0]^=u,r[1]^=h,r[2]^=l,r[3]^=f,r[4]^=u,r[5]^=h,r[6]^=l,r[7]^=f,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var n=this._X;c.call(this),i[0]=n[0]^n[5]>>>16^n[3]<<16,i[1]=n[2]^n[7]>>>16^n[5]<<16,i[2]=n[4]^n[1]>>>16^n[7]<<16,i[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)i[r]=16711935&(i[r]<<8|i[r]>>>24)|4278255360&(i[r]<<24|i[r]>>>8),e[t+r]^=i[r]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,n=0;n<8;n++)o[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],i=65535&r,s=r>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&r)*r|0)+((65535&r)*r|0);a[n]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)},function(e,t,n){var r;r=function(e){e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=e.length-1,o=0;o<i;)r=(r=r>>>8^t[255&(r^e.charCodeAt(o++))])>>>8^t[255&(r^e.charCodeAt(o++))];return o===i&&(r=r>>>8^t[255&(r^e.charCodeAt(o))]),-1^r},e.buf=function(e,n){if(e.length>1e4)return function(e,n){for(var r=-1^n,i=e.length-7,o=0;o<i;)r=(r=(r=(r=(r=(r=(r=(r=r>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])];for(;o<i+7;)r=r>>>8^t[255&(r^e[o++])];return-1^r}(e,n);for(var r=-1^n,i=e.length-3,o=0;o<i;)r=(r=(r=(r=r>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])])>>>8^t[255&(r^e[o++])];for(;o<i+3;)r=r>>>8^t[255&(r^e[o++])];return-1^r},e.str=function(e,n){for(var r,i,o=-1^n,a=0,s=e.length;a<s;)(r=e.charCodeAt(a++))<128?o=o>>>8^t[255&(o^r)]:r<2048?o=(o=o>>>8^t[255&(o^(192|r>>6&31))])>>>8^t[255&(o^(128|63&r))]:r>=55296&&r<57344?(r=64+(1023&r),i=1023&e.charCodeAt(a++),o=(o=(o=(o=o>>>8^t[255&(o^(240|r>>8&7))])>>>8^t[255&(o^(128|r>>2&63))])>>>8^t[255&(o^(128|i>>6&15|(3&r)<<4))])>>>8^t[255&(o^(128|63&i))]):o=(o=(o=o>>>8^t[255&(o^(224|r>>12&15))])>>>8^t[255&(o^(128|r>>6&63))])>>>8^t[255&(o^(128|63&r))];return-1^o}},"undefined"==typeof DO_NOT_EXPORT_CRC?r(t):r({})},function(e,t,n){
/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(187),i={},o=function(e,t){return o.create(e,t)};o.create=function(e,t){if(i[e]){var n=new r(e,t);return n.setFormat(e),n.setModule(new i[e](t)),n}throw new Error("create("+e+"): format not registered")},o.registerFormat=function(e,t){if(i[e])throw new Error("register("+e+"): format already registered");if("function"!=typeof t)throw new Error("register("+e+"): format module invalid");if("function"!=typeof t.prototype.append||"function"!=typeof t.prototype.finalize)throw new Error("register("+e+"): format module missing methods");i[e]=t},o.registerFormat("zip",n(216)),o.registerFormat("tar",n(222)),o.registerFormat("json",n(231)),e.exports=o},function(e,t,n){
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(6),i=n(188),o=n(192),a=n(2),s=n(29),c=n(3).inherits,u=n(210),l=n(12).Transform,h="win32"===process.platform,f=function(e,t){if(!(this instanceof f))return new f(e,t);"string"!=typeof e&&(t=e,e="zip"),t=this.options=s.defaults(t,{highWaterMark:1048576,statConcurrency:4}),l.call(this,t),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=o.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=o.queue(this._onStatQueueTask.bind(this),t.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};c(f,l),f.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},f.prototype._append=function(e,t){var n={source:null,filepath:e};(t=t||{}).name||(t.name=e),t.sourcePath=e,n.data=t,this._entriesCount++,t.stats&&t.stats instanceof r.Stats?(n=this._updateQueueTaskWithStats(n,t.stats))&&(t.stats.size&&(this._fsEntriesTotalBytes+=t.stats.size),this._queue.push(n)):this._statQueue.push(n)},f.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},f.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted)&&(!!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())&&(this._finalize(),!0))},f.prototype._moduleAppend=function(e,t,n){this._state.aborted?n():this._module.append(e,t,function(e){if(this._task=null,this._state.aborted)this._shutdown();else{if(e)return this.emit("error",e),void setImmediate(n);this.emit("entry",t),this._entriesProcessedCount++,t.stats&&t.stats.size&&(this._fsEntriesProcessedBytes+=t.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(n)}}.bind(this))},f.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new u("NOENDMETHOD"))},f.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},f.prototype._moduleSupports=function(e){return!(!this._module.supports||!this._module.supports[e])&&this._module.supports[e]},f.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},f.prototype._normalizeEntryData=function(e,t){e=s.defaults(e,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),t&&!1===e.stats&&(e.stats=t);var n="directory"===e.type;return e.name&&("string"==typeof e.prefix&&""!==e.prefix&&(e.name=e.prefix+"/"+e.name,e.prefix=null),e.name=s.sanitizePath(e.name),"symlink"!==e.type&&"/"===e.name.slice(-1)?(n=!0,e.type="directory"):n&&(e.name+="/")),"number"==typeof e.mode?e.mode&=h?511:4095:e.stats&&null===e.mode?(e.mode=h?511&e.stats.mode:4095&e.stats.mode,h&&n&&(e.mode=493)):null===e.mode&&(e.mode=n?493:420),e.stats&&null===e.date?e.date=e.stats.mtime:e.date=s.dateify(e.date),e},f.prototype._onModuleError=function(e){this.emit("error",e)},f.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},f.prototype._onQueueTask=function(e,t){var n=()=>{e.data.callback&&e.data.callback(),t()};this._state.finalizing||this._state.finalized||this._state.aborted?n():(this._task=e,this._moduleAppend(e.source,e.data,n))},f.prototype._onStatQueueTask=function(e,t){this._state.finalizing||this._state.finalized||this._state.aborted?t():r.lstat(e.filepath,function(n,r){if(this._state.aborted)setImmediate(t);else{if(n)return this._entriesCount--,this.emit("warning",n),void setImmediate(t);(e=this._updateQueueTaskWithStats(e,r))&&(r.size&&(this._fsEntriesTotalBytes+=r.size),this._queue.push(e)),setImmediate(t)}}.bind(this))},f.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},f.prototype._transform=function(e,t,n){e&&(this._pointer+=e.length),n(null,e)},f.prototype._updateQueueTaskWithStats=function(e,t){if(t.isFile())e.data.type="file",e.data.sourceType="stream",e.source=s.lazyReadStream(e.filepath);else if(t.isDirectory()&&this._moduleSupports("directory"))e.data.name=s.trailingSlashIt(e.data.name),e.data.type="directory",e.data.sourcePath=s.trailingSlashIt(e.filepath),e.data.sourceType="buffer",e.source=Buffer.concat([]);else{if(!t.isSymbolicLink()||!this._moduleSupports("symlink"))return t.isDirectory()?this.emit("warning",new u("DIRECTORYNOTSUPPORTED",e.data)):t.isSymbolicLink()?this.emit("warning",new u("SYMLINKNOTSUPPORTED",e.data)):this.emit("warning",new u("ENTRYNOTSUPPORTED",e.data)),null;var n=r.readlinkSync(e.filepath),i=a.dirname(e.filepath);e.data.type="symlink",e.data.linkname=a.relative(i,a.resolve(i,n)),e.data.sourceType="buffer",e.source=Buffer.concat([])}return e.data=this._normalizeEntryData(e.data,t),e},f.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},f.prototype.append=function(e,t){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof(t=this._normalizeEntryData(t)).name||0===t.name.length)return this.emit("error",new u("ENTRYNAMEREQUIRED")),this;if("directory"===t.type&&!this._moduleSupports("directory"))return this.emit("error",new u("DIRECTORYNOTSUPPORTED",{name:t.name})),this;if(e=s.normalizeInputSource(e),Buffer.isBuffer(e))t.sourceType="buffer";else{if(!s.isStream(e))return this.emit("error",new u("INPUTSTEAMBUFFERREQUIRED",{name:t.name})),this;t.sourceType="stream"}return this._entriesCount++,this._queue.push({data:t,source:e}),this},f.prototype.directory=function(e,t,n){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new u("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===t?t="":"string"!=typeof t&&(t=e);var r=!1;"function"==typeof n?(r=n,n={}):"object"!=typeof n&&(n={});var o=i(e,{stat:!0,dot:!0});return o.on("error",function(e){this.emit("error",e)}.bind(this)),o.on("match",function(i){o.pause();var a=!1,s=Object.assign({},n);s.name=i.relative,s.prefix=t,s.stats=i.stat,s.callback=o.resume.bind(o);try{if(r)if(!1===(s=r(s)))a=!0;else if("object"!=typeof s)throw new u("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:e})}catch(e){return void this.emit("error",e)}a?o.resume():this._append(i.absolute,s)}.bind(this)),o.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},f.prototype.file=function(e,t){return this._state.finalize||this._state.aborted?(this.emit("error",new u("QUEUECLOSED")),this):"string"!=typeof e||0===e.length?(this.emit("error",new u("FILEFILEPATHREQUIRED")),this):(this._append(e,t),this)},f.prototype.glob=function(e,t,n){this._pending++,t=s.defaults(t,{stat:!0,pattern:e});var r=i(t.cwd||".",t);return r.on("error",function(e){this.emit("error",e)}.bind(this)),r.on("match",function(e){r.pause();var t=Object.assign({},n);t.callback=r.resume.bind(r),t.stats=e.stat,t.name=e.relative,this._append(e.absolute,t)}.bind(this)),r.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},f.prototype.finalize=function(){if(this._state.aborted)return this.emit("error",new u("ABORTED")),this;if(this._state.finalize)return this.emit("error",new u("FINALIZING")),this;this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var e=this;return new Promise((function(t,n){var r;e._module.on("end",(function(){r||t()})),e._module.on("error",(function(e){r=!0,n(e)}))}))},f.prototype.setFormat=function(e){return this._format?(this.emit("error",new u("FORMATSET")),this):(this._format=e,this)},f.prototype.setModule=function(e){return this._state.aborted?(this.emit("error",new u("ABORTED")),this):this._state.module?(this.emit("error",new u("MODULESET")),this):(this._module=e,this._modulePipe(),this)},f.prototype.symlink=function(e,t){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new u("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new u("SYMLINKTARGETREQUIRED",{filepath:e})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new u("SYMLINKNOTSUPPORTED",{filepath:e})),this;var n={type:"symlink"};return n.name=e.replace(/\\/g,"/"),n.linkname=t.replace(/\\/g,"/"),n.sourceType="buffer",this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this},f.prototype.pointer=function(){return this._pointer},f.prototype.use=function(e){return this._streams.push(e),this},e.exports=f},function(e,t,n){e.exports=l;const r=n(6),{EventEmitter:i}=n(14),{Minimatch:o}=n(35),{resolve:a}=n(2);function s(e,t){return new Promise((n,i)=>{(t?r.stat:r.lstat)(e,(r,i)=>{if(r)switch(r.code){case"ENOENT":n(t?s(e,!1):null);break;default:n(null)}else n(i)})})}async function*c(e,t,n,i,o){let a=await function(e,t){return new Promise((n,i)=>{r.readdir(e,{withFileTypes:!0},(e,r)=>{if(e)switch(e.code){case"ENOTDIR":t?i(e):n([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":n([]);break;case"ELOOP":default:i(e)}else n(r)})})}(t+e,o);for(const r of a){const o=e+"/"+r.name,a=o.slice(1),u=t+"/"+a;let l=null;(i||n)&&(l=await s(u,n)),l=l||r,yield{relative:a,absolute:u,stats:l},l.isDirectory()&&(yield*c(o,t,n,i,!1))}}class u extends i{constructor(e,t,n){if(super(),"function"==typeof t&&(n=t),this.options=function(e){return{pattern:e.pattern,dot:!!e.dot,noglobstar:!!e.noglobstar,matchBase:!!e.matchBase,nocase:!!e.nocase,ignore:e.ignore,follow:!!e.follow,stat:!!e.stat,nodir:!!e.nodir,mark:!!e.mark,silent:!!e.silent,absolute:!!e.absolute}}(t||{}),this.matchers=[],this.options.pattern){const e=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=e.map(e=>new o(this.options.pattern,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){const e=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=e.map(e=>new o(e,{dot:!0}))}this.iterator=async function*(e,t,n){yield*c("",e,t,n,!0)}(a(e||"."),this.options.follow,this.options.stat),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",e=>this._matches.push(this.options.absolute?e.absolute:e.relative)),this.on("error",e=>n(e)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_fileMatches(e,t){const n=e+(t?"/":"");return this.matchers.every(e=>e.match(n))&&!this.ignoreMatchers.some(e=>e.match(n))&&(!this.options.nodir||!t)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then(e=>{if(e.done)this.emit("end");else{const t=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,t)){let n=e.value.relative,r=e.value.absolute;this.options.mark&&t&&(n+="/",r+="/"),this.options.stat?this.emit("match",{relative:n,absolute:r,stat:e.value.stats}):this.emit("match",{relative:n,absolute:r})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),e.code||this.options.silent||console.error(e)})}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function l(e,t,n){return new u(e,t,n)}l.ReaddirGlob=u},function(e,t,n){var r=n(190),i=n(191);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var o=[],a=i("{","}",t);if(!a||/\$$/.test(a.pre))return[t];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(a.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(a.body),g=u||h,y=a.body.indexOf(",")>=0;if(!g&&!y)return a.post.match(/,.*\}/)?(t=a.pre+"{"+a.body+s+a.post,e(t)):[t];if(g)c=a.body.split(/\.\./);else{if(1===(c=function e(t){if(!t)return[""];var n=[],r=i("{","}",t);if(!r)return t.split(",");var o=r.pre,a=r.body,s=r.post,c=o.split(",");c[c.length-1]+="{"+a+"}";var u=e(s);s.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(a.body)).length)if(1===(c=e(c[0],!1).map(f)).length)return(_=a.post.length?e(a.post,!1):[""]).map((function(e){return a.pre+c[0]+e}))}var v,b=a.pre,_=a.post.length?e(a.post,!1):[""];if(g){var w=l(c[0]),S=l(c[1]),x=Math.max(c[0].length,c[1].length),E=3==c.length?Math.abs(l(c[2])):1,k=p;S<w&&(E*=-1,k=m);var R=c.some(d);v=[];for(var T=w;k(T,S);T+=E){var P;if(h)"\\"===(P=String.fromCharCode(T))&&(P="");else if(P=String(T),R){var I=x-P.length;if(I>0){var D=new Array(I+1).join("0");P=T<0?"-"+D+P.slice(1):D+P}}v.push(P)}}else v=r(c,(function(t){return e(t,!1)}));for(var O=0;O<v.length;O++)for(var M=0;M<_.length;M++){var B=b+v[O]+_[M];(!n||g||B)&&o.push(B)}return o}(function(e){return e.split("\\\\").join(o).split("\\{").join(a).split("\\}").join(s).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",a="\0OPEN"+Math.random()+"\0",s="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(o).join("\\").split(a).join("{").split(s).join("}").split(c).join(",").split(u).join(".")}function f(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function p(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t){e.exports=function(e,t){for(var r=[],i=0;i<e.length;i++){var o=t(e[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";function r(e,t,n){e instanceof RegExp&&(e=i(e,n)),t instanceof RegExp&&(t=i(t,n));var r=o(e,t,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+e.length,r[1]),post:n.slice(r[1]+t.length)}}function i(e,t){var n=t.match(e);return n?n[0]:null}function o(e,t,n){var r,i,o,a,s,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!s;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?s=[r.pop(),u]:((i=r.pop())<o&&(o=i,a=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(s=[o,a])}return s}e.exports=r,r.range=o},function(e,t,n){"use strict";function r(e,...t){return(...n)=>e(...t,...n)}function i(e){return function(...t){var n=t.pop();return e.call(this,t,n)}}n.r(t),n.d(t,"apply",(function(){return r})),n.d(t,"applyEach",(function(){return D})),n.d(t,"applyEachSeries",(function(){return B})),n.d(t,"asyncify",(function(){return l})),n.d(t,"auto",(function(){return L})),n.d(t,"autoInject",(function(){return U})),n.d(t,"cargo",(function(){return K})),n.d(t,"cargoQueue",(function(){return G})),n.d(t,"compose",(function(){return J})),n.d(t,"concat",(function(){return X})),n.d(t,"concatLimit",(function(){return Q})),n.d(t,"concatSeries",(function(){return ee})),n.d(t,"constant",(function(){return te})),n.d(t,"detect",(function(){return re})),n.d(t,"detectLimit",(function(){return ie})),n.d(t,"detectSeries",(function(){return oe})),n.d(t,"dir",(function(){return se})),n.d(t,"doUntil",(function(){return ue})),n.d(t,"doWhilst",(function(){return ce})),n.d(t,"each",(function(){return he})),n.d(t,"eachLimit",(function(){return fe})),n.d(t,"eachOf",(function(){return P})),n.d(t,"eachOfLimit",(function(){return k})),n.d(t,"eachOfSeries",(function(){return O})),n.d(t,"eachSeries",(function(){return de})),n.d(t,"ensureAsync",(function(){return pe})),n.d(t,"every",(function(){return me})),n.d(t,"everyLimit",(function(){return ge})),n.d(t,"everySeries",(function(){return ye})),n.d(t,"filter",(function(){return we})),n.d(t,"filterLimit",(function(){return Se})),n.d(t,"filterSeries",(function(){return xe})),n.d(t,"forever",(function(){return Ee})),n.d(t,"groupBy",(function(){return Re})),n.d(t,"groupByLimit",(function(){return ke})),n.d(t,"groupBySeries",(function(){return Te})),n.d(t,"log",(function(){return Pe})),n.d(t,"map",(function(){return I})),n.d(t,"mapLimit",(function(){return Z})),n.d(t,"mapSeries",(function(){return M})),n.d(t,"mapValues",(function(){return De})),n.d(t,"mapValuesLimit",(function(){return Ie})),n.d(t,"mapValuesSeries",(function(){return Oe})),n.d(t,"memoize",(function(){return Me})),n.d(t,"nextTick",(function(){return Be})),n.d(t,"parallel",(function(){return Ce})),n.d(t,"parallelLimit",(function(){return Le})),n.d(t,"priorityQueue",(function(){return Fe})),n.d(t,"queue",(function(){return Ne})),n.d(t,"race",(function(){return Ue})),n.d(t,"reduce",(function(){return Y})),n.d(t,"reduceRight",(function(){return ze})),n.d(t,"reflect",(function(){return We})),n.d(t,"reflectAll",(function(){return He})),n.d(t,"reject",(function(){return Ge})),n.d(t,"rejectLimit",(function(){return Ye})),n.d(t,"rejectSeries",(function(){return Ve})),n.d(t,"retry",(function(){return Ze})),n.d(t,"retryable",(function(){return Xe})),n.d(t,"seq",(function(){return V})),n.d(t,"series",(function(){return et})),n.d(t,"setImmediate",(function(){return u})),n.d(t,"some",(function(){return tt})),n.d(t,"someLimit",(function(){return nt})),n.d(t,"someSeries",(function(){return rt})),n.d(t,"sortBy",(function(){return it})),n.d(t,"timeout",(function(){return ot})),n.d(t,"times",(function(){return st})),n.d(t,"timesLimit",(function(){return at})),n.d(t,"timesSeries",(function(){return ct})),n.d(t,"transform",(function(){return ut})),n.d(t,"tryEach",(function(){return lt})),n.d(t,"unmemoize",(function(){return ht})),n.d(t,"until",(function(){return dt})),n.d(t,"waterfall",(function(){return pt})),n.d(t,"whilst",(function(){return ft})),n.d(t,"all",(function(){return me})),n.d(t,"allLimit",(function(){return ge})),n.d(t,"allSeries",(function(){return ye})),n.d(t,"any",(function(){return tt})),n.d(t,"anyLimit",(function(){return nt})),n.d(t,"anySeries",(function(){return rt})),n.d(t,"find",(function(){return re})),n.d(t,"findLimit",(function(){return ie})),n.d(t,"findSeries",(function(){return oe})),n.d(t,"flatMap",(function(){return X})),n.d(t,"flatMapLimit",(function(){return Q})),n.d(t,"flatMapSeries",(function(){return ee})),n.d(t,"forEach",(function(){return he})),n.d(t,"forEachSeries",(function(){return de})),n.d(t,"forEachLimit",(function(){return fe})),n.d(t,"forEachOf",(function(){return P})),n.d(t,"forEachOfSeries",(function(){return O})),n.d(t,"forEachOfLimit",(function(){return k})),n.d(t,"inject",(function(){return Y})),n.d(t,"foldl",(function(){return Y})),n.d(t,"foldr",(function(){return ze})),n.d(t,"select",(function(){return we})),n.d(t,"selectLimit",(function(){return Se})),n.d(t,"selectSeries",(function(){return xe})),n.d(t,"wrapSync",(function(){return l})),n.d(t,"during",(function(){return ft})),n.d(t,"doDuring",(function(){return ce}));var o="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function s(e){setTimeout(e,0)}function c(e){return(t,...n)=>e(()=>t(...n))}var u=c(o?setImmediate:a?process.nextTick:s);function l(e){return d(e)?function(...t){const n=t.pop();return h(e.apply(this,t),n)}:i((function(t,n){var r;try{r=e.apply(this,t)}catch(e){return n(e)}if(r&&"function"==typeof r.then)return h(r,n);n(null,r)}))}function h(e,t){return e.then(e=>{f(t,null,e)},e=>{f(t,e&&e.message?e:new Error(e))})}function f(e,t,n){try{e(t,n)}catch(e){u(e=>{throw e},e)}}function d(e){return"AsyncFunction"===e[Symbol.toStringTag]}function p(e){if("function"!=typeof e)throw new Error("expected a function");return d(e)?l(e):e}function m(e,t=e.length){if(!t)throw new Error("arity is undefined");return function(...n){return"function"==typeof n[t-1]?e.apply(this,n):new Promise((r,i)=>{n[t-1]=(e,...t)=>{if(e)return i(e);r(t.length>1?t:t[0])},e.apply(this,n)})}}function g(e){return function(t,...n){return m((function(r){var i=this;return e(t,(e,t)=>{p(e).apply(i,n.concat(t))},r)}))}}function y(e,t,n,r){t=t||[];var i=[],o=0,a=p(n);return e(t,(e,t,n)=>{var r=o++;a(e,(e,t)=>{i[r]=t,n(e)})},e=>{r(e,i)})}function v(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const b={};function _(e){function t(...t){if(null!==e){var n=e;e=null,n.apply(this,t)}}return Object.assign(t,e),t}function w(e){if(v(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t,n,r,i,o=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return o?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(o):(n=(t=e)?Object.keys(t):[],r=-1,i=n.length,function(){var e=n[++r];return r<i?{value:t[e],key:e}:null})}function S(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,t)}}function x(e,t,n,r){let i=!1,o=!1,a=!1,s=0,c=0;function u(){s>=t||a||i||(a=!0,e.next().then(({value:e,done:t})=>{if(!o&&!i){if(a=!1,t)return i=!0,void(s<=0&&r(null));s++,n(e,c,l),c++,u()}}).catch(h))}function l(e,t){if(s-=1,!o)return e?h(e):!1===e?(i=!0,void(o=!0)):t===b||i&&s<=0?(i=!0,r(null)):void u()}function h(e){o||(a=!1,i=!0,r(e))}u()}var E=e=>(t,n,r)=>{if(r=_(r),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return r(null);if("AsyncGenerator"===t[Symbol.toStringTag])return x(t,e,n,r);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return x(t[Symbol.asyncIterator](),e,n,r);var i=w(t),o=!1,a=!1,s=0,c=!1;function u(e,t){if(!a)if(s-=1,e)o=!0,r(e);else if(!1===e)o=!0,a=!0;else{if(t===b||o&&s<=0)return o=!0,r(null);c||l()}}function l(){for(c=!0;s<e&&!o;){var t=i();if(null===t)return o=!0,void(s<=0&&r(null));s+=1,n(t.value,t.key,S(u))}c=!1}l()};var k=m((function(e,t,n,r){return E(t)(e,p(n),r)}),4);function R(e,t,n){n=_(n);var r=0,i=0,{length:o}=e,a=!1;function s(e,t){!1===e&&(a=!0),!0!==a&&(e?n(e):++i!==o&&t!==b||n(null))}for(0===o&&n(null);r<o;r++)t(e[r],r,S(s))}function T(e,t,n){return k(e,1/0,t,n)}var P=m((function(e,t,n){return(v(e)?R:T)(e,p(t),n)}),3);var I=m((function(e,t,n){return y(P,e,t,n)}),3),D=g(I);var O=m((function(e,t,n){return k(e,1,t,n)}),3);var M=m((function(e,t,n){return y(O,e,t,n)}),3),B=g(M);const A=Symbol("promiseCallback");function C(){let e,t;function n(n,...r){if(n)return t(n);e(r.length>1?r:r[0])}return n[A]=new Promise((n,r)=>{e=n,t=r}),n}function L(e,t,n){"number"!=typeof t&&(n=t,t=null),n=_(n||C());var r=Object.keys(e).length;if(!r)return n(null);t||(t=r);var i={},o=0,a=!1,s=!1,c=Object.create(null),u=[],l=[],h={};function f(e,t){u.push(()=>function(e,t){if(s)return;var r=S((t,...r)=>{if(o--,!1!==t)if(r.length<2&&([r]=r),t){var u={};if(Object.keys(i).forEach(e=>{u[e]=i[e]}),u[e]=r,s=!0,c=Object.create(null),a)return;n(t,u)}else i[e]=r,(c[e]||[]).forEach(e=>e()),d();else a=!0});o++;var u=p(t[t.length-1]);t.length>1?u(i,r):u(r)}(e,t))}function d(){if(!a){if(0===u.length&&0===o)return n(null,i);for(;u.length&&o<t;){u.shift()()}}}function m(t){var n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)&&i.indexOf(t)>=0&&n.push(r)}),n}return Object.keys(e).forEach(t=>{var n=e[t];if(!Array.isArray(n))return f(t,[n]),void l.push(t);var r=n.slice(0,n.length-1),i=r.length;if(0===i)return f(t,n),void l.push(t);h[t]=i,r.forEach(o=>{if(!e[o])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+o+"` in "+r.join(", "));!function(e,t){var n=c[e];n||(n=c[e]=[]);n.push(t)}(o,()=>{0===--i&&f(t,n)})})}),function(){var e,t=0;for(;l.length;)e=l.pop(),t++,m(e).forEach(e=>{0==--h[e]&&l.push(e)});if(t!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),n[A]}var N=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,q=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,j=/,/,$=/(=.+)?(\s*)$/,F=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function U(e,t){var n={};return Object.keys(e).forEach(t=>{var r,i=e[t],o=d(i),a=!o&&1===i.length||o&&0===i.length;if(Array.isArray(i))r=[...i],i=r.pop(),n[t]=r.concat(r.length>0?s:i);else if(a)n[t]=i;else{if(r=function(e){const t=e.toString().replace(F,"");let n=t.match(N);if(n||(n=t.match(q)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,r]=n;return r.replace(/\s/g,"").split(j).map(e=>e.replace($,"").trim())}(i),0===i.length&&!o&&0===r.length)throw new Error("autoInject task functions require explicit parameters.");o||r.pop(),n[t]=r.concat(s)}function s(e,t){var n=r.map(t=>e[t]);n.push(t),p(i)(...n)}}),L(n,t)}class z{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):W(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):W(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function W(e,t){e.length=1,e.head=e.tail=t}function H(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var r=p(e),i=0,o=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function s(e,t){return e?t?void(a[e]=a[e].filter(e=>e!==t)):a[e]=[]:Object.keys(a).forEach(e=>a[e]=[])}function c(e,...t){a[e].forEach(e=>e(...t))}var l=!1;function h(e,t,n,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");var i,o;function a(e,...t){return e?n?o(e):i():t.length<=1?i(t[0]):void i(t)}y.started=!0;var s={data:e,callback:n?a:r||a};if(t?y._tasks.unshift(s):y._tasks.push(s),l||(l=!0,u(()=>{l=!1,y.process()})),n||!r)return new Promise((e,t)=>{i=e,o=t})}function f(e){return function(t,...n){i-=1;for(var r=0,a=e.length;r<a;r++){var s=e[r],u=o.indexOf(s);0===u?o.shift():u>0&&o.splice(u,1),s.callback(t,...n),null!=t&&c("error",t,s.data)}i<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function d(e){return!(0!==e.length||!y.idle())&&(u(()=>c("drain")),!0)}const m=e=>t=>{if(!t)return new Promise((t,n)=>{!function(e,t){const n=(...r)=>{s(e,n),t(...r)};a[e].push(n)}(e,(e,r)=>{if(e)return n(e);t(r)})});s(e),function(e,t){a[e].push(t)}(e,t)};var g=!1,y={_tasks:new z,*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>h(e,!1,!1,t))}return h(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>h(e,!1,!0,t))}return h(e,!1,!0,t)},kill(){s(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>h(e,!0,!1,t))}return h(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map(e=>h(e,!0,!0,t))}return h(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!g){for(g=!0;!y.paused&&i<y.concurrency&&y._tasks.length;){var e=[],t=[],n=y._tasks.length;y.payload&&(n=Math.min(n,y.payload));for(var a=0;a<n;a++){var s=y._tasks.shift();e.push(s),o.push(s),t.push(s.data)}i+=1,0===y._tasks.length&&c("empty"),i===y.concurrency&&c("saturated");var u=S(f(e));r(t,u)}g=!1}},length:()=>y._tasks.length,running:()=>i,workersList:()=>o,idle:()=>y._tasks.length+i===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,u(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:m("saturated")},unsaturated:{writable:!1,value:m("unsaturated")},empty:{writable:!1,value:m("empty")},drain:{writable:!1,value:m("drain")},error:{writable:!1,value:m("error")}}),y}function K(e,t){return H(e,1,t)}function G(e,t,n){return H(e,t,n)}var Y=m((function(e,t,n,r){r=_(r);var i=p(n);return O(e,(e,n,r)=>{i(t,e,(e,n)=>{t=n,r(e)})},e=>r(e,t))}),4);function V(...e){var t=e.map(p);return function(...e){var n=this,r=e[e.length-1];return"function"==typeof r?e.pop():r=C(),Y(t,e,(e,t,r)=>{t.apply(n,e.concat((e,...t)=>{r(e,t)}))},(e,t)=>r(e,...t)),r[A]}}function J(...e){return V(...e.reverse())}var Z=m((function(e,t,n,r){return y(E(t),e,n,r)}),4);var Q=m((function(e,t,n,r){var i=p(n);return Z(e,t,(e,t)=>{i(e,(e,...n)=>e?t(e):t(e,n))},(e,t)=>{for(var n=[],i=0;i<t.length;i++)t[i]&&(n=n.concat(...t[i]));return r(e,n)})}),4);var X=m((function(e,t,n){return Q(e,1/0,t,n)}),3);var ee=m((function(e,t,n){return Q(e,1,t,n)}),3);function te(...e){return function(...t){return t.pop()(null,...e)}}function ne(e,t){return(n,r,i,o)=>{var a,s=!1;const c=p(i);n(r,(n,r,i)=>{c(n,(r,o)=>r||!1===r?i(r):e(o)&&!a?(s=!0,a=t(!0,n),i(null,b)):void i())},e=>{if(e)return o(e);o(null,s?a:t(!1))})}}var re=m((function(e,t,n){return ne(e=>e,(e,t)=>t)(P,e,t,n)}),3);var ie=m((function(e,t,n,r){return ne(e=>e,(e,t)=>t)(E(t),e,n,r)}),4);var oe=m((function(e,t,n){return ne(e=>e,(e,t)=>t)(E(1),e,t,n)}),3);function ae(e){return(t,...n)=>p(t)(...n,(t,...n)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&n.forEach(t=>console[e](t)))})}var se=ae("dir");var ce=m((function(e,t,n){n=S(n);var r,i=p(e),o=p(t);function a(e,...t){if(e)return n(e);!1!==e&&(r=t,o(...t,s))}function s(e,t){return e?n(e):!1!==e?t?void i(a):n(null,...r):void 0}return s(null,!0)}),3);function ue(e,t,n){const r=p(t);return ce(e,(...e)=>{const t=e.pop();r(...e,(e,n)=>t(e,!n))},n)}function le(e){return(t,n,r)=>e(t,r)}var he=m((function(e,t,n){return P(e,le(p(t)),n)}),3);var fe=m((function(e,t,n,r){return E(t)(e,le(p(n)),r)}),4);var de=m((function(e,t,n){return fe(e,1,t,n)}),3);function pe(e){return d(e)?e:function(...t){var n=t.pop(),r=!0;t.push((...e)=>{r?u(()=>n(...e)):n(...e)}),e.apply(this,t),r=!1}}var me=m((function(e,t,n){return ne(e=>!e,e=>!e)(P,e,t,n)}),3);var ge=m((function(e,t,n,r){return ne(e=>!e,e=>!e)(E(t),e,n,r)}),4);var ye=m((function(e,t,n){return ne(e=>!e,e=>!e)(O,e,t,n)}),3);function ve(e,t,n,r){var i=new Array(t.length);e(t,(e,t,r)=>{n(e,(e,n)=>{i[t]=!!n,r(e)})},e=>{if(e)return r(e);for(var n=[],o=0;o<t.length;o++)i[o]&&n.push(t[o]);r(null,n)})}function be(e,t,n,r){var i=[];e(t,(e,t,r)=>{n(e,(n,o)=>{if(n)return r(n);o&&i.push({index:t,value:e}),r(n)})},e=>{if(e)return r(e);r(null,i.sort((e,t)=>e.index-t.index).map(e=>e.value))})}function _e(e,t,n,r){return(v(t)?ve:be)(e,t,p(n),r)}var we=m((function(e,t,n){return _e(P,e,t,n)}),3);var Se=m((function(e,t,n,r){return _e(E(t),e,n,r)}),4);var xe=m((function(e,t,n){return _e(O,e,t,n)}),3);var Ee=m((function(e,t){var n=S(t),r=p(pe(e));return function e(t){if(t)return n(t);!1!==t&&r(e)}()}),2);var ke=m((function(e,t,n,r){var i=p(n);return Z(e,t,(e,t)=>{i(e,(n,r)=>n?t(n):t(n,{key:r,val:e}))},(e,t)=>{for(var n={},{hasOwnProperty:i}=Object.prototype,o=0;o<t.length;o++)if(t[o]){var{key:a}=t[o],{val:s}=t[o];i.call(n,a)?n[a].push(s):n[a]=[s]}return r(e,n)})}),4);function Re(e,t,n){return ke(e,1/0,t,n)}function Te(e,t,n){return ke(e,1,t,n)}var Pe=ae("log");var Ie=m((function(e,t,n,r){r=_(r);var i={},o=p(n);return E(t)(e,(e,t,n)=>{o(e,t,(e,r)=>{if(e)return n(e);i[t]=r,n(e)})},e=>r(e,i))}),4);function De(e,t,n){return Ie(e,1/0,t,n)}function Oe(e,t,n){return Ie(e,1,t,n)}function Me(e,t=(e=>e)){var n=Object.create(null),r=Object.create(null),o=p(e),a=i((e,i)=>{var a=t(...e);a in n?u(()=>i(null,...n[a])):a in r?r[a].push(i):(r[a]=[i],o(...e,(e,...t)=>{e||(n[a]=t);var i=r[a];delete r[a];for(var o=0,s=i.length;o<s;o++)i[o](e,...t)}))});return a.memo=n,a.unmemoized=e,a}var Be=c(a?process.nextTick:o?setImmediate:s),Ae=m((e,t,n)=>{var r=v(t)?[]:{};e(t,(e,t,n)=>{p(e)((e,...i)=>{i.length<2&&([i]=i),r[t]=i,n(e)})},e=>n(e,r))},3);function Ce(e,t){return Ae(P,e,t)}function Le(e,t,n){return Ae(E(t),e,n)}function Ne(e,t){var n=p(e);return H((e,t)=>{n(e[0],t)},t,1)}class qe{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&$e(this.heap[e],this.heap[t=je(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=1+(e<<1))<this.heap.length&&(t+1<this.heap.length&&$e(this.heap[t+1],this.heap[t])&&(t+=1),!$e(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let e=je(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function je(e){return(e+1>>1)-1}function $e(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function Fe(e,t){var n=Ne(e,t);return n._tasks=new qe,n.push=function(e,t=0,r=(()=>{})){if("function"!=typeof r)throw new Error("task callback must be a function");if(n.started=!0,Array.isArray(e)||(e=[e]),0===e.length&&n.idle())return u(()=>n.drain());for(var i=0,o=e.length;i<o;i++){var a={data:e[i],priority:t,callback:r};n._tasks.push(a)}u(n.process)},delete n.unshift,n}var Ue=m((function(e,t){if(t=_(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,r=e.length;n<r;n++)p(e[n])(t)}),2);function ze(e,t,n,r){var i=[...e].reverse();return Y(i,t,n,r)}function We(e){var t=p(e);return i((function(e,n){return e.push((e,...t)=>{let r={};if(e&&(r.error=e),t.length>0){var i=t;t.length<=1&&([i]=t),r.value=i}n(null,r)}),t.apply(this,e)}))}function He(e){var t;return Array.isArray(e)?t=e.map(We):(t={},Object.keys(e).forEach(n=>{t[n]=We.call(this,e[n])})),t}function Ke(e,t,n,r){const i=p(n);return _e(e,t,(e,t)=>{i(e,(e,n)=>{t(e,!n)})},r)}var Ge=m((function(e,t,n){return Ke(P,e,t,n)}),3);var Ye=m((function(e,t,n,r){return Ke(E(t),e,n,r)}),4);var Ve=m((function(e,t,n){return Ke(O,e,t,n)}),3);function Je(e){return function(){return e}}function Ze(e,t,n){var r={times:5,intervalFunc:Je(0)};if(arguments.length<3&&"function"==typeof e?(n=t||C(),t=e):(Qe(r,e),n=n||C()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var i=p(t),o=1;function a(){i((e,...t)=>{!1!==e&&(e&&o++<r.times&&("function"!=typeof r.errorFilter||r.errorFilter(e))?setTimeout(a,r.intervalFunc(o-1)):n(e,...t))})}return a(),n[A]}function Qe(e,t){if("object"==typeof t)e.times=+t.times||5,e.intervalFunc="function"==typeof t.interval?t.interval:Je(+t.interval||0),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||5}}function Xe(e,t){t||(t=e,e=null);let n=e&&e.arity||t.length;d(t)&&(n+=1);var r=p(t);return i((t,i)=>{function o(e){r(...t,e)}return(t.length<n-1||null==i)&&(t.push(i),i=C()),e?Ze(e,o,i):Ze(o,i),i[A]})}function et(e,t){return Ae(O,e,t)}var tt=m((function(e,t,n){return ne(Boolean,e=>e)(P,e,t,n)}),3);var nt=m((function(e,t,n,r){return ne(Boolean,e=>e)(E(t),e,n,r)}),4);var rt=m((function(e,t,n){return ne(Boolean,e=>e)(O,e,t,n)}),3);var it=m((function(e,t,n){var r=p(t);return I(e,(e,t)=>{r(e,(n,r)=>{if(n)return t(n);t(n,{value:e,criteria:r})})},(e,t)=>{if(e)return n(e);n(null,t.sort(i).map(e=>e.value))});function i(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}}),3);function ot(e,t,n){var r=p(e);return i((i,o)=>{var a,s=!1;i.push((...e)=>{s||(o(...e),clearTimeout(a))}),a=setTimeout((function(){var t=e.name||"anonymous",r=new Error('Callback function "'+t+'" timed out.');r.code="ETIMEDOUT",n&&(r.info=n),s=!0,o(r)}),t),r(...i)})}function at(e,t,n,r){var i=p(n);return Z(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,i,r)}function st(e,t,n){return at(e,1/0,t,n)}function ct(e,t,n){return at(e,1,t,n)}function ut(e,t,n,r){arguments.length<=3&&"function"==typeof t&&(r=n,n=t,t=Array.isArray(e)?[]:{}),r=_(r||C());var i=p(n);return P(e,(e,n,r)=>{i(t,e,n,r)},e=>r(e,t)),r[A]}var lt=m((function(e,t){var n,r=null;return de(e,(e,t)=>{p(e)((e,...i)=>{if(!1===e)return t(e);i.length<2?[n]=i:n=i,r=e,t(e?null:{})})},()=>t(r,n))}));function ht(e){return(...t)=>(e.unmemoized||e)(...t)}var ft=m((function(e,t,n){n=S(n);var r=p(t),i=p(e),o=[];function a(e,...t){if(e)return n(e);o=t,!1!==e&&i(s)}function s(e,t){return e?n(e):!1!==e?t?void r(a):n(null,...o):void 0}return i(s)}),3);function dt(e,t,n){const r=p(e);return ft(e=>r((t,n)=>e(t,!n)),t,n)}var pt=m((function(e,t){if(t=_(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function r(t){p(e[n++])(...t,S(i))}function i(i,...o){if(!1!==i)return i||n===e.length?t(i,...o):void r(o)}r([])})),mt={apply:r,applyEach:D,applyEachSeries:B,asyncify:l,auto:L,autoInject:U,cargo:K,cargoQueue:G,compose:J,concat:X,concatLimit:Q,concatSeries:ee,constant:te,detect:re,detectLimit:ie,detectSeries:oe,dir:se,doUntil:ue,doWhilst:ce,each:he,eachLimit:fe,eachOf:P,eachOfLimit:k,eachOfSeries:O,eachSeries:de,ensureAsync:pe,every:me,everyLimit:ge,everySeries:ye,filter:we,filterLimit:Se,filterSeries:xe,forever:Ee,groupBy:Re,groupByLimit:ke,groupBySeries:Te,log:Pe,map:I,mapLimit:Z,mapSeries:M,mapValues:De,mapValuesLimit:Ie,mapValuesSeries:Oe,memoize:Me,nextTick:Be,parallel:Ce,parallelLimit:Le,priorityQueue:Fe,queue:Ne,race:Ue,reduce:Y,reduceRight:ze,reflect:We,reflectAll:He,reject:Ge,rejectLimit:Ye,rejectSeries:Ve,retry:Ze,retryable:Xe,seq:V,series:et,setImmediate:u,some:tt,someLimit:nt,someSeries:rt,sortBy:it,timeout:ot,times:st,timesLimit:at,timesSeries:ct,transform:ut,tryEach:lt,unmemoize:ht,until:dt,waterfall:pt,whilst:ft,all:me,allLimit:ge,allSeries:ye,any:tt,anyLimit:nt,anySeries:rt,find:re,findLimit:ie,findSeries:oe,flatMap:X,flatMapLimit:Q,flatMapSeries:ee,forEach:he,forEachSeries:de,forEachLimit:fe,forEachOf:P,forEachOfSeries:O,forEachOfLimit:k,inject:Y,foldl:Y,foldr:ze,select:we,selectLimit:Se,selectSeries:xe,wrapSync:l,during:ft,doDuring:ce};t.default=mt},function(e,t,n){var r=n(3),i=n(194);function o(e,t,n){e[t]=function(){return delete e[t],n.apply(this,arguments),this[t].apply(this,arguments)}}function a(e,t){if(!(this instanceof a))return new a(e,t);i.call(this,t),o(this,"_read",(function(){var n=e.call(this,t),r=this.emit.bind(this,"error");n.on("error",r),n.pipe(this)})),this.emit("readable")}function s(e,t){if(!(this instanceof s))return new s(e,t);i.call(this,t),o(this,"_write",(function(){var n=e.call(this,t),r=this.emit.bind(this,"error");n.on("error",r),this.pipe(n)})),this.emit("writable")}e.exports={Readable:a,Writable:s},r.inherits(a,i),r.inherits(s,i)},function(e,t,n){e.exports=n(195).PassThrough},function(e,t,n){var r=n(9);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(61)).Stream=r||t,t.Readable=t,t.Writable=n(65),t.Duplex=n(25),t.Transform=n(66),t.PassThrough=n(197))},function(e,t,n){"use strict";var r=n(19).Buffer,i=n(3);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";e.exports=o;var r=n(66),i=Object.create(n(11));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(4),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=i.propertyIsEnumerable,c=Math.max;function u(e,t){var n=g(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&y(e)}(e)&&o.call(e,"callee")&&(!s.call(e,"callee")||"[object Arguments]"==a.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var c in e)!t&&!o.call(e,c)||i&&("length"==c||p(c,r))||n.push(c);return n}function l(e,t,n,r){return void 0===e||m(e,i[n])&&!o.call(r,n)?t:e}function h(e,t,n){var r=e[t];o.call(e,t)&&m(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function f(e){if(!v(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,a=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||i,t===r),s=[];for(var c in e)("constructor"!=c||!a&&o.call(e,c))&&s.push(c);return s}function d(e,t){return t=c(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=c(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=a,r(e,this,s)}}function p(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}function m(e,t){return e===t||e!=e&&t!=t}var g=Array.isArray;function y(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=v(e)?a.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var b,_=(b=function(e,t,n,r){!function(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=r?r(n[a],e[a],a,n,e):void 0;h(n,a,void 0===s?e[a]:s)}}(t,function(e){return y(e)?u(e,!0):f(e)}(t),e,r)},d((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=b.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!v(n))return!1;var r=typeof t;return!!("number"==r?y(n)&&p(t,n.length):"string"==r&&t in n)&&m(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&b(e,a,n,i)}return e}))),w=d((function(e){return e.push(void 0,l),r(_,void 0,e)}));e.exports=w},function(e,t,n){var r=n(9);"disable"===process.env.READABLE_STREAM&&r?(e.exports=r,(t=e.exports=r.Readable).Readable=r.Readable,t.Writable=r.Writable,t.Duplex=r.Duplex,t.Transform=r.Transform,t.PassThrough=r.PassThrough,t.Stream=r):((t=e.exports=n(68)).Stream=r||t,t.Readable=t,t.Writable=n(71),t.Duplex=n(27),t.Transform=n(72),t.PassThrough=n(201))},function(e,t,n){"use strict";var r=n(19).Buffer,i=n(3);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,i,o=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=o,i=s,t.copy(n,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t,n){"use strict";e.exports=o;var r=n(72),i=Object.create(n(11));function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}i.inherits=n(4),i.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(5),i=n(2),o=n(203),a=n(204),s=n(205),c=n(206),u=n(73),l=e.exports={},h=/[\/\\]/g;l.exists=function(){var e=i.join.apply(i,arguments);return r.existsSync(e)},l.expand=function(...e){var t=c(e[0])?e.shift():{},n=Array.isArray(e[0])?e[0]:e;if(0===n.length)return[];var l=function(e,t){var n=[];return o(e).forEach((function(e){var r=0===e.indexOf("!");r&&(e=e.slice(1));var i=t(e);n=r?a(n,i):s(n,i)})),n}(n,(function(e){return u.sync(e,t)}));return t.filter&&(l=l.filter((function(e){e=i.join(t.cwd||"",e);try{return"function"==typeof t.filter?t.filter(e):r.statSync(e)[t.filter]()}catch(e){return!1}}))),l},l.expandMapping=function(e,t,n){n=Object.assign({rename:function(e,t){return i.join(e||"",t)}},n);var r=[],o={};return l.expand(n,e).forEach((function(e){var a=e;n.flatten&&(a=i.basename(a)),n.ext&&(a=a.replace(/(\.[^\/]*)?$/,n.ext));var s=n.rename(t,a,n);n.cwd&&(e=i.join(n.cwd,e)),s=s.replace(h,"/"),e=e.replace(h,"/"),o[s]?o[s].src.push(e):(r.push({src:[e],dest:s}),o[s]=r[r.length-1])})),r},l.normalizeFilesArray=function(e){var t=[];return e.forEach((function(e){("src"in e||"dest"in e)&&t.push(e)})),0===t.length?[]:t=_(t).chain().forEach((function(e){"src"in e&&e.src&&(Array.isArray(e.src)?e.src=o(e.src):e.src=[e.src])})).map((function(e){var t=Object.assign({},e);if(delete t.src,delete t.dest,e.expand)return l.expandMapping(e.src,e.dest,t).map((function(t){var n=Object.assign({},e);return n.orig=Object.assign({},e),n.src=t.src,n.dest=t.dest,["expand","cwd","flatten","rename","ext"].forEach((function(e){delete n[e]})),n}));var n=Object.assign({},e);return n.orig=Object.assign({},e),"src"in n&&Object.defineProperty(n,"src",{enumerable:!0,get:function n(){var r;return"result"in n||(r=e.src,r=Array.isArray(r)?o(r):[r],n.result=l.expand(t,r)),n.result}}),"dest"in n&&(n.dest=e.dest),n})).flatten().value()}},function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function o(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var a=Object.prototype,s=a.hasOwnProperty,c=a.toString,u=i.Symbol,l=a.propertyIsEnumerable,h=u?u.isConcatSpreadable:void 0;function f(e){return d(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&s.call(e,"callee")&&(!l.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(h&&e&&e[h])}var d=Array.isArray;e.exports=function(e){return(e?e.length:0)?function e(t,n,r,i,a){var s=-1,c=t.length;for(r||(r=f),a||(a=[]);++s<c;){var u=t[s];n>0&&r(u)?n>1?e(u,n-1,r,i,a):o(a,u):i||(a[a.length]=u)}return a}(e,1):[]}},function(e,t){var n=/^\[object .+?Constructor\]$/,r="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,l,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function l(e){return e!=e}function h(e,t){return e.has(t)}var f,d=Array.prototype,p=Function.prototype,m=Object.prototype,g=o["__core-js_shared__"],y=(f=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",v=p.toString,b=m.hasOwnProperty,_=m.toString,w=RegExp("^"+v.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),S=o.Symbol,x=m.propertyIsEnumerable,E=d.splice,k=S?S.isConcatSpreadable:void 0,R=Math.max,T=N(o,"Map"),P=N(Object,"create");function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.__data__=new O;++t<n;)this.add(e[t])}function B(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function A(e,t,n,r){var i,o=-1,a=s,u=!0,l=e.length,f=[],d=t.length;if(!l)return f;n&&(t=function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(t,(i=n,function(e){return i(e)}))),r?(a=c,u=!1):t.length>=200&&(a=h,u=!1,t=new M(t));e:for(;++o<l;){var p=e[o],m=n?n(p):p;if(p=r||0!==p?p:0,u&&m==m){for(var g=d;g--;)if(t[g]===m)continue e;f.push(p)}else a(t,m,r)||f.push(p)}return f}function C(e){return!(!K(e)||(t=e,y&&y in t))&&(H(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?w:n).test(function(e){if(null!=e){try{return v.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function L(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function N(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return C(n)?n:void 0}function q(e){return U(e)||function(e){return W(e)&&b.call(e,"callee")&&(!x.call(e,"callee")||"[object Arguments]"==_.call(e))}(e)||!!(k&&e&&e[k])}I.prototype.clear=function(){this.__data__=P?P(null):{}},I.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},I.prototype.get=function(e){var t=this.__data__;if(P){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return b.call(t,e)?t[e]:void 0},I.prototype.has=function(e){var t=this.__data__;return P?void 0!==t[e]:b.call(t,e)},I.prototype.set=function(e,t){return this.__data__[e]=P&&void 0===t?"__lodash_hash_undefined__":t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,n=B(t,e);return!(n<0)&&(n==t.length-1?t.pop():E.call(t,n,1),!0)},D.prototype.get=function(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return B(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},O.prototype.clear=function(){this.__data__={hash:new I,map:new(T||D),string:new I}},O.prototype.delete=function(e){return L(this,e).delete(e)},O.prototype.get=function(e){return L(this,e).get(e)},O.prototype.has=function(e){return L(this,e).has(e)},O.prototype.set=function(e,t){return L(this,e).set(e,t),this},M.prototype.add=M.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},M.prototype.has=function(e){return this.__data__.has(e)};var j,$,F=(j=function(e,t){return W(e)?A(e,function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=q),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):u(o,c):i||(o[o.length]=c)}return o}(t,1,W,!0)):[]},$=R(void 0===$?j.length-1:$,0),function(){for(var e=arguments,t=-1,n=R(e.length-$,0),r=Array(n);++t<n;)r[t]=e[$+t];t=-1;for(var i=Array($+1);++t<$;)i[t]=e[t];return i[$]=r,a(j,this,i)});var U=Array.isArray;function z(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!H(e)}function W(e){return function(e){return!!e&&"object"==typeof e}(e)&&z(e)}function H(e){var t=K(e)?_.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function K(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=F},function(e,t){var n=/^\[object .+?Constructor\]$/,r="object"==typeof global&&global&&global.Object===Object&&global,i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();function a(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,l,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function u(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function l(e){return e!=e}function h(e,t){return e.has(t)}function f(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var d,p=Array.prototype,m=Function.prototype,g=Object.prototype,y=o["__core-js_shared__"],v=(d=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",b=m.toString,_=g.hasOwnProperty,w=g.toString,S=RegExp("^"+b.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),x=o.Symbol,E=g.propertyIsEnumerable,k=p.splice,R=x?x.isConcatSpreadable:void 0,T=Math.max,P=j(o,"Map"),I=j(o,"Set"),D=j(Object,"create");function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function B(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function A(e){var t=-1,n=e?e.length:0;for(this.__data__=new B;++t<n;)this.add(e[t])}function C(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function L(e){return!(!Y(e)||(t=e,v&&v in t))&&(G(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?S:n).test(function(e){if(null!=e){try{return b.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}O.prototype.clear=function(){this.__data__=D?D(null):{}},O.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},O.prototype.get=function(e){var t=this.__data__;if(D){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return _.call(t,e)?t[e]:void 0},O.prototype.has=function(e){var t=this.__data__;return D?void 0!==t[e]:_.call(t,e)},O.prototype.set=function(e,t){return this.__data__[e]=D&&void 0===t?"__lodash_hash_undefined__":t,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(e){var t=this.__data__,n=C(t,e);return!(n<0)&&(n==t.length-1?t.pop():k.call(t,n,1),!0)},M.prototype.get=function(e){var t=this.__data__,n=C(t,e);return n<0?void 0:t[n][1]},M.prototype.has=function(e){return C(this.__data__,e)>-1},M.prototype.set=function(e,t){var n=this.__data__,r=C(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},B.prototype.clear=function(){this.__data__={hash:new O,map:new(P||M),string:new O}},B.prototype.delete=function(e){return q(this,e).delete(e)},B.prototype.get=function(e){return q(this,e).get(e)},B.prototype.has=function(e){return q(this,e).has(e)},B.prototype.set=function(e,t){return q(this,e).set(e,t),this},A.prototype.add=A.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},A.prototype.has=function(e){return this.__data__.has(e)};var N=I&&1/f(new I([,-0]))[1]==1/0?function(e){return new I(e)}:function(){};function q(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function j(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}function $(e){return W(e)||function(e){return K(e)&&_.call(e,"callee")&&(!E.call(e,"callee")||"[object Arguments]"==w.call(e))}(e)||!!(R&&e&&e[R])}var F,U,z=(F=function(e){return function(e,t,n){var r=-1,i=s,o=e.length,a=!0,u=[],l=u;if(n)a=!1,i=c;else if(o>=200){var d=t?null:N(e);if(d)return f(d);a=!1,i=h,l=new A}else l=t?[]:u;e:for(;++r<o;){var p=e[r],m=t?t(p):p;if(p=n||0!==p?p:0,a&&m==m){for(var g=l.length;g--;)if(l[g]===m)continue e;t&&l.push(m),u.push(p)}else i(l,m,n)||(l!==u&&l.push(m),u.push(p))}return u}(function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=$),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):u(o,c):i||(o[o.length]=c)}return o}(e,1,K,!0))},U=T(void 0===U?F.length-1:U,0),function(){for(var e=arguments,t=-1,n=T(e.length-U,0),r=Array(n);++t<n;)r[t]=e[U+t];t=-1;for(var i=Array(U+1);++t<U;)i[t]=e[t];return i[U]=r,a(F,this,i)});var W=Array.isArray;function H(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!G(e)}function K(e){return function(e){return!!e&&"object"==typeof e}(e)&&H(e)}function G(e){var t=Y(e)?w.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=z},function(e,t){var n,r,i=Function.prototype,o=Object.prototype,a=i.toString,s=o.hasOwnProperty,c=a.call(Object),u=o.toString,l=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==c}},function(e,t,n){var r=n(2),i="win32"===process.platform,o=n(6),a=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function s(e){return"function"==typeof e?e:function(){var e;if(a){var t=new Error;e=function(e){e&&(t.message=e.message,n(e=t))}}else e=n;return e;function n(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;t.realpathSync=function(e,t){if(e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var n,a,s,l,h=e,f={},d={};function p(){var t=u.exec(e);n=t[0].length,a=t[0],s=t[0],l="",i&&!d[s]&&(o.lstatSync(s),d[s]=!0)}for(p();n<e.length;){c.lastIndex=n;var m=c.exec(e);if(l=a,a+=m[0],s=l+m[1],n=c.lastIndex,!(d[s]||t&&t[s]===s)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,s))g=t[s];else{var y=o.lstatSync(s);if(!y.isSymbolicLink()){d[s]=!0,t&&(t[s]=s);continue}var v=null;if(!i){var b=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(b)&&(v=f[b])}null===v&&(o.statSync(s),v=o.readlinkSync(s)),g=r.resolve(l,v),t&&(t[s]=g),i||(f[b]=v)}e=r.resolve(g,e.slice(n)),p()}}return t&&(t[h]=e),e},t.realpath=function(e,t,n){if("function"!=typeof n&&(n=s(t),t=null),e=r.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(n.bind(null,null,t[e]));var a,l,h,f,d=e,p={},m={};function g(){var t=u.exec(e);a=t[0].length,l=t[0],h=t[0],f="",i&&!m[h]?o.lstat(h,(function(e){if(e)return n(e);m[h]=!0,y()})):process.nextTick(y)}function y(){if(a>=e.length)return t&&(t[d]=e),n(null,e);c.lastIndex=a;var r=c.exec(e);return f=l,l+=r[0],h=f+r[1],a=c.lastIndex,m[h]||t&&t[h]===h?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,h)?_(t[h]):o.lstat(h,v)}function v(e,r){if(e)return n(e);if(!r.isSymbolicLink())return m[h]=!0,t&&(t[h]=h),process.nextTick(y);if(!i){var a=r.dev.toString(32)+":"+r.ino.toString(32);if(p.hasOwnProperty(a))return b(null,p[a],h)}o.stat(h,(function(e){if(e)return n(e);o.readlink(h,(function(e,t){i||(p[a]=t),b(e,t)}))}))}function b(e,i,o){if(e)return n(e);var a=r.resolve(f,i);t&&(t[o]=a),_(a)}function _(t){e=r.resolve(t,e.slice(a)),g()}g()}},function(e,t,n){e.exports=p,p.GlobSync=m;var r=n(6),i=n(74),o=n(35),a=(o.Minimatch,n(73).Glob,n(3),n(2)),s=n(31),c=n(43),u=n(75),l=(u.alphasort,u.alphasorti,u.setopts),h=u.ownProp,f=u.childrenIgnored,d=u.isIgnored;function p(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(e,t).found}function m(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(e,t);if(l(this,e,t),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(s(this instanceof m),this.realpath){var e=this;this.matches.forEach((function(t,n){var r=e.matches[n]=Object.create(null);for(var o in t)try{o=e._makeAbs(o),r[i.realpathSync(o,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;r[e._makeAbs(o)]=!0}}))}u.finish(this)},m.prototype._process=function(e,t,n){s(this instanceof m);for(var r,i=0;"string"==typeof e[i];)i++;switch(i){case e.length:return void this._processSimple(e.join("/"),t);case 0:r=null;break;default:r=e.slice(0,i).join("/")}var a,u=e.slice(i);null===r?a=".":c(r)||c(e.join("/"))?(r&&c(r)||(r="/"+r),a=r):a=r;var l=this._makeAbs(a);f(this,a)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,a,l,u,t,n):this._processReaddir(r,a,l,u,t,n))},m.prototype._processReaddir=function(e,t,n,r,i,o){var s=this._readdir(n,o);if(s){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),f=[],d=0;d<s.length;d++){if("."!==(g=s[d]).charAt(0)||h)(u&&!e?!g.match(c):g.match(c))&&f.push(g)}var p=f.length;if(0!==p)if(1!==r.length||this.mark||this.stat){r.shift();for(d=0;d<p;d++){var m;g=f[d];m=e?[e,g]:[g],this._process(m.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<p;d++){var g=f[d];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(e,t){if(!d(this,t)){var n=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=n),!this.matches[e][t]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},m.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,n;try{n=r.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[e]=i,i||!n||n.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},m.prototype._readdir=function(e,t){if(t&&!h(this.symlinks,e))return this._readdirInGlobStar(e);if(h(this.cache,e)){var n=this.cache[e];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,r.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},m.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var r=t[n];r="/"===e?e+r:e+"/"+r,this.cache[r]=!0}return this.cache[e]=t,t},m.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(t.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=t.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},m.prototype._processGlobStar=function(e,t,n,r,i,o){var a=this._readdir(n,o);if(a){var s=r.slice(1),c=e?[e]:[],u=c.concat(s);this._process(u,i,!1);var l=a.length;if(!this.symlinks[n]||!o)for(var h=0;h<l;h++){if("."!==a[h].charAt(0)||this.dot){var f=c.concat(a[h],s);this._process(f,i,!0);var d=c.concat(a[h],r);this._process(d,i,!0)}}}},m.prototype._processSimple=function(e,t){var n=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),n){if(e&&c(e)&&!this.nomount){var r=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),r&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},m.prototype._stat=function(e){var t=this._makeAbs(e),n="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[t];if(!o){var a;try{a=r.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{o=r.statSync(t)}catch(e){o=a}else o=a}this.statCache[t]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(e){return u.mark(this,e)},m.prototype._makeAbs=function(e){return u.makeAbs(this,e)}},function(e,t,n){var r=n(76),i=Object.create(null),o=n(44);function a(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r]=e[r];return n}e.exports=r((function(e,t){return i[e]?(i[e].push(t),null):(i[e]=[t],function(e){return o((function t(){var n=i[e],r=n.length,o=a(arguments);try{for(var s=0;s<r;s++)n[s].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){t.apply(null,o)}))):delete i[e]}}))}(e))}))},function(e,t,n){
/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(3);const i={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function o(e,t){Error.captureStackTrace(this,this.constructor),this.message=i[e]||e,this.code=e,this.data=t}r.inherits(o,Error),e.exports=o},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(0).Buffer,s=n(3).inspect,c=s&&s.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n,u;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t,n,r,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,a.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:c,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,n),u&&o(t,u),e}()},function(e,t,n){"use strict";var r;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(45),a=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),f=Symbol("stream");function d(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var n=e[f].read();null!==n&&(e[l]=null,e[a]=null,e[s]=null,t(d(n,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i(r={get stream(){return this[f]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise((function(t,n){process.nextTick((function(){e[c]?n(e[c]):t(d(void 0,!0))}))}));var n,r=this[l];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(d(void 0,!0)):t[h](n,r)}),r)}}(r,this));else{var i=this[f].read();if(null!==i)return Promise.resolve(d(i,!1));n=new Promise(this[h])}return this[l]=n,n}},Symbol.asyncIterator,(function(){return this})),i(r,"return",(function(){var e=this;return new Promise((function(t,n){e[f].destroy(null,(function(e){e?n(e):t(d(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(i(t={},f,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,h,{value:function(e,t){var r=n[f].read();r?(n[l]=null,n[a]=null,n[s]=null,e(d(r,!1))):(n[a]=e,n[s]=t)},writable:!0}),t));return n[l]=null,o(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[s];return null!==t&&(n[l]=null,n[a]=null,n[s]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[l]=null,n[a]=null,n[s]=null,r(d(void 0,!0))),n[u]=!0})),e.on("readable",m.bind(null,n)),n}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,c,"next",e)}function c(e){r(a,i,o,s,c,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(20).codes.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"==typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),u=!1;function l(){return h.apply(this,arguments)}function h(){return(h=i((function*(){try{var e=yield r.next(),t=e.value;e.done?c.push(null):c.push(yield t)?l():u=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){u||(u=!0,l())},c}},function(e,t,n){"use strict";e.exports=i;var r=n(82);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(4)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){"use strict";var r;var i=n(20).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function c(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(45)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var c=!1;return function(t){if(!s&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function u(e){e()}function l(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return c(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(u),o||(a.forEach(u),i(r))}))}));return t.reduce(l)}},function(e,t,n){
/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(217),i=n(29),o=function(e){if(!(this instanceof o))return new o(e);e=this.options=i.defaults(e,{comment:"",forceUTC:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new r(e)};o.prototype.append=function(e,t,n){this.engine.entry(e,t,n)},o.prototype.finalize=function(){this.engine.finalize()},o.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},o.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},o.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)},e.exports=o},function(e,t,n){
/**
 * ZipStream
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
 * @copyright (c) 2014 Chris Talkington, contributors.
 */
var r=n(3).inherits,i=n(83).ZipArchiveOutputStream,o=n(83).ZipArchiveEntry,a=n(29),s=e.exports=function(e){if(!(this instanceof s))return new s(e);(e=this.options=e||{}).zlib=e.zlib||{},i.call(this,e),"number"==typeof e.level&&e.level>=0&&(e.zlib.level=e.level,delete e.level),e.forceZip64||"number"!=typeof e.zlib.level||0!==e.zlib.level||(e.store=!0),e.comment&&e.comment.length>0&&this.setComment(e.comment)};r(s,i),s.prototype._normalizeFileData=function(e){var t="directory"===(e=a.defaults(e,{type:"file",name:null,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,n="symlink"===e.type;return e.name&&(e.name=a.sanitizePath(e.name),n||"/"!==e.name.slice(-1)?t&&(e.name+="/"):(t=!0,e.type="directory")),(t||n)&&(e.store=!0),e.date=a.dateify(e.date),e},s.prototype.entry=function(e,t,n){if("function"!=typeof n&&(n=this._emitErrorCallback.bind(this)),"file"===(t=this._normalizeFileData(t)).type||"directory"===t.type||"symlink"===t.type)if("string"==typeof t.name&&0!==t.name.length){if("symlink"!==t.type||"string"==typeof t.linkname){var r=new o(t.name);return r.setTime(t.date,this.options.forceLocalTime),t.store&&r.setMethod(0),t.comment.length>0&&r.setComment(t.comment),"symlink"===t.type&&"number"!=typeof t.mode&&(t.mode=40960),"number"==typeof t.mode&&("symlink"===t.type&&(t.mode|=40960),r.setUnixMode(t.mode)),"symlink"===t.type&&"string"==typeof t.linkname&&(e=Buffer.from(t.linkname)),i.prototype.entry.call(this,r,e,n)}n(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else n(new Error("entry name must be a non-empty string value"));else n(new Error(t.type+" entries not currently supported"))},s.prototype.finalize=function(){this.finish()}},function(e,t){e.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}},function(e,t,n){var r=n(3).inherits,i=n(89),{CRC32Stream:o}=n(90),{DeflateCRC32Stream:a}=n(90),s=n(87),c=(n(84),n(85),n(86)),u=(n(88),n(47)),l=e.exports=function(e){if(!(this instanceof l))return new l(e);e=this.options=this._defaults(e),s.call(this,e),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:e.forceZip64,forceLocalTime:e.forceLocalTime}};r(l,s),l.prototype._afterAppend=function(e){this._entries.push(e),e.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(e),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},l.prototype._appendBuffer=function(e,t,n){0===t.length&&e.setMethod(c.METHOD_STORED);var r=e.getMethod();return r===c.METHOD_STORED&&(e.setSize(t.length),e.setCompressedSize(t.length),e.setCrc(i.unsigned(t))),this._writeLocalFileHeader(e),r===c.METHOD_STORED?(this.write(t),this._afterAppend(e),void n(null,e)):r===c.METHOD_DEFLATED?void this._smartStream(e,n).end(t):void n(new Error("compression method "+r+" not implemented"))},l.prototype._appendStream=function(e,t,n){e.getGeneralPurposeBit().useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(e);var r=this._smartStream(e,n);t.once("error",(function(e){r.emit("error",e),r.end()})),t.pipe(r)},l.prototype._defaults=function(e){return"object"!=typeof e&&(e={}),"object"!=typeof e.zlib&&(e.zlib={}),"number"!=typeof e.zlib.level&&(e.zlib.level=c.ZLIB_BEST_SPEED),e.forceZip64=!!e.forceZip64,e.forceLocalTime=!!e.forceLocalTime,e},l.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(e){this._writeCentralFileHeader(e)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},l.prototype._normalizeEntry=function(e){-1===e.getMethod()&&e.setMethod(c.METHOD_DEFLATED),e.getMethod()===c.METHOD_DEFLATED&&(e.getGeneralPurposeBit().useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_DATA_DESCRIPTOR)),-1===e.getTime()&&e.setTime(new Date,this._archive.forceLocalTime),e._offsets={file:0,data:0,contents:0}},l.prototype._smartStream=function(e,t){var n=e.getMethod()===c.METHOD_DEFLATED?new a(this.options.zlib):new o,r=null;return n.once("end",function(){var i=n.digest().readUInt32BE(0);e.setCrc(i),e.setSize(n.size()),e.setCompressedSize(n.size(!0)),this._afterAppend(e),t(r,e)}.bind(this)),n.once("error",(function(e){r=e})),n.pipe(this,{end:!1}),n},l.prototype._writeCentralDirectoryEnd=function(){var e=this._entries.length,t=this._archive.centralLength,n=this._archive.centralOffset;this.isZip64()&&(e=c.ZIP64_MAGIC_SHORT,t=c.ZIP64_MAGIC,n=c.ZIP64_MAGIC),this.write(u.getLongBytes(c.SIG_EOCD)),this.write(c.SHORT_ZERO),this.write(c.SHORT_ZERO),this.write(u.getShortBytes(e)),this.write(u.getShortBytes(e)),this.write(u.getLongBytes(t)),this.write(u.getLongBytes(n));var r=this.getComment(),i=Buffer.byteLength(r);this.write(u.getShortBytes(i)),this.write(r)},l.prototype._writeCentralDirectoryZip64=function(){this.write(u.getLongBytes(c.SIG_ZIP64_EOCD)),this.write(u.getEightBytes(44)),this.write(u.getShortBytes(c.MIN_VERSION_ZIP64)),this.write(u.getShortBytes(c.MIN_VERSION_ZIP64)),this.write(c.LONG_ZERO),this.write(c.LONG_ZERO),this.write(u.getEightBytes(this._entries.length)),this.write(u.getEightBytes(this._entries.length)),this.write(u.getEightBytes(this._archive.centralLength)),this.write(u.getEightBytes(this._archive.centralOffset)),this.write(u.getLongBytes(c.SIG_ZIP64_EOCD_LOC)),this.write(c.LONG_ZERO),this.write(u.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(u.getLongBytes(1))},l.prototype._writeCentralFileHeader=function(e){var t=e.getGeneralPurposeBit(),n=e.getMethod(),r=e._offsets,i=e.getSize(),o=e.getCompressedSize();if(e.isZip64()||r.file>c.ZIP64_MAGIC){i=c.ZIP64_MAGIC,o=c.ZIP64_MAGIC,e.setVersionNeededToExtract(c.MIN_VERSION_ZIP64);var a=Buffer.concat([u.getShortBytes(c.ZIP64_EXTRA_ID),u.getShortBytes(24),u.getEightBytes(e.getSize()),u.getEightBytes(e.getCompressedSize()),u.getEightBytes(r.file)],28);e.setExtra(a)}this.write(u.getLongBytes(c.SIG_CFH)),this.write(u.getShortBytes(e.getPlatform()<<8|c.VERSION_MADEBY)),this.write(u.getShortBytes(e.getVersionNeededToExtract())),this.write(t.encode()),this.write(u.getShortBytes(n)),this.write(u.getLongBytes(e.getTimeDos())),this.write(u.getLongBytes(e.getCrc())),this.write(u.getLongBytes(o)),this.write(u.getLongBytes(i));var s=e.getName(),l=e.getComment(),h=e.getCentralDirectoryExtra();t.usesUTF8ForNames()&&(s=Buffer.from(s),l=Buffer.from(l)),this.write(u.getShortBytes(s.length)),this.write(u.getShortBytes(h.length)),this.write(u.getShortBytes(l.length)),this.write(c.SHORT_ZERO),this.write(u.getShortBytes(e.getInternalAttributes())),this.write(u.getLongBytes(e.getExternalAttributes())),r.file>c.ZIP64_MAGIC?this.write(u.getLongBytes(c.ZIP64_MAGIC)):this.write(u.getLongBytes(r.file)),this.write(s),this.write(h),this.write(l)},l.prototype._writeDataDescriptor=function(e){this.write(u.getLongBytes(c.SIG_DD)),this.write(u.getLongBytes(e.getCrc())),e.isZip64()?(this.write(u.getEightBytes(e.getCompressedSize())),this.write(u.getEightBytes(e.getSize()))):(this.write(u.getLongBytes(e.getCompressedSize())),this.write(u.getLongBytes(e.getSize())))},l.prototype._writeLocalFileHeader=function(e){var t=e.getGeneralPurposeBit(),n=e.getMethod(),r=e.getName(),i=e.getLocalFileDataExtra();e.isZip64()&&(t.useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_ZIP64)),t.usesUTF8ForNames()&&(r=Buffer.from(r)),e._offsets.file=this.offset,this.write(u.getLongBytes(c.SIG_LFH)),this.write(u.getShortBytes(e.getVersionNeededToExtract())),this.write(t.encode()),this.write(u.getShortBytes(n)),this.write(u.getLongBytes(e.getTimeDos())),e._offsets.data=this.offset,t.usesDataDescriptor()?(this.write(c.LONG_ZERO),this.write(c.LONG_ZERO),this.write(c.LONG_ZERO)):(this.write(u.getLongBytes(e.getCrc())),this.write(u.getLongBytes(e.getCompressedSize())),this.write(u.getLongBytes(e.getSize()))),this.write(u.getShortBytes(r.length)),this.write(u.getShortBytes(i.length)),this.write(r),this.write(i),e._offsets.contents=this.offset},l.prototype.getComment=function(e){return null!==this._archive.comment?this._archive.comment:""},l.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>c.ZIP64_MAGIC_SHORT||this._archive.centralLength>c.ZIP64_MAGIC||this._archive.centralOffset>c.ZIP64_MAGIC},l.prototype.setComment=function(e){this._archive.comment=e}},function(e,t,n){"use strict";const{Transform:r}=n(12),{crc32:i}=n(94);e.exports=class extends r{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,t,n){e&&(this.checksum=i(e,this.checksum),this.rawSize+=e.length),n(null,e)}digest(e){const t=Buffer.allocUnsafe(4);return t.writeUInt32BE(this.checksum>>>0,0),e?t.toString(e):t}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}}},function(e,t,n){"use strict";const{DeflateRaw:r}=n(91),{crc32:i}=n(94);e.exports=class extends r{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,t){return e&&(this.compressedSize+=e.length),super.push(e,t)}write(e,t,n){return e&&(this.checksum=i(e,this.checksum),this.rawSize+=e.length),super.write(e,t,n)}digest(e){const t=Buffer.allocUnsafe(4);return t.writeUInt32BE(this.checksum>>>0,0),e?t.toString(e):t}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}}},function(e,t,n){
/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(91),i=n(223),o=n(29),a=function(e){if(!(this instanceof a))return new a(e);"object"!=typeof(e=this.options=o.defaults(e,{gzip:!1})).gzipOptions&&(e.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=i.pack(e),this.compressor=!1,e.gzip&&(this.compressor=r.createGzip(e.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};a.prototype._onCompressorError=function(e){this.engine.emit("error",e)},a.prototype.append=function(e,t,n){var r=this;function i(e,i){e?n(e):r.engine.entry(t,i,(function(e){n(e,t)}))}if(t.mtime=t.date,"buffer"===t.sourceType)i(null,e);else if("stream"===t.sourceType&&t.stats){t.size=t.stats.size;var a=r.engine.entry(t,(function(e){n(e,t)}));e.pipe(a)}else"stream"===t.sourceType&&o.collectStream(e,i)},a.prototype.finalize=function(){this.engine.finalize()},a.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},a.prototype.pipe=function(e,t){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(e,t):this.engine.pipe.apply(this.engine,arguments)},a.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)},e.exports=a},function(e,t,n){t.extract=n(224),t.pack=n(227)},function(e,t,n){var r=n(3),i=n(225),o=n(92),a=n(12).Writable,s=n(12).PassThrough,c=function(){},u=function(e){return(e&=511)&&512-e},l=function(e,t){this._parent=e,this.offset=t,s.call(this,{autoDestroy:!1})};r.inherits(l,s),l.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);a.call(this,e),e=e||{},this._offset=0,this._buffer=i(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,n=t._buffer,r=function(){t._continue()},s=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||r()},f=function(){t._stream=null;var e=u(t._header.size);e?t._parse(e,d):t._parse(512,v),t._locked||r()},d=function(){t._buffer.consume(u(t._header.size)),t._parse(512,v),r()},p=function(){var e=t._header.size;t._paxGlobal=o.decodePax(n.slice(0,e)),n.consume(e),f()},m=function(){var e=t._header.size;t._pax=o.decodePax(n.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),n.consume(e),f()},g=function(){var r=t._header.size;this._gnuLongPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),f()},y=function(){var r=t._header.size;this._gnuLongLinkPath=o.decodeLongPath(n.slice(0,r),e.filenameEncoding),n.consume(r),f()},v=function(){var i,a=t._offset;try{i=t._header=o.decode(n.slice(0,512),e.filenameEncoding)}catch(e){t.emit("error",e)}return n.consume(512),i?"gnu-long-path"===i.type?(t._parse(i.size,g),void r()):"gnu-long-link-path"===i.type?(t._parse(i.size,y),void r()):"pax-global-header"===i.type?(t._parse(i.size,p),void r()):"pax-header"===i.type?(t._parse(i.size,m),void r()):(t._gnuLongPath&&(i.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(i.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=i=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(i,t._pax),t._pax=null),t._locked=!0,i.size&&"directory"!==i.type?(t._stream=new l(t,a),t.emit("entry",i,t._stream,s),t._parse(i.size,f),void r()):(t._parse(512,v),void t.emit("entry",i,function(e,t){var n=new l(e,t);return n.end(),n}(t,a),s))):(t._parse(512,v),void r())};this._onheader=v,this._parse(512,v)};r.inherits(h,a),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},h.prototype._write=function(e,t,n){if(!this._destroyed){var r=this._stream,i=this._buffer,o=this._missing;if(e.length&&(this._partial=!0),e.length<o)return this._missing-=e.length,this._overflow=null,r?r.write(e,n):(i.append(e),n());this._cb=n,this._missing=0;var a=null;e.length>o&&(a=e.slice(o),e=e.slice(0,o)),r?r.end(e):i.append(e),this._overflow=a,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=h},function(e,t,n){"use strict";const r=n(12).Duplex,i=n(4),o=n(226);function a(e){if(!(this instanceof a))return new a(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}o._init.call(this,e),r.call(this)}i(a,r),Object.assign(a.prototype,o.prototype),a.prototype._new=function(e){return new a(e)},a.prototype._write=function(e,t,n){this._appendBuffer(e),"function"==typeof n&&n()},a.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},a.prototype.end=function(e){r.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},a.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},a.prototype._isBufferList=function(e){return e instanceof a||e instanceof o||a.isBufferList(e)},a.isBufferList=o.isBufferList,e.exports=a,e.exports.BufferListStream=a,e.exports.BufferList=o},function(e,t,n){"use strict";const{Buffer:r}=n(0),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let n=0;n<this._bufs.length;n++){const r=t+this._bufs[n].length;if(e<r||n===this._bufs.length-1)return[n,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let n=e[1];for(let e=0;e<t;e++)n+=this._bufs[e].length;return n},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,n,i){if(("number"!=typeof n||n<0)&&(n=0),("number"!=typeof i||i>this.length)&&(i=this.length),n>=this.length)return e||r.alloc(0);if(i<=0)return e||r.alloc(0);const o=!!e,a=this._offset(n),s=i-n;let c=s,u=o&&t||0,l=a[1];if(0===n&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:r.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[a[0]].length-l)return o?this._bufs[a[0]].copy(e,t,l,l+c):this._bufs[a[0]].slice(l,l+c);o||(e=r.allocUnsafe(s));for(let t=a[0];t<this._bufs.length;t++){const n=this._bufs[t].length-l;if(!(c>n)){this._bufs[t].copy(e,u,l,l+c);break}this._bufs[t].copy(e,u,l),u+=n,c-=n,l&&(l=0)}return e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const n=this._offset(e),r=this._offset(t),i=this._bufs.slice(n[0],r[0]+1);return 0===r[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,r[1]),0!==n[1]&&(i[0]=i[0].slice(n[1])),this._new(i)},o.prototype.toString=function(e,t,n){return this.slice(t,n).toString(e)},o.prototype.consume=function(e){for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(r.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(r.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,n){if(void 0===n&&"string"==typeof t&&(n=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=r.from([e]):"string"==typeof e?e=r.from(e,n):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=r.from(e.buffer,e.byteOffset,e.byteLength):r.isBuffer(e)||(e=r.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],a=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;a<t.length;){if(t.length-a>=e.length){const n=t.indexOf(e,a);if(-1!==n)return this._reverseOffset([o,n]);a=t.length-e.length+1}else{const t=this._reverseOffset([o,a]);if(this._match(t,e))return t;a++}}a=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let n=0;n<t.length;n++)if(this.get(e+n)!==t[n])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,n){return this.slice(e,e+n)[t](0,n)}:function(n){return this.slice(n,n+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},function(e,t,n){var r=n(228),i=n(229),o=n(4),a=Buffer.alloc,s=n(12).Readable,c=n(12).Writable,u=n(230).StringDecoder,l=n(92),h=parseInt("755",8),f=parseInt("644",8),d=a(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(d.slice(0,512-t))};var g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};o(g,c),g.prototype._write=function(e,t,n){if(this.written+=e.length,this._to.push(e))return n();this._to._drain=n},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new u("utf-8"),this._destroyed=!1};o(y,c),y.prototype._write=function(e,t,n){this.linkname+=this._decoder.write(e),n()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var v=function(){c.call(this),this._destroyed=!1};o(v,c),v.prototype._write=function(e,t,n){n(new Error("No body allowed for this entry"))},v.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);s.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};o(b,s),b.prototype.entry=function(e,t,n){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(n=t,t=null),n||(n=p);var o=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&r.S_IFMT){case r.S_IFBLK:return"block-device";case r.S_IFCHR:return"character-device";case r.S_IFDIR:return"directory";case r.S_IFIFO:return"fifo";case r.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?h:f),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var a=this.push(t);return m(o,e.size),a?process.nextTick(n):this._drain=n,new v}if("symlink"===e.type&&!e.linkname){var s=new y;return i(s,(function(t){if(t)return o.destroy(),n(t);e.linkname=s.linkname,o._encode(e),n()})),s}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(n),new v;var c=new g(this);return this._stream=c,i(c,(function(t){return o._stream=null,t?(o.destroy(),n(t)):c.written!==e.size?(o.destroy(),n(new Error("size mismatch"))):(m(o,e.size),o._finalizing&&o.finalize(),void n())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(d),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=l.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=l.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(l.encode(n)),this.push(t),m(this,t.length),n.size=e.size,n.type=e.type,this.push(l.encode(n))},b.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=b},function(e,t,n){e.exports=n(6).constants||n(48)},function(e,t,n){var r=n(44),i=function(){},o=function(e,t,n){if("function"==typeof t)return o(e,null,t);t||(t={}),n=r(n||i);var a=e._writableState,s=e._readableState,c=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,l=!1,h=function(){e.writable||f()},f=function(){u=!1,c||n.call(e)},d=function(){c=!1,u||n.call(e)},p=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){n.call(e,t)},g=function(){process.nextTick(y)},y=function(){if(!l)return(!c||s&&s.ended&&!s.destroyed)&&(!u||a&&a.ended&&!a.destroyed)?void 0:n.call(e,new Error("premature close"))},v=function(){e.req.on("finish",f)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?u&&!a&&(e.on("end",h),e.on("close",h)):(e.on("complete",f),e.on("abort",g),e.req?v():e.on("request",v)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",d),e.on("finish",f),!1!==t.error&&e.on("error",m),e.on("close",g),function(){l=!0,e.removeListener("complete",f),e.removeListener("abort",g),e.removeListener("request",v),e.req&&e.req.removeListener("finish",f),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",f),e.removeListener("exit",p),e.removeListener("end",d),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=o},function(e,t){e.exports=require("string_decoder")},function(e,t,n){
/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */
var r=n(3).inherits,i=n(12).Transform,o=n(89),a=n(29),s=function(e){if(!(this instanceof s))return new s(e);e=this.options=a.defaults(e,{}),i.call(this,e),this.supports={directory:!0,symlink:!0},this.files=[]};r(s,i),s.prototype._transform=function(e,t,n){n(null,e)},s.prototype._writeStringified=function(){var e=JSON.stringify(this.files);this.write(e)},s.prototype.append=function(e,t,n){var r=this;function i(e,i){e?n(e):(t.size=i.length||0,t.crc32=o.unsigned(i),r.files.push(t),n(null,t))}t.crc32=0,"buffer"===t.sourceType?i(null,e):"stream"===t.sourceType&&a.collectStream(e,i)},s.prototype.finalize=function(){this._writeStringified(),this.end()},e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(233),i=n(234),o=n(235),a=n(236);let s;function c(e,...t){s&&s("png2icons",e,...t)}t.setLogger=function(e){s=e};function u(e,t,n,r){return{Left:e,Top:t,Width:n,Height:r}}function l(e,t){let n,r;const i=u(0,0,0,0);return e.Width/e.Height>=t.Width/t.Height?(n=t.Width/e.Width,i.Left=0,i.Width=t.Width,r=Math.floor(e.Height*n),i.Top=Math.floor((t.Height-r)/2),i.Height=r):(n=t.Height/e.Height,i.Top=0,i.Height=t.Height,r=Math.floor(e.Width*n),i.Left=Math.floor((t.Width-r)/2),i.Width=r),i}t.NEAREST_NEIGHBOR=0,t.BILINEAR=1,t.BICUBIC=2,t.BEZIER=3,t.HERMITE=4,t.BICUBIC2=5;const h=[];function f(e,n,r){if(e.width===n.Width&&e.height===n.Height)return e.data;for(const e of h)if(n.Width===e.width&&n.Height===e.height)return e.data;const a={data:new Uint8Array(n.Width*n.Height*4),height:n.Height,width:n.Width};return r===t.NEAREST_NEIGHBOR?i.nearestNeighbor(e,a):r===t.BILINEAR?i.bilinearInterpolation(e,a):r===t.BICUBIC?i.bicubicInterpolation(e,a):r===t.BEZIER?i.bezierInterpolation(e,a):r===t.HERMITE?i.hermiteInterpolation(e,a):r===t.BICUBIC2?o.bicubic(e,a,n.Width/e.width):i.bicubicInterpolation(e,a),h.push(a),a.data}function d(e){try{const t=a.decode(e);return{data:new Uint8Array(a.toRGBA8(t)[0]),height:t.height,width:t.width}}catch(e){return c("Couldn't decode PNG:",e),null}}const p=[];function m(e,t,n,r){for(const e of p)if(e.Width===t&&e.Height===n)return e.Data;const i=a.encode([e],t,n,r,[],!0);return p.push({Data:i,Width:t,Height:n}),i}let g=null;function y(e){e&&(g?0!==e.compare(g)&&(v(),g=e):g=e)}function v(){p.length=0,h.length=0,g=null}function b(e){if(e.height===e.width)return e;let t,n,r;e.height>e.width?(t=e.height,n=(e.height-e.width)/2,r=0):(t=e.width,n=0,r=(e.width-e.height)/2);const i={data:new Uint8Array(t*t*4),height:t,width:t};var o,a,s,c;return o=e,a=i,s=n,c=r,s=Math.round(s),c=Math.round(c),function(e,t,n,r,i,o){for(let a=n;a<n+i;a++)for(let n=t;n<t+r;n++){const t=e.width*a+n<<2;o.call(e,n,a,t)}}(o,0,0,o.width,o.height,(e,t,n)=>{if(s+e>=0&&c+t>=0&&a.width-s-e>0&&a.height-c-t>0){const r=a.width*(c+t)+(s+e)<<2;a.data[r]=o.data[n],a.data[r+1]=o.data[n+1],a.data[r+2]=o.data[n+2],a.data[r+3]=o.data[n+3]}}),i}function _(e,t,n){const r=Buffer.alloc(e.length/t),i=e.length;let o=0;for(let t=n;t<i;t+=4)r.writeUInt8(e[t],o++);return r}var w;function S(e,t){const n=r.encode(_(e,4,0)),i=r.encode(_(e,4,1)),o=r.encode(_(e,4,2));if(t){const t=Buffer.alloc(4);t.write("ARGB",0,4,"ascii");const a=r.encode(_(e,4,3));return Buffer.concat([t,a,n,i,o],t.length+a.length+n.length+i.length+o.length)}return Buffer.concat([n,i,o],n.length+i.length+o.length)}function x(e,t,n,r,i){try{const o=l(u(0,0,t.width,t.height),u(0,0,e.Size,e.Size)),a=f(t,o,n);let s;const c=Buffer.alloc(8);switch(c.write(e.OSType,0),e.Format){case w.PNG:s=m(a.buffer,o.Width,o.Height,r);break;case w.PackBitsARGB:s=S(Buffer.from(a.buffer),!0);break;case w.PackBitsRGB:s=S(Buffer.from(a.buffer),!1);break;case w.Alpha:s=_(Buffer.from(a.buffer),4,3);break;default:throw new Error("Unknown format for icon (must be PNG, PackBitsARGB, PackBitsRGB or Alpha)")}return c.writeUInt32BE(s.byteLength+8,4),Buffer.concat([i,c,Buffer.from(s)],i.length+c.length+s.byteLength)}catch(e){return c("Could't append ICNS chunk",e),null}}t.clearCache=v,function(e){e[e.PNG=0]="PNG",e[e.PackBitsARGB=1]="PackBitsARGB",e[e.PackBitsRGB=2]="PackBitsRGB",e[e.Alpha=3]="Alpha"}(w||(w={})),t.createICNS=function(e,t,n){y(e);let r=d(e);if(!r)return null;const i=b(r);r=null;const o=[{OSType:"ic12",Format:w.PNG,Size:64,Info:"32x32@2  "},{OSType:"ic07",Format:w.PNG,Size:128,Info:"128x128  "},{OSType:"ic13",Format:w.PNG,Size:256,Info:"128x128@2"},{OSType:"ic08",Format:w.PNG,Size:256,Info:"256x256  "},{OSType:"ic14",Format:w.PNG,Size:512,Info:"256x256@2"},{OSType:"ic09",Format:w.PNG,Size:512,Info:"512x512  "},{OSType:"ic10",Format:w.PNG,Size:1024,Info:"512x512@2"},{OSType:"ic11",Format:w.PNG,Size:32,Info:"16x16@2  "},{OSType:"il32",Format:w.PackBitsRGB,Size:32,Info:"32x32    "},{OSType:"l8mk",Format:w.Alpha,Size:32,Info:"32x32    "},{OSType:"is32",Format:w.PackBitsRGB,Size:16,Info:"16x16    "},{OSType:"s8mk",Format:w.Alpha,Size:16,Info:"16x16    "}];let a=Buffer.alloc(8,0);a.write("icns",0);const s=n<0?0:n>256?256:n;for(const e of o){if(a=x(e,i,t,s,a),!a)return null;c(`wrote type ${e.OSType} for size ${e.Info} with ${e.Size} pixels`)}return a.writeUInt32BE(a.length,4),c("done"),a};function E(e,t,n,r){const i=Buffer.alloc(16);return t=t>=256?0:t,n=n>=256?0:n,i.writeUInt8(t,0),i.writeUInt8(n,1),i.writeUInt8(0,2),i.writeUInt8(0,3),i.writeUInt16LE(1,4),i.writeUInt16LE(32,6),i.writeUInt32LE(e,8),i.writeUInt32LE(r,12),i}function k(e,t){return(e+(e%32?32-e%32:0))*t/8}function R(e){const t=Buffer.alloc(40),n=e.data.length+k(e.width,e.height);return t.writeUInt32LE(40,0),t.writeInt32LE(e.width,4),t.writeInt32LE(2*e.height,8),t.writeUInt16LE(1,12),t.writeUInt16LE(32,14),t.writeUInt32LE(0,16),t.writeUInt32LE(n,20),t.writeInt32LE(3780,24),t.writeInt32LE(3780,28),t.writeUInt32LE(0,32),t.writeUInt32LE(0,36),t}function T(e){const t=Buffer.from(e.data),n=Buffer.alloc(e.data.length),r=k(e.width,e.height);let i=[];const o=4*e.width,a=e.height*o,s=a-o;for(let e=0;e<a;e+=o){for(let r=0;r<o;r+=4){let o=e+r;const a=t.readUInt8(o),c=t.readUInt8(o+1),u=t.readUInt8(o+2),l=t.readUInt8(o+3);o=s-e+r,n.writeUInt8(u,o),n.writeUInt8(c,o+1),n.writeUInt8(a,o+2),n.writeUInt8(l,o+3),i.push(0===t[o+3]?1:0)}const r=i.length%32?32-i.length%32:0;i=i.concat(Array(r).fill(0))}const c=[];for(let e=0;e<i.length;e+=8){const t=parseInt(i.slice(e,e+8).join(""),2),n=Buffer.alloc(1);n.writeUInt8(t,0),c.push(n)}return Buffer.concat([n,Buffer.concat(c,r)])}t.createICO=function(e,t,n,r,i){y(e);let o=d(e);if(!o)return null;const a=b(o);o=null;const s=[256,128,96,72,64,48,32,24,16],h=[];h.push(function(e){const t=Buffer.alloc(6);return t.writeUInt16LE(0,0),t.writeUInt16LE(1,2),t.writeUInt16LE(e,4),t}(s.length));let p=h[0].length;const g=[];let v=h[0].length+16*s.length;for(const e of s){const o=l(u(0,0,a.width,a.height),u(0,0,e,e)),s={data:f(a,o,t),height:o.Height,width:o.Width};let d;if(r||i&&-1!==[256,128,96,72,64].indexOf(o.Height)){d="png";const e=m(s.data.buffer,s.width,s.height,n<0?0:n>256?256:n),t=E(e.byteLength,s.width,s.height,v);h.push(t),g.push(Buffer.from(e)),p+=t.length+e.byteLength,v+=e.byteLength}else{d="bmp";const e=E(s.data.length+k(s.width,s.height)+40,s.width,s.height,v);h.push(e);const t=R(s),n=T(s);g.push(t,n),p+=e.length+t.length+n.length,v+=t.length+n.length}c(`wrote ${d} icon for size ${e}`)}return c("done"),Buffer.concat(h.concat(g),p)}},function(e,t){e.exports={encode(e){const t=[];let n=0;for(;n<e.length;){const r=e[n];if(n+2>=e.length){const r=Buffer.alloc(1);r[0]=e.length-n,t.push(r),t.push(e.slice(n,e.length));break}if(r===e[n+1]&&r===e[n+2]){let i=n+2,o=3;for(;++i<e.length&&r===e[i]&&o<130;)o++;const a=Buffer.alloc(2);a[0]=o+128-3,a[1]=r,t.push(a),n=i}else{let r=n+2,i=3,o=e[r],a=1;for(;++r<e.length&&i<128;){if(o===e[r]){if(++a>2)break}else o=e[r],a=1;i++}a>2&&(r-=2,i-=2);const s=Buffer.alloc(1);s[0]=i-1,t.push(s),t.push(e.slice(n,r)),n=r}}const r=t,i=t.reduce((e,t)=>e+t.length,0);return Buffer.concat(r,i)},decode(e){const t=[];let n=0;for(;n<e.length;){let r,i=e[n];i>=128?(i=i-128+3,r=Buffer.alloc(i,e.slice(n+1,n+2)),n+=2):(r=e.slice(n+1,n+i+2),n+=i+2),t.push(r)}const r=t,i=t.reduce((e,t)=>e+t.length,0);return Buffer.concat(r,i)}}},function(e,t){e.exports={nearestNeighbor(e,t){const n=e.width,r=e.height,i=t.width,o=t.height,a=e.data,s=t.data;for(let e=0;e<o;e++)for(let t=0;t<i;t++){let c=4*(e*i+t);let u=4*(Math.floor(e*r/o)*n+Math.floor(t*n/i));s[c++]=a[u++],s[c++]=a[u++],s[c++]=a[u++],s[c++]=a[u++]}},bilinearInterpolation(e,t){const n=e.width,r=e.height,i=t.width,o=t.height,a=e.data,s=t.data,c=function(e,t,r,i,o,c,u,l){let h=4*(u*n+i)+t,f=4*(u*n+o)+t;const d=i===o?a[h]:Math.round((r-i)*a[f]+(o-r)*a[h]);if(l===u)s[e+t]=d;else{h=4*(l*n+i)+t,f=4*(l*n+o)+t;const p=i===o?a[h]:Math.round((r-i)*a[f]+(o-r)*a[h]);s[e+t]=u===l?d:Math.round((c-u)*p+(l-c)*d)}};for(let e=0;e<o;e++)for(let t=0;t<i;t++){const a=4*(e*i+t),s=t*n/i,u=Math.floor(s),l=Math.min(Math.ceil(s),n-1),h=e*r/o,f=Math.floor(h),d=Math.min(Math.ceil(h),r-1);c(a,0,s,u,l,h,f,d),c(a,1,s,u,l,h,f,d),c(a,2,s,u,l,h,f,d),c(a,3,s,u,l,h,f,d)}},bicubicInterpolation(e,t){const n=e.data,r=t.data,i=e.width,o=e.height,a=t.width,s=t.height,c=Math.max(1,Math.floor(i/a)),u=a*c,l=Math.max(1,Math.floor(o/s)),h=s*l,f=Buffer.alloc(u*o*4);for(let e=0;e<o;e++)for(let t=0;t<u;t++){const r=t*(i-1)/u,o=Math.floor(r),a=r-o,s=4*(e*i+o),c=4*(e*u+t);for(let e=0;e<4;e++){const t=s+e,r=o>0?n[t-4]:2*n[t]-n[t+4],u=n[t],l=n[t+4],h=o<i-2?n[t+8]:2*n[t+4]-n[t];f[c+e]=Math.max(0,Math.min(255,(h-l-r+u)*(a*a*a)+a*a*(r-u-(h-l-r+u))+(l-r)*a+u))}}const d=Buffer.alloc(u*h*4);for(let e=0;e<h;e++)for(let t=0;t<u;t++){const n=e*(o-1)/h,r=Math.floor(n),i=n-r,a=4*(r*u+t),s=4*(e*u+t);for(let e=0;e<4;e++){const t=a+e,n=r>0?f[t-4*u]:2*f[t]-f[t+4*u],c=f[t],l=f[t+4*u],h=r<o-2?f[t+8*u]:2*f[t+4*u]-f[t];d[s+e]=Math.max(0,Math.min(255,(h-l-n+c)*(i*i*i)+i*i*(n-c-(h-l-n+c))+(l-n)*i+c))}}const p=c*l;if(p>1)for(let e=0;e<s;e++)for(let t=0;t<a;t++){let n=0,i=0,o=0,s=0,h=0;for(let r=0;r<l;r++){const a=e*l+r;for(let e=0;e<c;e++){const r=4*(a*u+(t*c+e)),l=d[r+3];l&&(n+=d[r],i+=d[r+1],o+=d[r+2],h++),s+=l}}const f=4*(e*a+t);r[f]=h?Math.round(n/h):0,r[f+1]=h?Math.round(i/h):0,r[f+2]=h?Math.round(o/h):0,r[f+3]=Math.round(s/p)}else t.data=d},hermiteInterpolation(e,t){const n=e.data,r=t.data,i=e.width,o=e.height,a=t.width,s=t.height,c=Math.max(1,Math.floor(i/a)),u=a*c,l=Math.max(1,Math.floor(o/s)),h=s*l,f=Buffer.alloc(u*o*4);for(let e=0;e<o;e++)for(let t=0;t<u;t++){const r=t*(i-1)/u,o=Math.floor(r),a=r-o,s=4*(e*i+o),c=4*(e*u+t);for(let e=0;e<4;e++){const t=s+e,r=o>0?n[t-4]:2*n[t]-n[t+4],u=n[t],l=n[t+4],h=o<i-2?n[t+8]:2*n[t+4]-n[t];f[c+e]=Math.max(0,Math.min(255,Math.round((((.5*(h-r)+1.5*(u-l))*a+(r-2.5*u+2*l-.5*h))*a+.5*(l-r))*a+u)))}}const d=Buffer.alloc(u*h*4);for(let e=0;e<h;e++)for(let t=0;t<u;t++){const n=e*(o-1)/h,r=Math.floor(n),i=n-r,a=4*(r*u+t),s=4*(e*u+t);for(let e=0;e<4;e++){const t=a+e,n=r>0?f[t-4*u]:2*f[t]-f[t+4*u],c=f[t],l=f[t+4*u],h=r<o-2?f[t+8*u]:2*f[t+4*u]-f[t];d[s+e]=Math.max(0,Math.min(255,Math.round((((.5*(h-n)+1.5*(c-l))*i+(n-2.5*c+2*l-.5*h))*i+.5*(l-n))*i+c)))}}const p=c*l;if(p>1)for(let e=0;e<s;e++)for(let t=0;t<a;t++){let n=0,i=0,o=0,s=0,h=0;for(let r=0;r<l;r++){const a=e*l+r;for(let e=0;e<c;e++){const r=4*(a*u+(t*c+e)),l=d[r+3];l&&(n+=d[r],i+=d[r+1],o+=d[r+2],h++),s+=l}}const f=4*(e*a+t);r[f]=h?Math.round(n/h):0,r[f+1]=h?Math.round(i/h):0,r[f+2]=h?Math.round(o/h):0,r[f+3]=Math.round(s/p)}else t.data=d},bezierInterpolation(e,t){const n=e.data,r=t.data,i=e.width,o=e.height,a=t.width,s=t.height,c=Math.max(1,Math.floor(i/a)),u=a*c,l=Math.max(1,Math.floor(o/s)),h=s*l,f=Buffer.alloc(u*o*4);for(let e=0;e<o;e++)for(let t=0;t<u;t++){const r=t*(i-1)/u,o=Math.floor(r),a=r-o,s=4*(e*i+o),c=4*(e*u+t);for(let e=0;e<4;e++){const t=s+e,r=o>0?n[t-4]:2*n[t]-n[t+4],u=n[t],l=n[t+4],h=o<i-2?n[t+8]:2*n[t+4]-n[t];f[c+e]=Math.max(0,Math.min(255,Math.round(u*(1-a)*(1-a)*(1-a)+3*(u+(l-r)/4)*(1-a)*(1-a)*a+3*(l-(h-u)/4)*(1-a)*a*a+l*a*a*a)))}}const d=Buffer.alloc(u*h*4);for(let e=0;e<h;e++)for(let t=0;t<u;t++){const n=e*(o-1)/h,r=Math.floor(n),i=n-r,a=4*(r*u+t),s=4*(e*u+t);for(let e=0;e<4;e++){const t=a+e,n=r>0?f[t-4*u]:2*f[t]-f[t+4*u],c=f[t],l=f[t+4*u],h=r<o-2?f[t+8*u]:2*f[t+4*u]-f[t];d[s+e]=Math.max(0,Math.min(255,Math.round(c*(1-i)*(1-i)*(1-i)+3*(c+(l-n)/4)*(1-i)*(1-i)*i+3*(l-(h-c)/4)*(1-i)*i*i+l*i*i*i)))}}const p=c*l;if(p>1)for(let e=0;e<s;e++)for(let t=0;t<a;t++){let n=0,i=0,o=0,s=0,h=0;for(let r=0;r<l;r++){const a=e*l+r;for(let e=0;e<c;e++){const r=4*(a*u+(t*c+e)),l=d[r+3];l&&(n+=d[r],i+=d[r+1],o+=d[r+2],h++),s+=l}}const f=4*(e*a+t);r[f]=h?Math.round(n/h):0,r[f+1]=h?Math.round(i/h):0,r[f+2]=h?Math.round(o/h):0,r[f+3]=Math.round(s/p)}else t.data=d}}},function(e,t){e.exports={BicubicInterpolation(e,t,n){function r(e,t,n,r,i){return.5*(r-t+(2*t-5*n+4*r-i+(3*(n-r)+i-t)*e)*e)*e+n}var i,o,a,s;return i=r(e,n[0][0],n[1][0],n[2][0],n[3][0]),o=r(e,n[0][1],n[1][1],n[2][1],n[3][1]),a=r(e,n[0][2],n[1][2],n[2][2],n[3][2]),s=r(e,n[0][3],n[1][3],n[2][3],n[3][3]),r(t,i,o,a,s)},ivect:(e,t,n)=>4*(e+n*t),bilinear(e,t,n){function r(e,t,n,r,i,o){var a=1-i,s=1-o;return e*a*s+t*i*s+n*a*o+r*i*o}var i,o,a,s,c,u,l,h,f,d,p,m,g,y,v,b,_,w,S;for(i=0;i<t.height;++i)for(a=i/n,s=Math.floor(a),c=Math.ceil(a)>e.height-1?e.height-1:Math.ceil(a),o=0;o<t.width;++o)u=o/n,l=Math.floor(u),h=Math.ceil(u)>e.width-1?e.width-1:Math.ceil(u),f=4*(o+t.width*i),d=4*(l+e.width*s),p=4*(h+e.width*s),m=4*(l+e.width*c),g=4*(h+e.width*c),y=u-l,v=a-s,b=r(e.data[d],e.data[p],e.data[m],e.data[g],y,v),t.data[f]=b,_=r(e.data[d+1],e.data[p+1],e.data[m+1],e.data[g+1],y,v),t.data[f+1]=_,w=r(e.data[d+2],e.data[p+2],e.data[m+2],e.data[g+2],y,v),t.data[f+2]=w,S=r(e.data[d+3],e.data[p+3],e.data[m+3],e.data[g+3],y,v),t.data[f+3]=S},bicubic(e,t,n){var r,i,o,a,s,c,u,l,h,f,d,p,m,g,y,v,b;for(r=0;r<t.height;++r)for(iyv=r/n,iy0=Math.floor(iyv),c=0,iy0<1?c=-1:iy0>e.height-3&&(c=iy0-(e.height-3)),i=0;i<t.width;++i)ixv=i/n,ix0=Math.floor(ixv),s=0,ix0<1?s=-1:ix0>e.width-3&&(s=ix0-(e.width-3)),l=4*(iy0*e.width+ix0),u=c<0?l:4*((iy0-1)*e.width+ix0),h=c>1?l:4*((iy0+1)*e.width+ix0),f=c>0?h:4*((iy0+2)*e.width+ix0),0,d=s<0?0:-4,p=s>1?0:4,m=s>0?p:8,g=[[e.data[u+d],e.data[l+d],e.data[h+d],e.data[f+d]],[e.data[u+0],e.data[l+0],e.data[h+0],e.data[f+0]],[e.data[u+p],e.data[l+p],e.data[h+p],e.data[f+p]],[e.data[u+m],e.data[l+m],e.data[h+m],e.data[f+m]]],u++,l++,h++,f++,y=[[e.data[u+d],e.data[l+d],e.data[h+d],e.data[f+d]],[e.data[u+0],e.data[l+0],e.data[h+0],e.data[f+0]],[e.data[u+p],e.data[l+p],e.data[h+p],e.data[f+p]],[e.data[u+m],e.data[l+m],e.data[h+m],e.data[f+m]]],u++,l++,h++,f++,v=[[e.data[u+d],e.data[l+d],e.data[h+d],e.data[f+d]],[e.data[u+0],e.data[l+0],e.data[h+0],e.data[f+0]],[e.data[u+p],e.data[l+p],e.data[h+p],e.data[f+p]],[e.data[u+m],e.data[l+m],e.data[h+m],e.data[f+m]]],u++,l++,h++,f++,b=[[e.data[u+d],e.data[l+d],e.data[h+d],e.data[f+d]],[e.data[u+0],e.data[l+0],e.data[h+0],e.data[f+0]],[e.data[u+p],e.data[l+p],e.data[h+p],e.data[f+p]],[e.data[u+m],e.data[l+m],e.data[h+m],e.data[f+m]]],o=ixv-ix0,a=iyv-iy0,idxD=4*(i+t.width*r),t.data[idxD]=this.BicubicInterpolation(o,a,g),t.data[idxD+1]=this.BicubicInterpolation(o,a,y),t.data[idxD+2]=this.BicubicInterpolation(o,a,v),t.data[idxD+3]=this.BicubicInterpolation(o,a,b)}}},function(e,t,n){var r;r={},e.exports=r,UZIP=n(237),function(e,t){var n,r,i;e.toRGBA8=function(t){var n=t.width,r=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,n,r,t).buffer];var i=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var o=n*r*4,a=new Uint8Array(o),s=new Uint8Array(o),c=new Uint8Array(o),u=0;u<t.frames.length;u++){var l=t.frames[u],h=l.rect.x,f=l.rect.y,d=l.rect.width,p=l.rect.height,m=e.toRGBA8.decodeImage(l.data,d,p,t);if(0!=u)for(var g=0;g<o;g++)c[g]=a[g];if(0==l.blend?e._copyTile(m,d,p,a,n,r,h,f,0):1==l.blend&&e._copyTile(m,d,p,a,n,r,h,f,1),i.push(a.buffer.slice(0)),0==l.dispose);else if(1==l.dispose)e._copyTile(s,d,p,a,n,r,h,f,0);else if(2==l.dispose)for(g=0;g<o;g++)a[g]=c[g]}return i},e.toRGBA8.decodeImage=function(t,n,r,i){var o=n*r,a=e.decode._getBPP(i),s=Math.ceil(n*a/8),c=new Uint8Array(4*o),u=new Uint32Array(c.buffer),l=i.ctype,h=i.depth,f=e._bin.readUshort;if(Date.now(),6==l){var d=o<<2;if(8==h)for(var p=0;p<d;p++)c[p]=t[p];if(16==h)for(p=0;p<d;p++)c[p]=t[p<<1]}else if(2==l){var m=i.tabs.tRNS;if(null==m){if(8==h)for(p=0;p<o;p++){var g=3*p;u[p]=255<<24|t[g+2]<<16|t[g+1]<<8|t[g]}if(16==h)for(p=0;p<o;p++)g=6*p,u[p]=255<<24|t[g+4]<<16|t[g+2]<<8|t[g]}else{var y=m[0],v=m[1],b=m[2];if(8==h)for(p=0;p<o;p++){var _=p<<2;g=3*p,u[p]=255<<24|t[g+2]<<16|t[g+1]<<8|t[g],t[g]==y&&t[g+1]==v&&t[g+2]==b&&(c[_+3]=0)}if(16==h)for(p=0;p<o;p++)_=p<<2,g=6*p,u[p]=255<<24|t[g+4]<<16|t[g+2]<<8|t[g],f(t,g)==y&&f(t,g+2)==v&&f(t,g+4)==b&&(c[_+3]=0)}}else if(3==l){var w=i.tabs.PLTE,S=i.tabs.tRNS,x=S?S.length:0;if(1==h)for(var E=0;E<r;E++){var k=E*s,R=E*n;for(p=0;p<n;p++){_=R+p<<2;var T=3*(P=t[k+(p>>3)]>>7-((7&p)<<0)&1);c[_]=w[T],c[_+1]=w[T+1],c[_+2]=w[T+2],c[_+3]=P<x?S[P]:255}}if(2==h)for(E=0;E<r;E++)for(k=E*s,R=E*n,p=0;p<n;p++)_=R+p<<2,T=3*(P=t[k+(p>>2)]>>6-((3&p)<<1)&3),c[_]=w[T],c[_+1]=w[T+1],c[_+2]=w[T+2],c[_+3]=P<x?S[P]:255;if(4==h)for(E=0;E<r;E++)for(k=E*s,R=E*n,p=0;p<n;p++)_=R+p<<2,T=3*(P=t[k+(p>>1)]>>4-((1&p)<<2)&15),c[_]=w[T],c[_+1]=w[T+1],c[_+2]=w[T+2],c[_+3]=P<x?S[P]:255;if(8==h)for(p=0;p<o;p++){var P;_=p<<2,T=3*(P=t[p]),c[_]=w[T],c[_+1]=w[T+1],c[_+2]=w[T+2],c[_+3]=P<x?S[P]:255}}else if(4==l){if(8==h)for(p=0;p<o;p++){_=p<<2;var I=t[D=p<<1];c[_]=I,c[_+1]=I,c[_+2]=I,c[_+3]=t[D+1]}if(16==h)for(p=0;p<o;p++){var D;_=p<<2,I=t[D=p<<2],c[_]=I,c[_+1]=I,c[_+2]=I,c[_+3]=t[D+2]}}else if(0==l)for(y=i.tabs.tRNS?i.tabs.tRNS:-1,E=0;E<r;E++){var O=E*s,M=E*n;if(1==h)for(var B=0;B<n;B++){var A=(I=255*(t[O+(B>>>3)]>>>7-(7&B)&1))==255*y?0:255;u[M+B]=A<<24|I<<16|I<<8|I}else if(2==h)for(B=0;B<n;B++)A=(I=85*(t[O+(B>>>2)]>>>6-((3&B)<<1)&3))==85*y?0:255,u[M+B]=A<<24|I<<16|I<<8|I;else if(4==h)for(B=0;B<n;B++)A=(I=17*(t[O+(B>>>1)]>>>4-((1&B)<<2)&15))==17*y?0:255,u[M+B]=A<<24|I<<16|I<<8|I;else if(8==h)for(B=0;B<n;B++)A=(I=t[O+B])==y?0:255,u[M+B]=A<<24|I<<16|I<<8|I;else if(16==h)for(B=0;B<n;B++)I=t[O+(B<<1)],A=f(t,O+(B<<p))==y?0:255,u[M+B]=A<<24|I<<16|I<<8|I}return c},e.decode=function(t){for(var n,r=new Uint8Array(t),i=8,o=e._bin,a=o.readUshort,s=o.readUint,c={tabs:{},frames:[]},u=new Uint8Array(r.length),l=0,h=0,f=[137,80,78,71,13,10,26,10],d=0;d<8;d++)if(r[d]!=f[d])throw"The input is not a PNG file!";for(;i<r.length;){var p=o.readUint(r,i);i+=4;var m=o.readASCII(r,i,4);if(i+=4,"IHDR"==m)e.decode._IHDR(r,i,c);else if("IDAT"==m){for(d=0;d<p;d++)u[l+d]=r[i+d];l+=p}else if("acTL"==m)c.tabs[m]={num_frames:s(r,i),num_plays:s(r,i+4)},n=new Uint8Array(r.length);else if("fcTL"==m){var g;0!=h&&((g=c.frames[c.frames.length-1]).data=e.decode._decompress(c,n.slice(0,h),g.rect.width,g.rect.height),h=0);var y={x:s(r,i+12),y:s(r,i+16),width:s(r,i+4),height:s(r,i+8)},v=a(r,i+22);v=a(r,i+20)/(0==v?100:v);var b={rect:y,delay:Math.round(1e3*v),dispose:r[i+24],blend:r[i+25]};c.frames.push(b)}else if("fdAT"==m){for(d=0;d<p-4;d++)n[h+d]=r[i+d+4];h+=p-4}else if("pHYs"==m)c.tabs[m]=[o.readUint(r,i),o.readUint(r,i+4),r[i+8]];else if("cHRM"==m)for(c.tabs[m]=[],d=0;d<8;d++)c.tabs[m].push(o.readUint(r,i+4*d));else if("tEXt"==m){null==c.tabs[m]&&(c.tabs[m]={});var _=o.nextZero(r,i),w=o.readASCII(r,i,_-i),S=o.readASCII(r,_+1,i+p-_-1);c.tabs[m][w]=S}else if("iTXt"==m){null==c.tabs[m]&&(c.tabs[m]={}),_=0;var x=i;_=o.nextZero(r,x),w=o.readASCII(r,x,_-x),r[x=_+1],r[x+1],x+=2,_=o.nextZero(r,x),o.readASCII(r,x,_-x),x=_+1,_=o.nextZero(r,x),o.readUTF8(r,x,_-x),x=_+1,S=o.readUTF8(r,x,p-(x-i)),c.tabs[m][w]=S}else if("PLTE"==m)c.tabs[m]=o.readBytes(r,i,p);else if("hIST"==m){var E=c.tabs.PLTE.length/3;for(c.tabs[m]=[],d=0;d<E;d++)c.tabs[m].push(a(r,i+2*d))}else if("tRNS"==m)3==c.ctype?c.tabs[m]=o.readBytes(r,i,p):0==c.ctype?c.tabs[m]=a(r,i):2==c.ctype&&(c.tabs[m]=[a(r,i),a(r,i+2),a(r,i+4)]);else if("gAMA"==m)c.tabs[m]=o.readUint(r,i)/1e5;else if("sRGB"==m)c.tabs[m]=r[i];else if("bKGD"==m)0==c.ctype||4==c.ctype?c.tabs[m]=[a(r,i)]:2==c.ctype||6==c.ctype?c.tabs[m]=[a(r,i),a(r,i+2),a(r,i+4)]:3==c.ctype&&(c.tabs[m]=r[i]);else if("IEND"==m)break;i+=p,o.readUint(r,i),i+=4}return 0!=h&&((g=c.frames[c.frames.length-1]).data=e.decode._decompress(c,n.slice(0,h),g.rect.width,g.rect.height),h=0),c.data=e.decode._decompress(c,u,c.width,c.height),delete c.compress,delete c.interlace,delete c.filter,c},e.decode._decompress=function(t,n,r,i){Date.now();var o=e.decode._getBPP(t),a=Math.ceil(r*o/8),s=new Uint8Array((a+1+t.interlace)*i);return n=e.decode._inflate(n,s),Date.now(),0==t.interlace?n=e.decode._filterZero(n,t,0,r,i):1==t.interlace&&(n=e.decode._readInterlace(n,t)),n},e.decode._inflate=function(t,n){return e.inflateRaw(new Uint8Array(t.buffer,2,t.length-6),n)},e.inflateRaw=((i={}).H={},i.H.N=function(e,t){var n,r,o=Uint8Array,a=0,s=0,c=0,u=0,l=0,h=0,f=0,d=0,p=0;if(3==e[0]&&0==e[1])return t||new o(0);var m=i.H,g=m.b,y=m.e,v=m.R,b=m.n,_=m.A,w=m.Z,S=m.m,x=null==t;for(x&&(t=new o(e.length>>>2<<3));0==a;)if(a=g(e,p,1),s=g(e,p+1,2),p+=3,0!=s){if(x&&(t=i.H.W(t,d+(1<<17))),1==s&&(n=S.J,r=S.h,h=511,f=31),2==s){c=y(e,p,5)+257,u=y(e,p+5,5)+1,l=y(e,p+10,4)+4,p+=14;for(var E=1,k=0;k<38;k+=2)S.Q[k]=0,S.Q[k+1]=0;for(k=0;k<l;k++){var R=y(e,p+3*k,3);S.Q[1+(S.X[k]<<1)]=R,R>E&&(E=R)}p+=3*l,b(S.Q,E),_(S.Q,E,S.u),n=S.w,r=S.d,p=v(S.u,(1<<E)-1,c+u,e,p,S.v);var T=m.V(S.v,0,c,S.C);h=(1<<T)-1;var P=m.V(S.v,c,u,S.D);f=(1<<P)-1,b(S.C,T),_(S.C,T,n),b(S.D,P),_(S.D,P,r)}for(;;){var I=n[w(e,p)&h];p+=15&I;var D=I>>>4;if(D>>>8==0)t[d++]=D;else{if(256==D)break;var O=d+D-254;if(D>264){var M=S.q[D-257];O=d+(M>>>3)+y(e,p,7&M),p+=7&M}var B=r[w(e,p)&f];p+=15&B;var A=B>>>4,C=S.c[A],L=(C>>>4)+g(e,p,15&C);for(p+=15&C;d<O;)t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L],t[d]=t[d++-L];d=O}}}else{0!=(7&p)&&(p+=8-(7&p));var N=4+(p>>>3),q=e[N-4]|e[N-3]<<8;x&&(t=i.H.W(t,d+q)),t.set(new o(e.buffer,e.byteOffset+N,q),d),p=N+q<<3,d+=q}return t.length==d?t:t.slice(0,d)},i.H.W=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(n<<1);return r.set(e,0),r},i.H.R=function(e,t,n,r,o,a){for(var s=i.H.e,c=i.H.Z,u=0;u<n;){var l=e[c(r,o)&t];o+=15&l;var h=l>>>4;if(h<=15)a[u]=h,u++;else{var f=0,d=0;16==h?(d=3+s(r,o,2),o+=2,f=a[u-1]):17==h?(d=3+s(r,o,3),o+=3):18==h&&(d=11+s(r,o,7),o+=7);for(var p=u+d;u<p;)a[u]=f,u++}}return o},i.H.V=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},i.H.n=function(e,t){for(var n,r,o,a,s=i.H.m,c=e.length,u=s.j,l=0;l<=t;l++)u[l]=0;for(l=1;l<c;l+=2)u[e[l]]++;var h=s.K;for(n=0,u[0]=0,r=1;r<=t;r++)n=n+u[r-1]<<1,h[r]=n;for(o=0;o<c;o+=2)0!=(a=e[o+1])&&(e[o]=h[a],h[a]++)},i.H.A=function(e,t,n){for(var r=e.length,o=i.H.m.r,a=0;a<r;a+=2)if(0!=e[a+1])for(var s=a>>1,c=e[a+1],u=s<<4|c,l=t-c,h=e[a]<<l,f=h+(1<<l);h!=f;)n[o[h]>>>15-t]=u,h++},i.H.l=function(e,t){for(var n=i.H.m.r,r=15-t,o=0;o<e.length;o+=2){var a=e[o]<<t-e[o+1];e[o]=n[a]>>>r}},i.H.M=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},i.H.I=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},i.H.e=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},i.H.b=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},i.H.Z=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},i.H.i=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},i.H.m=(n=Uint16Array,r=Uint32Array,{K:new n(16),j:new n(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new n(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new n(512),_:[],h:new n(32),$:[],w:new n(32768),C:[],v:[],d:new n(32768),D:[],u:new n(512),Q:[],r:new n(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new n(65536),g:new n(32768)}),function(){for(var e=i.H.m,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.r[t]=(n>>>16|n<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.q[t]=e.S[t]<<3|e.T[t],e.c[t]=e.p[t]<<4|e.z[t];r(e._,144,8),r(e._,112,9),r(e._,24,7),r(e._,8,8),i.H.n(e._,9),i.H.A(e._,9,e.J),i.H.l(e._,9),r(e.$,32,5),i.H.n(e.$,5),i.H.A(e.$,5,e.h),i.H.l(e.$,5),r(e.Q,19,0),r(e.C,286,0),r(e.D,30,0),r(e.v,320,0)}(),i.H.N),e.decode._readInterlace=function(t,n){for(var r=n.width,i=n.height,o=e.decode._getBPP(n),a=o>>3,s=Math.ceil(r*o/8),c=new Uint8Array(i*s),u=0,l=[0,0,4,0,2,0,1],h=[0,4,0,2,0,1,0],f=[8,8,8,4,4,2,2],d=[8,8,4,4,2,2,1],p=0;p<7;){for(var m=f[p],g=d[p],y=0,v=0,b=l[p];b<i;)b+=m,v++;for(var _=h[p];_<r;)_+=g,y++;var w=Math.ceil(y*o/8);e.decode._filterZero(t,n,u,y,v);for(var S=0,x=l[p];x<i;){for(var E=h[p],k=u+S*w<<3;E<r;){var R;if(1==o&&(R=(R=t[k>>3])>>7-(7&k)&1,c[x*s+(E>>3)]|=R<<7-((7&E)<<0)),2==o&&(R=(R=t[k>>3])>>6-(7&k)&3,c[x*s+(E>>2)]|=R<<6-((3&E)<<1)),4==o&&(R=(R=t[k>>3])>>4-(7&k)&15,c[x*s+(E>>1)]|=R<<4-((1&E)<<2)),o>=8)for(var T=x*s+E*a,P=0;P<a;P++)c[T+P]=t[(k>>3)+P];k+=o,E+=g}S++,x+=m}y*v!=0&&(u+=v*(1+w)),p+=1}return c},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,n,r,i,o){var a=e.decode._getBPP(n),s=Math.ceil(i*a/8),c=e.decode._paeth;a=Math.ceil(a/8);for(var u=0,l=1,h=0,f=0,d=0;d<o;d++)if(f=0,0==(h=t[(l=(u=r+d*s)+d+1)-1]))for(;f<s;f++)t[u+f]=t[l+f];else if(1==h){for(;f<a;f++)t[u+f]=t[l+f];for(;f<s;f++)t[u+f]=t[l+f]+t[u+f-a]&255}else if(0==d){for(;f<a;f++)t[u+f]=t[l+f];if(2==h)for(;f<s;f++)t[u+f]=t[l+f];else if(3==h)for(;f<s;f++)t[u+f]=t[l+f]+(t[u+f-a]>>>1)&255;else if(4==h)for(;f<s;f++)t[u+f]=t[l+f]+c(t[u+f-a],0,0)&255}else if(2==h)for(;f<s;f++)t[u+f]=t[l+f]+t[u+f-s]&255;else if(3==h){for(;f<a;f++)t[u+f]=t[l+f]+(t[u+f-s]>>>1)&255;for(;f<s;f++)t[u+f]=t[l+f]+(t[u+f-s]+t[u+f-a]>>>1)&255}else if(4==h){for(;f<a;f++)t[u+f]=t[l+f]+c(0,t[u+f-s],0)&255;for(;f<s;f++)t[u+f]=t[l+f]+c(t[u+f-a],t[u+f-s],t[u+f-a-s])&255}return t},e.decode._paeth=function(e,t,n){var r=e+t-n,i=Math.abs(r-e),o=Math.abs(r-t),a=Math.abs(r-n);return i<=o&&i<=a?e:o<=a?t:n},e.decode._IHDR=function(t,n,r){var i=e._bin;r.width=i.readUint(t,n),n+=4,r.height=i.readUint(t,n),n+=4,r.depth=t[n],n++,r.ctype=t[n],n++,r.compress=t[n],n++,r.filter=t[n],n++,r.interlace=t[n],n++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,n){e[t]=n>>8&255,e[t+1]=255&n},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,n){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,n,r){for(var i,o="",a=0;a<r;a++)o+="%"+e._bin.pad(t[n+a].toString(16));try{i=decodeURIComponent(o)}catch(i){return e._bin.readASCII(t,n,r)}return i}},e._copyTile=function(e,t,n,r,i,o,a,s,c){for(var u=Math.min(t,i),l=Math.min(n,o),h=0,f=0,d=0;d<l;d++)for(var p=0;p<u;p++)if(a>=0&&s>=0?(h=d*t+p<<2,f=(s+d)*i+a+p<<2):(h=(-s+d)*t-a+p<<2,f=d*i+p<<2),0==c)r[f]=e[h],r[f+1]=e[h+1],r[f+2]=e[h+2],r[f+3]=e[h+3];else if(1==c){var m=e[h+3]*(1/255),g=e[h]*m,y=e[h+1]*m,v=e[h+2]*m,b=r[f+3]*(1/255),_=r[f]*b,w=r[f+1]*b,S=r[f+2]*b,x=1-m,E=m+b*x,k=0==E?0:1/E;r[f+3]=255*E,r[f+0]=(g+_*x)*k,r[f+1]=(y+w*x)*k,r[f+2]=(v+S*x)*k}else if(2==c)m=e[h+3],g=e[h],y=e[h+1],v=e[h+2],b=r[f+3],_=r[f],w=r[f+1],S=r[f+2],m==b&&g==_&&y==w&&v==S?(r[f]=0,r[f+1]=0,r[f+2]=0,r[f+3]=0):(r[f]=g,r[f+1]=y,r[f+2]=v,r[f+3]=m);else if(3==c){if(m=e[h+3],g=e[h],y=e[h+1],v=e[h+2],b=r[f+3],_=r[f],w=r[f+1],S=r[f+2],m==b&&g==_&&y==w&&v==S)continue;if(m<220&&b>20)return!1}return!0},e.encode=function(t,n,r,i,o,a,s){null==i&&(i=0),null==s&&(s=!1);var c=e.encode.compress(t,n,r,i,[!1,!1,!1,0,s]);return e.encode.compressPNG(c,-1),e.encode._main(c,n,r,o,a)},e.encodeLL=function(t,n,r,i,o,a,s,c){for(var u={ctype:0+(1==i?0:2)+(0==o?0:4),depth:a,frames:[]},l=(i+o)*a,h=l*n,f=0;f<t.length;f++)u.frames.push({rect:{x:0,y:0,width:n,height:r},img:new Uint8Array(t[f]),blend:0,dispose:1,bpp:Math.ceil(l/8),bpl:Math.ceil(h/8)});return e.encode.compressPNG(u,4),e.encode._main(u,n,r,s,c)},e.encode._main=function(t,n,r,i,o){null==o&&(o={});var a=e.crc.crc,s=e._bin.writeUint,c=e._bin.writeUshort,u=e._bin.writeASCII,l=8,h=t.frames.length>1,f=!1,d=33+(h?20:0);if(null!=o.sRGB&&(d+=13),null!=o.pHYs&&(d+=21),3==t.ctype){for(var p=t.plte.length,m=0;m<p;m++)t.plte[m]>>>24!=255&&(f=!0);d+=8+3*p+4+(f?8+1*p+4:0)}for(var g=0;g<t.frames.length;g++)h&&(d+=38),d+=(k=t.frames[g]).cimg.length+12,0!=g&&(d+=4);d+=12;var y=new Uint8Array(d),v=[137,80,78,71,13,10,26,10];for(m=0;m<8;m++)y[m]=v[m];if(s(y,l,13),u(y,l+=4,"IHDR"),s(y,l+=4,n),s(y,l+=4,r),y[l+=4]=t.depth,y[++l]=t.ctype,y[++l]=0,y[++l]=0,y[++l]=0,s(y,++l,a(y,l-17,17)),l+=4,null!=o.sRGB&&(s(y,l,1),u(y,l+=4,"sRGB"),y[l+=4]=o.sRGB,s(y,++l,a(y,l-5,5)),l+=4),null!=o.pHYs&&(s(y,l,9),u(y,l+=4,"pHYs"),s(y,l+=4,o.pHYs[0]),s(y,l+=4,o.pHYs[1]),y[l+=4]=o.pHYs[2],s(y,++l,a(y,l-13,13)),l+=4),h&&(s(y,l,8),u(y,l+=4,"acTL"),s(y,l+=4,t.frames.length),s(y,l+=4,null!=o.loop?o.loop:0),s(y,l+=4,a(y,l-12,12)),l+=4),3==t.ctype){for(s(y,l,3*(p=t.plte.length)),u(y,l+=4,"PLTE"),l+=4,m=0;m<p;m++){var b=3*m,_=t.plte[m],w=255&_,S=_>>>8&255,x=_>>>16&255;y[l+b+0]=w,y[l+b+1]=S,y[l+b+2]=x}if(s(y,l+=3*p,a(y,l-3*p-4,3*p+4)),l+=4,f){for(s(y,l,p),u(y,l+=4,"tRNS"),l+=4,m=0;m<p;m++)y[l+m]=t.plte[m]>>>24&255;s(y,l+=p,a(y,l-p-4,p+4)),l+=4}}var E=0;for(g=0;g<t.frames.length;g++){var k=t.frames[g];h&&(s(y,l,26),u(y,l+=4,"fcTL"),s(y,l+=4,E++),s(y,l+=4,k.rect.width),s(y,l+=4,k.rect.height),s(y,l+=4,k.rect.x),s(y,l+=4,k.rect.y),c(y,l+=4,i[g]),c(y,l+=2,1e3),y[l+=2]=k.dispose,y[++l]=k.blend,s(y,++l,a(y,l-30,30)),l+=4);var R=k.cimg;s(y,l,(p=R.length)+(0==g?0:4));var T=l+=4;for(u(y,l,0==g?"IDAT":"fdAT"),l+=4,0!=g&&(s(y,l,E++),l+=4),m=0;m<p;m++)y[l+m]=R[m];s(y,l+=p,a(y,T,l-T)),l+=4}return s(y,l,0),u(y,l+=4,"IEND"),s(y,l+=4,a(y,l-4,4)),l+=4,y.buffer},e.encode.compressPNG=function(t,n){for(var r=0;r<t.frames.length;r++){var i=t.frames[r],o=(i.rect.width,i.rect.height),a=new Uint8Array(o*i.bpl+o);i.cimg=e.encode._filterZero(i.img,o,i.bpp,i.bpl,a,n)}},e.encode.compress=function(t,n,r,i,o){for(var a=o[0],s=o[1],c=o[2],u=o[3],l=o[4],h=6,f=8,d=255,p=0;p<t.length;p++)for(var m=new Uint8Array(t[p]),g=m.length,y=0;y<g;y+=4)d&=m[y+3];var v=255!=d,b=e.encode.framize(t,n,r,a,s,c),_={},w=[],S=[];if(0!=i){var x=[];for(y=0;y<b.length;y++)x.push(b[y].img.buffer);var E=e.encode.concatRGBA(x),k=e.quantize(E,i),R=0,T=new Uint8Array(k.abuf);for(y=0;y<b.length;y++){var P=(K=b[y].img).length;for(S.push(new Uint8Array(k.inds.buffer,R>>2,P>>2)),p=0;p<P;p+=4)K[p]=T[R+p],K[p+1]=T[R+p+1],K[p+2]=T[R+p+2],K[p+3]=T[R+p+3];R+=P}for(y=0;y<k.plte.length;y++)w.push(k.plte[y].est.rgba)}else for(p=0;p<b.length;p++){var I=b[p],D=new Uint32Array(I.img.buffer),O=I.rect.width,M=(g=D.length,new Uint8Array(g));for(S.push(M),y=0;y<g;y++){var B=D[y];if(0!=y&&B==D[y-1])M[y]=M[y-1];else if(y>O&&B==D[y-O])M[y]=M[y-O];else{var A=_[B];if(null==A&&(_[B]=A=w.length,w.push(B),w.length>=300))break;M[y]=A}}}var C=w.length;for(C<=256&&0==l&&(f=C<=2?1:C<=4?2:C<=16?4:8,f=Math.max(f,u)),p=0;p<b.length;p++){(I=b[p]).rect.x,I.rect.y,O=I.rect.width;var L=I.rect.height,N=I.img,q=(new Uint32Array(N.buffer),4*O),j=4;if(C<=256&&0==l){q=Math.ceil(f*O/8);for(var $=new Uint8Array(q*L),F=S[p],U=0;U<L;U++){y=U*q;var z=U*O;if(8==f)for(var W=0;W<O;W++)$[y+W]=F[z+W];else if(4==f)for(W=0;W<O;W++)$[y+(W>>1)]|=F[z+W]<<4-4*(1&W);else if(2==f)for(W=0;W<O;W++)$[y+(W>>2)]|=F[z+W]<<6-2*(3&W);else if(1==f)for(W=0;W<O;W++)$[y+(W>>3)]|=F[z+W]<<7-1*(7&W)}N=$,h=3,j=1}else if(0==v&&1==b.length){$=new Uint8Array(O*L*3);var H=O*L;for(y=0;y<H;y++){var K,G=4*y;$[K=3*y]=N[G],$[K+1]=N[G+1],$[K+2]=N[G+2]}N=$,h=2,j=3,q=3*O}I.img=N,I.bpl=q,I.bpp=j}return{ctype:h,depth:f,plte:w,frames:b}},e.encode.framize=function(t,n,r,i,o,a){for(var s=[],c=0;c<t.length;c++){var u,l=new Uint8Array(t[c]),h=new Uint32Array(l.buffer),f=0,d=0,p=n,m=r,g=i?1:0;if(0!=c){for(var y=a||i||1==c||0!=s[c-2].dispose?1:2,v=0,b=1e9,_=0;_<y;_++){for(var w=new Uint8Array(t[c-1-_]),S=new Uint32Array(t[c-1-_]),x=n,E=r,k=-1,R=-1,T=0;T<r;T++)for(var P=0;P<n;P++)h[C=T*n+P]!=S[C]&&(P<x&&(x=P),P>k&&(k=P),T<E&&(E=T),T>R&&(R=T));-1==k&&(x=E=k=R=0),o&&(1==(1&x)&&x--,1==(1&E)&&E--);var I=(k-x+1)*(R-E+1);I<b&&(b=I,v=_,f=x,d=E,p=k-x+1,m=R-E+1)}w=new Uint8Array(t[c-1-v]),1==v&&(s[c-1].dispose=2),u=new Uint8Array(p*m*4),e._copyTile(w,n,r,u,p,m,-f,-d,0),1==(g=e._copyTile(l,n,r,u,p,m,-f,-d,3)?1:0)?e.encode._prepareDiff(l,n,r,u,{x:f,y:d,width:p,height:m}):e._copyTile(l,n,r,u,p,m,-f,-d,0)}else u=l.slice(0);s.push({rect:{x:f,y:d,width:p,height:m},img:u,blend:g,dispose:0})}if(i)for(c=0;c<s.length;c++)if(1!=(L=s[c]).blend){var D=L.rect,O=s[c-1].rect,M=Math.min(D.x,O.x),B=Math.min(D.y,O.y),A={x:M,y:B,width:Math.max(D.x+D.width,O.x+O.width)-M,height:Math.max(D.y+D.height,O.y+O.height)-B};s[c-1].dispose=1,c-1!=0&&e.encode._updateFrame(t,n,r,s,c-1,A,o),e.encode._updateFrame(t,n,r,s,c,A,o)}if(1!=t.length)for(var C=0;C<s.length;C++){var L;(L=s[C]).rect.width,L.rect.height}return s},e.encode._updateFrame=function(t,n,r,i,o,a,s){for(var c=Uint8Array,u=Uint32Array,l=new c(t[o-1]),h=new u(t[o-1]),f=o+1<t.length?new c(t[o+1]):null,d=new c(t[o]),p=new u(d.buffer),m=n,g=r,y=-1,v=-1,b=0;b<a.height;b++)for(var _=0;_<a.width;_++){var w=a.x+_,S=a.y+b,x=S*n+w,E=p[x];0==E||0==i[o-1].dispose&&h[x]==E&&(null==f||0!=f[4*x+3])||(w<m&&(m=w),w>y&&(y=w),S<g&&(g=S),S>v&&(v=S))}-1==y&&(m=g=y=v=0),s&&(1==(1&m)&&m--,1==(1&g)&&g--),a={x:m,y:g,width:y-m+1,height:v-g+1};var k=i[o];k.rect=a,k.blend=1,k.img=new Uint8Array(a.width*a.height*4),0==i[o-1].dispose?(e._copyTile(l,n,r,k.img,a.width,a.height,-a.x,-a.y,0),e.encode._prepareDiff(d,n,r,k.img,a)):e._copyTile(d,n,r,k.img,a.width,a.height,-a.x,-a.y,0)},e.encode._prepareDiff=function(t,n,r,i,o){e._copyTile(t,n,r,i,o.width,o.height,-o.x,-o.y,2)},e.encode._filterZero=function(n,r,i,o,a,s){if(-1!=s){for(var c=0;c<r;c++)e.encode._filterLine(a,n,c,o,i,s);return t.deflate(a)}for(var u=[],l=0;l<5;l++)if(!(r*o>5e5)||1!=l&&2!=l&&3!=l&&4!=l){for(c=0;c<r;c++)e.encode._filterLine(a,n,c,o,i,l);if(u.push(t.deflate(a)),1==i)break}for(var h,f=1e9,d=0;d<u.length;d++)u[d].length<f&&(h=d,f=u[d].length);return u[h]},e.encode._filterLine=function(t,n,r,i,o,a){var s=r*i,c=s+r,u=e.decode._paeth;if(t[c]=a,c++,0==a)for(var l=0;l<i;l++)t[c+l]=n[s+l];else if(1==a){for(l=0;l<o;l++)t[c+l]=n[s+l];for(l=o;l<i;l++)t[c+l]=n[s+l]-n[s+l-o]+256&255}else if(0==r){for(l=0;l<o;l++)t[c+l]=n[s+l];if(2==a)for(l=o;l<i;l++)t[c+l]=n[s+l];if(3==a)for(l=o;l<i;l++)t[c+l]=n[s+l]-(n[s+l-o]>>1)+256&255;if(4==a)for(l=o;l<i;l++)t[c+l]=n[s+l]-u(n[s+l-o],0,0)+256&255}else{if(2==a)for(l=0;l<i;l++)t[c+l]=n[s+l]+256-n[s+l-i]&255;if(3==a){for(l=0;l<o;l++)t[c+l]=n[s+l]+256-(n[s+l-i]>>1)&255;for(l=o;l<i;l++)t[c+l]=n[s+l]+256-(n[s+l-i]+n[s+l-o]>>1)&255}if(4==a){for(l=0;l<o;l++)t[c+l]=n[s+l]+256-u(0,n[s+l-i],0)&255;for(l=o;l<i;l++)t[c+l]=n[s+l]+256-u(n[s+l-o],n[s+l-i],n[s+l-o-i])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(t,n,r,i){for(var o=0;o<i;o++)t=e.crc.table[255&(t^n[r+o])]^t>>>8;return t},crc:function(t,n,r){return 4294967295^e.crc.update(4294967295,t,n,r)}},e.quantize=function(t,n){for(var r=new Uint8Array(t),i=r.slice(0),o=new Uint32Array(i.buffer),a=e.quantize.getKDtree(i,n),s=a[0],c=a[1],u=(e.quantize.planeDst,r),l=o,h=u.length,f=new Uint8Array(r.length>>2),d=0;d<h;d+=4){var p=u[d]*(1/255),m=u[d+1]*(1/255),g=u[d+2]*(1/255),y=u[d+3]*(1/255),v=e.quantize.getNearest(s,p,m,g,y);f[d>>2]=v.ind,l[d>>2]=v.est.rgba}return{abuf:i.buffer,inds:f,plte:c}},e.quantize.getKDtree=function(t,n,r){null==r&&(r=1e-4);var i=new Uint32Array(t.buffer),o={i0:0,i1:t.length,bst:null,est:null,tdst:0,left:null,right:null};o.bst=e.quantize.stats(t,o.i0,o.i1),o.est=e.quantize.estats(o.bst);for(var a=[o];a.length<n;){for(var s=0,c=0,u=0;u<a.length;u++)a[u].est.L>s&&(s=a[u].est.L,c=u);if(s<r)break;var l=a[c],h=e.quantize.splitPixels(t,i,l.i0,l.i1,l.est.e,l.est.eMq255);if(l.i0>=h||l.i1<=h)l.est.L=0;else{var f={i0:l.i0,i1:h,bst:null,est:null,tdst:0,left:null,right:null};f.bst=e.quantize.stats(t,f.i0,f.i1),f.est=e.quantize.estats(f.bst);var d={i0:h,i1:l.i1,bst:null,est:null,tdst:0,left:null,right:null};for(d.bst={R:[],m:[],N:l.bst.N-f.bst.N},u=0;u<16;u++)d.bst.R[u]=l.bst.R[u]-f.bst.R[u];for(u=0;u<4;u++)d.bst.m[u]=l.bst.m[u]-f.bst.m[u];d.est=e.quantize.estats(d.bst),l.left=f,l.right=d,a[c]=f,a.push(d)}}for(a.sort((function(e,t){return t.bst.N-e.bst.N})),u=0;u<a.length;u++)a[u].ind=u;return[o,a]},e.quantize.getNearest=function(t,n,r,i,o){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,n,r,i,o),t;var a=e.quantize.planeDst(t.est,n,r,i,o),s=t.left,c=t.right;a>0&&(s=t.right,c=t.left);var u=e.quantize.getNearest(s,n,r,i,o);if(u.tdst<=a*a)return u;var l=e.quantize.getNearest(c,n,r,i,o);return l.tdst<u.tdst?l:u},e.quantize.planeDst=function(e,t,n,r,i){var o=e.e;return o[0]*t+o[1]*n+o[2]*r+o[3]*i-e.eMq},e.quantize.dist=function(e,t,n,r,i){var o=t-e[0],a=n-e[1],s=r-e[2],c=i-e[3];return o*o+a*a+s*s+c*c},e.quantize.splitPixels=function(t,n,r,i,o,a){var s=e.quantize.vecDot;for(i-=4;r<i;){for(;s(t,r,o)<=a;)r+=4;for(;s(t,i,o)>a;)i-=4;if(r>=i)break;var c=n[r>>2];n[r>>2]=n[i>>2],n[i>>2]=c,r+=4,i-=4}for(;s(t,r,o)>a;)r-=4;return r+4},e.quantize.vecDot=function(e,t,n){return e[t]*n[0]+e[t+1]*n[1]+e[t+2]*n[2]+e[t+3]*n[3]},e.quantize.stats=function(e,t,n){for(var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[0,0,0,0],o=n-t>>2,a=t;a<n;a+=4){var s=e[a]*(1/255),c=e[a+1]*(1/255),u=e[a+2]*(1/255),l=e[a+3]*(1/255);i[0]+=s,i[1]+=c,i[2]+=u,i[3]+=l,r[0]+=s*s,r[1]+=s*c,r[2]+=s*u,r[3]+=s*l,r[5]+=c*c,r[6]+=c*u,r[7]+=c*l,r[10]+=u*u,r[11]+=u*l,r[15]+=l*l}return r[4]=r[1],r[8]=r[2],r[9]=r[6],r[12]=r[3],r[13]=r[7],r[14]=r[11],{R:r,m:i,N:o}},e.quantize.estats=function(t){var n=t.R,r=t.m,i=t.N,o=r[0],a=r[1],s=r[2],c=r[3],u=0==i?0:1/i,l=[n[0]-o*o*u,n[1]-o*a*u,n[2]-o*s*u,n[3]-o*c*u,n[4]-a*o*u,n[5]-a*a*u,n[6]-a*s*u,n[7]-a*c*u,n[8]-s*o*u,n[9]-s*a*u,n[10]-s*s*u,n[11]-s*c*u,n[12]-c*o*u,n[13]-c*a*u,n[14]-c*s*u,n[15]-c*c*u],h=l,f=e.M4,d=[.5,.5,.5,.5],p=0,m=0;if(0!=i)for(var g=0;g<10&&(d=f.multVec(h,d),m=Math.sqrt(f.dot(d,d)),d=f.sml(1/m,d),!(Math.abs(m-p)<1e-9));g++)p=m;var y=[o*u,a*u,s*u,c*u];return{Cov:l,q:y,e:d,L:p,eMq255:f.dot(f.sml(255,y),d),eMq:f.dot(d,y),rgba:(Math.round(255*y[3])<<24|Math.round(255*y[2])<<16|Math.round(255*y[1])<<8|Math.round(255*y[0])<<0)>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.concatRGBA=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n].byteLength;var r=new Uint8Array(t),i=0;for(n=0;n<e.length;n++){for(var o=new Uint8Array(e[n]),a=o.length,s=0;s<a;s+=4){var c=o[s],u=o[s+1],l=o[s+2],h=o[s+3];0==h&&(c=u=l=0),r[i+s]=c,r[i+s+1]=u,r[i+s+2]=l,r[i+s+3]=h}i+=a}return r.buffer}}(r,UZIP)},function(e,t,n){var r,i,o={};o.parse=function(e,t){for(var n=o.bin.readUshort,r=o.bin.readUint,i=0,a={},s=new Uint8Array(e),c=s.length-4;101010256!=r(s,c);)c--;i=c;i+=4;var u=n(s,i+=4),l=(n(s,i+=2),r(s,i+=2)),h=r(s,i+=4);i+=4,i=h;for(var f=0;f<u;f++){r(s,i);i+=4,i+=4,i+=4;r(s,i+=4),l=r(s,i+=4);var d=r(s,i+=4),p=n(s,i+=4),m=n(s,i+2),g=n(s,i+4);i+=6;var y=r(s,i+=8);i+=4,i+=p+m+g,o._readLocal(s,y,a,l,d,t)}return a},o._readLocal=function(e,t,n,r,i,a){var s=o.bin.readUshort,c=o.bin.readUint,u=(c(e,t),s(e,t+=4),s(e,t+=2),s(e,t+=2));c(e,t+=2),c(e,t+=4);t+=4;var l=s(e,t+=8),h=s(e,t+=2);t+=2;var f=o.bin.readUTF8(e,t,l);if(t+=l,t+=h,a)n[f]={size:i,csize:r};else{var d=new Uint8Array(e.buffer,t);if(0==u)n[f]=new Uint8Array(d.buffer.slice(t,t+r));else{if(8!=u)throw"unknown compression method: "+u;var p=new Uint8Array(i);o.inflateRaw(d,p),n[f]=p}}},o.inflateRaw=function(e,t){return o.F.inflate(e,t)},o.inflate=function(e,t){e[0],e[1];return o.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},o.deflate=function(e,t){null==t&&(t={level:6});var n=0,r=new Uint8Array(50+Math.floor(1.1*e.length));r[n]=120,r[n+1]=156,n+=2,n=o.F.deflateRaw(e,r,n,t.level);var i=o.adler(e,0,e.length);return r[n+0]=i>>>24&255,r[n+1]=i>>>16&255,r[n+2]=i>>>8&255,r[n+3]=i>>>0&255,new Uint8Array(r.buffer,0,n+4)},o.deflateRaw=function(e,t){null==t&&(t={level:6});var n=new Uint8Array(50+Math.floor(1.1*e.length)),r=o.F.deflateRaw(e,n,r,t.level);return new Uint8Array(n.buffer,0,r)},o.encode=function(e){var t=0,n=o.bin.writeUint,r=o.bin.writeUshort,i={};for(var a in e){var s=!o._noNeed(a),c=e[a],u=o.crc.crc(c,0,c.length);i[a]={cpr:s,usize:c.length,crc:u,file:s?o.deflateRaw(c):c}}for(var a in i)t+=i[a].file.length+30+46+2*o.bin.sizeUTF8(a);t+=22;var l=new Uint8Array(t),h=0,f=[];for(var a in i){var d=i[a];f.push(h),h=o._writeHeader(l,h,a,d,0)}var p=0,m=h;for(var a in i){d=i[a];f.push(h),h=o._writeHeader(l,h,a,d,1,f[p++])}var g=h-m;return n(l,h,101010256),h+=4,r(l,h+=4,p),r(l,h+=2,p),n(l,h+=2,g),n(l,h+=4,m),h+=4,h+=2,l.buffer},o._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return-1!="png,jpg,jpeg,zip".indexOf(t)},o._writeHeader=function(e,t,n,r,i,a){var s=o.bin.writeUint,c=o.bin.writeUshort,u=r.file;return s(e,t,0==i?67324752:33639248),t+=4,1==i&&(t+=2),c(e,t,20),c(e,t+=2,0),c(e,t+=2,r.cpr?8:0),s(e,t+=2,0),s(e,t+=4,r.crc),s(e,t+=4,u.length),s(e,t+=4,r.usize),c(e,t+=4,o.bin.sizeUTF8(n)),c(e,t+=2,0),t+=2,1==i&&(t+=2,t+=2,s(e,t+=6,a),t+=4),t+=o.bin.writeUTF8(e,t,n),0==i&&(e.set(u,t),t+=u.length),t},o.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var i=0;i<r;i++)e=o.crc.table[255&(e^t[n+i])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^o.crc.update(4294967295,e,t,n)}},o.adler=function(e,t,n){for(var r=1,i=0,o=t,a=t+n;o<a;){for(var s=Math.min(o+5552,a);o<s;)i+=r+=e[o++];r%=65521,i%=65521}return i<<16|r},o.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,n){e[t]=255&n,e[t+1]=n>>8&255,e[t+2]=n>>16&255,e[t+3]=n>>24&255},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},writeASCII:function(e,t,n){for(var r=0;r<n.length;r++)e[t+r]=n.charCodeAt(r)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,n){for(var r,i="",a=0;a<n;a++)i+="%"+o.bin.pad(e[t+a].toString(16));try{r=decodeURIComponent(i)}catch(r){return o.bin.readASCII(e,t,n)}return r},writeUTF8:function(e,t,n){for(var r=n.length,i=0,o=0;o<r;o++){var a=n.charCodeAt(o);if(0==(4294967168&a))e[t+i]=a,i++;else if(0==(4294965248&a))e[t+i]=192|a>>6,e[t+i+1]=128|a>>0&63,i+=2;else if(0==(4294901760&a))e[t+i]=224|a>>12,e[t+i+1]=128|a>>6&63,e[t+i+2]=128|a>>0&63,i+=3;else{if(0!=(4292870144&a))throw"e";e[t+i]=240|a>>18,e[t+i+1]=128|a>>12&63,e[t+i+2]=128|a>>6&63,e[t+i+3]=128|a>>0&63,i+=4}}return i},sizeUTF8:function(e){for(var t=e.length,n=0,r=0;r<t;r++){var i=e.charCodeAt(r);if(0==(4294967168&i))n++;else if(0==(4294965248&i))n+=2;else if(0==(4294901760&i))n+=3;else{if(0!=(4292870144&i))throw"e";n+=4}}return n}},o.F={},o.F.deflateRaw=function(e,t,n,r){var i=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][r],a=o.F.U,s=o.F._goodIndex,c=(o.F._hash,o.F._putsE),u=0,l=n<<3,h=0,f=e.length;if(0==r){for(;u<f;){c(t,l,u+(E=Math.min(65535,f-u))==f?1:0),l=o.F._copyExact(e,u,E,t,l+8),u+=E}return l>>>3}var d=a.lits,p=a.strt,m=a.prev,g=0,y=0,v=0,b=0,_=0,w=0;f>2&&(p[w=o.F._hash(e,0)]=0);for(u=0;u<f;u++){if(_=w,u+1<f-2){w=o.F._hash(e,u+1);var S=u+1&32767;m[S]=p[w],p[w]=S}if(h<=u){(g>14e3||y>26697)&&f-u>100&&(h<u&&(d[g]=u-h,g+=2,h=u),l=o.F._writeBlock(u==f-1||h==f?1:0,d,g,b,e,v,u-v,t,l),g=y=b=0,v=u);var x=0;u<f-2&&(x=o.F._bestMatch(e,u,m,_,Math.min(i[2],f-u),i[3]));var E=x>>>16,k=65535&x;if(0!=x){k=65535&x;var R=s(E=x>>>16,a.of0);a.lhst[257+R]++;var T=s(k,a.df0);a.dhst[T]++,b+=a.exb[R]+a.dxb[T],d[g]=E<<23|u-h,d[g+1]=k<<16|R<<8|T,g+=2,h=u+E}else a.lhst[e[u]]++;y++}}for(v==u&&0!=e.length||(h<u&&(d[g]=u-h,g+=2,h=u),l=o.F._writeBlock(1,d,g,b,e,v,u-v,t,l),g=0,y=0,g=y=b=0,v=u);0!=(7&l);)l++;return l>>>3},o.F._bestMatch=function(e,t,n,r,i,a){var s=32767&t,c=n[s],u=s-c+32768&32767;if(c==s||r!=o.F._hash(e,t-u))return 0;for(var l=0,h=0,f=Math.min(32767,t);u<=f&&0!=--a&&c!=s;){if(0==l||e[t+l]==e[t+l-u]){var d=o.F._howLong(e,t,u);if(d>l){if(h=u,(l=d)>=i)break;u+2<d&&(d=u+2);for(var p=0,m=0;m<d-2;m++){var g=t-u+m+32768&32767,y=g-n[g]+32768&32767;y>p&&(p=y,c=g)}}}u+=(s=c)-(c=n[s])+32768&32767}return l<<16|h},o.F._howLong=function(e,t,n){if(e[t]!=e[t-n]||e[t+1]!=e[t+1-n]||e[t+2]!=e[t+2-n])return 0;var r=t,i=Math.min(e.length,t+258);for(t+=3;t<i&&e[t]==e[t-n];)t++;return t-r},o.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(e,t,n,r,i,a,s,c,u){var l,h,f,d,p,m,g,y,v,b=o.F.U,_=o.F._putsF,w=o.F._putsE;b.lhst[256]++,h=(l=o.F.getTrees())[0],f=l[1],d=l[2],p=l[3],m=l[4],g=l[5],y=l[6],v=l[7];var S=32+(0==(u+3&7)?0:8-(u+3&7))+(s<<3),x=r+o.F.contSize(b.fltree,b.lhst)+o.F.contSize(b.fdtree,b.dhst),E=r+o.F.contSize(b.ltree,b.lhst)+o.F.contSize(b.dtree,b.dhst);E+=14+3*g+o.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var k=0;k<286;k++)b.lhst[k]=0;for(k=0;k<30;k++)b.dhst[k]=0;for(k=0;k<19;k++)b.ihst[k]=0;var R=S<x&&S<E?0:x<E?1:2;_(c,u,e),_(c,u+1,R);u+=3;if(0==R){for(;0!=(7&u);)u++;u=o.F._copyExact(i,a,s,c,u)}else{var T,P;if(1==R&&(T=b.fltree,P=b.fdtree),2==R){o.F.makeCodes(b.ltree,h),o.F.revCodes(b.ltree,h),o.F.makeCodes(b.dtree,f),o.F.revCodes(b.dtree,f),o.F.makeCodes(b.itree,d),o.F.revCodes(b.itree,d),T=b.ltree,P=b.dtree,w(c,u,p-257),w(c,u+=5,m-1),w(c,u+=5,g-4),u+=4;for(var I=0;I<g;I++)w(c,u+3*I,b.itree[1+(b.ordr[I]<<1)]);u+=3*g,u=o.F._codeTiny(y,b.itree,c,u),u=o.F._codeTiny(v,b.itree,c,u)}for(var D=a,O=0;O<n;O+=2){for(var M=t[O],B=M>>>23,A=D+(8388607&M);D<A;)u=o.F._writeLit(i[D++],T,c,u);if(0!=B){var C=t[O+1],L=C>>16,N=C>>8&255,q=255&C;w(c,u=o.F._writeLit(257+N,T,c,u),B-b.of0[N]),u+=b.exb[N],_(c,u=o.F._writeLit(q,P,c,u),L-b.df0[q]),u+=b.dxb[q],D+=B}}u=o.F._writeLit(256,T,c,u)}return u},o.F._copyExact=function(e,t,n,r,i){var o=i>>>3;return r[o]=n,r[o+1]=n>>>8,r[o+2]=255-r[o],r[o+3]=255-r[o+1],o+=4,r.set(new Uint8Array(e.buffer,t,n),o),i+(n+4<<3)},o.F.getTrees=function(){for(var e=o.F.U,t=o.F._hufTree(e.lhst,e.ltree,15),n=o.F._hufTree(e.dhst,e.dtree,15),r=[],i=o.F._lenCodes(e.ltree,r),a=[],s=o.F._lenCodes(e.dtree,a),c=0;c<r.length;c+=2)e.ihst[r[c]]++;for(c=0;c<a.length;c+=2)e.ihst[a[c]]++;for(var u=o.F._hufTree(e.ihst,e.itree,7),l=19;l>4&&0==e.itree[1+(e.ordr[l-1]<<1)];)l--;return[t,n,u,i,s,l,r,a]},o.F.getSecond=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(e[n+1]);return t},o.F.nonZero=function(e){for(var t="",n=0;n<e.length;n+=2)0!=e[n+1]&&(t+=(n>>1)+",");return t},o.F.contSize=function(e,t){for(var n=0,r=0;r<t.length;r++)n+=t[r]*e[1+(r<<1)];return n},o.F._codeTiny=function(e,t,n,r){for(var i=0;i<e.length;i+=2){var a=e[i],s=e[i+1];r=o.F._writeLit(a,t,n,r);var c=16==a?2:17==a?3:7;a>15&&(o.F._putsE(n,r,s,c),r+=c)}return r},o.F._lenCodes=function(e,t){for(var n=e.length;2!=n&&0==e[n-1];)n-=2;for(var r=0;r<n;r+=2){var i=e[r+1],o=r+3<n?e[r+3]:-1,a=r+5<n?e[r+5]:-1,s=0==r?-1:e[r-1];if(0==i&&o==i&&a==i){for(var c=r+5;c+2<n&&e[c+2]==i;)c+=2;(u=Math.min(c+1-r>>>1,138))<11?t.push(17,u-3):t.push(18,u-11),r+=2*u-2}else if(i==s&&o==i&&a==i){for(c=r+5;c+2<n&&e[c+2]==i;)c+=2;var u=Math.min(c+1-r>>>1,6);t.push(16,u-3),r+=2*u-2}else t.push(i,0)}return n>>>1},o.F._hufTree=function(e,t,n){var r=[],i=e.length,a=t.length,s=0;for(s=0;s<a;s+=2)t[s]=0,t[s+1]=0;for(s=0;s<i;s++)0!=e[s]&&r.push({lit:s,f:e[s]});var c=r.length,u=r.slice(0);if(0==c)return 0;if(1==c){var l=r[0].lit;u=0==l?1:0;return t[1+(l<<1)]=1,t[1+(u<<1)]=1,1}r.sort((function(e,t){return e.f-t.f}));var h=r[0],f=r[1],d=0,p=1,m=2;for(r[0]={lit:-1,f:h.f+f.f,l:h,r:f,d:0};p!=c-1;)h=d!=p&&(m==c||r[d].f<r[m].f)?r[d++]:r[m++],f=d!=p&&(m==c||r[d].f<r[m].f)?r[d++]:r[m++],r[p++]={lit:-1,f:h.f+f.f,l:h,r:f};var g=o.F.setDepth(r[p-1],0);for(g>n&&(o.F.restrictDepth(u,n,g),g=n),s=0;s<c;s++)t[1+(u[s].lit<<1)]=u[s].d;return g},o.F.setDepth=function(e,t){return-1!=e.lit?(e.d=t,t):Math.max(o.F.setDepth(e.l,t+1),o.F.setDepth(e.r,t+1))},o.F.restrictDepth=function(e,t,n){var r=0,i=1<<n-t,o=0;for(e.sort((function(e,t){return t.d==e.d?e.f-t.f:t.d-e.d})),r=0;r<e.length&&e[r].d>t;r++){var a=e[r].d;e[r].d=t,o+=i-(1<<n-a)}for(o>>>=n-t;o>0;){(a=e[r].d)<t?(e[r].d++,o-=1<<t-a-1):r++}for(;r>=0;r--)e[r].d==t&&o<0&&(e[r].d--,o++);0!=o&&console.log("debt left")},o.F._goodIndex=function(e,t){var n=0;return t[16|n]<=e&&(n|=16),t[8|n]<=e&&(n|=8),t[4|n]<=e&&(n|=4),t[2|n]<=e&&(n|=2),t[1|n]<=e&&(n|=1),n},o.F._writeLit=function(e,t,n,r){return o.F._putsF(n,r,t[e<<1]),r+t[1+(e<<1)]},o.F.inflate=function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=o.F,i=r._bitsF,a=r._bitsE,s=r._decodeTiny,c=r.makeCodes,u=r.codes2map,l=r._get17,h=r.U,f=null==t;f&&(t=new n(e.length>>>2<<3));for(var d,p,m=0,g=0,y=0,v=0,b=0,_=0,w=0,S=0,x=0;0==m;)if(m=i(e,x,1),g=i(e,x+1,2),x+=3,0!=g){if(f&&(t=o.F._check(t,S+(1<<17))),1==g&&(d=h.flmap,p=h.fdmap,_=511,w=31),2==g){y=a(e,x,5)+257,v=a(e,x+5,5)+1,b=a(e,x+10,4)+4;x+=14;for(var E=0;E<38;E+=2)h.itree[E]=0,h.itree[E+1]=0;var k=1;for(E=0;E<b;E++){var R=a(e,x+3*E,3);h.itree[1+(h.ordr[E]<<1)]=R,R>k&&(k=R)}x+=3*b,c(h.itree,k),u(h.itree,k,h.imap),d=h.lmap,p=h.dmap,x=s(h.imap,(1<<k)-1,y+v,e,x,h.ttree);var T=r._copyOut(h.ttree,0,y,h.ltree);_=(1<<T)-1;var P=r._copyOut(h.ttree,y,v,h.dtree);w=(1<<P)-1,c(h.ltree,T),u(h.ltree,T,d),c(h.dtree,P),u(h.dtree,P,p)}for(;;){var I=d[l(e,x)&_];x+=15&I;var D=I>>>4;if(D>>>8==0)t[S++]=D;else{if(256==D)break;var O=S+D-254;if(D>264){var M=h.ldef[D-257];O=S+(M>>>3)+a(e,x,7&M),x+=7&M}var B=p[l(e,x)&w];x+=15&B;var A=B>>>4,C=h.ddef[A],L=(C>>>4)+i(e,x,15&C);for(x+=15&C;S<O;)t[S]=t[S++-L],t[S]=t[S++-L],t[S]=t[S++-L],t[S]=t[S++-L];S=O}}}else{0!=(7&x)&&(x+=8-(7&x));var N=4+(x>>>3),q=e[N-4]|e[N-3]<<8;f&&(t=o.F._check(t,S+q)),t.set(new n(e.buffer,e.byteOffset+N,q),S),x=N+q<<3,S+=q}return t.length==S?t:t.slice(0,S)},o.F._check=function(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r},o.F._decodeTiny=function(e,t,n,r,i,a){for(var s=o.F._bitsE,c=o.F._get17,u=0;u<n;){var l=e[c(r,i)&t];i+=15&l;var h=l>>>4;if(h<=15)a[u]=h,u++;else{var f=0,d=0;16==h?(d=3+s(r,i,2),i+=2,f=a[u-1]):17==h?(d=3+s(r,i,3),i+=3):18==h&&(d=11+s(r,i,7),i+=7);for(var p=u+d;u<p;)a[u]=f,u++}}return i},o.F._copyOut=function(e,t,n,r){for(var i=0,o=0,a=r.length>>>1;o<n;){var s=e[o+t];r[o<<1]=0,r[1+(o<<1)]=s,s>i&&(i=s),o++}for(;o<a;)r[o<<1]=0,r[1+(o<<1)]=0,o++;return i},o.F.makeCodes=function(e,t){for(var n,r,i,a,s=o.F.U,c=e.length,u=s.bl_count,l=0;l<=t;l++)u[l]=0;for(l=1;l<c;l+=2)u[e[l]]++;var h=s.next_code;for(n=0,u[0]=0,r=1;r<=t;r++)n=n+u[r-1]<<1,h[r]=n;for(i=0;i<c;i+=2)0!=(a=e[i+1])&&(e[i]=h[a],h[a]++)},o.F.codes2map=function(e,t,n){for(var r=e.length,i=o.F.U.rev15,a=0;a<r;a+=2)if(0!=e[a+1])for(var s=a>>1,c=e[a+1],u=s<<4|c,l=t-c,h=e[a]<<l,f=h+(1<<l);h!=f;){n[i[h]>>>15-t]=u,h++}},o.F.revCodes=function(e,t){for(var n=o.F.U.rev15,r=15-t,i=0;i<e.length;i+=2){var a=e[i]<<t-e[i+1];e[i]=n[a]>>>r}},o.F._putsE=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8},o.F._putsF=function(e,t,n){n<<=7&t;var r=t>>>3;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},o.F._bitsE=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1},o.F._bitsF=function(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1},o.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},o.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},o.F.U=(r=Uint16Array,i=Uint32Array,{next_code:new r(16),bl_count:new r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new i(32),flmap:new r(512),fltree:[],fdmap:new r(32),fdtree:[],lmap:new r(32768),ltree:[],ttree:[],dmap:new r(32768),dtree:[],imap:new r(512),itree:[],rev15:new r(32768),lhst:new i(286),dhst:new i(30),ihst:new i(19),lits:new i(15e3),strt:new r(65536),prev:new r(32768)}),function(){for(var e=o.F.U,t=0;t<32768;t++){var n=t;n=(4278255360&(n=(4042322160&(n=(3435973836&(n=(2863311530&n)>>>1|(1431655765&n)<<1))>>>2|(858993459&n)<<2))>>>4|(252645135&n)<<4))>>>8|(16711935&n)<<8,e.rev15[t]=(n>>>16|n<<16)>>>17}function r(e,t,n){for(;0!=t--;)e.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];r(e.fltree,144,8),r(e.fltree,112,9),r(e.fltree,24,7),r(e.fltree,8,8),o.F.makeCodes(e.fltree,9),o.F.codes2map(e.fltree,9,e.flmap),o.F.revCodes(e.fltree,9),r(e.fdtree,32,5),o.F.makeCodes(e.fdtree,5),o.F.codes2map(e.fdtree,5,e.fdmap),o.F.revCodes(e.fdtree,5),r(e.itree,19,0),r(e.ltree,286,0),r(e.dtree,30,0),r(e.ttree,320,0)}(),void 0!==e.exports&&(e.exports=o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TreeDPDoc=void 0;const r=n(16),i=n(13);t.TreeDPDoc=class{constructor(e){this.ctx=e,this.aTreeTmp=[{label:"開発者向け情報",icon:"document",url:"https://famibee.github.io/SKYNovel/dev.htm"},{label:"タグリファレンス",icon:"document",url:"https://famibee.github.io/SKYNovel/tag.htm"},{label:"マクロ・プラグインリファレンス",icon:"document",cmd:"opMacroPlg",url:"https://famibee.github.io/SKYNovel/macro_plg.htm"},{label:"機能ギャラリー",icon:"document",url:"https://famibee.github.io/SKYNovel_gallery/"},{label:"テンプレート プロジェクト",children:[{label:"横書き「初音館にて」",icon:"baggage",url:"https://github.com/famibee/SKYNovel_hatsune/archive/master.zip"},{label:"縦書き「桜の樹の下には」",icon:"baggage",url:"https://github.com/famibee/SKYNovel_uc/archive/master.zip"}]},{label:"famibee  連絡先",children:[{label:"famibee blog",icon:"document",url:"https://famibee.blog.fc2.com/"},{label:"famibee Mail",icon:"mail",url:"mailto:famibee@gmail.com"},{label:"famibee Twitter",icon:"twitter",url:"https://twitter.com/famibee"}]},{label:"オススメVSCode拡張機能",children:[{label:"日本語化",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja"},{label:"Material Icon Theme",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme"},{label:"Bookmarks",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=alefragnani.Bookmarks"},{label:"HTML Preview",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=tht13.html-preview-vscode"},{label:"HTMLHint",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=mkaufman.HTMLHint"},{label:"Live Server",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer"},{label:"glTF Tools",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=cesium.gltf-vscode"}]}],this.aTiRoot=this.generate("doc",this.aTreeTmp),this.getTreeItem=e=>e}generate(e,t){return t.map((t,n)=>{const o=("doc"===e?"skynovel.":"")+`${e}/${n}`,a=new i.TreeItem(t.label);return a.contextValue=o,t.children?(a.iconPath=i.ThemeIcon.Folder,a.collapsibleState=i.TreeItemCollapsibleState.Collapsed):a.iconPath=t.icon?r.oIcon(t.icon):i.ThemeIcon.File,t.url&&this.ctx.subscriptions.push(i.commands.registerCommand(o,()=>i.env.openExternal(i.Uri.parse(t.url)))),a})}getChildren(e){if(!e)return this.aTiRoot;const t=this.aTreeTmp.find(t=>t.label===e.label);return(null==t?void 0:t.children)?this.generate(e.contextValue,t.children):[]}}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return v})),n.d(t,"v4",(function(){return b})),n.d(t,"v5",(function(){return _})),n.d(t,"NIL",(function(){return w})),n.d(t,"version",(function(){return S})),n.d(t,"validate",(function(){return c})),n.d(t,"stringify",(function(){return l})),n.d(t,"parse",(function(){return g}));var r=n(21),i=n.n(r);const o=new Uint8Array(16);function a(){return i.a.randomFillSync(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var c=function(e){return"string"==typeof e&&s.test(e)};const u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));var l=function(e,t=0){const n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(n))throw TypeError("Stringified UUID is invalid");return n};let h,f,d=0,p=0;var m=function(e,t,n){let r=t&&n||0;const i=t||new Array(16);let o=(e=e||{}).node||h,s=void 0!==e.clockseq?e.clockseq:f;if(null==o||null==s){const t=e.random||(e.rng||a)();null==o&&(o=h=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==s&&(s=f=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:p+1;const m=c-d+(u-p)/1e4;if(m<0&&void 0===e.clockseq&&(s=s+1&16383),(m<0||c>d)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=c,p=u,f=s,c+=122192928e5;const g=(1e4*(268435455&c)+u)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=255&g;const y=c/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=255&y,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(let e=0;e<6;++e)i[r+e]=o[e];return t||l(i)};var g=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var y=function(e,t,n){function r(e,r,i,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),a=n(a),a[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(let e=0;e<16;++e)i[o+e]=a[e];return i}return l(a)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};var v=y("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.a.createHash("md5").update(e).digest()}));var b=function(e,t,n){const r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return l(r)};var _=y("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),i.a.createHash("sha1").update(e).digest()})),w="00000000-0000-0000-0000-000000000000";var S=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}])}));