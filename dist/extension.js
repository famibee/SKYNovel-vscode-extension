/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={62743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DebugSession=t.ErrorDestination=t.MemoryEvent=t.InvalidatedEvent=t.ProgressEndEvent=t.ProgressUpdateEvent=t.ProgressStartEvent=t.CapabilitiesEvent=t.LoadedSourceEvent=t.ModuleEvent=t.BreakpointEvent=t.ThreadEvent=t.OutputEvent=t.ExitedEvent=t.TerminatedEvent=t.InitializedEvent=t.ContinuedEvent=t.StoppedEvent=t.CompletionItem=t.Module=t.Breakpoint=t.Variable=t.Thread=t.StackFrame=t.Scope=t.Source=void 0;const i=n(45538),r=n(3586),s=n(85359),o=n(87016);t.Source=class{constructor(e,t,n=0,i,r){this.name=e,this.path=t,this.sourceReference=n,i&&(this.origin=i),r&&(this.adapterData=r)}},t.Scope=class{constructor(e,t,n=!1){this.name=e,this.variablesReference=t,this.expensive=n}},t.StackFrame=class{constructor(e,t,n,i=0,r=0){this.id=e,this.source=n,this.line=i,this.column=r,this.name=t}},t.Thread=class{constructor(e,t){this.id=e,this.name=t||"Thread #"+e}},t.Variable=class{constructor(e,t,n=0,i,r){this.name=e,this.value=t,this.variablesReference=n,"number"==typeof r&&(this.namedVariables=r),"number"==typeof i&&(this.indexedVariables=i)}},t.Breakpoint=class{constructor(e,t,n,i){this.verified=e;const r=this;"number"==typeof t&&(r.line=t),"number"==typeof n&&(r.column=n),i&&(r.source=i)}setId(e){this.id=e}},t.Module=class{constructor(e,t){this.id=e,this.name=t}},t.CompletionItem=class{constructor(e,t,n=0){this.label=e,this.start=t,this.length=n}};class a extends r.Event{constructor(e,t,n){super("stopped"),this.body={reason:e},"number"==typeof t&&(this.body.threadId=t),"string"==typeof n&&(this.body.text=n)}}t.StoppedEvent=a;class c extends r.Event{constructor(e,t){super("continued"),this.body={threadId:e},"boolean"==typeof t&&(this.body.allThreadsContinued=t)}}t.ContinuedEvent=c;class u extends r.Event{constructor(){super("initialized")}}t.InitializedEvent=u;class l extends r.Event{constructor(e){super("terminated"),("boolean"==typeof e||e)&&(this.body={restart:e})}}t.TerminatedEvent=l;class h extends r.Event{constructor(e){super("exited"),this.body={exitCode:e}}}t.ExitedEvent=h;class p extends r.Event{constructor(e,t="console",n){super("output"),this.body={category:t,output:e},void 0!==n&&(this.body.data=n)}}t.OutputEvent=p;class d extends r.Event{constructor(e,t){super("thread"),this.body={reason:e,threadId:t}}}t.ThreadEvent=d;class f extends r.Event{constructor(e,t){super("breakpoint"),this.body={reason:e,breakpoint:t}}}t.BreakpointEvent=f;class m extends r.Event{constructor(e,t){super("module"),this.body={reason:e,module:t}}}t.ModuleEvent=m;class g extends r.Event{constructor(e,t){super("loadedSource"),this.body={reason:e,source:t}}}t.LoadedSourceEvent=g;class y extends r.Event{constructor(e){super("capabilities"),this.body={capabilities:e}}}t.CapabilitiesEvent=y;class b extends r.Event{constructor(e,t,n){super("progressStart"),this.body={progressId:e,title:t},"string"==typeof n&&(this.body.message=n)}}t.ProgressStartEvent=b;class v extends r.Event{constructor(e,t){super("progressUpdate"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressUpdateEvent=v;class w extends r.Event{constructor(e,t){super("progressEnd"),this.body={progressId:e},"string"==typeof t&&(this.body.message=t)}}t.ProgressEndEvent=w;class _ extends r.Event{constructor(e,t,n){super("invalidated"),this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),n&&(this.body.stackFrameId=n)}}t.InvalidatedEvent=_;class S extends r.Event{constructor(e,t,n){super("memory"),this.body={memoryReference:e,offset:t,count:n}}}var E;t.MemoryEvent=S,function(e){e[e.User=1]="User",e[e.Telemetry=2]="Telemetry"}(E=t.ErrorDestination||(t.ErrorDestination={}));class x extends i.ProtocolServer{constructor(e,t){super();const n="boolean"==typeof e&&e;this._debuggerLinesStartAt1=n,this._debuggerColumnsStartAt1=n,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer="boolean"==typeof t&&t,this.on("close",(()=>{this.shutdown()})),this.on("error",(e=>{this.shutdown()}))}setDebuggerPathFormat(e){this._debuggerPathsAreURIs="path"!==e}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){(0,s.runDebugAdapter)(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout((()=>{process.exit(0)}),100)}sendErrorResponse(e,t,n,i,r=E.User){let s;"number"==typeof t?(s={id:t,format:n},i&&(s.variables=i),r&E.User&&(s.showUser=!0),r&E.Telemetry&&(s.sendTelemetry=!0)):s=t,e.success=!1,e.message=x.formatPII(s.format,!0,s.variables),e.body||(e.body={}),e.body.error=s,this.sendResponse(e)}runInTerminalRequest(e,t,n){this.sendRequest("runInTerminal",e,t,n)}dispatchRequest(e){const t=new r.Response(e);try{if("initialize"===e.command){var n=e.arguments;if("boolean"==typeof n.linesStartAt1&&(this._clientLinesStartAt1=n.linesStartAt1),"boolean"==typeof n.columnsStartAt1&&(this._clientColumnsStartAt1=n.columnsStartAt1),"path"!==n.pathFormat)this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,E.Telemetry);else{const e=t;e.body={},this.initializeRequest(e,n)}}else"launch"===e.command?this.launchRequest(t,e.arguments,e):"attach"===e.command?this.attachRequest(t,e.arguments,e):"disconnect"===e.command?this.disconnectRequest(t,e.arguments,e):"terminate"===e.command?this.terminateRequest(t,e.arguments,e):"restart"===e.command?this.restartRequest(t,e.arguments,e):"setBreakpoints"===e.command?this.setBreakPointsRequest(t,e.arguments,e):"setFunctionBreakpoints"===e.command?this.setFunctionBreakPointsRequest(t,e.arguments,e):"setExceptionBreakpoints"===e.command?this.setExceptionBreakPointsRequest(t,e.arguments,e):"configurationDone"===e.command?this.configurationDoneRequest(t,e.arguments,e):"continue"===e.command?this.continueRequest(t,e.arguments,e):"next"===e.command?this.nextRequest(t,e.arguments,e):"stepIn"===e.command?this.stepInRequest(t,e.arguments,e):"stepOut"===e.command?this.stepOutRequest(t,e.arguments,e):"stepBack"===e.command?this.stepBackRequest(t,e.arguments,e):"reverseContinue"===e.command?this.reverseContinueRequest(t,e.arguments,e):"restartFrame"===e.command?this.restartFrameRequest(t,e.arguments,e):"goto"===e.command?this.gotoRequest(t,e.arguments,e):"pause"===e.command?this.pauseRequest(t,e.arguments,e):"stackTrace"===e.command?this.stackTraceRequest(t,e.arguments,e):"scopes"===e.command?this.scopesRequest(t,e.arguments,e):"variables"===e.command?this.variablesRequest(t,e.arguments,e):"setVariable"===e.command?this.setVariableRequest(t,e.arguments,e):"setExpression"===e.command?this.setExpressionRequest(t,e.arguments,e):"source"===e.command?this.sourceRequest(t,e.arguments,e):"threads"===e.command?this.threadsRequest(t,e):"terminateThreads"===e.command?this.terminateThreadsRequest(t,e.arguments,e):"evaluate"===e.command?this.evaluateRequest(t,e.arguments,e):"stepInTargets"===e.command?this.stepInTargetsRequest(t,e.arguments,e):"gotoTargets"===e.command?this.gotoTargetsRequest(t,e.arguments,e):"completions"===e.command?this.completionsRequest(t,e.arguments,e):"exceptionInfo"===e.command?this.exceptionInfoRequest(t,e.arguments,e):"loadedSources"===e.command?this.loadedSourcesRequest(t,e.arguments,e):"dataBreakpointInfo"===e.command?this.dataBreakpointInfoRequest(t,e.arguments,e):"setDataBreakpoints"===e.command?this.setDataBreakpointsRequest(t,e.arguments,e):"readMemory"===e.command?this.readMemoryRequest(t,e.arguments,e):"writeMemory"===e.command?this.writeMemoryRequest(t,e.arguments,e):"disassemble"===e.command?this.disassembleRequest(t,e.arguments,e):"cancel"===e.command?this.cancelRequest(t,e.arguments,e):"breakpointLocations"===e.command?this.breakpointLocationsRequest(t,e.arguments,e):"setInstructionBreakpoints"===e.command?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(e){this.sendErrorResponse(t,1104,"{_stack}",{_exception:e.message,_stack:e.stack},E.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,n){this.sendResponse(e),this.shutdown()}launchRequest(e,t,n){this.sendResponse(e)}attachRequest(e,t,n){this.sendResponse(e)}terminateRequest(e,t,n){this.sendResponse(e)}restartRequest(e,t,n){this.sendResponse(e)}setBreakPointsRequest(e,t,n){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,n){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,n){this.sendResponse(e)}configurationDoneRequest(e,t,n){this.sendResponse(e)}continueRequest(e,t,n){this.sendResponse(e)}nextRequest(e,t,n){this.sendResponse(e)}stepInRequest(e,t,n){this.sendResponse(e)}stepOutRequest(e,t,n){this.sendResponse(e)}stepBackRequest(e,t,n){this.sendResponse(e)}reverseContinueRequest(e,t,n){this.sendResponse(e)}restartFrameRequest(e,t,n){this.sendResponse(e)}gotoRequest(e,t,n){this.sendResponse(e)}pauseRequest(e,t,n){this.sendResponse(e)}sourceRequest(e,t,n){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,n){this.sendResponse(e)}stackTraceRequest(e,t,n){this.sendResponse(e)}scopesRequest(e,t,n){this.sendResponse(e)}variablesRequest(e,t,n){this.sendResponse(e)}setVariableRequest(e,t,n){this.sendResponse(e)}setExpressionRequest(e,t,n){this.sendResponse(e)}evaluateRequest(e,t,n){this.sendResponse(e)}stepInTargetsRequest(e,t,n){this.sendResponse(e)}gotoTargetsRequest(e,t,n){this.sendResponse(e)}completionsRequest(e,t,n){this.sendResponse(e)}exceptionInfoRequest(e,t,n){this.sendResponse(e)}loadedSourcesRequest(e,t,n){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,n){this.sendResponse(e)}setDataBreakpointsRequest(e,t,n){this.sendResponse(e)}readMemoryRequest(e,t,n){this.sendResponse(e)}writeMemoryRequest(e,t,n){this.sendResponse(e)}disassembleRequest(e,t,n){this.sendResponse(e)}cancelRequest(e,t,n){this.sendResponse(e)}breakpointLocationsRequest(e,t,n){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,n){this.sendResponse(e)}customRequest(e,t,n,i){this.sendErrorResponse(t,1014,"unrecognized request",null,E.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?x.uri2path(e):x.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?x.uri2path(e):x.path2uri(e):e}static path2uri(e){"win32"===process.platform&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new o.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new o.URL(e),n=decodeURIComponent(t.pathname);return"win32"===process.platform&&(/^\/[a-zA-Z]:/.test(n)&&(n=n[1].toLowerCase()+n.substr(2)),n=n.replace(/\//g,"\\")),n}static formatPII(e,t,n){return e.replace(x._formatPIIRegexp,(function(e,i){return t&&i.length>0&&"_"!==i[0]?e:n[i]&&n.hasOwnProperty(i)?n[i]:e}))}}t.DebugSession=x,x._formatPIIRegexp=/{([^}]+)}/g},22715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Handles=void 0,t.Handles=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle="number"==typeof e?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}}},8711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLogger=void 0;const i=n(79896),r=n(16928),s=n(48194);function o(){let e=new Date;return a(2,String(e.getUTCHours()))+":"+a(2,String(e.getUTCMinutes()))+":"+a(2,String(e.getUTCSeconds()))+"."+a(3,String(e.getUTCMilliseconds()))+" UTC"}function a(e,t){return t.length>=e?t:String("0".repeat(e)+t).slice(-e)}t.InternalLogger=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=s.LogLevel.Warn,this.disposeCallback=(e,t)=>{this.dispose(),t=t||2,t+=128,process.exit(t)}}async setup(e){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(r.isAbsolute(e.logFilePath)){const t=t=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${t.toString()}\n`,s.LogLevel.Error);try{await i.promises.mkdir(r.dirname(e.logFilePath),{recursive:!0}),this.log("Verbose logs are written to:\n",s.LogLevel.Warn),this.log(e.logFilePath+"\n",s.LogLevel.Warn),this._logFileStream=i.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",(e=>{t(e)}))}catch(e){t(e)}}else this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,s.LogLevel.Error)}logDateTime(){let e=new Date;const t=e.getUTCFullYear()+"-"+`${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+o();this.log(t+"\n",s.LogLevel.Verbose,!1)}setupShutdownListeners(){process.on("beforeExit",this.beforeExitCallback),process.on("SIGTERM",this.disposeCallback),process.on("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise((e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()}))}log(e,t,n=!0){if(this._minLogLevel!==s.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){const n=t===s.LogLevel.Error?console.error:t===s.LogLevel.Warn?console.warn:null;n&&n((0,s.trimLastNewline)(e))}t===s.LogLevel.Error&&(e=`[${s.LogLevel[t]}] ${e}`),this._prependTimestamp&&n&&(e="["+o()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){const t=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",t&&(e+="\n")}if(this._logCallback){const n=new s.LogOutputEvent(e,t);this._logCallback(n)}}}},48194:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trimLastNewline=t.LogOutputEvent=t.logger=t.Logger=t.LogLevel=void 0;const i=n(8711),r=n(62743);var s;!function(e){e[e.Verbose=0]="Verbose",e[e.Log=1]="Log",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Stop=4]="Stop"}(s=t.LogLevel||(t.LogLevel={}));class o{constructor(){this._pendingLogQ=[]}log(e,t=s.Log){e+="\n",this._write(e,t)}verbose(e){this.log(e,s.Verbose)}warn(e){this.log(e,s.Warn)}error(e){this.log(e,s.Error)}dispose(){if(this._currentLogger){const e=this._currentLogger.dispose();return this._currentLogger=null,e}return Promise.resolve()}_write(e,t=s.Log){e+="",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,n=!0){const i="string"==typeof t?t:t&&this._logFilePathFromInit;if(this._currentLogger){const t={consoleMinLogLevel:e,logFilePath:i,prependTimestamp:n};this._currentLogger.setup(t).then((()=>{if(this._pendingLogQ){const e=this._pendingLogQ;this._pendingLogQ=null,e.forEach((e=>this._write(e.msg,e.level)))}}))}}init(e,t,n){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new i.InternalLogger(e,n),this._logFilePathFromInit=t}}t.Logger=o,t.logger=new o;class a extends r.OutputEvent{constructor(e,t){super(e,t===s.Error?"stderr":t===s.Warn?"console":"stdout")}}t.LogOutputEvent=a,t.trimLastNewline=function(e){return e.replace(/(\n|\r\n)$/,"")}},67308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggingDebugSession=void 0;const i=n(48194),r=i.logger,s=n(62743);class o extends s.DebugSession{constructor(e,t,n){super(t,n),this.obsolete_logFilePath=e,this.on("error",(e=>{r.error(e.body)}))}start(e,t){super.start(e,t),r.init((e=>this.sendEvent(e)),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof i.LogOutputEvent)){let t=e;e instanceof s.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t={...e},t.body={...e.body,output:"<output not logged>"}),r.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,n,i){r.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${n}`),super.sendRequest(e,t,n,i)}sendResponse(e){r.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){r.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}}t.LoggingDebugSession=o},28675:(e,t,n)=>{"use strict";t.ot=t.kL=t.EA=t.HG=t.s$=t.jV=t.Q_=t.iQ=t.YI=t.cz=t.R3=t.vF=t.Vy=t.dn=void 0;const i=n(62743);Object.defineProperty(t,"R3",{enumerable:!0,get:function(){return i.InitializedEvent}}),Object.defineProperty(t,"cz",{enumerable:!0,get:function(){return i.TerminatedEvent}}),Object.defineProperty(t,"YI",{enumerable:!0,get:function(){return i.StoppedEvent}}),Object.defineProperty(t,"iQ",{enumerable:!0,get:function(){return i.OutputEvent}}),Object.defineProperty(t,"Q_",{enumerable:!0,get:function(){return i.BreakpointEvent}}),Object.defineProperty(t,"jV",{enumerable:!0,get:function(){return i.Thread}}),Object.defineProperty(t,"s$",{enumerable:!0,get:function(){return i.StackFrame}}),Object.defineProperty(t,"HG",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"EA",{enumerable:!0,get:function(){return i.Breakpoint}}),Object.defineProperty(t,"kL",{enumerable:!0,get:function(){return i.Source}});const r=n(67308);Object.defineProperty(t,"dn",{enumerable:!0,get:function(){return r.LoggingDebugSession}});const s=n(48194);t.Vy=s;n(3586);const o=n(22715);Object.defineProperty(t,"ot",{enumerable:!0,get:function(){return o.Handles}});const a=s.logger;t.vF=a},3586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=t.Response=t.Message=void 0;class n{constructor(e){this.seq=0,this.type=e}}t.Message=n,t.Response=class extends n{constructor(e,t){super("response"),this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}},t.Event=class extends n{constructor(e,t){super("event"),this.event=e,t&&(this.body=t)}}},45538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolServer=void 0;const i=n(24434),r=n(3586);class s{get event(){return this._event||(this._event=(e,t)=>{let n;return this._listener=e,this._this=t,n={dispose:()=>{this._listener=void 0,this._this=void 0}},n}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch(e){}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}}class o extends i.EventEmitter{constructor(){super(),this._sendMessage=new s,this._sequence=1,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if("request"===e.type)this.dispatchRequest(e);else if("response"===e.type){const t=e,n=this._pendingRequests.get(t.request_seq);n&&(this._pendingRequests.delete(t.request_seq),n(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",(e=>this._handleData(e))),e.on("close",(()=>{this._emitEvent(new r.Event("close"))})),e.on("error",(e=>{this._emitEvent(new r.Event("error","inStream error: "+(e&&e.message)))})),t.on("error",(e=>{this._emitEvent(new r.Event("error","outStream error: "+(e&&e.message)))})),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,n,i){const s={command:e};if(t&&Object.keys(t).length>0&&(s.arguments=t),this._send("request",s),i){this._pendingRequests.set(s.seq,i);const e=setTimeout((()=>{clearTimeout(e);const t=this._pendingRequests.get(s.seq);t&&(this._pendingRequests.delete(s.seq),t(new r.Response(s,"timeout")))}),n)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){const e=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(e,"utf8")}\r\n\r\n${e}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){const e=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,e.length>0)try{let t=JSON.parse(e);this.handleMessage(t)}catch(e){this._emitEvent(new r.Event("error","Error handling data: "+(e&&e.message)))}continue}}else{const e=this._rawData.indexOf(o.TWO_CRLF);if(-1!==e){const t=this._rawData.toString("utf8",0,e).split("\r\n");for(let e=0;e<t.length;e++){const n=t[e].split(/: +/);"Content-Length"==n[0]&&(this._contentLength=+n[1])}this._rawData=this._rawData.slice(e+o.TWO_CRLF.length);continue}}break}}}t.ProtocolServer=o,o.TWO_CRLF="\r\n\r\n"},85359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runDebugAdapter=void 0;const i=n(69278);t.runDebugAdapter=function(e){let t=0;if(process.argv.slice(2).forEach((function(e,n,i){const r=/^--server=(\d{4,5})$/.exec(e);r&&(t=parseInt(r[1],10))})),t>0)console.error(`waiting for debug protocol on port ${t}`),i.createServer((t=>{console.error(">> accepted connection from client"),t.on("end",(()=>{console.error(">> client connection closed\n")}));const n=new e(!1,!0);n.setRunAsServer(!0),n.start(t,t)})).listen(t);else{const t=new e(!1);process.on("SIGTERM",(()=>{t.shutdown()})),t.start(process.stdin,process.stdout)}}},66584:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(14988);class r extends i.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=s.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}i.defineEventAttribute(r.prototype,"abort");const s=new WeakMap;Object.defineProperties(r.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(r.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class o{constructor(){a.set(this,function(){const e=Object.create(r.prototype);return i.EventTarget.call(e),s.set(e,!1),e}())}get signal(){return c(this)}abort(){var e;e=c(this),!1===s.get(e)&&(s.set(e,!0),e.dispatchEvent({type:"abort"}))}}const a=new WeakMap;function c(e){const t=a.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(o.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=o,t.AbortSignal=r,t.default=o,e.exports=o,e.exports.AbortController=e.exports.default=o,e.exports.AbortSignal=r},22594:(e,t,n)=>{"use strict";var i=n(81297),r=n(86049);function s(e){if(!(this instanceof s))return new s(e);this.headers=e.headers,this.negotiator=new i(e)}function o(e){return-1===e.indexOf("/")?r.lookup(e):e}function a(e){return"string"==typeof e}e.exports=s,s.prototype.type=s.prototype.types=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}if(!t||0===t.length)return this.negotiator.mediaTypes();if(!this.headers.accept)return t[0];var i=t.map(o),r=this.negotiator.mediaTypes(i.filter(a))[0];return!!r&&t[i.indexOf(r)]},s.prototype.encoding=s.prototype.encodings=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.encodings(t)[0]||!1:this.negotiator.encodings()},s.prototype.charset=s.prototype.charsets=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.charsets(t)[0]||!1:this.negotiator.charsets()},s.prototype.lang=s.prototype.langs=s.prototype.language=s.prototype.languages=function(e){var t=e;if(t&&!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;n++)t[n]=arguments[n]}return t&&0!==t.length?this.negotiator.languages(t)[0]||!1:this.negotiator.languages()}},30283:(e,t,n)=>{const i=n(64070),r=n(16928),s=n(90016),o=n(37224),a=(...e)=>i.findLast(e,(e=>"boolean"==typeof e)),c=(...e)=>i.findLast(e,(e=>"string"==typeof e)),u={noSort:!1,readEntries:!1,method:i.Constants.NONE,fs:null};e.exports=function(e,t){let n=null;const l=Object.assign(Object.create(null),u);e&&"object"==typeof e&&(e instanceof Uint8Array||(Object.assign(l,e),e=l.input?l.input:void 0,l.input&&delete l.input),Buffer.isBuffer(e)&&(n=e,l.method=i.Constants.BUFFER,e=void 0)),Object.assign(l,t);const h=new i(l);if("object"==typeof l.decoder&&"function"==typeof l.decoder.encode&&"function"==typeof l.decoder.decode||(l.decoder=i.decoder),e&&"string"==typeof e){if(!h.fs.existsSync(e))throw i.Errors.INVALID_FILENAME();l.method=i.Constants.FILE,l.filename=e,n=h.fs.readFileSync(e)}const p=new o(n,l),{canonical:d,sanitize:f,zipnamefix:m}=i;function g(e){var t;return e&&p&&("string"==typeof e&&(t=p.getEntry(r.posix.normalize(e))),"object"==typeof e&&void 0!==e.entryName&&void 0!==e.header&&(t=p.getEntry(e.entryName)),t)?t:null}function y(e){const{join:t,normalize:n,sep:i}=r.posix;return t(".",n(i+e.split("\\").join(i)+i))}function b(e){return e instanceof RegExp?(t=e,function(e){return t.test(e)}):"function"!=typeof e?()=>!0:e;var t}const v=(e,t)=>{let n=t.slice(-1);return n=n===h.sep?h.sep:"",r.relative(e,t)+n};return{readFile:function(e,t){var n=g(e);return n&&n.getData(t)||null},childCount:function(e){const t=g(e);if(t)return p.getChildCount(t)},readFileAsync:function(e,t){var n=g(e);n?n.getDataAsync(t):t(null,"getEntry failed for:"+e)},readAsText:function(e,t){var n=g(e);if(n){var i=n.getData();if(i&&i.length)return i.toString(t||"utf8")}return""},readAsTextAsync:function(e,t,n){var i=g(e);i?i.getDataAsync((function(e,i){i?t(e,i):e&&e.length?t(e.toString(n||"utf8")):t("")})):t("")},deleteFile:function(e,t=!0){var n=g(e);n&&p.deleteFile(n.entryName,t)},deleteEntry:function(e){var t=g(e);t&&p.deleteEntry(t.entryName)},addZipComment:function(e){p.comment=e},getZipComment:function(){return p.comment||""},addZipEntryComment:function(e,t){var n=g(e);n&&(n.comment=t)},getZipEntryComment:function(e){var t=g(e);return t&&t.comment||""},updateFile:function(e,t){var n=g(e);n&&n.setData(t)},addLocalFile:function(e,t,n,s){if(!h.fs.existsSync(e))throw i.Errors.FILE_NOT_FOUND(e);{t=t?y(t):"";const i=r.win32.basename(r.win32.normalize(e));t+=n||i;const o=h.fs.statSync(e),a=o.isFile()?h.fs.readFileSync(e):Buffer.alloc(0);o.isDirectory()&&(t+=h.sep),this.addFile(t,a,s,o)}},addLocalFileAsync:function(e,t){e="object"==typeof e?e:{localPath:e};const n=r.resolve(e.localPath),{comment:i}=e;let{zipPath:s,zipName:o}=e;const a=this;h.fs.stat(n,(function(e,c){if(e)return t(e,!1);s=s?y(s):"";const u=r.win32.basename(r.win32.normalize(n));if(s+=o||u,c.isFile())h.fs.readFile(n,(function(e,n){return e?t(e,!1):(a.addFile(s,n,i,c),setImmediate(t,void 0,!0))}));else if(c.isDirectory())return s+=h.sep,a.addFile(s,Buffer.alloc(0),i,c),setImmediate(t,void 0,!0)}))},addLocalFolder:function(e,t,n){if(n=b(n),t=t?y(t):"",e=r.normalize(e),!h.fs.existsSync(e))throw i.Errors.FILE_NOT_FOUND(e);{const i=h.findFiles(e),s=this;if(i.length)for(const o of i){const i=r.join(t,v(e,o));n(i)&&s.addLocalFile(o,r.dirname(i))}}},addLocalFolderAsync:function(e,t,n,s){s=b(s),n=n?y(n):"",e=r.normalize(e);var o=this;h.fs.open(e,"r",(function(r){if(r&&"ENOENT"===r.code)t(void 0,i.Errors.FILE_NOT_FOUND(e));else if(r)t(void 0,r);else{var a=h.findFiles(e),c=-1,u=function(){if((c+=1)<a.length){var i=a[c],r=v(e,i).split("\\").join("/");r=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,""),s(r)?h.fs.stat(i,(function(e,s){e&&t(void 0,e),s.isFile()?h.fs.readFile(i,(function(e,i){e?t(void 0,e):(o.addFile(n+r,i,"",s),u())})):(o.addFile(n+r+"/",Buffer.alloc(0),"",s),u())})):process.nextTick((()=>{u()}))}else t(!0,void 0)};u()}}))},addLocalFolderAsync2:function(e,t){const n=this;e="object"==typeof e?e:{localPath:e},localPath=r.resolve(y(e.localPath));let{zipPath:s,filter:o,namefix:a}=e;var c;o instanceof RegExp?(c=o,o=function(e){return c.test(e)}):"function"!=typeof o&&(o=function(){return!0}),s=s?y(s):"","latin1"==a&&(a=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^\x20-\x7E]/g,"")),"function"!=typeof a&&(a=e=>e);const u=e=>r.join(s,a(v(localPath,e))),l=e=>r.win32.basename(r.win32.normalize(a(e)));h.fs.open(localPath,"r",(function(e){e&&"ENOENT"===e.code?t(void 0,i.Errors.FILE_NOT_FOUND(localPath)):e?t(void 0,e):h.findFilesAsync(localPath,(function(e,i){if(e)return t(e);(i=i.filter((e=>o(u(e))))).length||t(void 0,!1),setImmediate(i.reverse().reduce((function(e,t){return function(i,s){if(i||!1===s)return setImmediate(e,i,!1);n.addLocalFileAsync({localPath:t,zipPath:r.dirname(u(t)),zipName:l(t)},e)}}),t))}))}))},addLocalFolderPromise:function(e,t){return new Promise(((n,i)=>{this.addLocalFolderAsync2(Object.assign({localPath:e},t),((e,t)=>{e&&i(e),t&&n(this)}))}))},addFile:function(e,t,n,i){let r=g(e=m(e));const o=null!=r;o||(r=new s(l),r.entryName=e),r.comment=n||"";const a="object"==typeof i&&i instanceof h.fs.Stats;a&&(r.header.time=i.mtime);var c=r.isDirectory?16:0;let u=r.isDirectory?16384:32768;return u|=a?4095&i.mode:"number"==typeof i?4095&i:r.isDirectory?493:420,c=(c|u<<16)>>>0,r.attr=c,r.setData(t),o||p.setEntry(r),r},getEntries:function(e){return p.password=e,p?p.entries:[]},getEntry:function(e){return g(e)},getEntryCount:function(){return p.getEntryCount()},forEach:function(e){return p.forEach(e)},extractEntryTo:function(e,t,n,s,o,u){s=a(!1,s),o=a(!1,o),n=a(!0,n),u=c(o,u);var l=g(e);if(!l)throw i.Errors.NO_ENTRY();var m=d(l.entryName),y=f(t,u&&!l.isDirectory?u:n?m:r.basename(m));if(l.isDirectory)return p.getEntryChildren(l).forEach((function(e){if(e.isDirectory)return;var a=e.getData();if(!a)throw i.Errors.CANT_EXTRACT_FILE();var c=d(e.entryName),u=f(t,n?c:r.basename(c));const l=o?e.header.fileAttr:void 0;h.writeFileTo(u,a,s,l)})),!0;var b=l.getData(p.password);if(!b)throw i.Errors.CANT_EXTRACT_FILE();if(h.fs.existsSync(y)&&!s)throw i.Errors.CANT_OVERRIDE();const v=o?e.header.fileAttr:void 0;return h.writeFileTo(y,b,s,v),!0},test:function(e){if(!p)return!1;for(var t in p.entries)try{if(t.isDirectory)continue;if(!p.entries[t].getData(e))return!1}catch(e){return!1}return!0},extractAllTo:function(e,t,n,r){if(n=a(!1,n),r=c(n,r),t=a(!1,t),!p)throw i.Errors.NO_ZIP();p.entries.forEach((function(s){var o=f(e,d(s.entryName));if(s.isDirectory)return void h.makeDir(o);var a=s.getData(r);if(!a)throw i.Errors.CANT_EXTRACT_FILE();const c=n?s.header.fileAttr:void 0;h.writeFileTo(o,a,t,c);try{h.fs.utimesSync(o,s.header.time,s.header.time)}catch(e){throw i.Errors.CANT_EXTRACT_FILE()}}))},extractAllToAsync:function(e,t,n,s){if(s=((...e)=>i.findLast(e,(e=>"function"==typeof e)))(t,n,s),n=a(!1,n),t=a(!1,t),!s)return new Promise(((i,r)=>{this.extractAllToAsync(e,t,n,(function(e){e?r(e):i(this)}))}));if(!p)return void s(i.Errors.NO_ZIP());e=r.resolve(e);const o=t=>f(e,r.normalize(d(t.entryName))),c=(e,t)=>new Error(e+': "'+t+'"'),u=[],l=[];p.entries.forEach((e=>{e.isDirectory?u.push(e):l.push(e)}));for(const e of u){const t=o(e),i=n?e.header.fileAttr:void 0;try{h.makeDir(t),i&&h.fs.chmodSync(t,i),h.fs.utimesSync(t,e.header.time,e.header.time)}catch(e){s(c("Unable to create folder",t))}}l.reverse().reduce((function(s,o){return function(a){if(a)s(a);else{const a=r.normalize(d(o.entryName)),u=f(e,a);o.getDataAsync((function(e,r){if(r)s(r);else if(e){const i=n?o.header.fileAttr:void 0;h.writeFileToAsync(u,e,t,i,(function(e){e||s(c("Unable to write file",u)),h.fs.utimes(u,o.header.time,o.header.time,(function(e){e?s(c("Unable to set times",u)):s()}))}))}else s(i.Errors.CANT_EXTRACT_FILE())}))}}}),s)()},writeZip:function(e,t){if(1===arguments.length&&"function"==typeof e&&(t=e,e=""),!e&&l.filename&&(e=l.filename),e){var n=p.compressToBuffer();if(n){var i=h.writeFileTo(e,n,!0);"function"==typeof t&&t(i?null:new Error("failed"),"")}}},writeZipPromise:function(e,t){const{overwrite:n,perm:i}=Object.assign({overwrite:!0},t);return new Promise(((t,r)=>{!e&&l.filename&&(e=l.filename),e||r("ADM-ZIP: ZIP File Name Missing"),this.toBufferPromise().then((s=>{h.writeFileToAsync(e,s,n,i,(e=>e?t(e):r("ADM-ZIP: Wasn't able to write zip file")))}),r)}))},toBufferPromise:function(){return new Promise(((e,t)=>{p.toAsyncBuffer(e,t)}))},toBuffer:function(e,t,n,i){return"function"==typeof e?(p.toAsyncBuffer(e,t,n,i),null):p.compressToBuffer()}}}},78593:(e,t,n)=>{var i=n(64070),r=i.Constants;e.exports=function(){var e=20,t=10,n=0,s=0,o=0,a=0,c=0,u=0,l=0,h=0,p=0,d=0,f=0,m=0,g=0;e|=i.isWin?2560:768,n|=r.FLG_EFS;const y={extraLen:0},b=e=>Math.max(0,e)>>>0;return o=i.fromDate2DOS(new Date),{get made(){return e},set made(t){e=t},get version(){return t},set version(e){t=e},get flags(){return n},set flags(e){n=e},get flags_efs(){return(n&r.FLG_EFS)>0},set flags_efs(e){e?n|=r.FLG_EFS:n&=~r.FLG_EFS},get flags_desc(){return(n&r.FLG_DESC)>0},set flags_desc(e){e?n|=r.FLG_DESC:n&=~r.FLG_DESC},get method(){return s},set method(e){switch(e){case r.STORED:this.version=10;case r.DEFLATED:default:this.version=20}s=e},get time(){return i.fromDOS2Date(this.timeval)},set time(e){this.timeval=i.fromDate2DOS(e)},get timeval(){return o},set timeval(e){o=b(e)},get timeHighByte(){return e=o>>>8,255&Math.max(0,e);var e},get crc(){return a},set crc(e){a=b(e)},get compressedSize(){return c},set compressedSize(e){c=b(e)},get size(){return u},set size(e){u=b(e)},get fileNameLength(){return l},set fileNameLength(e){l=e},get extraLength(){return h},set extraLength(e){h=e},get extraLocalLength(){return y.extraLen},set extraLocalLength(e){y.extraLen=e},get commentLength(){return p},set commentLength(e){p=e},get diskNumStart(){return d},set diskNumStart(e){d=b(e)},get inAttr(){return f},set inAttr(e){f=b(e)},get attr(){return m},set attr(e){m=b(e)},get fileAttr(){return 4095&(e=m>>16,65535&Math.max(0,e));var e},get offset(){return g},set offset(e){g=b(e)},get encrypted(){return(n&r.FLG_ENC)===r.FLG_ENC},get centralHeaderSize(){return r.CENHDR+l+h+p},get realDataOffset(){return g+r.LOCHDR+y.fnameLen+y.extraLen},get localHeader(){return y},loadLocalHeaderFromBinary:function(e){var t=e.slice(g,g+r.LOCHDR);if(t.readUInt32LE(0)!==r.LOCSIG)throw i.Errors.INVALID_LOC();y.version=t.readUInt16LE(r.LOCVER),y.flags=t.readUInt16LE(r.LOCFLG),y.method=t.readUInt16LE(r.LOCHOW),y.time=t.readUInt32LE(r.LOCTIM),y.crc=t.readUInt32LE(r.LOCCRC),y.compressedSize=t.readUInt32LE(r.LOCSIZ),y.size=t.readUInt32LE(r.LOCLEN),y.fnameLen=t.readUInt16LE(r.LOCNAM),y.extraLen=t.readUInt16LE(r.LOCEXT);const n=g+r.LOCHDR+y.fnameLen,s=n+y.extraLen;return e.slice(n,s)},loadFromBinary:function(y){if(y.length!==r.CENHDR||y.readUInt32LE(0)!==r.CENSIG)throw i.Errors.INVALID_CEN();e=y.readUInt16LE(r.CENVEM),t=y.readUInt16LE(r.CENVER),n=y.readUInt16LE(r.CENFLG),s=y.readUInt16LE(r.CENHOW),o=y.readUInt32LE(r.CENTIM),a=y.readUInt32LE(r.CENCRC),c=y.readUInt32LE(r.CENSIZ),u=y.readUInt32LE(r.CENLEN),l=y.readUInt16LE(r.CENNAM),h=y.readUInt16LE(r.CENEXT),p=y.readUInt16LE(r.CENCOM),d=y.readUInt16LE(r.CENDSK),f=y.readUInt16LE(r.CENATT),m=y.readUInt32LE(r.CENATX),g=y.readUInt32LE(r.CENOFF)},localHeaderToBinary:function(){var e=Buffer.alloc(r.LOCHDR);return e.writeUInt32LE(r.LOCSIG,0),e.writeUInt16LE(t,r.LOCVER),e.writeUInt16LE(n,r.LOCFLG),e.writeUInt16LE(s,r.LOCHOW),e.writeUInt32LE(o,r.LOCTIM),e.writeUInt32LE(a,r.LOCCRC),e.writeUInt32LE(c,r.LOCSIZ),e.writeUInt32LE(u,r.LOCLEN),e.writeUInt16LE(l,r.LOCNAM),e.writeUInt16LE(y.extraLen,r.LOCEXT),e},centralHeaderToBinary:function(){var i=Buffer.alloc(r.CENHDR+l+h+p);return i.writeUInt32LE(r.CENSIG,0),i.writeUInt16LE(e,r.CENVEM),i.writeUInt16LE(t,r.CENVER),i.writeUInt16LE(n,r.CENFLG),i.writeUInt16LE(s,r.CENHOW),i.writeUInt32LE(o,r.CENTIM),i.writeUInt32LE(a,r.CENCRC),i.writeUInt32LE(c,r.CENSIZ),i.writeUInt32LE(u,r.CENLEN),i.writeUInt16LE(l,r.CENNAM),i.writeUInt16LE(h,r.CENEXT),i.writeUInt16LE(p,r.CENCOM),i.writeUInt16LE(d,r.CENDSK),i.writeUInt16LE(f,r.CENATT),i.writeUInt32LE(m,r.CENATX),i.writeUInt32LE(g,r.CENOFF),i},toJSON:function(){const o=function(e){return e+" bytes"};return{made:e,version:t,flags:n,method:i.methodToString(s),time:this.time,crc:"0x"+a.toString(16).toUpperCase(),compressedSize:o(c),size:o(u),fileNameLength:o(l),extraLength:o(h),commentLength:o(p),diskNumStart:d,inAttr:f,attr:m,offset:g,centralHeaderSize:o(r.CENHDR+l+h+p)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},46780:(e,t,n)=>{t.EntryHeader=n(78593),t.MainHeader=n(72138)},72138:(e,t,n)=>{var i=n(64070),r=i.Constants;e.exports=function(){var e=0,t=0,n=0,s=0,o=0;return{get diskEntries(){return e},set diskEntries(n){e=t=n},get totalEntries(){return t},set totalEntries(n){t=e=n},get size(){return n},set size(e){n=e},get offset(){return s},set offset(e){s=e},get commentLength(){return o},set commentLength(e){o=e},get mainHeaderSize(){return r.ENDHDR+o},loadFromBinary:function(a){if((a.length!==r.ENDHDR||a.readUInt32LE(0)!==r.ENDSIG)&&(a.length<r.ZIP64HDR||a.readUInt32LE(0)!==r.ZIP64SIG))throw i.Errors.INVALID_END();a.readUInt32LE(0)===r.ENDSIG?(e=a.readUInt16LE(r.ENDSUB),t=a.readUInt16LE(r.ENDTOT),n=a.readUInt32LE(r.ENDSIZ),s=a.readUInt32LE(r.ENDOFF),o=a.readUInt16LE(r.ENDCOM)):(e=i.readBigUInt64LE(a,r.ZIP64SUB),t=i.readBigUInt64LE(a,r.ZIP64TOT),n=i.readBigUInt64LE(a,r.ZIP64SIZE),s=i.readBigUInt64LE(a,r.ZIP64OFF),o=0)},toBinary:function(){var i=Buffer.alloc(r.ENDHDR+o);return i.writeUInt32LE(r.ENDSIG,0),i.writeUInt32LE(0,4),i.writeUInt16LE(e,r.ENDSUB),i.writeUInt16LE(t,r.ENDTOT),i.writeUInt32LE(n,r.ENDSIZ),i.writeUInt32LE(s,r.ENDOFF),i.writeUInt16LE(o,r.ENDCOM),i.fill(" ",r.ENDHDR),i},toJSON:function(){return{diskEntries:e,totalEntries:t,size:n+" bytes",offset:function(e){let t=e.toString(16).toUpperCase();for(;t.length<4;)t="0"+t;return"0x"+t}(s),commentLength:o}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},53601:(e,t,n)=>{e.exports=function(e){var t=n(43106),i={chunkSize:1024*(parseInt(e.length/1024)+1)};return{deflate:function(){return t.deflateRawSync(e,i)},deflateAsync:function(n){var r=t.createDeflateRaw(i),s=[],o=0;r.on("data",(function(e){s.push(e),o+=e.length})),r.on("end",(function(){var e=Buffer.alloc(o),t=0;e.fill(0);for(var i=0;i<s.length;i++){var r=s[i];r.copy(e,t),t+=r.length}n&&n(e)})),r.end(e)}}}},85776:(e,t,n)=>{t.Deflater=n(53601),t.Inflater=n(25821),t.ZipCrypto=n(94014)},25821:(e,t,n)=>{const i=+(process.versions?process.versions.node:"").split(".")[0]||0;e.exports=function(e,t){var r=n(43106);const s=i>=15&&t>0?{maxOutputLength:t}:{};return{inflate:function(){return r.inflateRawSync(e,s)},inflateAsync:function(t){var n=r.createInflateRaw(s),i=[],o=0;n.on("data",(function(e){i.push(e),o+=e.length})),n.on("end",(function(){var e=Buffer.alloc(o),n=0;e.fill(0);for(var r=0;r<i.length;r++){var s=i[r];s.copy(e,n),n+=s.length}t&&t(e)})),n.end(e)}}}},94014:(e,t,n)=>{"use strict";const{randomFillSync:i}=n(76982),r=n(1243),s=new Uint32Array(256).map(((e,t)=>{for(let e=0;e<8;e++)1&t?t=t>>>1^3988292384:t>>>=1;return t>>>0})),o=(e,t)=>Math.imul(e,t)>>>0,a=(e,t)=>s[255&(e^t)]^e>>>8,c=()=>"function"==typeof i?i(Buffer.alloc(12)):c.node();c.node=()=>{const e=Buffer.alloc(12),t=e.length;for(let n=0;n<t;n++)e[n]=256*Math.random()&255;return e};const u={genSalt:c};function l(e){const t=Buffer.isBuffer(e)?e:Buffer.from(e);this.keys=new Uint32Array([305419896,591751049,878082192]);for(let e=0;e<t.length;e++)this.updateKeys(t[e])}l.prototype.updateKeys=function(e){const t=this.keys;return t[0]=a(t[0],e),t[1]+=255&t[0],t[1]=o(t[1],134775813)+1,t[2]=a(t[2],t[1]>>>24),e},l.prototype.next=function(){const e=(2|this.keys[2])>>>0;return o(e,1^e)>>8&255},e.exports={decrypt:function(e,t,n){if(!e||!Buffer.isBuffer(e)||e.length<12)return Buffer.alloc(0);const i=function(e){const t=new l(e);return function(e){const n=Buffer.alloc(e.length);let i=0;for(let r of e)n[i++]=t.updateKeys(r^t.next());return n}}(n),s=i(e.slice(0,12)),o=8&~t.flags?t.crc>>>24:t.timeHighByte;if(s[11]!==o)throw r.WRONG_PASSWORD();return i(e.slice(12))},encrypt:function(e,t,n,i=!1){null==e&&(e=Buffer.alloc(0)),Buffer.isBuffer(e)||(e=Buffer.from(e.toString()));const r=function(e){const t=new l(e);return function(e,n,i=0){n||(n=Buffer.alloc(e.length));for(let r of e){const e=t.next();n[i++]=r^e,t.updateKeys(r)}return n}}(n),s=u.genSalt();s[11]=t.crc>>>24&255,i&&(s[10]=t.crc>>>16&255);const o=Buffer.alloc(e.length+12);return r(s,o),r(e,o,12)},_salter:function(e){Buffer.isBuffer(e)&&e.length>=12?u.genSalt=function(){return e.slice(0,12)}:u.genSalt="node"===e?c.node:c}}},31383:e=>{e.exports={LOCHDR:30,LOCSIG:67324752,LOCVER:4,LOCFLG:6,LOCHOW:8,LOCTIM:10,LOCCRC:14,LOCSIZ:18,LOCLEN:22,LOCNAM:26,LOCEXT:28,EXTSIG:134695760,EXTHDR:16,EXTCRC:4,EXTSIZ:8,EXTLEN:12,CENHDR:46,CENSIG:33639248,CENVEM:4,CENVER:6,CENFLG:8,CENHOW:10,CENTIM:12,CENCRC:16,CENSIZ:20,CENLEN:24,CENNAM:28,CENEXT:30,CENCOM:32,CENDSK:34,CENATT:36,CENATX:38,CENOFF:42,ENDHDR:22,ENDSIG:101010256,ENDSUB:8,ENDTOT:10,ENDSIZ:12,ENDOFF:16,ENDCOM:20,END64HDR:20,END64SIG:117853008,END64START:4,END64OFF:8,END64NUMDISKS:16,ZIP64SIG:101075792,ZIP64HDR:56,ZIP64LEAD:12,ZIP64SIZE:4,ZIP64VEM:12,ZIP64VER:14,ZIP64DSK:16,ZIP64DSKDIR:20,ZIP64SUB:24,ZIP64TOT:32,ZIP64SIZB:40,ZIP64OFF:48,ZIP64EXTRA:56,STORED:0,SHRUNK:1,REDUCED1:2,REDUCED2:3,REDUCED3:4,REDUCED4:5,IMPLODED:6,DEFLATED:8,ENHANCED_DEFLATED:9,PKWARE:10,BZIP2:12,LZMA:14,IBM_TERSE:18,IBM_LZ77:19,AES_ENCRYPT:99,FLG_ENC:1,FLG_COMP1:2,FLG_COMP2:4,FLG_DESC:8,FLG_ENH:16,FLG_PATCH:32,FLG_STR:64,FLG_EFS:2048,FLG_MSK:4096,FILE:2,BUFFER:1,NONE:0,EF_ID:0,EF_SIZE:2,ID_ZIP64:1,ID_AVINFO:7,ID_PFS:8,ID_OS2:9,ID_NTFS:10,ID_OPENVMS:12,ID_UNIX:13,ID_FORK:14,ID_PATCH:15,ID_X509_PKCS7:20,ID_X509_CERTID_F:21,ID_X509_CERTID_C:22,ID_STRONGENC:23,ID_RECORD_MGT:24,ID_X509_PKCS7_RL:25,ID_IBM1:101,ID_IBM2:102,ID_POSZIP:18064,EF_ZIP64_OR_32:4294967295,EF_ZIP64_OR_16:65535,EF_ZIP64_SUNCOMP:0,EF_ZIP64_SCOMP:8,EF_ZIP64_RHO:16,EF_ZIP64_DSN:24}},28698:e=>{e.exports={efs:!0,encode:e=>Buffer.from(e,"utf8"),decode:e=>e.toString("utf8")}},1243:(e,t)=>{const n={INVALID_LOC:"Invalid LOC header (bad signature)",INVALID_CEN:"Invalid CEN header (bad signature)",INVALID_END:"Invalid END header (bad signature)",DESCRIPTOR_NOT_EXIST:"No descriptor present",DESCRIPTOR_UNKNOWN:"Unknown descriptor format",DESCRIPTOR_FAULTY:"Descriptor data is malformed",NO_DATA:"Nothing to decompress",BAD_CRC:"CRC32 checksum failed {0}",FILE_IN_THE_WAY:"There is a file in the way: {0}",UNKNOWN_METHOD:"Invalid/unsupported compression method",AVAIL_DATA:"inflate::Available inflate data did not terminate",INVALID_DISTANCE:"inflate::Invalid literal/length or distance code in fixed or dynamic block",TO_MANY_CODES:"inflate::Dynamic block code description: too many length or distance codes",INVALID_REPEAT_LEN:"inflate::Dynamic block code description: repeat more than specified lengths",INVALID_REPEAT_FIRST:"inflate::Dynamic block code description: repeat lengths with no first length",INCOMPLETE_CODES:"inflate::Dynamic block code description: code lengths codes incomplete",INVALID_DYN_DISTANCE:"inflate::Dynamic block code description: invalid distance code lengths",INVALID_CODES_LEN:"inflate::Dynamic block code description: invalid literal/length code lengths",INVALID_STORE_BLOCK:"inflate::Stored block length did not match one's complement",INVALID_BLOCK_TYPE:"inflate::Invalid block type (type == 3)",CANT_EXTRACT_FILE:"Could not extract the file",CANT_OVERRIDE:"Target file already exists",DISK_ENTRY_TOO_LARGE:"Number of disk entries is too large",NO_ZIP:"No zip file was loaded",NO_ENTRY:"Entry doesn't exist",DIRECTORY_CONTENT_ERROR:"A directory cannot have content",FILE_NOT_FOUND:'File not found: "{0}"',NOT_IMPLEMENTED:"Not implemented",INVALID_FILENAME:"Invalid filename",INVALID_FORMAT:"Invalid or unsupported zip format. No END header found",INVALID_PASS_PARAM:"Incompatible password parameter",WRONG_PASSWORD:"Wrong Password",COMMENT_TOO_LONG:"Comment is too long",EXTRA_FIELD_PARSE_ERROR:"Extra field parsing error"};function i(e){return function(...t){return t.length&&(e=e.replace(/\{(\d)\}/g,((e,n)=>t[n]||""))),new Error("ADM-ZIP: "+e)}}for(const e of Object.keys(n))t[e]=i(n[e])},47819:(e,t,n)=>{const i=n(16928);e.exports=function(e,{fs:t}){var n=e||"",r={directory:!1,readonly:!1,hidden:!1,executable:!1,mtime:0,atime:0},s=null;return n&&t.existsSync(n)?(s=t.statSync(n),r.directory=s.isDirectory(),r.mtime=s.mtime,r.atime=s.atime,r.executable=!!(73&s.mode),r.readonly=!(128&s.mode),r.hidden="."===i.basename(n)[0]):console.warn("Invalid path: "+n),{get directory(){return r.directory},get readOnly(){return r.readonly},get hidden(){return r.hidden},get mtime(){return r.mtime},get atime(){return r.atime},get executable(){return r.executable},decodeAttributes:function(){},encodeAttributes:function(){},toJSON:function(){return{path:n,isDirectory:r.directory,isReadOnly:r.readonly,isHidden:r.hidden,isExecutable:r.executable,mTime:r.mtime,aTime:r.atime}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},64070:(e,t,n)=>{e.exports=n(11527),e.exports.Constants=n(31383),e.exports.Errors=n(1243),e.exports.FileAttr=n(47819),e.exports.decoder=n(28698)},11527:(e,t,n)=>{const i=n(79896),r=n(16928),s=n(31383),o=n(1243),a="object"==typeof process&&"win32"===process.platform,c=e=>"object"==typeof e&&null!==e,u=new Uint32Array(256).map(((e,t)=>{for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;return t>>>0}));function l(e){this.sep=r.sep,this.fs=i,c(e)&&c(e.fs)&&"function"==typeof e.fs.statSync&&(this.fs=e.fs)}e.exports=l,l.prototype.makeDir=function(e){const t=this;!function(e){let n=e.split(t.sep)[0];e.split(t.sep).forEach((function(e){if(e&&":"!==e.substr(-1,1)){var i;n+=t.sep+e;try{i=t.fs.statSync(n)}catch(e){t.fs.mkdirSync(n)}if(i&&i.isFile())throw o.FILE_IN_THE_WAY(`"${n}"`)}}))}(e)},l.prototype.writeFileTo=function(e,t,n,i){const s=this;if(s.fs.existsSync(e)){if(!n)return!1;if(s.fs.statSync(e).isDirectory())return!1}var o,a=r.dirname(e);s.fs.existsSync(a)||s.makeDir(a);try{o=s.fs.openSync(e,"w",438)}catch(t){s.fs.chmodSync(e,438),o=s.fs.openSync(e,"w",438)}if(o)try{s.fs.writeSync(o,t,0,t.length,0)}finally{s.fs.closeSync(o)}return s.fs.chmodSync(e,i||438),!0},l.prototype.writeFileToAsync=function(e,t,n,i,s){"function"==typeof i&&(s=i,i=void 0);const o=this;o.fs.exists(e,(function(a){if(a&&!n)return s(!1);o.fs.stat(e,(function(n,c){if(a&&c.isDirectory())return s(!1);var u=r.dirname(e);o.fs.exists(u,(function(n){n||o.makeDir(u),o.fs.open(e,"w",438,(function(n,r){n?o.fs.chmod(e,438,(function(){o.fs.open(e,"w",438,(function(n,r){o.fs.write(r,t,0,t.length,0,(function(){o.fs.close(r,(function(){o.fs.chmod(e,i||438,(function(){s(!0)}))}))}))}))})):r?o.fs.write(r,t,0,t.length,0,(function(){o.fs.close(r,(function(){o.fs.chmod(e,i||438,(function(){s(!0)}))}))})):o.fs.chmod(e,i||438,(function(){s(!0)}))}))}))}))}))},l.prototype.findFiles=function(e){const t=this;return function e(n,i,s){"boolean"==typeof i&&(s=i,i=void 0);let o=[];return t.fs.readdirSync(n).forEach((function(a){const c=r.join(n,a),u=t.fs.statSync(c);i&&!i.test(c)||o.push(r.normalize(c)+(u.isDirectory()?t.sep:"")),u.isDirectory()&&s&&(o=o.concat(e(c,i,s)))})),o}(e,void 0,!0)},l.prototype.findFilesAsync=function(e,t){const n=this;let i=[];n.fs.readdir(e,(function(s,o){if(s)return t(s);let a=o.length;if(!a)return t(null,i);o.forEach((function(s){s=r.join(e,s),n.fs.stat(s,(function(e,o){if(e)return t(e);o&&(i.push(r.normalize(s)+(o.isDirectory()?n.sep:"")),o.isDirectory()?n.findFilesAsync(s,(function(e,n){if(e)return t(e);i=i.concat(n),--a||t(null,i)})):--a||t(null,i))}))}))}))},l.prototype.getAttributes=function(){},l.prototype.setAttributes=function(){},l.crc32update=function(e,t){return u[255&(e^t)]^e>>>8},l.crc32=function(e){"string"==typeof e&&(e=Buffer.from(e,"utf8"));let t=e.length,n=-1;for(let i=0;i<t;)n=l.crc32update(n,e[i++]);return~n>>>0},l.methodToString=function(e){switch(e){case s.STORED:return"STORED ("+e+")";case s.DEFLATED:return"DEFLATED ("+e+")";default:return"UNSUPPORTED ("+e+")"}},l.canonical=function(e){if(!e)return"";const t=r.posix.normalize("/"+e.split("\\").join("/"));return r.join(".",t)},l.zipnamefix=function(e){if(!e)return"";const t=r.posix.normalize("/"+e.split("\\").join("/"));return r.posix.join(".",t)},l.findLast=function(e,t){if(!Array.isArray(e))throw new TypeError("arr is not array");for(let n=(e.length>>>0)-1;n>=0;n--)if(t(e[n],n,e))return e[n]},l.sanitize=function(e,t){e=r.resolve(r.normalize(e));for(var n=t.split("/"),i=0,s=n.length;i<s;i++){var o=r.normalize(r.join(e,n.slice(i,s).join(r.sep)));if(0===o.indexOf(e))return o}return r.normalize(r.join(e,r.basename(t)))},l.toBuffer=function(e,t){return Buffer.isBuffer(e)?e:e instanceof Uint8Array?Buffer.from(e):"string"==typeof e?t(e):Buffer.alloc(0)},l.readBigUInt64LE=function(e,t){var n=Buffer.from(e.slice(t,t+8));return n.swap64(),parseInt(`0x${n.toString("hex")}`)},l.fromDOS2Date=function(e){return new Date(1980+(e>>25&127),Math.max((e>>21&15)-1,0),Math.max(e>>16&31,1),e>>11&31,e>>5&63,(31&e)<<1)},l.fromDate2DOS=function(e){let t=0,n=0;return e.getFullYear()>1979&&(t=(e.getFullYear()-1980&127)<<9|e.getMonth()+1<<5|e.getDate(),n=e.getHours()<<11|e.getMinutes()<<5|e.getSeconds()>>1),t<<16|n},l.isWin=a,l.crcTable=u},90016:(e,t,n)=>{var i=n(64070),r=n(46780),s=i.Constants,o=n(85776);e.exports=function(e,t){var n=new r.EntryHeader,a=Buffer.alloc(0),c=Buffer.alloc(0),u=!1,l=null,h=Buffer.alloc(0),p=Buffer.alloc(0),d=!0;const f=e,m="object"==typeof f.decoder?f.decoder:i.decoder;function g(){return t&&t instanceof Uint8Array?(p=n.loadLocalHeaderFromBinary(t),t.slice(n.realDataOffset,n.realDataOffset+n.compressedSize)):Buffer.alloc(0)}function y(e){if(n.flags_desc){const r={},o=n.realDataOffset+n.compressedSize;if(t.readUInt32LE(o)==s.LOCSIG||t.readUInt32LE(o)==s.CENSIG)throw i.Errors.DESCRIPTOR_NOT_EXIST();if(t.readUInt32LE(o)==s.EXTSIG)r.crc=t.readUInt32LE(o+s.EXTCRC),r.compressedSize=t.readUInt32LE(o+s.EXTSIZ),r.size=t.readUInt32LE(o+s.EXTLEN);else{if(19280!==t.readUInt16LE(o+12))throw i.Errors.DESCRIPTOR_UNKNOWN();r.crc=t.readUInt32LE(o+s.EXTCRC-4),r.compressedSize=t.readUInt32LE(o+s.EXTSIZ-4),r.size=t.readUInt32LE(o+s.EXTLEN-4)}if(r.compressedSize!==n.compressedSize||r.size!==n.size||r.crc!==n.crc)throw i.Errors.DESCRIPTOR_FAULTY();if(i.crc32(e)!==r.crc)return!1}else if(i.crc32(e)!==n.localHeader.crc)return!1;return!0}function b(e,t,r){if(void 0===t&&"string"==typeof e&&(r=e,e=void 0),u)return e&&t&&t(Buffer.alloc(0),i.Errors.DIRECTORY_CONTENT_ERROR()),Buffer.alloc(0);var s=g();if(0===s.length)return e&&t&&t(s),s;if(n.encrypted){if("string"!=typeof r&&!Buffer.isBuffer(r))throw i.Errors.INVALID_PASS_PARAM();s=o.ZipCrypto.decrypt(s,n,r)}var c=Buffer.alloc(n.size);switch(n.method){case i.Constants.STORED:if(s.copy(c),y(c))return e&&t&&t(c),c;throw e&&t&&t(c,i.Errors.BAD_CRC()),i.Errors.BAD_CRC();case i.Constants.DEFLATED:var l=new o.Inflater(s,n.size);if(!e){if(l.inflate(c).copy(c,0),!y(c))throw i.Errors.BAD_CRC(`"${m.decode(a)}"`);return c}l.inflateAsync((function(e){e.copy(e,0),t&&(y(e)?t(e):t(e,i.Errors.BAD_CRC()))}));break;default:throw e&&t&&t(Buffer.alloc(0),i.Errors.UNKNOWN_METHOD()),i.Errors.UNKNOWN_METHOD()}}function v(e,r){if((!l||!l.length)&&Buffer.isBuffer(t))return e&&r&&r(g()),g();if(l.length&&!u){var s;switch(n.method){case i.Constants.STORED:return n.compressedSize=n.size,s=Buffer.alloc(l.length),l.copy(s),e&&r&&r(s),s;default:case i.Constants.DEFLATED:var a=new o.Deflater(l);if(!e){var c=a.deflate();return n.compressedSize=c.length,c}a.deflateAsync((function(e){s=Buffer.alloc(e.length),n.compressedSize=e.length,e.copy(s),r&&r(s)})),a=null}}else{if(!e||!r)return Buffer.alloc(0);r(Buffer.alloc(0))}}function w(e,t){return(e.readUInt32LE(t+4)<<4)+e.readUInt32LE(t)}function _(e){var t,i,r,o;e.length>=s.EF_ZIP64_SCOMP&&(t=w(e,s.EF_ZIP64_SUNCOMP),n.size===s.EF_ZIP64_OR_32&&(n.size=t)),e.length>=s.EF_ZIP64_RHO&&(i=w(e,s.EF_ZIP64_SCOMP),n.compressedSize===s.EF_ZIP64_OR_32&&(n.compressedSize=i)),e.length>=s.EF_ZIP64_DSN&&(r=w(e,s.EF_ZIP64_RHO),n.offset===s.EF_ZIP64_OR_32&&(n.offset=r)),e.length>=s.EF_ZIP64_DSN+4&&(o=e.readUInt32LE(s.EF_ZIP64_DSN),n.diskNumStart===s.EF_ZIP64_OR_16&&(n.diskNumStart=o))}return d=!!m.hasOwnProperty("efs")&&m.efs,{get entryName(){return m.decode(a)},get rawEntryName(){return a},set entryName(e){var t=(a=i.toBuffer(e,m.encode))[a.length-1];u=47===t||92===t,n.fileNameLength=a.length},get efs(){return"function"==typeof d?d(this.entryName):d},get extra(){return h},set extra(e){h=e,n.extraLength=e.length,function(e){try{for(var t,n,r,o=0;o+4<e.length;)t=e.readUInt16LE(o),o+=2,n=e.readUInt16LE(o),o+=2,r=e.slice(o,o+n),o+=n,s.ID_ZIP64===t&&_(r)}catch(e){throw i.Errors.EXTRA_FIELD_PARSE_ERROR()}}(e)},get comment(){return m.decode(c)},set comment(e){if(c=i.toBuffer(e,m.encode),n.commentLength=c.length,c.length>65535)throw i.Errors.COMMENT_TOO_LONG()},get name(){var e=m.decode(a);return u?e.substr(e.length-1).split("/").pop():e.split("/").pop()},get isDirectory(){return u},getCompressedData:function(){return v(!1,null)},getCompressedDataAsync:function(e){v(!0,e)},setData:function(e){l=i.toBuffer(e,i.decoder.encode),!u&&l.length?(n.size=l.length,n.method=i.Constants.DEFLATED,n.crc=i.crc32(e),n.changed=!0):n.method=i.Constants.STORED},getData:function(e){return n.changed?l:b(!1,null,e)},getDataAsync:function(e,t){n.changed?e(l):b(!0,e,t)},set attr(e){n.attr=e},get attr(){return n.attr},set header(e){n.loadFromBinary(e)},get header(){return n},packCentralHeader:function(){n.flags_efs=this.efs,n.extraLength=h.length;var e=n.centralHeaderToBinary(),t=i.Constants.CENHDR;return a.copy(e,t),t+=a.length,h.copy(e,t),t+=n.extraLength,c.copy(e,t),e},packLocalHeader:function(){let e=0;n.flags_efs=this.efs,n.extraLocalLength=p.length;const t=n.localHeaderToBinary(),i=Buffer.alloc(t.length+a.length+n.extraLocalLength);return t.copy(i,e),e+=t.length,a.copy(i,e),e+=a.length,p.copy(i,e),e+=p.length,i},toJSON:function(){const e=function(e){return"<"+(e&&e.length+" bytes buffer"||"null")+">"};return{entryName:this.entryName,name:this.name,comment:this.comment,isDirectory:this.isDirectory,header:n.toJSON(),compressedData:e(t),data:e(l)}},toString:function(){return JSON.stringify(this.toJSON(),null,"\t")}}}},37224:(e,t,n)=>{const i=n(90016),r=n(46780),s=n(64070);e.exports=function(e,t){var n=[],o={},a=Buffer.alloc(0),c=new r.MainHeader,u=!1;const l=new Set,h=t,{noSort:p,decoder:d}=h;function f(){if(u=!0,o={},c.diskEntries>(e.length-c.offset)/s.Constants.CENHDR)throw s.Errors.DISK_ENTRY_TOO_LARGE();n=new Array(c.diskEntries);for(var t=c.offset,r=0;r<n.length;r++){var a=t,p=new i(h,e);p.header=e.slice(a,a+=s.Constants.CENHDR),p.entryName=e.slice(a,a+=p.header.fileNameLength),p.header.extraLength&&(p.extra=e.slice(a,a+=p.header.extraLength)),p.header.commentLength&&(p.comment=e.slice(a,a+p.header.commentLength)),t+=p.header.centralHeaderSize,n[r]=p,o[p.entryName]=p}l.clear(),function(){const e=new Set;for(const t of Object.keys(o)){const n=t.split("/");if(n.pop(),n.length)for(let t=0;t<n.length;t++){const i=n.slice(0,t+1).join("/")+"/";e.add(i)}}for(const t of e)if(!(t in o)){const e=new i(h);e.entryName=t,e.attr=16,e.temporary=!0,n.push(e),o[e.entryName]=e,l.add(e)}}()}function m(){n.length>1&&!p&&n.sort(((e,t)=>e.entryName.toLowerCase().localeCompare(t.entryName.toLowerCase())))}return e?function(t){var n=e.length-s.Constants.ENDHDR,i=Math.max(0,n-65535),r=i,o=e.length,u=-1,l=0;for("boolean"==typeof h.trailingSpace&&h.trailingSpace&&(i=0);n>=r;n--)if(80===e[n])if(e.readUInt32LE(n)!==s.Constants.ENDSIG)if(e.readUInt32LE(n)!==s.Constants.END64SIG){if(e.readUInt32LE(n)===s.Constants.ZIP64SIG){u=n,o=n+s.readBigUInt64LE(e,n+s.Constants.ZIP64SIZE)+s.Constants.ZIP64LEAD;break}}else r=i;else u=n,l=n,o=n+s.Constants.ENDHDR,r=n-s.Constants.END64HDR;if(-1==u)throw s.Errors.INVALID_FORMAT();c.loadFromBinary(e.slice(u,o)),c.commentLength&&(a=e.slice(l+s.Constants.ENDHDR)),t&&f()}(h.readEntries):u=!0,{get entries(){return u||f(),n.filter((e=>!l.has(e)))},get comment(){return d.decode(a)},set comment(e){a=s.toBuffer(e,d.encode),c.commentLength=a.length},getEntryCount:function(){return u?n.length:c.diskEntries},forEach:function(e){this.entries.forEach(e)},getEntry:function(e){return u||f(),o[e]||null},setEntry:function(e){u||f(),n.push(e),o[e.entryName]=e,c.totalEntries=n.length},deleteFile:function(e,t=!0){u||f();const n=o[e];this.getEntryChildren(n,t).map((e=>e.entryName)).forEach(this.deleteEntry)},deleteEntry:function(e){u||f();const t=o[e],i=n.indexOf(t);i>=0&&(n.splice(i,1),delete o[e],c.totalEntries=n.length)},getEntryChildren:function(e,t=!0){if(u||f(),"object"==typeof e){if(e.isDirectory&&t){const t=[],i=e.entryName;for(const e of n)e.entryName.startsWith(i)&&t.push(e);return t}return[e]}return[]},getChildCount:function(e){if(e&&e.isDirectory){const t=this.getEntryChildren(e);return t.includes(e)?t.length-1:t.length}return 0},compressToBuffer:function(){u||f(),m();const t=[],n=[];let i=0,r=0;c.size=0,c.offset=0,totalEntries=0;for(const e of this.entries){const s=e.getCompressedData();e.header.offset=r;const o=e.packLocalHeader(),a=o.length+s.length;r+=a,t.push(o),t.push(s);const u=e.packCentralHeader();n.push(u),c.size+=u.length,i+=a+u.length,totalEntries++}i+=c.mainHeaderSize,c.offset=r,c.totalEntries=totalEntries,r=0;const o=Buffer.alloc(i);for(const e of t)e.copy(o,r),r+=e.length;for(const e of n)e.copy(o,r),r+=e.length;const l=c.toBinary();return a&&a.copy(l,s.Constants.ENDHDR),l.copy(o,r),e=o,u=!1,o},toAsyncBuffer:function(t,n,i,r){try{u||f(),m();const n=[],o=[];let l=0,h=0,p=0;c.size=0,c.offset=0;const d=function(f){if(f.length>0){const e=f.shift(),t=e.entryName+e.extra.toString();i&&i(t),e.getCompressedDataAsync((function(i){r&&r(t),e.header.offset=h;const s=e.packLocalHeader(),a=s.length+i.length;h+=a,n.push(s),n.push(i);const u=e.packCentralHeader();o.push(u),c.size+=u.length,l+=a+u.length,p++,d(f)}))}else{l+=c.mainHeaderSize,c.offset=h,c.totalEntries=p,h=0;const i=Buffer.alloc(l);n.forEach((function(e){e.copy(i,h),h+=e.length})),o.forEach((function(e){e.copy(i,h),h+=e.length}));const r=c.toBinary();a&&a.copy(r,s.Constants.ENDHDR),r.copy(i,h),e=i,u=!1,t(i)}};d(Array.from(this.entries))}catch(e){n(e)}}}}},68599:(e,t,n)=>{var i=n(63735),r=n(16928),s=n(35970),o=n(66245),a=n(80299),c=n(11331),u=n(6492),l=e.exports={},h=/[\/\\]/g;l.exists=function(){var e=r.join.apply(r,arguments);return i.existsSync(e)},l.expand=function(...e){var t=c(e[0])?e.shift():{},n=Array.isArray(e[0])?e[0]:e;if(0===n.length)return[];var l=function(e){var n=[];return s(e).forEach((function(e){var i=0===e.indexOf("!");i&&(e=e.slice(1));var r=function(e){return u.sync(e,t)}(e);n=i?o(n,r):a(n,r)})),n}(n);return t.filter&&(l=l.filter((function(e){e=r.join(t.cwd||"",e);try{return"function"==typeof t.filter?t.filter(e):i.statSync(e)[t.filter]()}catch(e){return!1}}))),l},l.expandMapping=function(e,t,n){n=Object.assign({rename:function(e,t){return r.join(e||"",t)}},n);var i=[],s={};return l.expand(n,e).forEach((function(e){var o=e;n.flatten&&(o=r.basename(o)),n.ext&&(o=o.replace(/(\.[^\/]*)?$/,n.ext));var a=n.rename(t,o,n);n.cwd&&(e=r.join(n.cwd,e)),a=a.replace(h,"/"),e=e.replace(h,"/"),s[a]?s[a].src.push(e):(i.push({src:[e],dest:a}),s[a]=i[i.length-1])})),i},l.normalizeFilesArray=function(e){var t=[];return e.forEach((function(e){("src"in e||"dest"in e)&&t.push(e)})),0===t.length?[]:t=_(t).chain().forEach((function(e){"src"in e&&e.src&&(Array.isArray(e.src)?e.src=s(e.src):e.src=[e.src])})).map((function(e){var t=Object.assign({},e);if(delete t.src,delete t.dest,e.expand)return l.expandMapping(e.src,e.dest,t).map((function(t){var n=Object.assign({},e);return n.orig=Object.assign({},e),n.src=t.src,n.dest=t.dest,["expand","cwd","flatten","rename","ext"].forEach((function(e){delete n[e]})),n}));var n=Object.assign({},e);return n.orig=Object.assign({},e),"src"in n&&Object.defineProperty(n,"src",{enumerable:!0,get:function n(){var i;return"result"in n||(i=e.src,i=Array.isArray(i)?s(i):[i],n.result=l.expand(t,i)),n.result}}),"dest"in n&&(n.dest=e.dest),n})).flatten().value()}},91789:(e,t,n)=>{var i=n(63735),r=n(16928),s=n(31232),o=n(85),a=n(14100),c=n(84684),u=(n(2203).Stream,n(34478).PassThrough),l=e.exports={};l.file=n(68599),l.collectStream=function(e,t){var n=[],i=0;e.on("error",t),e.on("data",(function(e){n.push(e),i+=e.length})),e.on("end",(function(){var e=Buffer.alloc(i),r=0;n.forEach((function(t){t.copy(e,r),r+=t.length})),t(null,e)}))},l.dateify=function(e){return(e=e||new Date)instanceof Date||(e="string"==typeof e?new Date(e):new Date),e},l.defaults=function(e,t,n){var i=arguments;return i[0]=i[0]||{},c(...i)},l.isStream=function(e){return s(e)},l.lazyReadStream=function(e){return new o.Readable((function(){return i.createReadStream(e)}))},l.normalizeInputSource=function(e){return null===e?Buffer.alloc(0):"string"==typeof e?Buffer.from(e):l.isStream(e)?e.pipe(new u):e},l.sanitizePath=function(e){return a(e,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")},l.trailingSlashIt=function(e){return"/"!==e.slice(-1)?e+"/":e},l.unixifyPath=function(e){return a(e,!1).replace(/^\w+:/,"")},l.walkdir=function(e,t,n){var s=[];"function"==typeof t&&(n=t,t=e),i.readdir(e,(function(o,a){var c,u,h=0;if(o)return n(o);!function o(){if(!(c=a[h++]))return n(null,s);u=r.join(e,c),i.stat(u,(function(e,i){s.push({path:u,relative:r.relative(t,u).replace(/\\/g,"/"),stats:i}),i&&i.isDirectory()?l.walkdir(u,t,(function(e,t){if(e)return n(e);t.forEach((function(e){s.push(e)})),o()})):o()}))}()}))}},99133:(e,t,n)=>{var i=n(10826),r={},s=function(e,t){return s.create(e,t)};s.create=function(e,t){if(r[e]){var n=new i(e,t);return n.setFormat(e),n.setModule(new r[e](t)),n}throw new Error("create("+e+"): format not registered")},s.registerFormat=function(e,t){if(r[e])throw new Error("register("+e+"): format already registered");if("function"!=typeof t)throw new Error("register("+e+"): format module invalid");if("function"!=typeof t.prototype.append||"function"!=typeof t.prototype.finalize)throw new Error("register("+e+"): format module missing methods");r[e]=t},s.isRegisteredFormat=function(e){return!!r[e]},s.registerFormat("zip",n(43541)),s.registerFormat("tar",n(60741)),s.registerFormat("json",n(76530)),e.exports=s},10826:(e,t,n)=>{var i=n(79896),r=n(76965),s=n(22268),o=n(16928),a=n(91789),c=n(39023).inherits,u=n(82383),l=n(34478).Transform,h="win32"===process.platform,p=function(e,t){if(!(this instanceof p))return new p(e,t);"string"!=typeof e&&(t=e,e="zip"),t=this.options=a.defaults(t,{highWaterMark:1048576,statConcurrency:4}),l.call(this,t),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=s.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=s.queue(this._onStatQueueTask.bind(this),t.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};c(p,l),p.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()},p.prototype._append=function(e,t){var n={source:null,filepath:e};(t=t||{}).name||(t.name=e),t.sourcePath=e,n.data=t,this._entriesCount++,t.stats&&t.stats instanceof i.Stats?(n=this._updateQueueTaskWithStats(n,t.stats))&&(t.stats.size&&(this._fsEntriesTotalBytes+=t.stats.size),this._queue.push(n)):this._statQueue.push(n)},p.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)},p.prototype._maybeFinalize=function(){return!(this._state.finalizing||this._state.finalized||this._state.aborted||!(this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle())||(this._finalize(),0))},p.prototype._moduleAppend=function(e,t,n){this._state.aborted?n():this._module.append(e,t,function(e){if(this._task=null,this._state.aborted)this._shutdown();else{if(e)return this.emit("error",e),void setImmediate(n);this.emit("entry",t),this._entriesProcessedCount++,t.stats&&t.stats.size&&(this._fsEntriesProcessedBytes+=t.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(n)}}.bind(this))},p.prototype._moduleFinalize=function(){"function"==typeof this._module.finalize?this._module.finalize():"function"==typeof this._module.end?this._module.end():this.emit("error",new u("NOENDMETHOD"))},p.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0},p.prototype._moduleSupports=function(e){return!(!this._module.supports||!this._module.supports[e])&&this._module.supports[e]},p.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1},p.prototype._normalizeEntryData=function(e,t){e=a.defaults(e,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),t&&!1===e.stats&&(e.stats=t);var n="directory"===e.type;return e.name&&("string"==typeof e.prefix&&""!==e.prefix&&(e.name=e.prefix+"/"+e.name,e.prefix=null),e.name=a.sanitizePath(e.name),"symlink"!==e.type&&"/"===e.name.slice(-1)?(n=!0,e.type="directory"):n&&(e.name+="/")),"number"==typeof e.mode?e.mode&=h?511:4095:e.stats&&null===e.mode?(e.mode=h?511&e.stats.mode:4095&e.stats.mode,h&&n&&(e.mode=493)):null===e.mode&&(e.mode=n?493:420),e.stats&&null===e.date?e.date=e.stats.mtime:e.date=a.dateify(e.date),e},p.prototype._onModuleError=function(e){this.emit("error",e)},p.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()},p.prototype._onQueueTask=function(e,t){var n=()=>{e.data.callback&&e.data.callback(),t()};this._state.finalizing||this._state.finalized||this._state.aborted?n():(this._task=e,this._moduleAppend(e.source,e.data,n))},p.prototype._onStatQueueTask=function(e,t){this._state.finalizing||this._state.finalized||this._state.aborted?t():i.lstat(e.filepath,function(n,i){if(this._state.aborted)setImmediate(t);else{if(n)return this._entriesCount--,this.emit("warning",n),void setImmediate(t);(e=this._updateQueueTaskWithStats(e,i))&&(i.size&&(this._fsEntriesTotalBytes+=i.size),this._queue.push(e)),setImmediate(t)}}.bind(this))},p.prototype._shutdown=function(){this._moduleUnpipe(),this.end()},p.prototype._transform=function(e,t,n){e&&(this._pointer+=e.length),n(null,e)},p.prototype._updateQueueTaskWithStats=function(e,t){if(t.isFile())e.data.type="file",e.data.sourceType="stream",e.source=a.lazyReadStream(e.filepath);else if(t.isDirectory()&&this._moduleSupports("directory"))e.data.name=a.trailingSlashIt(e.data.name),e.data.type="directory",e.data.sourcePath=a.trailingSlashIt(e.filepath),e.data.sourceType="buffer",e.source=Buffer.concat([]);else{if(!t.isSymbolicLink()||!this._moduleSupports("symlink"))return t.isDirectory()?this.emit("warning",new u("DIRECTORYNOTSUPPORTED",e.data)):t.isSymbolicLink()?this.emit("warning",new u("SYMLINKNOTSUPPORTED",e.data)):this.emit("warning",new u("ENTRYNOTSUPPORTED",e.data)),null;var n=i.readlinkSync(e.filepath),r=o.dirname(e.filepath);e.data.type="symlink",e.data.linkname=o.relative(r,o.resolve(r,n)),e.data.sourceType="buffer",e.source=Buffer.concat([])}return e.data=this._normalizeEntryData(e.data,t),e},p.prototype.abort=function(){return this._state.aborted||this._state.finalized||this._abort(),this},p.prototype.append=function(e,t){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof(t=this._normalizeEntryData(t)).name||0===t.name.length)return this.emit("error",new u("ENTRYNAMEREQUIRED")),this;if("directory"===t.type&&!this._moduleSupports("directory"))return this.emit("error",new u("DIRECTORYNOTSUPPORTED",{name:t.name})),this;if(e=a.normalizeInputSource(e),Buffer.isBuffer(e))t.sourceType="buffer";else{if(!a.isStream(e))return this.emit("error",new u("INPUTSTEAMBUFFERREQUIRED",{name:t.name})),this;t.sourceType="stream"}return this._entriesCount++,this._queue.push({data:t,source:e}),this},p.prototype.directory=function(e,t,n){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new u("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,!1===t?t="":"string"!=typeof t&&(t=e);var i=!1;"function"==typeof n?(i=n,n={}):"object"!=typeof n&&(n={});var s=r(e,{stat:!0,dot:!0});return s.on("error",function(e){this.emit("error",e)}.bind(this)),s.on("match",function(r){s.pause();var o=!1,a=Object.assign({},n);a.name=r.relative,a.prefix=t,a.stats=r.stat,a.callback=s.resume.bind(s);try{if(i)if(!1===(a=i(a)))o=!0;else if("object"!=typeof a)throw new u("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:e})}catch(e){return void this.emit("error",e)}o?s.resume():this._append(r.absolute,a)}.bind(this)),s.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},p.prototype.file=function(e,t){return this._state.finalize||this._state.aborted?(this.emit("error",new u("QUEUECLOSED")),this):"string"!=typeof e||0===e.length?(this.emit("error",new u("FILEFILEPATHREQUIRED")),this):(this._append(e,t),this)},p.prototype.glob=function(e,t,n){this._pending++,t=a.defaults(t,{stat:!0,pattern:e});var i=r(t.cwd||".",t);return i.on("error",function(e){this.emit("error",e)}.bind(this)),i.on("match",function(e){i.pause();var t=Object.assign({},n);t.callback=i.resume.bind(i),t.stats=e.stat,t.name=e.relative,this._append(e.absolute,t)}.bind(this)),i.on("end",function(){this._pending--,this._maybeFinalize()}.bind(this)),this},p.prototype.finalize=function(){if(this._state.aborted){var e=new u("ABORTED");return this.emit("error",e),Promise.reject(e)}if(this._state.finalize){var t=new u("FINALIZING");return this.emit("error",t),Promise.reject(t)}this._state.finalize=!0,0===this._pending&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var n=this;return new Promise((function(e,t){var i;n._module.on("end",(function(){i||e()})),n._module.on("error",(function(e){i=!0,t(e)}))}))},p.prototype.setFormat=function(e){return this._format?(this.emit("error",new u("FORMATSET")),this):(this._format=e,this)},p.prototype.setModule=function(e){return this._state.aborted?(this.emit("error",new u("ABORTED")),this):this._state.module?(this.emit("error",new u("MODULESET")),this):(this._module=e,this._modulePipe(),this)},p.prototype.symlink=function(e,t,n){if(this._state.finalize||this._state.aborted)return this.emit("error",new u("QUEUECLOSED")),this;if("string"!=typeof e||0===e.length)return this.emit("error",new u("SYMLINKFILEPATHREQUIRED")),this;if("string"!=typeof t||0===t.length)return this.emit("error",new u("SYMLINKTARGETREQUIRED",{filepath:e})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new u("SYMLINKNOTSUPPORTED",{filepath:e})),this;var i={type:"symlink"};return i.name=e.replace(/\\/g,"/"),i.linkname=t.replace(/\\/g,"/"),i.sourceType="buffer","number"==typeof n&&(i.mode=n),this._entriesCount++,this._queue.push({data:i,source:Buffer.concat([])}),this},p.prototype.pointer=function(){return this._pointer},p.prototype.use=function(e){return this._streams.push(e),this},e.exports=p},82383:(e,t,n)=>{var i=n(39023);const r={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function s(e,t){Error.captureStackTrace(this,this.constructor),this.message=r[e]||e,this.code=e,this.data=t}i.inherits(s,Error),e.exports=s},76530:(e,t,n)=>{var i=n(39023).inherits,r=n(34478).Transform,s=n(44132),o=n(91789),a=function(e){if(!(this instanceof a))return new a(e);e=this.options=o.defaults(e,{}),r.call(this,e),this.supports={directory:!0,symlink:!0},this.files=[]};i(a,r),a.prototype._transform=function(e,t,n){n(null,e)},a.prototype._writeStringified=function(){var e=JSON.stringify(this.files);this.write(e)},a.prototype.append=function(e,t,n){var i=this;function r(e,r){e?n(e):(t.size=r.length||0,t.crc32=s.unsigned(r),i.files.push(t),n(null,t))}t.crc32=0,"buffer"===t.sourceType?r(null,e):"stream"===t.sourceType&&o.collectStream(e,r)},a.prototype.finalize=function(){this._writeStringified(),this.end()},e.exports=a},60741:(e,t,n)=>{var i=n(43106),r=n(44231),s=n(91789),o=function(e){if(!(this instanceof o))return new o(e);"object"!=typeof(e=this.options=s.defaults(e,{gzip:!1})).gzipOptions&&(e.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=r.pack(e),this.compressor=!1,e.gzip&&(this.compressor=i.createGzip(e.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};o.prototype._onCompressorError=function(e){this.engine.emit("error",e)},o.prototype.append=function(e,t,n){var i=this;function r(e,r){e?n(e):i.engine.entry(t,r,(function(e){n(e,t)}))}if(t.mtime=t.date,"buffer"===t.sourceType)r(null,e);else if("stream"===t.sourceType&&t.stats){t.size=t.stats.size;var o=i.engine.entry(t,(function(e){n(e,t)}));e.pipe(o)}else"stream"===t.sourceType&&s.collectStream(e,r)},o.prototype.finalize=function(){this.engine.finalize()},o.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},o.prototype.pipe=function(e,t){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(e,t):this.engine.pipe.apply(this.engine,arguments)},o.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)},e.exports=o},43541:(e,t,n)=>{var i=n(48919),r=n(91789),s=function(e){if(!(this instanceof s))return new s(e);e=this.options=r.defaults(e,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new i(e)};s.prototype.append=function(e,t,n){this.engine.entry(e,t,n)},s.prototype.finalize=function(){this.engine.finalize()},s.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)},s.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)},s.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)},e.exports=s},91377:(e,t)=>{function n(){this.waiters=[]}n.prototype.wait=function(e){var t=this,n={};this.waiters.push(n);var i=new Promise((function(e){var i=!1;n.resolve=function(r){if(!i){if(i=!0,n.timeout&&(clearTimeout(n.timeout),n.timeout=null),!r){var s=t.waiters.indexOf(n);s>-1&&t.waiters.splice(s,1)}e()}}}));return e>0&&isFinite(e)&&(n.timeout=setTimeout((function(){n.timeout=null,n.resolve()}),e)),i},n.prototype.notify=function(){this.waiters.length>0&&this.waiters.pop().resolve(!0)},n.prototype.notifyAll=function(){for(var e=this.waiters.length-1;e>=0;e--)this.waiters[e].resolve(!0);this.waiters=[]},t.Subject=n},7042:e=>{function t(e){return Buffer.isBuffer(e)?e:Buffer.from(e.buffer,e.byteOffset,e.byteLength)}e.exports={isBuffer:function(e){return Buffer.isBuffer(e)||e instanceof Uint8Array},isEncoding:function(e){return Buffer.isEncoding(e)},alloc:function(e,t,n){return Buffer.alloc(e,t,n)},allocUnsafe:function(e){return Buffer.allocUnsafe(e)},allocUnsafeSlow:function(e){return Buffer.allocUnsafeSlow(e)},byteLength:function(e,t){return Buffer.byteLength(e,t)},compare:function(e,t){return Buffer.compare(e,t)},concat:function(e,t){return Buffer.concat(e,t)},copy:function(e,n,i,r,s){return t(e).copy(n,i,r,s)},equals:function(e,n){return t(e).equals(n)},fill:function(e,n,i,r,s){return t(e).fill(n,i,r,s)},from:function(e,t,n){return Buffer.from(e,t,n)},includes:function(e,n,i,r){return t(e).includes(n,i,r)},indexOf:function(e,n,i,r){return t(e).indexOf(n,i,r)},lastIndexOf:function(e,n,i,r){return t(e).lastIndexOf(n,i,r)},swap16:function(e){return t(e).swap16()},swap32:function(e){return t(e).swap32()},swap64:function(e){return t(e).swap64()},toBuffer:t,toString:function(e,n,i,r){return t(e).toString(n,i,r)},write:function(e,n,i,r,s){return t(e).write(n,i,r,s)},writeDoubleLE:function(e,n,i){return t(e).writeDoubleLE(n,i)},writeFloatLE:function(e,n,i){return t(e).writeFloatLE(n,i)},writeUInt32LE:function(e,n,i){return t(e).writeUInt32LE(n,i)},writeInt32LE:function(e,n,i){return t(e).writeInt32LE(n,i)},readDoubleLE:function(e,n){return t(e).readDoubleLE(n)},readFloatLE:function(e,n){return t(e).readFloatLE(n)},readUInt32LE:function(e,n){return t(e).readUInt32LE(n)},readInt32LE:function(e,n){return t(e).readInt32LE(n)}}},8505:e=>{"use strict";function t(e,t,r){e instanceof RegExp&&(e=n(e,r)),t instanceof RegExp&&(t=n(t,r));var s=i(e,t,r);return s&&{start:s[0],end:s[1],pre:r.slice(0,s[0]),body:r.slice(s[0]+e.length,s[1]),post:r.slice(s[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function i(e,t,n){var i,r,s,o,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(i=[],s=n.length;l>=0&&!a;)l==c?(i.push(l),c=n.indexOf(e,l+1)):1==i.length?a=[i.pop(),u]:((r=i.pop())<s&&(s=r,o=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;i.length&&(a=[s,o])}return a}e.exports=t,t.range=i},74845:(e,t,n)=>{var i=n(76982),r=function(){};r.prototype.getRandomBytes=function(e){var t=4096,n=this;if((e=e||12)>t)return i.randomBytes(e);var r=parseInt(t/e),s=parseInt(.85*r);if(!s)return i.randomBytes(e);if(null==this.bytesBufferIndex&&(this.bytesBufferIndex=-1),this.bytesBufferIndex==r&&(this.bytesBuffer=null,this.bytesBufferIndex=-1),(-1==this.bytesBufferIndex||this.bytesBufferIndex>s)&&(this.isGeneratingBytes||(this.isGeneratingBytes=!0,i.randomBytes(t,(function(e,t){n.bytesBuffer=t,n.bytesBufferIndex=0,n.isGeneratingBytes=!1}))),-1==this.bytesBufferIndex))return i.randomBytes(e);var o=this.bytesBuffer.slice(e*this.bytesBufferIndex,e*(this.bytesBufferIndex+1));return this.bytesBufferIndex++,o},r.prototype.generateId=function(){var e=Buffer.alloc(15);return e.writeInt32BE?(this.sequenceNumber=this.sequenceNumber+1|0,e.writeInt32BE(this.sequenceNumber,11),i.randomBytes?this.getRandomBytes(12).copy(e):[0,4,8].forEach((function(t){e.writeInt32BE(Math.random()*Math.pow(2,32)|0,t)})),e.toString("base64").replace(/\//g,"_").replace(/\+/g,"-")):Math.abs(Math.random()*Math.random()*Date.now()|0).toString()+Math.abs(Math.random()*Math.random()*Date.now()|0).toString()},e.exports=new r},68928:(e,t,n)=>{var i=n(8505);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),g(function(e){return e.split("\\\\").join(r).split("\\{").join(s).split("\\}").join(o).split("\\,").join(a).split("\\.").join(c)}(e),!0).map(l)):[]};var r="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function l(e){return e.split(r).join("\\").split(s).join("{").split(o).join("}").split(a).join(",").split(c).join(".")}function h(e){if(!e)return[""];var t=[],n=i("{","}",e);if(!n)return e.split(",");var r=n.pre,s=n.body,o=n.post,a=r.split(",");a[a.length-1]+="{"+s+"}";var c=h(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function d(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}function g(e,t){var n=[],r=i("{","}",e);if(!r)return[e];var s=r.pre,a=r.post.length?g(r.post,!1):[""];if(/\$$/.test(r.pre))for(var c=0;c<a.length;c++){var l=s+"{"+r.body+"}"+a[c];n.push(l)}else{var y,b,v=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),w=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),_=v||w,S=r.body.indexOf(",")>=0;if(!_&&!S)return r.post.match(/,.*\}/)?g(e=r.pre+"{"+r.body+o+r.post):[e];if(_)y=r.body.split(/\.\./);else if(1===(y=h(r.body)).length&&1===(y=g(y[0],!1).map(p)).length)return a.map((function(e){return r.pre+y[0]+e}));if(_){var E=u(y[0]),x=u(y[1]),D=Math.max(y[0].length,y[1].length),C=3==y.length?Math.abs(u(y[2])):1,k=f;x<E&&(C*=-1,k=m);var R=y.some(d);b=[];for(var A=E;k(A,x);A+=C){var T;if(w)"\\"===(T=String.fromCharCode(A))&&(T="");else if(T=String(A),R){var O=D-T.length;if(O>0){var F=new Array(O+1).join("0");T=A<0?"-"+F+T.slice(1):F+T}}b.push(T)}}else{b=[];for(var P=0;P<y.length;P++)b.push.apply(b,g(y[P],!1))}for(P=0;P<b.length;P++)for(c=0;c<a.length;c++)l=s+b[P]+a[c],(!t||_||l)&&n.push(l)}return n}},66489:e=>{"use strict";e.exports={mask:(e,t,n,i,r)=>{for(var s=0;s<r;s++)n[i+s]=e[s]^t[3&s]},unmask:(e,t)=>{const n=e.length;for(var i=0;i<n;i++)e[i]^=t[3&i]}}},12627:(e,t,n)=>{"use strict";try{e.exports=n(68169)(__dirname)}catch(t){e.exports=n(66489)}},53543:e=>{var t=e.exports=function(){};t.prototype.getName=function(){},t.prototype.getSize=function(){},t.prototype.getLastModifiedDate=function(){},t.prototype.isDirectory=function(){}},10587:(e,t,n)=>{var i=n(39023).inherits,r=n(31232),s=n(34478).Transform,o=n(53543),a=n(78575),c=e.exports=function(e){if(!(this instanceof c))return new c(e);s.call(this,e),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};i(c,s),c.prototype._appendBuffer=function(e,t,n){},c.prototype._appendStream=function(e,t,n){},c.prototype._emitErrorCallback=function(e){e&&this.emit("error",e)},c.prototype._finish=function(e){},c.prototype._normalizeEntry=function(e){},c.prototype._transform=function(e,t,n){n(null,e)},c.prototype.entry=function(e,t,n){if(t=t||null,"function"!=typeof n&&(n=this._emitErrorCallback.bind(this)),e instanceof o)if(this._archive.finish||this._archive.finished)n(new Error("unacceptable entry after finish"));else{if(!this._archive.processing){if(this._archive.processing=!0,this._normalizeEntry(e),this._entry=e,t=a.normalizeInputSource(t),Buffer.isBuffer(t))this._appendBuffer(e,t,n);else{if(!r(t))return this._archive.processing=!1,void n(new Error("input source must be valid Stream or Buffer instance"));this._appendStream(e,t,n)}return this}n(new Error("already processing an entry"))}else n(new Error("not a valid instance of ArchiveEntry"))},c.prototype.finish=function(){this._archive.processing?this._archive.finish=!0:this._finish()},c.prototype.getBytesWritten=function(){return this.offset},c.prototype.write=function(e,t){return e&&(this.offset+=e.length),s.prototype.write.call(this,e,t)}},14909:e=>{e.exports={WORD:4,DWORD:8,EMPTY:Buffer.alloc(0),SHORT:2,SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG:4,LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_NO_COMPRESSION:0,ZLIB_BEST_SPEED:1,ZLIB_BEST_COMPRESSION:9,ZLIB_DEFAULT_COMPRESSION:-1,MODE_MASK:4095,DEFAULT_FILE_MODE:33188,DEFAULT_DIR_MODE:16877,EXT_FILE_ATTR_DIR:1106051088,EXT_FILE_ATTR_FILE:2175008800,S_IFMT:61440,S_IFIFO:4096,S_IFCHR:8192,S_IFDIR:16384,S_IFBLK:24576,S_IFREG:32768,S_IFLNK:40960,S_IFSOCK:49152,S_DOS_A:32,S_DOS_D:16,S_DOS_V:8,S_DOS_S:4,S_DOS_H:2,S_DOS_R:1}},49933:(e,t,n)=>{var i=n(95026),r=e.exports=function(){return this instanceof r?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new r};r.prototype.encode=function(){return i.getShortBytes((this.descriptor?8:0)|(this.utf8?2048:0)|(this.encryption?1:0)|(this.strongEncryption?64:0))},r.prototype.parse=function(e,t){var n=i.getShortBytesValue(e,t),s=new r;return s.useDataDescriptor(!!(8&n)),s.useUTF8ForNames(!!(2048&n)),s.useStrongEncryption(!!(64&n)),s.useEncryption(!!(1&n)),s.setSlidingDictionarySize(2&n?8192:4096),s.setNumberOfShannonFanoTrees(4&n?3:2),s},r.prototype.setNumberOfShannonFanoTrees=function(e){this.numberOfShannonFanoTrees=e},r.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees},r.prototype.setSlidingDictionarySize=function(e){this.slidingDictionarySize=e},r.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize},r.prototype.useDataDescriptor=function(e){this.descriptor=e},r.prototype.usesDataDescriptor=function(){return this.descriptor},r.prototype.useEncryption=function(e){this.encryption=e},r.prototype.usesEncryption=function(){return this.encryption},r.prototype.useStrongEncryption=function(e){this.strongEncryption=e},r.prototype.usesStrongEncryption=function(){return this.strongEncryption},r.prototype.useUTF8ForNames=function(e){this.utf8=e},r.prototype.usesUTF8ForNames=function(){return this.utf8}},86247:e=>{e.exports={PERM_MASK:4095,FILE_TYPE_FLAG:61440,LINK_FLAG:40960,FILE_FLAG:32768,DIR_FLAG:16384,DEFAULT_LINK_PERM:511,DEFAULT_DIR_PERM:493,DEFAULT_FILE_PERM:420}},95026:e=>{var t=e.exports={};t.dateToDos=function(e,t){var n=(t=t||!1)?e.getFullYear():e.getUTCFullYear();return n<1980?2162688:n>=2044?2141175677:n-1980<<25|(t?e.getMonth():e.getUTCMonth())+1<<21|(t?e.getDate():e.getUTCDate())<<16|(t?e.getHours():e.getUTCHours())<<11|(t?e.getMinutes():e.getUTCMinutes())<<5|(t?e.getSeconds():e.getUTCSeconds())/2},t.dosToDate=function(e){return new Date(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1)},t.fromDosTime=function(e){return t.dosToDate(e.readUInt32LE(0))},t.getEightBytes=function(e){var t=Buffer.alloc(8);return t.writeUInt32LE(e%4294967296,0),t.writeUInt32LE(e/4294967296|0,4),t},t.getShortBytes=function(e){var t=Buffer.alloc(2);return t.writeUInt16LE((65535&e)>>>0,0),t},t.getShortBytesValue=function(e,t){return e.readUInt16LE(t)},t.getLongBytes=function(e){var t=Buffer.alloc(4);return t.writeUInt32LE((4294967295&e)>>>0,0),t},t.getLongBytesValue=function(e,t){return e.readUInt32LE(t)},t.toDosTime=function(e){return t.getLongBytes(t.dateToDos(e))}},57149:(e,t,n)=>{var i=n(39023).inherits,r=n(14100),s=n(53543),o=n(49933),a=n(86247),c=n(14909),u=n(95026),l=e.exports=function(e){if(!(this instanceof l))return new l(e);s.call(this),this.platform=c.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new o,this.crc=0,this.time=-1,this.minver=c.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,e&&this.setName(e)};i(l,s),l.prototype.getCentralDirectoryExtra=function(){return this.getExtra()},l.prototype.getComment=function(){return null!==this.comment?this.comment:""},l.prototype.getCompressedSize=function(){return this.csize},l.prototype.getCrc=function(){return this.crc},l.prototype.getExternalAttributes=function(){return this.exattr},l.prototype.getExtra=function(){return null!==this.extra?this.extra:c.EMPTY},l.prototype.getGeneralPurposeBit=function(){return this.gpb},l.prototype.getInternalAttributes=function(){return this.inattr},l.prototype.getLastModifiedDate=function(){return this.getTime()},l.prototype.getLocalFileDataExtra=function(){return this.getExtra()},l.prototype.getMethod=function(){return this.method},l.prototype.getName=function(){return this.name},l.prototype.getPlatform=function(){return this.platform},l.prototype.getSize=function(){return this.size},l.prototype.getTime=function(){return-1!==this.time?u.dosToDate(this.time):-1},l.prototype.getTimeDos=function(){return-1!==this.time?this.time:0},l.prototype.getUnixMode=function(){return this.platform!==c.PLATFORM_UNIX?0:this.getExternalAttributes()>>c.SHORT_SHIFT&c.SHORT_MASK},l.prototype.getVersionNeededToExtract=function(){return this.minver},l.prototype.setComment=function(e){Buffer.byteLength(e)!==e.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=e},l.prototype.setCompressedSize=function(e){if(e<0)throw new Error("invalid entry compressed size");this.csize=e},l.prototype.setCrc=function(e){if(e<0)throw new Error("invalid entry crc32");this.crc=e},l.prototype.setExternalAttributes=function(e){this.exattr=e>>>0},l.prototype.setExtra=function(e){this.extra=e},l.prototype.setGeneralPurposeBit=function(e){if(!(e instanceof o))throw new Error("invalid entry GeneralPurposeBit");this.gpb=e},l.prototype.setInternalAttributes=function(e){this.inattr=e},l.prototype.setMethod=function(e){if(e<0)throw new Error("invalid entry compression method");this.method=e},l.prototype.setName=function(e,t=!1){e=r(e,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),t&&(e=`/${e}`),Buffer.byteLength(e)!==e.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=e},l.prototype.setPlatform=function(e){this.platform=e},l.prototype.setSize=function(e){if(e<0)throw new Error("invalid entry size");this.size=e},l.prototype.setTime=function(e,t){if(!(e instanceof Date))throw new Error("invalid entry time");this.time=u.dateToDos(e,t)},l.prototype.setUnixMode=function(e){var t=0;t|=(e|=this.isDirectory()?c.S_IFDIR:c.S_IFREG)<<c.SHORT_SHIFT|(this.isDirectory()?c.S_DOS_D:c.S_DOS_A),this.setExternalAttributes(t),this.mode=e&c.MODE_MASK,this.platform=c.PLATFORM_UNIX},l.prototype.setVersionNeededToExtract=function(e){this.minver=e},l.prototype.isDirectory=function(){return"/"===this.getName().slice(-1)},l.prototype.isUnixSymlink=function(){return(this.getUnixMode()&a.FILE_TYPE_FLAG)===a.LINK_FLAG},l.prototype.isZip64=function(){return this.csize>c.ZIP64_MAGIC||this.size>c.ZIP64_MAGIC}},73349:(e,t,n)=>{var i=n(39023).inherits,r=n(52566),{CRC32Stream:s}=n(71),{DeflateCRC32Stream:o}=n(71),a=n(10587),c=(n(57149),n(49933),n(14909)),u=(n(78575),n(95026)),l=e.exports=function(e){if(!(this instanceof l))return new l(e);e=this.options=this._defaults(e),a.call(this,e),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:e.forceZip64,forceLocalTime:e.forceLocalTime}};i(l,a),l.prototype._afterAppend=function(e){this._entries.push(e),e.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(e),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()},l.prototype._appendBuffer=function(e,t,n){0===t.length&&e.setMethod(c.METHOD_STORED);var i=e.getMethod();return i===c.METHOD_STORED&&(e.setSize(t.length),e.setCompressedSize(t.length),e.setCrc(r.buf(t)>>>0)),this._writeLocalFileHeader(e),i===c.METHOD_STORED?(this.write(t),this._afterAppend(e),void n(null,e)):i===c.METHOD_DEFLATED?void this._smartStream(e,n).end(t):void n(new Error("compression method "+i+" not implemented"))},l.prototype._appendStream=function(e,t,n){e.getGeneralPurposeBit().useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(e);var i=this._smartStream(e,n);t.once("error",(function(e){i.emit("error",e),i.end()})),t.pipe(i)},l.prototype._defaults=function(e){return"object"!=typeof e&&(e={}),"object"!=typeof e.zlib&&(e.zlib={}),"number"!=typeof e.zlib.level&&(e.zlib.level=c.ZLIB_BEST_SPEED),e.forceZip64=!!e.forceZip64,e.forceLocalTime=!!e.forceLocalTime,e},l.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach(function(e){this._writeCentralFileHeader(e)}.bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()},l.prototype._normalizeEntry=function(e){-1===e.getMethod()&&e.setMethod(c.METHOD_DEFLATED),e.getMethod()===c.METHOD_DEFLATED&&(e.getGeneralPurposeBit().useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_DATA_DESCRIPTOR)),-1===e.getTime()&&e.setTime(new Date,this._archive.forceLocalTime),e._offsets={file:0,data:0,contents:0}},l.prototype._smartStream=function(e,t){var n=e.getMethod()===c.METHOD_DEFLATED?new o(this.options.zlib):new s,i=null;return n.once("end",function(){var r=n.digest().readUInt32BE(0);e.setCrc(r),e.setSize(n.size()),e.setCompressedSize(n.size(!0)),this._afterAppend(e),t(i,e)}.bind(this)),n.once("error",(function(e){i=e})),n.pipe(this,{end:!1}),n},l.prototype._writeCentralDirectoryEnd=function(){var e=this._entries.length,t=this._archive.centralLength,n=this._archive.centralOffset;this.isZip64()&&(e=c.ZIP64_MAGIC_SHORT,t=c.ZIP64_MAGIC,n=c.ZIP64_MAGIC),this.write(u.getLongBytes(c.SIG_EOCD)),this.write(c.SHORT_ZERO),this.write(c.SHORT_ZERO),this.write(u.getShortBytes(e)),this.write(u.getShortBytes(e)),this.write(u.getLongBytes(t)),this.write(u.getLongBytes(n));var i=this.getComment(),r=Buffer.byteLength(i);this.write(u.getShortBytes(r)),this.write(i)},l.prototype._writeCentralDirectoryZip64=function(){this.write(u.getLongBytes(c.SIG_ZIP64_EOCD)),this.write(u.getEightBytes(44)),this.write(u.getShortBytes(c.MIN_VERSION_ZIP64)),this.write(u.getShortBytes(c.MIN_VERSION_ZIP64)),this.write(c.LONG_ZERO),this.write(c.LONG_ZERO),this.write(u.getEightBytes(this._entries.length)),this.write(u.getEightBytes(this._entries.length)),this.write(u.getEightBytes(this._archive.centralLength)),this.write(u.getEightBytes(this._archive.centralOffset)),this.write(u.getLongBytes(c.SIG_ZIP64_EOCD_LOC)),this.write(c.LONG_ZERO),this.write(u.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(u.getLongBytes(1))},l.prototype._writeCentralFileHeader=function(e){var t=e.getGeneralPurposeBit(),n=e.getMethod(),i=e._offsets.file,r=e.getSize(),s=e.getCompressedSize();if(e.isZip64()||i>c.ZIP64_MAGIC){r=c.ZIP64_MAGIC,s=c.ZIP64_MAGIC,i=c.ZIP64_MAGIC,e.setVersionNeededToExtract(c.MIN_VERSION_ZIP64);var o=Buffer.concat([u.getShortBytes(c.ZIP64_EXTRA_ID),u.getShortBytes(24),u.getEightBytes(e.getSize()),u.getEightBytes(e.getCompressedSize()),u.getEightBytes(e._offsets.file)],28);e.setExtra(o)}this.write(u.getLongBytes(c.SIG_CFH)),this.write(u.getShortBytes(e.getPlatform()<<8|c.VERSION_MADEBY)),this.write(u.getShortBytes(e.getVersionNeededToExtract())),this.write(t.encode()),this.write(u.getShortBytes(n)),this.write(u.getLongBytes(e.getTimeDos())),this.write(u.getLongBytes(e.getCrc())),this.write(u.getLongBytes(s)),this.write(u.getLongBytes(r));var a=e.getName(),l=e.getComment(),h=e.getCentralDirectoryExtra();t.usesUTF8ForNames()&&(a=Buffer.from(a),l=Buffer.from(l)),this.write(u.getShortBytes(a.length)),this.write(u.getShortBytes(h.length)),this.write(u.getShortBytes(l.length)),this.write(c.SHORT_ZERO),this.write(u.getShortBytes(e.getInternalAttributes())),this.write(u.getLongBytes(e.getExternalAttributes())),this.write(u.getLongBytes(i)),this.write(a),this.write(h),this.write(l)},l.prototype._writeDataDescriptor=function(e){this.write(u.getLongBytes(c.SIG_DD)),this.write(u.getLongBytes(e.getCrc())),e.isZip64()?(this.write(u.getEightBytes(e.getCompressedSize())),this.write(u.getEightBytes(e.getSize()))):(this.write(u.getLongBytes(e.getCompressedSize())),this.write(u.getLongBytes(e.getSize())))},l.prototype._writeLocalFileHeader=function(e){var t=e.getGeneralPurposeBit(),n=e.getMethod(),i=e.getName(),r=e.getLocalFileDataExtra();e.isZip64()&&(t.useDataDescriptor(!0),e.setVersionNeededToExtract(c.MIN_VERSION_ZIP64)),t.usesUTF8ForNames()&&(i=Buffer.from(i)),e._offsets.file=this.offset,this.write(u.getLongBytes(c.SIG_LFH)),this.write(u.getShortBytes(e.getVersionNeededToExtract())),this.write(t.encode()),this.write(u.getShortBytes(n)),this.write(u.getLongBytes(e.getTimeDos())),e._offsets.data=this.offset,t.usesDataDescriptor()?(this.write(c.LONG_ZERO),this.write(c.LONG_ZERO),this.write(c.LONG_ZERO)):(this.write(u.getLongBytes(e.getCrc())),this.write(u.getLongBytes(e.getCompressedSize())),this.write(u.getLongBytes(e.getSize()))),this.write(u.getShortBytes(i.length)),this.write(u.getShortBytes(r.length)),this.write(i),this.write(r),e._offsets.contents=this.offset},l.prototype.getComment=function(e){return null!==this._archive.comment?this._archive.comment:""},l.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>c.ZIP64_MAGIC_SHORT||this._archive.centralLength>c.ZIP64_MAGIC||this._archive.centralOffset>c.ZIP64_MAGIC},l.prototype.setComment=function(e){this._archive.comment=e}},8351:(e,t,n)=>{e.exports={ArchiveEntry:n(53543),ZipArchiveEntry:n(57149),ArchiveOutputStream:n(10587),ZipArchiveOutputStream:n(73349)}},78575:(e,t,n)=>{n(2203).Stream;var i=n(34478).PassThrough,r=n(31232);(e.exports={}).normalizeInputSource=function(e){if(null===e)return Buffer.alloc(0);if("string"==typeof e)return Buffer.from(e);if(r(e)&&!e._readableState){var t=new i;return e.pipe(t),t}return e}},57427:(e,t)=>{"use strict";t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var i={},r=t||{},o=e.split(";"),a=r.decode||n,c=0;c<o.length;c++){var u=o[c],l=u.indexOf("=");if(!(l<0)){var h=u.substring(0,l).trim();if(null==i[h]){var p=u.substring(l+1,u.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),i[h]=s(p,a)}}}return i},t.serialize=function(e,t,n){var s=n||{},o=s.encode||i;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!r.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!r.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=s.maxAge){var u=s.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(s.domain){if(!r.test(s.domain))throw new TypeError("option domain is invalid");c+="; Domain="+s.domain}if(s.path){if(!r.test(s.path))throw new TypeError("option path is invalid");c+="; Path="+s.path}if(s.expires){if("function"!=typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+s.expires.toUTCString()}if(s.httpOnly&&(c+="; HttpOnly"),s.secure&&(c+="; Secure"),s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return c};var n=decodeURIComponent,i=encodeURIComponent,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(t){return e}}},15622:(e,t,n)=>{function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(20181).Buffer.isBuffer},19728:(e,t,n)=>{!function(){"use strict";var t=n(45228),i=n(30677),r={origin:"*",methods:"GET,HEAD,PUT,PATCH,POST,DELETE",preflightContinue:!1,optionsSuccessStatus:204};function s(e){return"string"==typeof e||e instanceof String}function o(e,t){if(Array.isArray(t)){for(var n=0;n<t.length;++n)if(o(e,t[n]))return!0;return!1}return s(t)?e===t:t instanceof RegExp?t.test(e):!!t}function a(e,t){var n,i=t.headers.origin,r=[];return e.origin&&"*"!==e.origin?s(e.origin)?(r.push([{key:"Access-Control-Allow-Origin",value:e.origin}]),r.push([{key:"Vary",value:"Origin"}])):(n=o(i,e.origin),r.push([{key:"Access-Control-Allow-Origin",value:!!n&&i}]),r.push([{key:"Vary",value:"Origin"}])):r.push([{key:"Access-Control-Allow-Origin",value:"*"}]),r}function c(e){return!0===e.credentials?{key:"Access-Control-Allow-Credentials",value:"true"}:null}function u(e){var t=e.exposedHeaders;return t?(t.join&&(t=t.join(",")),t&&t.length?{key:"Access-Control-Expose-Headers",value:t}:null):null}function l(e,t){for(var n=0,r=e.length;n<r;n++){var s=e[n];s&&(Array.isArray(s)?l(s,t):"Vary"===s.key&&s.value?i(t,s.value):s.value&&t.setHeader(s.key,s.value))}}e.exports=function(e){var n=null;return n="function"==typeof e?e:function(t,n){n(null,e)},function(e,i,s){n(e,(function(n,o){if(n)s(n);else{var h=t({},r,o),p=null;h.origin&&"function"==typeof h.origin?p=h.origin:h.origin&&(p=function(e,t){t(null,h.origin)}),p?p(e.headers.origin,(function(t,n){t||!n?s(t):(h.origin=n,function(e,t,n,i){var r=[];"OPTIONS"===(t.method&&t.method.toUpperCase&&t.method.toUpperCase())?(r.push(a(e,t)),r.push(c(e)),r.push(function(e){var t=e.methods;return t.join&&(t=e.methods.join(",")),{key:"Access-Control-Allow-Methods",value:t}}(e)),r.push(function(e,t){var n=e.allowedHeaders||e.headers,i=[];return n?n.join&&(n=n.join(",")):(n=t.headers["access-control-request-headers"],i.push([{key:"Vary",value:"Access-Control-Request-Headers"}])),n&&n.length&&i.push([{key:"Access-Control-Allow-Headers",value:n}]),i}(e,t)),r.push(function(e){var t=("number"==typeof e.maxAge||e.maxAge)&&e.maxAge.toString();return t&&t.length?{key:"Access-Control-Max-Age",value:t}:null}(e)),r.push(u(e)),l(r,n),e.preflightContinue?i():(n.statusCode=e.optionsSuccessStatus,n.setHeader("Content-Length","0"),n.end())):(r.push(a(e,t)),r.push(c(e)),r.push(u(e)),l(r,n),i())}(h,e,i,s))})):s()}}))}}}()},52566:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,i=0,r="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(i=0;256!=i;++i)r[i]=e[i];for(i=0;256!=i;++i)for(n=e[i],t=256+i;t<4096;t+=256)n=r[t]=n>>>8^e[255&n];var s=[];for(i=1;16!=i;++i)s[i-1]="undefined"!=typeof Int32Array?r.subarray(256*i,256*i+256):r.slice(256*i,256*i+256);return s}(t),i=n[0],r=n[1],s=n[2],o=n[3],a=n[4],c=n[5],u=n[6],l=n[7],h=n[8],p=n[9],d=n[10],f=n[11],m=n[12],g=n[13],y=n[14];e.table=t,e.bstr=function(e,n){for(var i=~n,r=0,s=e.length;r<s;)i=i>>>8^t[255&(i^e.charCodeAt(r++))];return~i},e.buf=function(e,n){for(var b=~n,v=e.length-15,w=0;w<v;)b=y[e[w++]^255&b]^g[e[w++]^b>>8&255]^m[e[w++]^b>>16&255]^f[e[w++]^b>>>24]^d[e[w++]]^p[e[w++]]^h[e[w++]]^l[e[w++]]^u[e[w++]]^c[e[w++]]^a[e[w++]]^o[e[w++]]^s[e[w++]]^r[e[w++]]^i[e[w++]]^t[e[w++]];for(v+=15;w<v;)b=b>>>8^t[255&(b^e[w++])];return~b},e.str=function(e,n){for(var i=~n,r=0,s=e.length,o=0,a=0;r<s;)(o=e.charCodeAt(r++))<128?i=i>>>8^t[255&(i^o)]:o<2048?i=(i=i>>>8^t[255&(i^(192|o>>6&31))])>>>8^t[255&(i^(128|63&o))]:o>=55296&&o<57344?(o=64+(1023&o),a=1023&e.charCodeAt(r++),i=(i=(i=(i=i>>>8^t[255&(i^(240|o>>8&7))])>>>8^t[255&(i^(128|o>>2&63))])>>>8^t[255&(i^(128|a>>6&15|(3&o)<<4))])>>>8^t[255&(i^(128|63&a))]):i=(i=(i=i>>>8^t[255&(i^(224|o>>12&15))])>>>8^t[255&(i^(128|o>>6&63))])>>>8^t[255&(i^(128|63&o))];return~i}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},35485:(e,t,n)=>{"use strict";const{Transform:i}=n(34478),r=n(52566);e.exports=class extends i{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,t,n){e&&(this.checksum=r.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){const t=Buffer.allocUnsafe(4);return t.writeUInt32BE(this.checksum>>>0,0),e?t.toString(e):t}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}}},40951:(e,t,n)=>{"use strict";const{DeflateRaw:i}=n(43106),r=n(52566);e.exports=class extends i{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,t){return e&&(this.compressedSize+=e.length),super.push(e,t)}_transform(e,t,n){e&&(this.checksum=r.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,t,n)}digest(e){const t=Buffer.allocUnsafe(4);return t.writeUInt32BE(this.checksum>>>0,0),e?t.toString(e):t}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}}},71:(e,t,n)=>{"use strict";e.exports={CRC32Stream:n(35485),DeflateCRC32Stream:n(40951)}},17833:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(40736)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},40736:(e,t,n)=>{e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(6585),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},45753:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(17833):e.exports=n(76033)},76033:(e,t,n)=>{const i=n(52018),r=n(39023);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let i=0;i<n.length;i++)e.inspectOpts[n[i]]=t.inspectOpts[n[i]]},t.log=function(...e){return process.stderr.write(r.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(n){const{namespace:i,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),s=`  ${r};1m${i} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=r.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(27687);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[n]=i,e}),{}),e.exports=n(40736)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,r.inspect(e,this.inspectOpts)}},14988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new WeakMap,i=new WeakMap;function r(e){const t=n.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function s(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function o(e,t){n.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const i=Object.keys(t);for(let e=0;e<i.length;++e){const t=i[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return r(this).event[e]},set(t){r(this).event[e]=t},configurable:!0,enumerable:!0}}function c(e){return{value(){const t=r(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function u(e){if(null==e||e===Object.prototype)return o;let t=i.get(e);return null==t&&(t=function(e,t){const n=Object.keys(t);if(0===n.length)return e;function i(t,n){e.call(this,t,n)}i.prototype=Object.create(e.prototype,{constructor:{value:i,configurable:!0,writable:!0}});for(let r=0;r<n.length;++r){const s=n[r];if(!(s in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,s).value;Object.defineProperty(i.prototype,s,e?c(s):a(s))}}return i}(u(Object.getPrototypeOf(e)),e),i.set(e,t)),t}function l(e){return r(e).immediateStopped}function h(e,t){r(e).passiveListener=t}o.prototype={get type(){return r(this).event.type},get target(){return r(this).eventTarget},get currentTarget(){return r(this).currentTarget},composedPath(){const e=r(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return r(this).eventPhase},stopPropagation(){const e=r(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=r(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(r(this).event.bubbles)},get cancelable(){return Boolean(r(this).event.cancelable)},preventDefault(){s(r(this))},get defaultPrevented(){return r(this).canceled},get composed(){return Boolean(r(this).event.composed)},get timeStamp(){return r(this).timeStamp},get srcElement(){return r(this).eventTarget},get cancelBubble(){return r(this).stopped},set cancelBubble(e){if(!e)return;const t=r(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!r(this).canceled},set returnValue(e){e||s(r(this))},initEvent(){}},Object.defineProperty(o.prototype,"constructor",{value:o,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(o.prototype,window.Event.prototype),i.set(window.Event.prototype,o));const p=new WeakMap,d=3;function f(e){return null!==e&&"object"==typeof e}function m(e){const t=p.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function g(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=m(this).get(e);for(;null!=t;){if(t.listenerType===d)return t.listener;t=t.next}return null},set(t){"function"==typeof t||f(t)||(t=null);const n=m(this);let i=null,r=n.get(e);for(;null!=r;)r.listenerType===d?null!==i?i.next=r.next:null!==r.next?n.set(e,r.next):n.delete(e):i=r,r=r.next;if(null!==t){const r={listener:t,listenerType:d,passive:!1,once:!1,next:null};null===i?n.set(e,r):i.next=r}},configurable:!0,enumerable:!0}}(t))}function y(e){function t(){b.call(this)}t.prototype=Object.create(b.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let n=0;n<e.length;++n)g(t.prototype,e[n]);return t}function b(){if(!(this instanceof b)){if(1===arguments.length&&Array.isArray(arguments[0]))return y(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return y(e)}throw new TypeError("Cannot call a class as a function")}p.set(this,new Map)}b.prototype={addEventListener(e,t,n){if(null==t)return;if("function"!=typeof t&&!f(t))throw new TypeError("'listener' should be a function or an object.");const i=m(this),r=f(n),s=(r?Boolean(n.capture):Boolean(n))?1:2,o={listener:t,listenerType:s,passive:r&&Boolean(n.passive),once:r&&Boolean(n.once),next:null};let a=i.get(e);if(void 0===a)return void i.set(e,o);let c=null;for(;null!=a;){if(a.listener===t&&a.listenerType===s)return;c=a,a=a.next}c.next=o},removeEventListener(e,t,n){if(null==t)return;const i=m(this),r=(f(n)?Boolean(n.capture):Boolean(n))?1:2;let s=null,o=i.get(e);for(;null!=o;){if(o.listener===t&&o.listenerType===r)return void(null!==s?s.next=o.next:null!==o.next?i.set(e,o.next):i.delete(e));s=o,o=o.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=m(this),n=e.type;let i=t.get(n);if(null==i)return!0;const s=function(e,t){return new(u(Object.getPrototypeOf(t)))(e,t)}(this,e);let o=null;for(;null!=i;){if(i.once?null!==o?o.next=i.next:null!==i.next?t.set(n,i.next):t.delete(n):o=i,h(s,i.passive?i.listener:null),"function"==typeof i.listener)try{i.listener.call(this,s)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else i.listenerType!==d&&"function"==typeof i.listener.handleEvent&&i.listener.handleEvent(s);if(l(s))break;i=i.next}return h(s,null),function(e){r(e).eventPhase=0}(s),function(e){r(e).currentTarget=null}(s),!s.defaultPrevented}},Object.defineProperty(b.prototype,"constructor",{value:b,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(b.prototype,window.EventTarget.prototype),t.defineEventAttribute=g,t.EventTarget=b,t.default=b,e.exports=b,e.exports.EventTarget=e.exports.default=b,e.exports.defineEventAttribute=g},8190:e=>{e.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return void 0===this.buffer[this.top]&&(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(void 0!==e)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return void 0===this.buffer[this.btm]}}},36080:(e,t,n)=>{const i=n(8190);e.exports=class{constructor(e){this.hwm=e||16,this.head=new i(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const t=this.head;this.head=t.next=new i(2*this.head.buffer.length),this.head.push(e)}}shift(){0!==this.length&&this.length--;const e=this.tail.shift();if(void 0===e&&this.tail.next){const e=this.tail.next;return this.tail.next=null,this.tail=e,this.tail.shift()}return e}peek(){const e=this.tail.peek();return void 0===e&&this.tail.next?this.tail.next.peek():e}isEmpty(){return 0===this.length}}},23876:(e,t,n)=>{"use strict";const i=n(63735),r=n(16928),s=n(63798).mkdirsSync,o=n(47211).utimesMillisSync,a=n(66462);function c(e,t,n,s){const o=(s.dereference?i.statSync:i.lstatSync)(t);if(o.isDirectory())return function(e,t,n,r,s){return t?h(n,r,s):function(e,t,n,r){return i.mkdirSync(n),h(t,n,r),l(n,e)}(e.mode,n,r,s)}(o,e,t,n,s);if(o.isFile()||o.isCharacterDevice()||o.isBlockDevice())return function(e,t,n,r,s){return t?function(e,t,n,r){if(r.overwrite)return i.unlinkSync(n),u(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,r,s):u(e,n,r,s)}(o,e,t,n,s);if(o.isSymbolicLink())return function(e,t,n,s){let o=i.readlinkSync(t);if(s.dereference&&(o=r.resolve(process.cwd(),o)),e){let e;try{e=i.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return i.symlinkSync(o,n);throw e}if(s.dereference&&(e=r.resolve(process.cwd(),e)),a.isSrcSubdir(o,e))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${e}'.`);if(a.isSrcSubdir(e,o))throw new Error(`Cannot overwrite '${e}' with '${o}'.`);return function(e,t){return i.unlinkSync(t),i.symlinkSync(e,t)}(o,n)}return i.symlinkSync(o,n)}(e,t,n,s);if(o.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(o.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function u(e,t,n,r){return i.copyFileSync(t,n),r.preserveTimestamps&&function(e,t,n){(function(e){return!(128&e)})(e)&&function(e,t){l(e,128|t)}(n,e),function(e,t){const n=i.statSync(e);o(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),l(n,e.mode)}function l(e,t){return i.chmodSync(e,t)}function h(e,t,n){i.readdirSync(e).forEach((i=>function(e,t,n,i){const s=r.join(t,e),o=r.join(n,e);if(i.filter&&!i.filter(s,o))return;const{destStat:u}=a.checkPathsSync(s,o,"copy",i);return c(u,s,o,i)}(i,e,t,n)))}e.exports=function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:o,destStat:u}=a.checkPathsSync(e,t,"copy",n);if(a.checkParentPathsSync(e,o,t,"copy"),n.filter&&!n.filter(e,t))return;const l=r.dirname(t);return i.existsSync(l)||s(l),c(u,e,t,n)}},4994:(e,t,n)=>{"use strict";const i=n(98737),r=n(16928),{mkdirs:s}=n(63798),{pathExists:o}=n(29288),{utimesMillis:a}=n(47211),c=n(66462);async function u(e,t,n){return!n.filter||n.filter(e,t)}async function l(e,t,n,s){const o=s.dereference?i.stat:i.lstat,a=await o(t);if(a.isDirectory())return async function(e,t,n,s,o){t||await i.mkdir(s);const a=await i.readdir(n);await Promise.all(a.map((async e=>{const t=r.join(n,e),i=r.join(s,e);if(!await u(t,i,o))return;const{destStat:a}=await c.checkPaths(t,i,"copy",o);return l(a,t,i,o)}))),t||await i.chmod(s,e.mode)}(a,e,t,n,s);if(a.isFile()||a.isCharacterDevice()||a.isBlockDevice())return async function(e,t,n,r,s){if(!t)return h(e,n,r,s);if(s.overwrite)return await i.unlink(r),h(e,n,r,s);if(s.errorOnExist)throw new Error(`'${r}' already exists`)}(a,e,t,n,s);if(a.isSymbolicLink())return async function(e,t,n,s){let o=await i.readlink(t);if(s.dereference&&(o=r.resolve(process.cwd(),o)),!e)return i.symlink(o,n);let a=null;try{a=await i.readlink(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return i.symlink(o,n);throw e}if(s.dereference&&(a=r.resolve(process.cwd(),a)),c.isSrcSubdir(o,a))throw new Error(`Cannot copy '${o}' to a subdirectory of itself, '${a}'.`);if(c.isSrcSubdir(a,o))throw new Error(`Cannot overwrite '${a}' with '${o}'.`);return await i.unlink(n),i.symlink(o,n)}(e,t,n,s);if(a.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(a.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}async function h(e,t,n,r){if(await i.copyFile(t,n),r.preserveTimestamps){128&e.mode||await function(e,t){return i.chmod(e,128|t)}(n,e.mode);const r=await i.stat(t);await a(n,r.atime,r.mtime)}return i.chmod(n,e.mode)}e.exports=async function(e,t,n={}){"function"==typeof n&&(n={filter:n}),n.clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001");const{srcStat:i,destStat:a}=await c.checkPaths(e,t,"copy",n);if(await c.checkParentPaths(e,i,t,"copy"),!await u(e,t,n))return;const h=r.dirname(t);await o(h)||await s(h),await l(a,e,t,n)}},4423:(e,t,n)=>{"use strict";const i=n(41236).fromPromise;e.exports={copy:i(n(4994)),copySync:n(23876)}},52591:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(98737),s=n(16928),o=n(63798),a=n(35422),c=i((async function(e){let t;try{t=await r.readdir(e)}catch{return o.mkdirs(e)}return Promise.all(t.map((t=>a.remove(s.join(e,t)))))}));function u(e){let t;try{t=r.readdirSync(e)}catch{return o.mkdirsSync(e)}t.forEach((t=>{t=s.join(e,t),a.removeSync(t)}))}e.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},89616:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(16928),s=n(98737),o=n(63798);e.exports={createFile:i((async function(e){let t;try{t=await s.stat(e)}catch{}if(t&&t.isFile())return;const n=r.dirname(e);let i=null;try{i=await s.stat(n)}catch(t){if("ENOENT"===t.code)return await o.mkdirs(n),void await s.writeFile(e,"");throw t}i.isDirectory()?await s.writeFile(e,""):await s.readdir(n)})),createFileSync:function(e){let t;try{t=s.statSync(e)}catch{}if(t&&t.isFile())return;const n=r.dirname(e);try{s.statSync(n).isDirectory()||s.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;o.mkdirsSync(n)}s.writeFileSync(e,"")}}},76288:(e,t,n)=>{"use strict";const{createFile:i,createFileSync:r}=n(89616),{createLink:s,createLinkSync:o}=n(91522),{createSymlink:a,createSymlinkSync:c}=n(55291);e.exports={createFile:i,createFileSync:r,ensureFile:i,ensureFileSync:r,createLink:s,createLinkSync:o,ensureLink:s,ensureLinkSync:o,createSymlink:a,createSymlinkSync:c,ensureSymlink:a,ensureSymlinkSync:c}},91522:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(16928),s=n(98737),o=n(63798),{pathExists:a}=n(29288),{areIdentical:c}=n(66462);e.exports={createLink:i((async function(e,t){let n,i;try{n=await s.lstat(t)}catch{}try{i=await s.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}if(n&&c(i,n))return;const u=r.dirname(t);await a(u)||await o.mkdirs(u),await s.link(e,t)})),createLinkSync:function(e,t){let n;try{n=s.lstatSync(t)}catch{}try{const t=s.lstatSync(e);if(n&&c(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const i=r.dirname(t);return s.existsSync(i)||o.mkdirsSync(i),s.linkSync(e,t)}}},73838:(e,t,n)=>{"use strict";const i=n(16928),r=n(98737),{pathExists:s}=n(29288),o=n(41236).fromPromise;e.exports={symlinkPaths:o((async function(e,t){if(i.isAbsolute(e)){try{await r.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:e}}const n=i.dirname(t),o=i.join(n,e);if(await s(o))return{toCwd:o,toDst:e};try{await r.lstat(e)}catch(e){throw e.message=e.message.replace("lstat","ensureSymlink"),e}return{toCwd:e,toDst:i.relative(n,e)}})),symlinkPathsSync:function(e,t){if(i.isAbsolute(e)){if(!r.existsSync(e))throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}const n=i.dirname(t),s=i.join(n,e);if(r.existsSync(s))return{toCwd:s,toDst:e};if(!r.existsSync(e))throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:i.relative(n,e)}}}},47064:(e,t,n)=>{"use strict";const i=n(98737),r=n(41236).fromPromise;e.exports={symlinkType:r((async function(e,t){if(t)return t;let n;try{n=await i.lstat(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"})),symlinkTypeSync:function(e,t){if(t)return t;let n;try{n=i.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},55291:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(16928),s=n(98737),{mkdirs:o,mkdirsSync:a}=n(63798),{symlinkPaths:c,symlinkPathsSync:u}=n(73838),{symlinkType:l,symlinkTypeSync:h}=n(47064),{pathExists:p}=n(29288),{areIdentical:d}=n(66462);e.exports={createSymlink:i((async function(e,t,n){let i;try{i=await s.lstat(t)}catch{}if(i&&i.isSymbolicLink()){const[n,i]=await Promise.all([s.stat(e),s.stat(t)]);if(d(n,i))return}const a=await c(e,t);e=a.toDst;const u=await l(a.toCwd,n),h=r.dirname(t);return await p(h)||await o(h),s.symlink(e,t,u)})),createSymlinkSync:function(e,t,n){let i;try{i=s.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){const n=s.statSync(e),i=s.statSync(t);if(d(n,i))return}const o=u(e,t);e=o.toDst,n=h(o.toCwd,n);const c=r.dirname(t);return s.existsSync(c)||a(c),s.symlinkSync(e,t,n)}}},98737:(e,t,n)=>{"use strict";const i=n(41236).fromCallback,r=n(63735),s=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>"function"==typeof r[e]));Object.assign(t,r),s.forEach((e=>{t[e]=i(r[e])})),t.exists=function(e,t){return"function"==typeof t?r.exists(e,t):new Promise((t=>r.exists(e,t)))},t.read=function(e,t,n,i,s,o){return"function"==typeof o?r.read(e,t,n,i,s,o):new Promise(((o,a)=>{r.read(e,t,n,i,s,((e,t,n)=>{if(e)return a(e);o({bytesRead:t,buffer:n})}))}))},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?r.write(e,t,...n):new Promise(((i,s)=>{r.write(e,t,...n,((e,t,n)=>{if(e)return s(e);i({bytesWritten:t,buffer:n})}))}))},t.readv=function(e,t,...n){return"function"==typeof n[n.length-1]?r.readv(e,t,...n):new Promise(((i,s)=>{r.readv(e,t,...n,((e,t,n)=>{if(e)return s(e);i({bytesRead:t,buffers:n})}))}))},t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?r.writev(e,t,...n):new Promise(((i,s)=>{r.writev(e,t,...n,((e,t,n)=>{if(e)return s(e);i({bytesWritten:t,buffers:n})}))}))},"function"==typeof r.realpath.native?t.realpath.native=i(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")},21605:(e,t,n)=>{"use strict";e.exports={...n(98737),...n(4423),...n(52591),...n(76288),...n(23376),...n(63798),...n(42455),...n(77024),...n(29288),...n(35422)}},23376:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(12934);r.outputJson=i(n(6426)),r.outputJsonSync=n(32188),r.outputJSON=r.outputJson,r.outputJSONSync=r.outputJsonSync,r.writeJSON=r.writeJson,r.writeJSONSync=r.writeJsonSync,r.readJSON=r.readJson,r.readJSONSync=r.readJsonSync,e.exports=r},12934:(e,t,n)=>{"use strict";const i=n(2909);e.exports={readJson:i.readFile,readJsonSync:i.readFileSync,writeJson:i.writeFile,writeJsonSync:i.writeFileSync}},32188:(e,t,n)=>{"use strict";const{stringify:i}=n(11144),{outputFileSync:r}=n(77024);e.exports=function(e,t,n){const s=i(t,n);r(e,s,n)}},6426:(e,t,n)=>{"use strict";const{stringify:i}=n(11144),{outputFile:r}=n(77024);e.exports=async function(e,t,n={}){const s=i(t,n);await r(e,s,n)}},63798:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,{makeDir:r,makeDirSync:s}=n(98916),o=i(r);e.exports={mkdirs:o,mkdirsSync:s,mkdirp:o,mkdirpSync:s,ensureDir:o,ensureDirSync:s}},98916:(e,t,n)=>{"use strict";const i=n(98737),{checkPath:r}=n(17111),s=e=>"number"==typeof e?e:{mode:511,...e}.mode;e.exports.makeDir=async(e,t)=>(r(e),i.mkdir(e,{mode:s(t),recursive:!0})),e.exports.makeDirSync=(e,t)=>(r(e),i.mkdirSync(e,{mode:s(t),recursive:!0}))},17111:(e,t,n)=>{"use strict";const i=n(16928);e.exports.checkPath=function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(i.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}},42455:(e,t,n)=>{"use strict";const i=n(41236).fromPromise;e.exports={move:i(n(13314)),moveSync:n(86244)}},86244:(e,t,n)=>{"use strict";const i=n(63735),r=n(16928),s=n(4423).copySync,o=n(35422).removeSync,a=n(63798).mkdirpSync,c=n(66462);function u(e,t,n){try{i.renameSync(e,t)}catch(i){if("EXDEV"!==i.code)throw i;return function(e,t,n){return s(e,t,{overwrite:n,errorOnExist:!0,preserveTimestamps:!0}),o(e)}(e,t,n)}}e.exports=function(e,t,n){const s=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l,isChangingCase:h=!1}=c.checkPathsSync(e,t,"move",n);return c.checkParentPathsSync(e,l,t,"move"),function(e){const t=r.dirname(e);return r.parse(t).root===t}(t)||a(r.dirname(t)),function(e,t,n,r){if(r)return u(e,t,n);if(n)return o(t),u(e,t,n);if(i.existsSync(t))throw new Error("dest already exists.");return u(e,t,n)}(e,t,s,h)}},13314:(e,t,n)=>{"use strict";const i=n(98737),r=n(16928),{copy:s}=n(4423),{remove:o}=n(35422),{mkdirp:a}=n(63798),{pathExists:c}=n(29288),u=n(66462);e.exports=async function(e,t,n={}){const l=n.overwrite||n.clobber||!1,{srcStat:h,isChangingCase:p=!1}=await u.checkPaths(e,t,"move",n);await u.checkParentPaths(e,h,t,"move");const d=r.dirname(t);return r.parse(d).root!==d&&await a(d),async function(e,t,n,r){if(!r)if(n)await o(t);else if(await c(t))throw new Error("dest already exists.");try{await i.rename(e,t)}catch(i){if("EXDEV"!==i.code)throw i;await async function(e,t,n){const i={overwrite:n,errorOnExist:!0,preserveTimestamps:!0};return await s(e,t,i),o(e)}(e,t,n)}}(e,t,l,p)}},77024:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(98737),s=n(16928),o=n(63798),a=n(29288).pathExists;e.exports={outputFile:i((async function(e,t,n="utf-8"){const i=s.dirname(e);return await a(i)||await o.mkdirs(i),r.writeFile(e,t,n)})),outputFileSync:function(e,...t){const n=s.dirname(e);r.existsSync(n)||o.mkdirsSync(n),r.writeFileSync(e,...t)}}},29288:(e,t,n)=>{"use strict";const i=n(41236).fromPromise,r=n(98737);e.exports={pathExists:i((function(e){return r.access(e).then((()=>!0)).catch((()=>!1))})),pathExistsSync:r.existsSync}},35422:(e,t,n)=>{"use strict";const i=n(63735),r=n(41236).fromCallback;e.exports={remove:r((function(e,t){i.rm(e,{recursive:!0,force:!0},t)})),removeSync:function(e){i.rmSync(e,{recursive:!0,force:!0})}}},66462:(e,t,n)=>{"use strict";const i=n(98737),r=n(16928),s=n(41236).fromPromise;function o(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function a(e,t){const n=r.resolve(e).split(r.sep).filter((e=>e)),i=r.resolve(t).split(r.sep).filter((e=>e));return n.every(((e,t)=>i[t]===e))}function c(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:s((async function(e,t,n,s){const{srcStat:u,destStat:l}=await function(e,t,n){const r=n.dereference?e=>i.stat(e,{bigint:!0}):e=>i.lstat(e,{bigint:!0});return Promise.all([r(e),r(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))]).then((([e,t])=>({srcStat:e,destStat:t})))}(e,t,s);if(l){if(o(u,l)){const i=r.basename(e),s=r.basename(t);if("move"===n&&i!==s&&i.toLowerCase()===s.toLowerCase())return{srcStat:u,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(u.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!u.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(u.isDirectory()&&a(e,t))throw new Error(c(e,t,n));return{srcStat:u,destStat:l}})),checkPathsSync:function(e,t,n,s){const{srcStat:u,destStat:l}=function(e,t,n){let r;const s=n.dereference?e=>i.statSync(e,{bigint:!0}):e=>i.lstatSync(e,{bigint:!0}),o=s(e);try{r=s(t)}catch(e){if("ENOENT"===e.code)return{srcStat:o,destStat:null};throw e}return{srcStat:o,destStat:r}}(e,t,s);if(l){if(o(u,l)){const i=r.basename(e),s=r.basename(t);if("move"===n&&i!==s&&i.toLowerCase()===s.toLowerCase())return{srcStat:u,destStat:l,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(u.isDirectory()&&!l.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!u.isDirectory()&&l.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(u.isDirectory()&&a(e,t))throw new Error(c(e,t,n));return{srcStat:u,destStat:l}},checkParentPaths:s((async function e(t,n,s,a){const u=r.resolve(r.dirname(t)),l=r.resolve(r.dirname(s));if(l===u||l===r.parse(l).root)return;let h;try{h=await i.stat(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(o(n,h))throw new Error(c(t,s,a));return e(t,n,l,a)})),checkParentPathsSync:function e(t,n,s,a){const u=r.resolve(r.dirname(t)),l=r.resolve(r.dirname(s));if(l===u||l===r.parse(l).root)return;let h;try{h=i.statSync(l,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(o(n,h))throw new Error(c(t,s,a));return e(t,n,l,a)},isSrcSubdir:a,areIdentical:o}},47211:(e,t,n)=>{"use strict";const i=n(98737),r=n(41236).fromPromise;e.exports={utimesMillis:r((async function(e,t,n){const r=await i.open(e,"r+");let s=null;try{await i.futimes(r,t,n)}finally{try{await i.close(r)}catch(e){s=e}}if(s)throw s})),utimesMillisSync:function(e,t,n){const r=i.openSync(e,"r+");return i.futimesSync(r,t,n),i.closeSync(r)}}},1283:e=>{"use strict";e.exports=function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var n={__proto__:t(e)};else n=Object.create(null);return Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})),n};var t=Object.getPrototypeOf||function(e){return e.__proto__}},63735:(e,t,n)=>{var i,r,s=n(79896),o=n(69106),a=n(11995),c=n(1283),u=n(39023);function l(e,t){Object.defineProperty(e,i,{get:function(){return t}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(i=Symbol.for("graceful-fs.queue"),r=Symbol.for("graceful-fs.previous")):(i="___graceful-fs.queue",r="___graceful-fs.previous");var h,p=function(){};if(u.debuglog?p=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(p=function(){var e=u.format.apply(u,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),!s[i]){var d=global[i]||[];l(s,d),s.close=function(e){function t(t,n){return e.call(s,t,(function(e){e||g(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(t,r,{value:e}),t}(s.close),s.closeSync=function(e){function t(t){e.apply(s,arguments),g()}return Object.defineProperty(t,r,{value:e}),t}(s.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){p(s[i]),n(42613).equal(s[i].length,0)}))}function f(e){o(e),e.gracefulify=f,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,i){return"function"==typeof n&&(i=n,n=null),function e(n,i,r,s){return t(n,i,(function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof r&&r.apply(this,arguments):m([e,[n,i,r],t,s||Date.now(),Date.now()])}))}(e,n,i)};var n=e.writeFile;e.writeFile=function(e,t,i,r){return"function"==typeof i&&(r=i,i=null),function e(t,i,r,s,o){return n(t,i,r,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof s&&s.apply(this,arguments):m([e,[t,i,r,s],n,o||Date.now(),Date.now()])}))}(e,t,i,r)};var i=e.appendFile;i&&(e.appendFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,s,o){return i(t,n,r,(function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof s&&s.apply(this,arguments):m([e,[t,n,r,s],i,o||Date.now(),Date.now()])}))}(e,t,n,r)});var r=e.copyFile;r&&(e.copyFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=0),function e(t,n,i,s,o){return r(t,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof s&&s.apply(this,arguments):m([e,[t,n,i,s],r,o||Date.now(),Date.now()])}))}(e,t,n,i)});var s=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var i=c.test(process.version)?function(e,t,n,i){return s(e,r(e,t,n,i))}:function(e,t,n,i){return s(e,t,r(e,t,n,i))};return i(e,t,n);function r(e,t,n,r){return function(s,o){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?(o&&o.sort&&o.sort(),"function"==typeof n&&n.call(this,s,o)):m([i,[e,t,n],s,r||Date.now(),Date.now()])}}};var c=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=a(e);g=u.ReadStream,y=u.WriteStream}var l=e.ReadStream;l&&(g.prototype=Object.create(l.prototype),g.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())}))});var h=e.WriteStream;h&&(y.prototype=Object.create(h.prototype),y.prototype.open=function(){var e=this;v(e.path,e.flags,e.mode,(function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))}))}),Object.defineProperty(e,"ReadStream",{get:function(){return g},set:function(e){g=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var p=g;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var d=y;function g(e,t){return this instanceof g?(l.apply(this,arguments),this):g.apply(Object.create(g.prototype),arguments)}function y(e,t){return this instanceof y?(h.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var b=e.open;function v(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,r,s){return b(t,n,i,(function(o,a){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?"function"==typeof r&&r.apply(this,arguments):m([e,[t,n,i,r],o,s||Date.now(),Date.now()])}))}(e,t,n,i)}return e.open=v,e}function m(e){p("ENQUEUE",e[0].name,e[1]),s[i].push(e),y()}function g(){for(var e=Date.now(),t=0;t<s[i].length;++t)s[i][t].length>2&&(s[i][t][3]=e,s[i][t][4]=e);y()}function y(){if(clearTimeout(h),h=void 0,0!==s[i].length){var e=s[i].shift(),t=e[0],n=e[1],r=e[2],o=e[3],a=e[4];if(void 0===o)p("RETRY",t.name,n),t.apply(null,n);else if(Date.now()-o>=6e4){p("TIMEOUT",t.name,n);var c=n.pop();"function"==typeof c&&c.call(null,r)}else{var u=Date.now()-a,l=Math.max(a-o,1);u>=Math.min(1.2*l,100)?(p("RETRY",t.name,n),t.apply(null,n.concat([o]))):s[i].push(e)}void 0===h&&(h=setTimeout(y,0))}}global[i]||l(global,s[i]),e.exports=f(c(s)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!s.__patched&&(e.exports=f(s),s.__patched=!0)},11995:(e,t,n)=>{var i=n(2203).Stream;e.exports=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var o=Object.keys(r),a=0,c=o.length;a<c;a++){var u=o[a];this[u]=r[u]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,(function(e,t){if(e)return s.emit("error",e),void(s.readable=!1);s.fd=t,s.emit("open",t),s._read()})):process.nextTick((function(){s._read()}))},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);i.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var s=Object.keys(r),o=0,a=s.length;o<a;o++){var c=s[o];this[c]=r[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},69106:(e,t,n)=>{var i=n(49140),r=process.cwd,s=null,o=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return s||(s=r.call(process)),s};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(e){s=null,a.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}e.exports=function(e){function t(t){return t?function(n,i,r){return t.call(e,n,i,(function(e){u(e)&&(e=null),r&&r.apply(this,arguments)}))}:t}function n(t){return t?function(n,i){try{return t.call(e,n,i)}catch(e){if(!u(e))throw e}}:t}function r(t){return t?function(n,i,r,s){return t.call(e,n,i,r,(function(e){u(e)&&(e=null),s&&s.apply(this,arguments)}))}:t}function s(t){return t?function(n,i,r){try{return t.call(e,n,i,r)}catch(e){if(!u(e))throw e}}:t}function a(t){return t?function(n,i,r){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),r&&r.apply(this,arguments)}return"function"==typeof i&&(r=i,i=null),i?t.call(e,n,i,s):t.call(e,n,s)}:t}function c(t){return t?function(n,i){var r=i?t.call(e,n,i):t.call(e,n);return r&&(r.uid<0&&(r.uid+=4294967296),r.gid<0&&(r.gid+=4294967296)),r}:t}function u(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var l;i.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,i.O_WRONLY|i.O_SYMLINK,n,(function(t,i){t?r&&r(t):e.fchmod(i,n,(function(t){e.close(i,(function(e){r&&r(t||e)}))}))}))},e.lchmodSync=function(t,n){var r,s=e.openSync(t,i.O_WRONLY|i.O_SYMLINK,n),o=!0;try{r=e.fchmodSync(s,n),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return r}}(e),e.lutimes||function(e){i.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,r,s){e.open(t,i.O_SYMLINK,(function(t,i){t?s&&s(t):e.futimes(i,n,r,(function(t){e.close(i,(function(e){s&&s(t||e)}))}))}))},e.lutimesSync=function(t,n,r){var s,o=e.openSync(t,i.O_SYMLINK),a=!0;try{s=e.futimesSync(o,n,r),a=!1}finally{if(a)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return s}):e.futimes&&(e.lutimes=function(e,t,n,i){i&&process.nextTick(i)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,i){i&&process.nextTick(i)},e.lchownSync=function(){}),"win32"===o&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,i,r){var s=Date.now(),o=0;t(n,i,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code||"EBUSY"===c.code)&&Date.now()-s<6e4)return setTimeout((function(){e.stat(i,(function(e,s){e&&"ENOENT"===e.code?t(n,i,a):r(c)}))}),o),void(o<100&&(o+=10));r&&r(c)}))}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,i,r,s,o,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,p){if(l&&"EAGAIN"===l.code&&u<10)return u++,t.call(e,n,i,r,s,o,c);a.apply(this,arguments)}}return t.call(e,n,i,r,s,o,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(l=e.readSync,function(t,n,i,r,s){for(var o=0;;)try{return l.call(e,t,n,i,r,s)}catch(e){if("EAGAIN"===e.code&&o<10){o++;continue}throw e}})}},25884:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(n+e),r=t.indexOf("--");return-1!==i&&(-1===r||i<r)}},32647:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.detector=void 0;const i=n(65147),r=Object.keys(i.typeHandlers),s={56:"psd",66:"bmp",68:"dds",71:"gif",73:"tiff",77:"tiff",82:"webp",105:"icns",137:"png",255:"jpg"};t.detector=function(e){const t=e[0];if(t in s){const n=s[t];if(n&&i.typeHandlers[n].validate(e))return n}return r.find((t=>i.typeHandlers[t].validate(e)))}},45949:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.types=t.setConcurrency=t.disableTypes=t.disableFS=t.imageSize=void 0;const i=n(79896),r=n(16928),s=n(39792),o=n(65147),a=n(32647),c=524288,u=new s.default({concurrency:100,autostart:!0}),l={disabledFS:!1,disabledTypes:[]};function h(e,t){const n=(0,a.detector)(e);if(void 0!==n){if(l.disabledTypes.indexOf(n)>-1)throw new TypeError("disabled file type: "+n);if(n in o.typeHandlers){const i=o.typeHandlers[n].calculate(e,t);if(void 0!==i)return i.type=i.type??n,i}}throw new TypeError("unsupported file type: "+n+" (file: "+t+")")}function p(e,t){if(e instanceof Uint8Array)return h(e);if("string"!=typeof e||l.disabledFS)throw new TypeError("invalid invocation. input should be a Uint8Array");const n=r.resolve(e);if("function"!=typeof t){const e=function(e){const t=i.openSync(e,"r");try{const{size:e}=i.fstatSync(t);if(e<=0)throw new Error("Empty file");const n=Math.min(e,c),r=new Uint8Array(n);return i.readSync(t,r,0,n,0),r}finally{i.closeSync(t)}}(n);return h(e,n)}u.push((()=>async function(e){const t=await i.promises.open(e,"r");try{const{size:e}=await t.stat();if(e<=0)throw new Error("Empty file");const n=Math.min(e,c),i=new Uint8Array(n);return await t.read(i,0,n,0),i}finally{await t.close()}}(n).then((e=>process.nextTick(t,null,h(e,n)))).catch(t)))}e.exports=t=p,t.default=p,t.imageSize=p,t.disableFS=e=>{l.disabledFS=e},t.disableTypes=e=>{l.disabledTypes=e},t.setConcurrency=e=>{u.concurrency=e},t.types=Object.keys(o.typeHandlers)},49648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BMP=void 0;const i=n(38470);t.BMP={validate:e=>"BM"===(0,i.toUTF8String)(e,0,2),calculate:e=>({height:Math.abs((0,i.readInt32LE)(e,22)),width:(0,i.readUInt32LE)(e,18)})}},50941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CUR=void 0;const i=n(24270),r=n(38470);t.CUR={validate(e){const t=(0,r.readUInt16LE)(e,0),n=(0,r.readUInt16LE)(e,4);return 0===t&&0!==n&&2===(0,r.readUInt16LE)(e,2)},calculate:e=>i.ICO.calculate(e)}},77562:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DDS=void 0;const i=n(38470);t.DDS={validate:e=>542327876===(0,i.readUInt32LE)(e,0),calculate:e=>({height:(0,i.readUInt32LE)(e,12),width:(0,i.readUInt32LE)(e,16)})}},7857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GIF=void 0;const i=n(38470),r=/^GIF8[79]a/;t.GIF={validate:e=>r.test((0,i.toUTF8String)(e,0,6)),calculate:e=>({height:(0,i.readUInt16LE)(e,8),width:(0,i.readUInt16LE)(e,6)})}},98259:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HEIF=void 0;const i=n(38470),r={avif:"avif",mif1:"heif",msf1:"heif",heic:"heic",heix:"heic",hevc:"heic",hevx:"heic"};t.HEIF={validate(e){const t=(0,i.toUTF8String)(e,4,8),n=(0,i.toUTF8String)(e,8,12);return"ftyp"===t&&n in r},calculate(e){const t=(0,i.findBox)(e,"meta",0),n=t&&(0,i.findBox)(e,"iprp",t.offset+12),r=n&&(0,i.findBox)(e,"ipco",n.offset+8),s=r&&(0,i.findBox)(e,"ispe",r.offset+8);if(s)return{height:(0,i.readUInt32BE)(e,s.offset+16),width:(0,i.readUInt32BE)(e,s.offset+12),type:(0,i.toUTF8String)(e,8,12)};throw new TypeError("Invalid HEIF, no size found")}}},34280:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICNS=void 0;const i=n(38470),r={ICON:32,"ICN#":32,"icm#":16,icm4:16,icm8:16,"ics#":16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function s(e,t){const n=t+4;return[(0,i.toUTF8String)(e,t,n),(0,i.readUInt32BE)(e,n)]}function o(e){const t=r[e];return{width:t,height:t,type:e}}t.ICNS={validate:e=>"icns"===(0,i.toUTF8String)(e,0,4),calculate(e){const t=e.length,n=(0,i.readUInt32BE)(e,4);let r=8,a=s(e,r),c=o(a[0]);if(r+=a[1],r===n)return c;const u={height:c.height,images:[c],width:c.width};for(;r<n&&r<t;)a=s(e,r),c=o(a[0]),r+=a[1],u.images.push(c);return u}}},24270:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ICO=void 0;const i=n(38470);function r(e,t){const n=e[t];return 0===n?256:n}function s(e,t){const n=6+16*t;return{height:r(e,n+1),width:r(e,n)}}t.ICO={validate(e){const t=(0,i.readUInt16LE)(e,0),n=(0,i.readUInt16LE)(e,4);return 0===t&&0!==n&&1===(0,i.readUInt16LE)(e,2)},calculate(e){const t=(0,i.readUInt16LE)(e,4),n=s(e,0);if(1===t)return n;const r=[n];for(let n=1;n<t;n+=1)r.push(s(e,n));return{height:n.height,images:r,width:n.width}}}},65147:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandlers=void 0;const i=n(49648),r=n(50941),s=n(77562),o=n(7857),a=n(98259),c=n(34280),u=n(24270),l=n(34262),h=n(83879),p=n(13068),d=n(64782),f=n(18628),m=n(30054),g=n(33564),y=n(77961),b=n(239),v=n(26004),w=n(72093);t.typeHandlers={bmp:i.BMP,cur:r.CUR,dds:s.DDS,gif:o.GIF,heif:a.HEIF,icns:c.ICNS,ico:u.ICO,j2c:l.J2C,jp2:h.JP2,jpg:p.JPG,ktx:d.KTX,png:f.PNG,pnm:m.PNM,psd:g.PSD,svg:y.SVG,tga:b.TGA,tiff:v.TIFF,webp:w.WEBP}},34262:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.J2C=void 0;const i=n(38470);t.J2C={validate:e=>"ff4fff51"===(0,i.toHexString)(e,0,4),calculate:e=>({height:(0,i.readUInt32BE)(e,12),width:(0,i.readUInt32BE)(e,8)})}},83879:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JP2=void 0;const i=n(38470);t.JP2={validate(e){if(1783636e3!==(0,i.readUInt32BE)(e,4)||(0,i.readUInt32BE)(e,0)<1)return!1;const t=(0,i.findBox)(e,"ftyp",0);return!!t&&1718909296===(0,i.readUInt32BE)(e,t.offset+4)},calculate(e){const t=(0,i.findBox)(e,"jp2h",0),n=t&&(0,i.findBox)(e,"ihdr",t.offset+8);if(n)return{height:(0,i.readUInt32BE)(e,n.offset+8),width:(0,i.readUInt32BE)(e,n.offset+12)};throw new TypeError("Unsupported JPEG 2000 format")}}},13068:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JPG=void 0;const i=n(38470);function r(e){return"45786966"===(0,i.toHexString)(e,2,6)}function s(e,t){return{height:(0,i.readUInt16BE)(e,t),width:(0,i.readUInt16BE)(e,t+2)}}function o(e,t){const n=e.slice(2,t),r=(0,i.toHexString)(n,6,8),s="4d4d"===r;if(s||"4949"===r)return function(e,t){const n=(0,i.readUInt)(e,16,14,t);for(let r=0;r<n;r++){const n=16+12*r,s=n+12;if(n>e.length)return;const o=e.slice(n,s);if(274===(0,i.readUInt)(o,16,0,t)){if(3!==(0,i.readUInt)(o,16,2,t))return;if(1!==(0,i.readUInt)(o,32,4,t))return;return(0,i.readUInt)(o,16,8,t)}}}(n,s)}function a(e,t){if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits")}t.JPG={validate:e=>"ffd8"===(0,i.toHexString)(e,0,2),calculate(e){let t,n;for(e=e.slice(4);e.length;){const c=(0,i.readUInt16BE)(e,0);if(255===e[c]){if(r(e)&&(t=o(e,c)),a(e,c),n=e[c+1],192===n||193===n||194===n){const n=s(e,c+5);return t?{height:n.height,orientation:t,width:n.width}:n}e=e.slice(c+2)}else e=e.slice(1)}throw new TypeError("Invalid JPG, no size found")}}},64782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KTX=void 0;const i=n(38470);t.KTX={validate:e=>{const t=(0,i.toUTF8String)(e,1,7);return["KTX 11","KTX 20"].includes(t)},calculate:e=>{const t=49===e[5]?"ktx":"ktx2",n="ktx"===t?36:20;return{height:(0,i.readUInt32LE)(e,n+4),width:(0,i.readUInt32LE)(e,n),type:t}}}},18628:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNG=void 0;const i=n(38470),r="CgBI";t.PNG={validate(e){if("PNG\r\n\n"===(0,i.toUTF8String)(e,1,8)){let t=(0,i.toUTF8String)(e,12,16);if(t===r&&(t=(0,i.toUTF8String)(e,28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>(0,i.toUTF8String)(e,12,16)===r?{height:(0,i.readUInt32BE)(e,36),width:(0,i.readUInt32BE)(e,32)}:{height:(0,i.readUInt32BE)(e,20),width:(0,i.readUInt32BE)(e,16)}}},30054:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PNM=void 0;const i=n(38470),r={P1:"pbm/ascii",P2:"pgm/ascii",P3:"ppm/ascii",P4:"pbm",P5:"pgm",P6:"ppm",P7:"pam",PF:"pfm"},s={default:e=>{let t=[];for(;e.length>0;){const n=e.shift();if("#"!==n[0]){t=n.split(" ");break}}if(2===t.length)return{height:parseInt(t[1],10),width:parseInt(t[0],10)};throw new TypeError("Invalid PNM")},pam:e=>{const t={};for(;e.length>0;){const n=e.shift();if(n.length>16||n.charCodeAt(0)>128)continue;const[i,r]=n.split(" ");if(i&&r&&(t[i.toLowerCase()]=parseInt(r,10)),t.height&&t.width)break}if(t.height&&t.width)return{height:t.height,width:t.width};throw new TypeError("Invalid PAM")}};t.PNM={validate:e=>(0,i.toUTF8String)(e,0,2)in r,calculate(e){const t=(0,i.toUTF8String)(e,0,2),n=r[t],o=(0,i.toUTF8String)(e,3).split(/[\r\n]+/);return(s[n]||s.default)(o)}}},33564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PSD=void 0;const i=n(38470);t.PSD={validate:e=>"8BPS"===(0,i.toUTF8String)(e,0,4),calculate:e=>({height:(0,i.readUInt32BE)(e,14),width:(0,i.readUInt32BE)(e,18)})}},77961:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVG=void 0;const i=n(38470),r=/<svg\s([^>"']|"[^"]*"|'[^']*')*>/,s={height:/\sheight=(['"])([^%]+?)\1/,root:r,viewbox:/\sviewBox=(['"])(.+?)\1/i,width:/\swidth=(['"])([^%]+?)\1/},o=2.54,a={in:96,cm:96/o,em:16,ex:8,m:96/o*100,mm:96/o/10,pc:96/72/12,pt:96/72,px:1},c=new RegExp(`^([0-9.]+(?:e\\d+)?)(${Object.keys(a).join("|")})?$`);function u(e){const t=c.exec(e);if(t)return Math.round(Number(t[1])*(a[t[2]]||1))}function l(e){const t=e.split(" ");return{height:u(t[3]),width:u(t[2])}}t.SVG={validate:e=>r.test((0,i.toUTF8String)(e,0,1e3)),calculate(e){const t=(0,i.toUTF8String)(e).match(s.root);if(t){const e=function(e){const t=e.match(s.width),n=e.match(s.height),i=e.match(s.viewbox);return{height:n&&u(n[2]),viewbox:i&&l(i[2]),width:t&&u(t[2])}}(t[0]);if(e.width&&e.height)return function(e){return{height:e.height,width:e.width}}(e);if(e.viewbox)return function(e,t){const n=t.width/t.height;return e.width?{height:Math.floor(e.width/n),width:e.width}:e.height?{height:e.height,width:Math.floor(e.height*n)}:{height:t.height,width:t.width}}(e,e.viewbox)}throw new TypeError("Invalid SVG")}}},239:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TGA=void 0;const i=n(38470);t.TGA={validate:e=>0===(0,i.readUInt16LE)(e,0)&&0===(0,i.readUInt16LE)(e,4),calculate:e=>({height:(0,i.readUInt16LE)(e,14),width:(0,i.readUInt16LE)(e,12)})}},26004:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TIFF=void 0;const i=n(79896),r=n(38470);function s(e,t){const n=(0,r.readUInt)(e,16,8,t);return((0,r.readUInt)(e,16,10,t)<<16)+n}function o(e){if(e.length>24)return e.slice(12)}const a=["49492a00","4d4d002a"];t.TIFF={validate:e=>a.includes((0,r.toHexString)(e,0,4)),calculate(e,t){if(!t)throw new TypeError("Tiff doesn't support buffer");const n="BE"===function(e){const t=(0,r.toUTF8String)(e,0,2);return"II"===t?"LE":"MM"===t?"BE":void 0}(e),a=function(e,t,n){const s=(0,r.readUInt)(e,32,4,n);let o=1024;const a=i.statSync(t).size;s+o>a&&(o=a-s-10);const c=new Uint8Array(o),u=i.openSync(t,"r");return i.readSync(u,c,0,o,s),i.closeSync(u),c.slice(2)}(e,t,n),c=function(e,t){const n={};let i=e;for(;i&&i.length;){const e=(0,r.readUInt)(i,16,0,t),a=(0,r.readUInt)(i,16,2,t),c=(0,r.readUInt)(i,32,4,t);if(0===e)break;1!==c||3!==a&&4!==a||(n[e]=s(i,t)),i=o(i)}return n}(a,n),u=c[256],l=c[257];if(!u||!l)throw new TypeError("Invalid Tiff. Missing tags");return{height:l,width:u}}}},38470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findBox=t.readUInt=t.readUInt32LE=t.readUInt32BE=t.readInt32LE=t.readUInt24LE=t.readUInt16LE=t.readUInt16BE=t.readInt16LE=t.toHexString=t.toUTF8String=void 0;const n=new TextDecoder;t.toUTF8String=(e,t=0,i=e.length)=>n.decode(e.slice(t,i)),t.toHexString=(e,t=0,n=e.length)=>e.slice(t,n).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),""),t.readInt16LE=(e,t=0)=>{const n=e[t]+256*e[t+1];return n|131070*(32768&n)},t.readUInt16BE=(e,t=0)=>256*e[t]+e[t+1],t.readUInt16LE=(e,t=0)=>e[t]+256*e[t+1],t.readUInt24LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2],t.readInt32LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2]+(e[t+3]<<24),t.readUInt32BE=(e,t=0)=>e[t]*2**24+65536*e[t+1]+256*e[t+2]+e[t+3],t.readUInt32LE=(e,t=0)=>e[t]+256*e[t+1]+65536*e[t+2]+e[t+3]*2**24;const i={readUInt16BE:t.readUInt16BE,readUInt16LE:t.readUInt16LE,readUInt32BE:t.readUInt32BE,readUInt32LE:t.readUInt32LE};function r(e,n){if(e.length-n<4)return;const i=(0,t.readUInt32BE)(e,n);return e.length-n<i?void 0:{name:(0,t.toUTF8String)(e,4+n,8+n),offset:n,size:i}}t.readUInt=function(e,t,n,r){return n=n||0,i["readUInt"+t+(r?"BE":"LE")](e,n)},t.findBox=function(e,t,n){for(;n<e.length;){const i=r(e,n);if(!i)break;if(i.name===t)return i;n+=i.size}}},72093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBP=void 0;const i=n(38470);t.WEBP={validate(e){const t="RIFF"===(0,i.toUTF8String)(e,0,4),n="WEBP"===(0,i.toUTF8String)(e,8,12),r="VP8"===(0,i.toUTF8String)(e,12,15);return t&&n&&r},calculate(e){const t=(0,i.toUTF8String)(e,12,16);if(e=e.slice(20,30),"VP8X"===t){const t=e[0];if(!(192&t||1&t))return function(e){return{height:1+(0,i.readUInt24LE)(e,7),width:1+(0,i.readUInt24LE)(e,4)}}(e);throw new TypeError("Invalid WebP")}if("VP8 "===t&&47!==e[0])return function(e){return{height:16383&(0,i.readInt16LE)(e,8),width:16383&(0,i.readInt16LE)(e,6)}}(e);const n=(0,i.toHexString)(e,3,6);if("VP8L"===t&&"9d012a"!==n)return function(e){return{height:1+((15&e[4])<<10|e[3]<<2|(192&e[2])>>6),width:1+((63&e[2])<<8|e[1])}}(e);throw new TypeError("Invalid WebP")}}},72017:(e,t,n)=>{try{var i=n(39023);if("function"!=typeof i.inherits)throw"";e.exports=i.inherits}catch(t){e.exports=n(56698)}},56698:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},31232:e=>{"use strict";const t=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"==typeof e._transform,e.exports=t},64634:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2909:(e,t,n)=>{let i;try{i=n(63735)}catch(e){i=n(79896)}const r=n(41236),{stringify:s,stripBom:o}=n(11144),a={readFile:r.fromPromise((async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||i,s=!("throws"in t)||t.throws;let a,c=await r.fromCallback(n.readFile)(e,t);c=o(c);try{a=JSON.parse(c,t?t.reviver:null)}catch(t){if(s)throw t.message=`${e}: ${t.message}`,t;return null}return a})),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||i,r=!("throws"in t)||t.throws;try{let i=n.readFileSync(e,t);return i=o(i),JSON.parse(i,t.reviver)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:r.fromPromise((async function(e,t,n={}){const o=n.fs||i,a=s(t,n);await r.fromCallback(o.writeFile)(e,a,n)})),writeFileSync:function(e,t,n={}){const r=n.fs||i,o=s(t,n);return r.writeFileSync(e,o,n)}};e.exports=a},11144:e=>{e.exports={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:i=null,spaces:r}={}){const s=n?t:"";return JSON.stringify(e,i,r).replace(/\n/g,t)+s},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}}},85:(e,t,n)=>{var i=n(39023),r=n(28768);function s(e,t,n){e[t]=function(){return delete e[t],n.apply(this,arguments),this[t].apply(this,arguments)}}function o(e,t){if(!(this instanceof o))return new o(e,t);r.call(this,t),s(this,"_read",(function(){var n=e.call(this,t),i=this.emit.bind(this,"error");n.on("error",i),n.pipe(this)})),this.emit("readable")}function a(e,t){if(!(this instanceof a))return new a(e,t);r.call(this,t),s(this,"_write",(function(){var n=e.call(this,t),i=this.emit.bind(this,"error");n.on("error",i),this.pipe(n)})),this.emit("writable")}e.exports={Readable:o,Writable:a},i.inherits(o,r),i.inherits(a,r)},42676:(e,t,n)=>{"use strict";var i=n(33225),r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=h;var s=Object.create(n(15622));s.inherits=n(72017);var o=n(82922),a=n(34734);s.inherits(h,o);for(var c=r(a.prototype),u=0;u<c.length;u++){var l=c[u];h.prototype[l]||(h.prototype[l]=a.prototype[l])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},86462:(e,t,n)=>{"use strict";e.exports=s;var i=n(75828),r=Object.create(n(15622));function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}r.inherits=n(72017),r.inherits(s,i),s.prototype._transform=function(e,t,n){n(null,e)}},82922:(e,t,n)=>{"use strict";var i=n(33225);e.exports=b;var r,s=n(64634);b.ReadableState=y,n(24434).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=n(57354),c=n(36347).Buffer,u=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},l=Object.create(n(15622));l.inherits=n(72017);var h=n(39023),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var d,f=n(14156),m=n(18762);l.inherits(b,a);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var i=t instanceof(r=r||n(42676));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=n(78247).I),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function b(e){if(r=r||n(42676),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function v(e,t,n,i,r){var s,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,E(e)}}(e,o)):(r||(s=function(e,t){var n,i;return i=t,c.isBuffer(i)||i instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):D(e,o)):w(e,o,t,!1))):i||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&E(e)),D(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=m.destroy,b.prototype._undestroy=m.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),n=!0),v(this,e,t,!1,n)},b.prototype.unshift=function(e){return v(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return d||(d=n(78247).I),this._readableState.decoder=new d(e),this._readableState.encoding=e,this};var _=8388608;function S(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=_?e=_:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function E(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(x,e):x(e))}function x(e){p("emit readable"),e.emit("readable"),A(e)}function D(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function k(e){p("readable nexttick read 0"),e.read(0)}function R(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),A(e),t.flowing&&!t.reading&&e.read(0)}function A(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var s=n.data,o=e>s.length?s.length:e;if(o===s.length?r+=s:r+=s.slice(0,e),0==(e-=o)){o===s.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=s.slice(o));break}++i}return t.length-=i,r}(e,t):function(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var s=i.data,o=e>s.length?s.length:e;if(s.copy(n,n.length-e,0,o),0==(e-=o)){o===s.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(o));break}++r}return t.length-=r,n}(e,t),i}(e,t.buffer,t.decoder),n);var n}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):E(this),null;if(0===(e=S(e,t))&&t.ended)return 0===t.length&&O(this),null;var i,r=t.needReadable;return p("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",r=!0),t.ended||t.reading?p("reading or ended",r=!1):r&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=S(n,t))),null===(i=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&O(this)),null!==i&&this.emit("data",i),i},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,p("pipe count=%d opts=%j",r.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?y:c;function c(){p("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",(function t(i,s){p("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,p("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",u),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",d),l=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||u())}));var u=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,A(e))}}(n);e.on("drain",u);var l=!1,h=!1;function d(t){p("ondata"),h=!1,!1!==e.write(t)||h||((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==P(r.pipes,e))&&!l&&(p("false write response, pause",r.awaitDrain),r.awaitDrain++,h=!0),n.pause())}function f(t){p("onerror",t),y(),e.removeListener("error",f),0===o(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){p("onfinish"),e.removeListener("close",m),y()}function y(){p("unpipe"),n.unpipe(e)}return n.on("data",d),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?s(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",m),e.once("finish",g),e.emit("pipe",n),r.flowing||(p("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var i=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<r;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=P(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},b.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&E(this):i.nextTick(k,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(R,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,i=!1;for(var r in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(r){p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r||(n.objectMode||r&&r.length)&&(t.push(r)||(i=!0,e.pause()))})),e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));for(var s=0;s<g.length;s++)e.on(g[s],this.emit.bind(this,g[s]));return this._read=function(t){p("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=T},75828:(e,t,n)=>{"use strict";e.exports=o;var i=n(42676),r=Object.create(n(15622));function s(e,t){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),i(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){c(e,t,n)})):c(this,null,null)}function c(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}r.inherits=n(72017),r.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,n){var i=this._transformState;if(i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},34734:(e,t,n)=>{"use strict";var i=n(33225);function r(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(undefined),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=g;var s,o=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:i.nextTick;g.WritableState=m;var a=Object.create(n(15622));a.inherits=n(72017);var c,u={deprecate:n(27983)},l=n(57354),h=n(36347).Buffer,p=("undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},d=n(18762);function f(){}function m(e,t){s=s||n(42676),e=e||{};var a=t instanceof s;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,u=e.writableHighWaterMark,l=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(u||0===u)?u:l,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,s=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,s){--t.pendingcb,n?(i.nextTick(s,r),i.nextTick(S,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(s(r),e._writableState.errorEmitted=!0,e.emit("error",r),S(e,t))}(e,n,r,t,s);else{var a=w(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||v(e,n),r?o(b,e,n,a,s):b(e,n,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}function g(e){if(s=s||n(42676),!(c.call(g,this)||this instanceof s))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function y(e,t,n,i,r,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,s,t.onwrite),t.sync=!1}function b(e,t,n,i){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),S(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=n;for(var a=0,c=!0;n;)s[a]=n,n.isBuf||(c=!1),n=n.next,a+=1;s.allBuffers=c,y(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new r(t),t.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,l=n.encoding,h=n.callback;if(y(e,t,!1,t.objectMode?1:u.length,u,l,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function _(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),S(e,t)}))}function S(e,t){var n=w(t);return n&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(_,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}a.inherits(g,l),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===g&&e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,n){var r,s=this._writableState,o=!1,a=!s.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof n&&(n=f),s.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var s=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(r,o),s=!1),s}(this,s,e,n))&&(s.pendingcb++,o=function(e,t,n,i,r,s){if(!n){var o=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n)),t}(t,i,r);i!==o&&(n=!0,r="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,i,r,s);return c}(this,s,a,e,t,n)),o},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||v(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,S(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=d.destroy,g.prototype._undestroy=d.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},14156:(e,t,n)=>{"use strict";var i=n(36347).Buffer,r=n(39023);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);for(var t,n,r=i.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=r,n=o,s.data.copy(t,n),o+=s.data.length,s=s.next;return r},e}(),r&&r.inspect&&r.inspect.custom&&(e.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},18762:(e,t,n)=>{"use strict";var i=n(33225);function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,e)):i.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,i.nextTick(r,n,e)):i.nextTick(r,n,e):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},57354:(e,t,n)=>{e.exports=n(2203)},28768:(e,t,n)=>{e.exports=n(13940).PassThrough},13940:(e,t,n)=>{var i=n(2203);"disable"===process.env.READABLE_STREAM&&i?(e.exports=i,(t=e.exports=i.Readable).Readable=i.Readable,t.Writable=i.Writable,t.Duplex=i.Duplex,t.Transform=i.Transform,t.PassThrough=i.PassThrough,t.Stream=i):((t=e.exports=n(82922)).Stream=i||t,t.Readable=t,t.Writable=n(34734),t.Duplex=n(42676),t.Transform=n(75828),t.PassThrough=n(86462))},36347:(e,t,n)=>{var i=n(20181),r=i.Buffer;function s(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),s(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},78247:(e,t,n)=>{"use strict";var i=n(36347).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=l,this.end=h,t=3;break;default:return this.write=p,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t){if(128!=(192&t[0]))return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,""}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function u(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.I=s,s.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},s.prototype.text=function(e,t){var n=function(e,t,n){var i=t.length-1;if(i<n)return 0;var r=o(t[i]);return r>=0?(r>0&&(e.lastNeed=r-1),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(e.lastNeed=r-2),r):--i<n||-2===r?0:(r=o(t[i]))>=0?(r>0&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var i=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},21549:(e,t,n)=>{var i=n(22032),r=n(63862),s=n(66721),o=n(12749),a=n(35749);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},80079:(e,t,n)=>{var i=n(63702),r=n(70080),s=n(24739),o=n(48655),a=n(31175);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},68223:(e,t,n)=>{var i=n(56110)(n(9325),"Map");e.exports=i},53661:(e,t,n)=>{var i=n(63040),r=n(17670),s=n(90289),o=n(4509),a=n(72949);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}c.prototype.clear=i,c.prototype.delete=r,c.prototype.get=s,c.prototype.has=o,c.prototype.set=a,e.exports=c},76545:(e,t,n)=>{var i=n(56110)(n(9325),"Set");e.exports=i},38859:(e,t,n)=>{var i=n(53661),r=n(31380),s=n(51459);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=r,o.prototype.has=s,e.exports=o},51873:(e,t,n)=>{var i=n(9325).Symbol;e.exports=i},91033:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},15325:(e,t,n)=>{var i=n(96131);e.exports=function(e,t){return!(null==e||!e.length)&&i(e,t,0)>-1}},29905:e=>{e.exports=function(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}},70695:(e,t,n)=>{var i=n(78096),r=n(72428),s=n(56449),o=n(3656),a=n(30361),c=n(37167),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=s(e),l=!n&&r(e),h=!n&&!l&&o(e),p=!n&&!l&&!h&&c(e),d=n||l||h||p,f=d?i(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||d&&("length"==g||h&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},34932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},14528:e=>{e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},26025:(e,t,n)=>{var i=n(75288);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},83915:(e,t,n)=>{var i=n(38859),r=n(15325),s=n(29905),o=n(34932),a=n(27301),c=n(19219);e.exports=function(e,t,n,u){var l=-1,h=r,p=!0,d=e.length,f=[],m=t.length;if(!d)return f;n&&(t=o(t,a(n))),u?(h=s,p=!1):t.length>=200&&(h=c,p=!1,t=new i(t));e:for(;++l<d;){var g=e[l],y=null==n?g:n(g);if(g=u||0!==g?g:0,p&&y==y){for(var b=m;b--;)if(t[b]===y)continue e;f.push(g)}else h(t,y,u)||f.push(g)}return f}},2523:e=>{e.exports=function(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}},83120:(e,t,n)=>{var i=n(14528),r=n(45891);e.exports=function e(t,n,s,o,a){var c=-1,u=t.length;for(s||(s=r),a||(a=[]);++c<u;){var l=t[c];n>0&&s(l)?n>1?e(l,n-1,s,o,a):i(a,l):o||(a[a.length]=l)}return a}},72552:(e,t,n)=>{var i=n(51873),r=n(659),s=n(59350),o=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):s(e)}},96131:(e,t,n)=>{var i=n(2523),r=n(85463),s=n(76959);e.exports=function(e,t,n){return t==t?s(e,t,n):i(e,r,n)}},27534:(e,t,n)=>{var i=n(72552),r=n(40346);e.exports=function(e){return r(e)&&"[object Arguments]"==i(e)}},85463:e=>{e.exports=function(e){return e!=e}},45083:(e,t,n)=>{var i=n(1882),r=n(87296),s=n(23805),o=n(47473),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,h=u.hasOwnProperty,p=RegExp("^"+l.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!s(e)||r(e))&&(i(e)?p:a).test(o(e))}},4901:(e,t,n)=>{var i=n(72552),r=n(30294),s=n(40346),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return s(e)&&r(e.length)&&!!o[i(e)]}},72903:(e,t,n)=>{var i=n(23805),r=n(55527),s=n(90181),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return s(e);var t=r(e),n=[];for(var a in e)("constructor"!=a||!t&&o.call(e,a))&&n.push(a);return n}},69302:(e,t,n)=>{var i=n(83488),r=n(56757),s=n(32865);e.exports=function(e,t){return s(r(e,t,i),e+"")}},19570:(e,t,n)=>{var i=n(37334),r=n(93243),s=n(83488),o=r?function(e,t){return r(e,"toString",{configurable:!0,enumerable:!1,value:i(t),writable:!0})}:s;e.exports=o},78096:e=>{e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},27301:e=>{e.exports=function(e){return function(t){return e(t)}}},55765:(e,t,n)=>{var i=n(38859),r=n(15325),s=n(29905),o=n(19219),a=n(44517),c=n(84247);e.exports=function(e,t,n){var u=-1,l=r,h=e.length,p=!0,d=[],f=d;if(n)p=!1,l=s;else if(h>=200){var m=t?null:a(e);if(m)return c(m);p=!1,l=o,f=new i}else f=t?[]:d;e:for(;++u<h;){var g=e[u],y=t?t(g):g;if(g=n||0!==g?g:0,p&&y==y){for(var b=f.length;b--;)if(f[b]===y)continue e;t&&f.push(y),d.push(g)}else l(f,y,n)||(f!==d&&f.push(y),d.push(g))}return d}},19219:e=>{e.exports=function(e,t){return e.has(t)}},55481:(e,t,n)=>{var i=n(9325)["__core-js_shared__"];e.exports=i},44517:(e,t,n)=>{var i=n(76545),r=n(63950),s=n(84247),o=i&&1/s(new i([,-0]))[1]==1/0?function(e){return new i(e)}:r;e.exports=o},93243:(e,t,n)=>{var i=n(56110),r=function(){try{var e=i(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=r},34840:e=>{var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},12651:(e,t,n)=>{var i=n(74218);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},56110:(e,t,n)=>{var i=n(45083),r=n(10392);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},28879:(e,t,n)=>{var i=n(74335)(Object.getPrototypeOf,Object);e.exports=i},659:(e,t,n)=>{var i=n(51873),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=s.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=o.call(e);return i&&(t?e[a]=n:delete e[a]),r}},10392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},22032:(e,t,n)=>{var i=n(81042);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},63862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},66721:(e,t,n)=>{var i=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return r.call(t,e)?t[e]:void 0}},12749:(e,t,n)=>{var i=n(81042),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},35749:(e,t,n)=>{var i=n(81042);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?"__lodash_hash_undefined__":t,this}},45891:(e,t,n)=>{var i=n(51873),r=n(72428),s=n(56449),o=i?i.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||r(e)||!!(o&&e&&e[o])}},30361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var i=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==i||"symbol"!=i&&t.test(e))&&e>-1&&e%1==0&&e<n}},36800:(e,t,n)=>{var i=n(75288),r=n(64894),s=n(30361),o=n(23805);e.exports=function(e,t,n){if(!o(n))return!1;var a=typeof t;return!!("number"==a?r(n)&&s(t,n.length):"string"==a&&t in n)&&i(n[t],e)}},74218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},87296:(e,t,n)=>{var i,r=n(55481),s=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!s&&s in e}},55527:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},63702:e=>{e.exports=function(){this.__data__=[],this.size=0}},70080:(e,t,n)=>{var i=n(26025),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},24739:(e,t,n)=>{var i=n(26025);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},48655:(e,t,n)=>{var i=n(26025);e.exports=function(e){return i(this.__data__,e)>-1}},31175:(e,t,n)=>{var i=n(26025);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},63040:(e,t,n)=>{var i=n(21549),r=n(80079),s=n(68223);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(s||r),string:new i}}},17670:(e,t,n)=>{var i=n(12651);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},90289:(e,t,n)=>{var i=n(12651);e.exports=function(e){return i(this,e).get(e)}},4509:(e,t,n)=>{var i=n(12651);e.exports=function(e){return i(this,e).has(e)}},72949:(e,t,n)=>{var i=n(12651);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},81042:(e,t,n)=>{var i=n(56110)(Object,"create");e.exports=i},90181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},86009:(e,t,n)=>{e=n.nmd(e);var i=n(34840),r=t&&!t.nodeType&&t,s=r&&e&&!e.nodeType&&e,o=s&&s.exports===r&&i.process,a=function(){try{return s&&s.require&&s.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a},59350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},74335:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},56757:(e,t,n)=>{var i=n(91033),r=Math.max;e.exports=function(e,t,n){return t=r(void 0===t?e.length-1:t,0),function(){for(var s=arguments,o=-1,a=r(s.length-t,0),c=Array(a);++o<a;)c[o]=s[t+o];o=-1;for(var u=Array(t+1);++o<t;)u[o]=s[o];return u[t]=n(c),i(e,this,u)}}},9325:(e,t,n)=>{var i=n(34840),r="object"==typeof self&&self&&self.Object===Object&&self,s=i||r||Function("return this")();e.exports=s},31380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},51459:e=>{e.exports=function(e){return this.__data__.has(e)}},84247:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},32865:(e,t,n)=>{var i=n(19570),r=n(51811)(i);e.exports=r},51811:e=>{var t=Date.now;e.exports=function(e){var n=0,i=0;return function(){var r=t(),s=16-(r-i);if(i=r,s>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},76959:e=>{e.exports=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}},47473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},37334:e=>{e.exports=function(e){return function(){return e}}},84684:(e,t,n)=>{var i=n(69302),r=n(75288),s=n(36800),o=n(37241),a=Object.prototype,c=a.hasOwnProperty,u=i((function(e,t){e=Object(e);var n=-1,i=t.length,u=i>2?t[2]:void 0;for(u&&s(t[0],t[1],u)&&(i=1);++n<i;)for(var l=t[n],h=o(l),p=-1,d=h.length;++p<d;){var f=h[p],m=e[f];(void 0===m||r(m,a[f])&&!c.call(e,f))&&(e[f]=l[f])}return e}));e.exports=u},66245:(e,t,n)=>{var i=n(83915),r=n(83120),s=n(69302),o=n(83693),a=s((function(e,t){return o(e)?i(e,r(t,1,o,!0)):[]}));e.exports=a},75288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},35970:(e,t,n)=>{var i=n(83120);e.exports=function(e){return null!=e&&e.length?i(e,1):[]}},83488:e=>{e.exports=function(e){return e}},72428:(e,t,n)=>{var i=n(27534),r=n(40346),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,c=i(function(){return arguments}())?i:function(e){return r(e)&&o.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},56449:e=>{var t=Array.isArray;e.exports=t},64894:(e,t,n)=>{var i=n(1882),r=n(30294);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},83693:(e,t,n)=>{var i=n(64894),r=n(40346);e.exports=function(e){return r(e)&&i(e)}},3656:(e,t,n)=>{e=n.nmd(e);var i=n(9325),r=n(89935),s=t&&!t.nodeType&&t,o=s&&e&&!e.nodeType&&e,a=o&&o.exports===s?i.Buffer:void 0,c=(a?a.isBuffer:void 0)||r;e.exports=c},1882:(e,t,n)=>{var i=n(72552),r=n(23805);e.exports=function(e){if(!r(e))return!1;var t=i(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},30294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},23805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},40346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},11331:(e,t,n)=>{var i=n(72552),r=n(28879),s=n(40346),o=Function.prototype,a=Object.prototype,c=o.toString,u=a.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=i(e))return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==l}},37167:(e,t,n)=>{var i=n(4901),r=n(27301),s=n(86009),o=s&&s.isTypedArray,a=o?r(o):i;e.exports=a},37241:(e,t,n)=>{var i=n(70695),r=n(72903),s=n(64894);e.exports=function(e){return s(e)?i(e,!0):r(e)}},63950:e=>{e.exports=function(){}},89935:e=>{e.exports=function(){return!1}},80299:(e,t,n)=>{var i=n(83120),r=n(69302),s=n(55765),o=n(83693),a=r((function(e){return s(i(e,1,o,!0))}));e.exports=a},7598:(e,t,n)=>{e.exports=n(81813)},86049:(e,t,n)=>{"use strict";var i,r,s,o=n(7598),a=n(16928).extname,c=/^\s*([^;\s]*)(?:;|\s|$)/,u=/^text\//i;function l(e){if(!e||"string"!=typeof e)return!1;var t=c.exec(e),n=t&&o[t[1].toLowerCase()];return n&&n.charset?n.charset:!(!t||!u.test(t[1]))&&"UTF-8"}t.charset=l,t.charsets={lookup:l},t.contentType=function(e){if(!e||"string"!=typeof e)return!1;var n=-1===e.indexOf("/")?t.lookup(e):e;if(!n)return!1;if(-1===n.indexOf("charset")){var i=t.charset(n);i&&(n+="; charset="+i.toLowerCase())}return n},t.extension=function(e){if(!e||"string"!=typeof e)return!1;var n=c.exec(e),i=n&&t.extensions[n[1].toLowerCase()];return!(!i||!i.length)&&i[0]},t.extensions=Object.create(null),t.lookup=function(e){if(!e||"string"!=typeof e)return!1;var n=a("x."+e).toLowerCase().substr(1);return n&&t.types[n]||!1},t.types=Object.create(null),i=t.extensions,r=t.types,s=["nginx","apache",void 0,"iana"],Object.keys(o).forEach((function(e){var t=o[e],n=t.extensions;if(n&&n.length){i[e]=n;for(var a=0;a<n.length;a++){var c=n[a];if(r[c]){var u=s.indexOf(o[r[c]].source),l=s.indexOf(t.source);if("application/octet-stream"!==r[c]&&(u>l||u===l&&"application/"===r[c].substr(0,12)))continue}r[c]=e}}}))},6585:e=>{var t=1e3,n=60*t,i=60*n,r=24*i,s=7*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,a){a=a||{};var c,u,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*s;case"days":case"day":case"d":return a*r;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&isFinite(e))return a.long?(c=e,(u=Math.abs(c))>=r?o(c,u,r,"day"):u>=i?o(c,u,i,"hour"):u>=n?o(c,u,n,"minute"):u>=t?o(c,u,t,"second"):c+" ms"):function(e){var s=Math.abs(e);return s>=r?Math.round(e/r)+"d":s>=i?Math.round(e/i)+"h":s>=n?Math.round(e/n)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},81297:(e,t,n)=>{"use strict";var i=n(25097),r=n(38736),s=n(56199),o=n(84493);function a(e){if(!(this instanceof a))return new a(e);this.request=e}e.exports=a,e.exports.Negotiator=a,a.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},a.prototype.charsets=function(e){return i(this.request.headers["accept-charset"],e)},a.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},a.prototype.encodings=function(e){return r(this.request.headers["accept-encoding"],e)},a.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},a.prototype.languages=function(e){return s(this.request.headers["accept-language"],e)},a.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},a.prototype.mediaTypes=function(e){return o(this.request.headers.accept,e)},a.prototype.preferredCharset=a.prototype.charset,a.prototype.preferredCharsets=a.prototype.charsets,a.prototype.preferredEncoding=a.prototype.encoding,a.prototype.preferredEncodings=a.prototype.encodings,a.prototype.preferredLanguage=a.prototype.language,a.prototype.preferredLanguages=a.prototype.languages,a.prototype.preferredMediaType=a.prototype.mediaType,a.prototype.preferredMediaTypes=a.prototype.mediaTypes},25097:e=>{"use strict";e.exports=r,e.exports.preferredCharsets=r;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function n(e,n){var i=t.exec(e);if(!i)return null;var r=i[1],s=1;if(i[2])for(var o=i[2].split(";"),a=0;a<o.length;a++){var c=o[a].trim().split("=");if("q"===c[0]){s=parseFloat(c[1]);break}}return{charset:r,q:s,i:n}}function i(e,t,n){var i=0;if(t.charset.toLowerCase()===e.toLowerCase())i|=1;else if("*"!==t.charset)return null;return{i:n,o:t.i,q:t.q,s:i}}function r(e,t){var r=function(e){for(var t=e.split(","),i=0,r=0;i<t.length;i++){var s=n(t[i].trim(),i);s&&(t[r++]=s)}return t.length=r,t}(void 0===e?"*":e||"");if(!t)return r.filter(a).sort(s).map(o);var c=t.map((function(e,t){return function(e,t,n){for(var r={o:-1,q:0,s:0},s=0;s<t.length;s++){var o=i(e,t[s],n);o&&(r.s-o.s||r.q-o.q||r.o-o.o)<0&&(r=o)}return r}(e,r,t)}));return c.filter(a).sort(s).map((function(e){return t[c.indexOf(e)]}))}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function o(e){return e.charset}function a(e){return e.q>0}},38736:e=>{"use strict";e.exports=r,e.exports.preferredEncodings=r;var t=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function n(e,n){var i=t.exec(e);if(!i)return null;var r=i[1],s=1;if(i[2])for(var o=i[2].split(";"),a=0;a<o.length;a++){var c=o[a].trim().split("=");if("q"===c[0]){s=parseFloat(c[1]);break}}return{encoding:r,q:s,i:n}}function i(e,t,n){var i=0;if(t.encoding.toLowerCase()===e.toLowerCase())i|=1;else if("*"!==t.encoding)return null;return{i:n,o:t.i,q:t.q,s:i}}function r(e,t){var r=function(e){for(var t=e.split(","),r=!1,s=1,o=0,a=0;o<t.length;o++){var c=n(t[o].trim(),o);c&&(t[a++]=c,r=r||i("identity",c),s=Math.min(s,c.q||1))}return r||(t[a++]={encoding:"identity",q:s,i:o}),t.length=a,t}(e||"");if(!t)return r.filter(a).sort(s).map(o);var c=t.map((function(e,t){return function(e,t,n){for(var r={o:-1,q:0,s:0},s=0;s<t.length;s++){var o=i(e,t[s],n);o&&(r.s-o.s||r.q-o.q||r.o-o.o)<0&&(r=o)}return r}(e,r,t)}));return c.filter(a).sort(s).map((function(e){return t[c.indexOf(e)]}))}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function o(e){return e.encoding}function a(e){return e.q>0}},56199:e=>{"use strict";e.exports=r,e.exports.preferredLanguages=r;var t=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function n(e,n){var i=t.exec(e);if(!i)return null;var r=i[1],s=i[2],o=r;s&&(o+="-"+s);var a=1;if(i[3])for(var c=i[3].split(";"),u=0;u<c.length;u++){var l=c[u].split("=");"q"===l[0]&&(a=parseFloat(l[1]))}return{prefix:r,suffix:s,q:a,i:n,full:o}}function i(e,t,i){var r=n(e);if(!r)return null;var s=0;if(t.full.toLowerCase()===r.full.toLowerCase())s|=4;else if(t.prefix.toLowerCase()===r.full.toLowerCase())s|=2;else if(t.full.toLowerCase()===r.prefix.toLowerCase())s|=1;else if("*"!==t.full)return null;return{i,o:t.i,q:t.q,s}}function r(e,t){var r=function(e){for(var t=e.split(","),i=0,r=0;i<t.length;i++){var s=n(t[i].trim(),i);s&&(t[r++]=s)}return t.length=r,t}(void 0===e?"*":e||"");if(!t)return r.filter(a).sort(s).map(o);var c=t.map((function(e,t){return function(e,t,n){for(var r={o:-1,q:0,s:0},s=0;s<t.length;s++){var o=i(e,t[s],n);o&&(r.s-o.s||r.q-o.q||r.o-o.o)<0&&(r=o)}return r}(e,r,t)}));return c.filter(a).sort(s).map((function(e){return t[c.indexOf(e)]}))}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function o(e){return e.full}function a(e){return e.q>0}},84493:e=>{"use strict";e.exports=r,e.exports.preferredMediaTypes=r;var t=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function n(e,n){var i=t.exec(e);if(!i)return null;var r=Object.create(null),s=1,o=i[2],a=i[1];if(i[3])for(var l=function(e){for(var t=e.split(";"),n=1,i=0;n<t.length;n++)c(t[i])%2==0?t[++i]=t[n]:t[i]+=";"+t[n];for(t.length=i+1,n=0;n<t.length;n++)t[n]=t[n].trim();return t}(i[3]).map(u),h=0;h<l.length;h++){var p=l[h],d=p[0].toLowerCase(),f=p[1],m=f&&'"'===f[0]&&'"'===f[f.length-1]?f.substr(1,f.length-2):f;if("q"===d){s=parseFloat(m);break}r[d]=m}return{type:a,subtype:o,params:r,q:s,i:n}}function i(e,t,i){var r=n(e),s=0;if(!r)return null;if(t.type.toLowerCase()==r.type.toLowerCase())s|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==r.subtype.toLowerCase())s|=2;else if("*"!=t.subtype)return null;var o=Object.keys(t.params);if(o.length>0){if(!o.every((function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(r.params[e]||"").toLowerCase()})))return null;s|=1}return{i,o:t.i,q:t.q,s}}function r(e,t){var r=function(e){for(var t=function(e){for(var t=e.split(","),n=1,i=0;n<t.length;n++)c(t[i])%2==0?t[++i]=t[n]:t[i]+=","+t[n];return t.length=i+1,t}(e),i=0,r=0;i<t.length;i++){var s=n(t[i].trim(),i);s&&(t[r++]=s)}return t.length=r,t}(void 0===e?"*/*":e||"");if(!t)return r.filter(a).sort(s).map(o);var u=t.map((function(e,t){return function(e,t,n){for(var r={o:-1,q:0,s:0},s=0;s<t.length;s++){var o=i(e,t[s],n);o&&(r.s-o.s||r.q-o.q||r.o-o.o)<0&&(r=o)}return r}(e,r,t)}));return u.filter(a).sort(s).map((function(e){return t[u.indexOf(e)]}))}function s(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function o(e){return e.type+"/"+e.subtype}function a(e){return e.q>0}function c(e){for(var t=0,n=0;-1!==(n=e.indexOf('"',n));)t++,n++;return t}function u(e){var t,n,i=e.indexOf("=");return-1===i?t=e:(t=e.substr(0,i),n=e.substr(i+1)),[t,n]}},68169:(e,t,n)=>{const i=require;"function"==typeof i.addon?e.exports=i.addon.bind(i):e.exports=n(1381)},1381:(e,t,n)=>{var i=n(79896),r=n(16928),s=n(70857),o=require,a=process.config&&process.config.variables||{},c=!!process.env.PREBUILDS_ONLY,u=process.versions.modules,l=process.versions&&process.versions.electron||process.env.ELECTRON_RUN_AS_NODE||"undefined"!=typeof window&&window.process&&"renderer"===window.process.type?"electron":process.versions&&process.versions.nw?"node-webkit":"node",h=process.env.npm_config_arch||s.arch(),p=process.env.npm_config_platform||s.platform(),d=process.env.LIBC||(function(e){return"linux"===e&&i.existsSync("/etc/alpine-release")}(p)?"musl":"glibc"),f=process.env.ARM_VERSION||("arm64"===h?"8":a.arm_version)||"",m=(process.versions.uv||"").split(".")[0];function g(e){return o(g.resolve(e))}function y(e){try{return i.readdirSync(e)}catch(e){return[]}}function b(e,t){var n=y(e).filter(t);return n[0]&&r.join(e,n[0])}function v(e){return/\.node$/.test(e)}function w(e){var t=e.split("-");if(2===t.length){var n=t[0],i=t[1].split("+");if(n&&i.length&&i.every(Boolean))return{name:e,platform:n,architectures:i}}}function _(e,t){return function(n){return null!=n&&n.platform===e&&n.architectures.includes(t)}}function S(e,t){return e.architectures.length-t.architectures.length}function E(e){var t=e.split("."),n={file:e,specificity:0};if("node"===t.pop()){for(var i=0;i<t.length;i++){var r=t[i];if("node"===r||"electron"===r||"node-webkit"===r)n.runtime=r;else if("napi"===r)n.napi=!0;else if("abi"===r.slice(0,3))n.abi=r.slice(3);else if("uv"===r.slice(0,2))n.uv=r.slice(2);else if("armv"===r.slice(0,4))n.armv=r.slice(4);else{if("glibc"!==r&&"musl"!==r)continue;n.libc=r}n.specificity++}return n}}function x(e,t){return function(n){return!(null==n||n.runtime&&n.runtime!==e&&!function(e){return"node"===e.runtime&&e.napi}(n)||n.abi&&n.abi!==t&&!n.napi||n.uv&&n.uv!==m||n.armv&&n.armv!==f||n.libc&&n.libc!==d)}}function D(e){return function(t,n){return t.runtime!==n.runtime?t.runtime===e?-1:1:t.abi!==n.abi?t.abi?-1:1:t.specificity!==n.specificity?t.specificity>n.specificity?-1:1:0}}e.exports=g,g.resolve=g.path=function(e){e=r.resolve(e||".");try{var t=o(r.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");process.env[t+"_PREBUILD"]&&(e=process.env[t+"_PREBUILD"])}catch(e){}if(!c){var n=b(r.join(e,"build/Release"),v);if(n)return n;var i=b(r.join(e,"build/Debug"),v);if(i)return i}var s=C(e);if(s)return s;var a=C(r.dirname(process.execPath));if(a)return a;var g=["platform="+p,"arch="+h,"runtime="+l,"abi="+u,"uv="+m,f?"armv="+f:"","libc="+d,"node="+process.versions.node,process.versions.electron?"electron="+process.versions.electron:"","webpack=true"].filter(Boolean).join(" ");throw new Error("No native build was found for "+g+"\n    loaded from: "+e+"\n");function C(e){var t=y(r.join(e,"prebuilds")).map(w).filter(_(p,h)).sort(S)[0];if(t){var n=r.join(e,"prebuilds",t.name),i=y(n).map(E).filter(x(l,u)).sort(D(l))[0];return i?r.join(n,i.file):void 0}}},g.parseTags=E,g.matchTags=x,g.compareTags=D,g.parseTuple=w,g.matchTuple=_,g.compareTuples=S},14100:e=>{e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("expected path to be a string");if("\\"===e||"/"===e)return"/";var n=e.length;if(n<=1)return e;var i="";if(n>4&&"\\"===e[3]){var r=e[2];"?"!==r&&"."!==r||"\\\\"!==e.slice(0,2)||(e=e.slice(2),i="//")}var s=e.split(/[/\\]+/);return!1!==t&&""===s[s.length-1]&&s.pop(),i+s.join("/")}},6796:(e,t,n)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=n(1708),r=n(48161),s=n(7066),o=(e=0)=>t=>`[${t+e}m`,a=(e=0)=>t=>`[${38+e};5;${t}m`,c=(e=0)=>(t,n,i)=>`[${38+e};2;${t};${n};${i}m`,u={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}},l=Object.keys(u.modifier),h=Object.keys(u.color),p=Object.keys(u.bgColor),d=[...h,...p],f=function(){const e=new Map;for(const[t,n]of Object.entries(u)){for(const[t,i]of Object.entries(n))u[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},n[t]=u[t],e.set(i[0],i[1]);Object.defineProperty(u,t,{value:n,enumerable:!1})}return Object.defineProperty(u,"codes",{value:e,enumerable:!1}),u.color.close="[39m",u.bgColor.close="[49m",u.color.ansi=o(),u.color.ansi256=a(),u.color.ansi16m=c(),u.bgColor.ansi=o(10),u.bgColor.ansi256=a(10),u.bgColor.ansi16m=c(10),Object.defineProperties(u,{rgbToAnsi256:{value:(e,t,n)=>e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5),enumerable:!1},hexToRgb:{value(e){const t=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!t)return[0,0,0];let[n]=t;3===n.length&&(n=[...n].map((e=>e+e)).join(""));const i=Number.parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},enumerable:!1},hexToAnsi256:{value:e=>u.rgbToAnsi256(...u.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return e-8+90;let t,n,i;if(e>=232)t=(10*(e-232)+8)/255,n=t,i=t;else{const r=(e-=16)%36;t=Math.floor(e/36)/5,n=Math.floor(r/6)/5,i=r%6/5}const r=2*Math.max(t,n,i);if(0===r)return 30;let s=30+(Math.round(i)<<2|Math.round(n)<<1|Math.round(t));return 2===r&&(s+=60),s},enumerable:!1},rgbToAnsi:{value:(e,t,n)=>u.ansi256ToAnsi(u.rgbToAnsi256(e,t,n)),enumerable:!1},hexToAnsi:{value:e=>u.ansi256ToAnsi(u.hexToAnsi256(e)),enumerable:!1}}),u}();function m(e,t=(globalThis.Deno?globalThis.Deno.args:i.argv)){const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return-1!==r&&(-1===s||r<s)}const{env:g}=i;let y;function b(e,t={}){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e,{streamIsTTY:t,sniffFlags:n=!0}={}){const s=function(){if("FORCE_COLOR"in g)return"true"===g.FORCE_COLOR?1:"false"===g.FORCE_COLOR?0:0===g.FORCE_COLOR.length?1:Math.min(Number.parseInt(g.FORCE_COLOR,10),3)}();void 0!==s&&(y=s);const o=n?y:s;if(0===o)return 0;if(n){if(m("color=16m")||m("color=full")||m("color=truecolor"))return 3;if(m("color=256"))return 2}if("TF_BUILD"in g&&"AGENT_NAME"in g)return 1;if(e&&!t&&void 0===o)return 0;const a=o||0;if("dumb"===g.TERM)return a;if("win32"===i.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in g)return"GITHUB_ACTIONS"in g||"GITEA_ACTIONS"in g?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some((e=>e in g))||"codeship"===g.CI_NAME?1:a;if("TEAMCITY_VERSION"in g)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(g.TEAMCITY_VERSION)?1:0;if("truecolor"===g.COLORTERM||"xterm-kitty"===g.TERM)return 3;if("TERM_PROGRAM"in g){const e=Number.parseInt((g.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(g.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(g.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(g.TERM)||"COLORTERM"in g?1:a}(e,{streamIsTTY:e&&e.isTTY,...t}))}m("no-color")||m("no-colors")||m("color=false")||m("color=never")?y=0:(m("color")||m("colors")||m("color=true")||m("color=always"))&&(y=1);const v={stdout:b({isTTY:s.isatty(1)}),stderr:b({isTTY:s.isatty(2)})};function w(e,t,n){let i=e.indexOf(t);if(-1===i)return e;const r=t.length;let s=0,o="";do{o+=e.slice(s,i)+t+n,s=i+r,i=e.indexOf(t,s)}while(-1!==i);return o+=e.slice(s),o}const{stdout:_,stderr:S}=v,E=Symbol("GENERATOR"),x=Symbol("STYLER"),D=Symbol("IS_EMPTY"),C=["ansi","ansi","ansi256","ansi16m"],k=Object.create(null),R=e=>{const t=(...e)=>e.join(" ");return((e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=_?_.level:0;e.level=void 0===t.level?n:t.level})(t,e),Object.setPrototypeOf(t,A.prototype),t};function A(e){return R(e)}Object.setPrototypeOf(A.prototype,Function.prototype);for(const[e,t]of Object.entries(f))k[e]={get(){const n=I(this,P(t.open,t.close,this[x]),this[D]);return Object.defineProperty(this,e,{value:n}),n}};k.visible={get(){const e=I(this,this[x],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const T=(e,t,n,...i)=>"rgb"===e?"ansi16m"===t?f[n].ansi16m(...i):"ansi256"===t?f[n].ansi256(f.rgbToAnsi256(...i)):f[n].ansi(f.rgbToAnsi(...i)):"hex"===e?T("rgb",t,n,...f.hexToRgb(...i)):f[n][e](...i),O=["rgb","hex","ansi256"];for(const e of O)k[e]={get(){const{level:t}=this;return function(...n){const i=P(T(e,C[t],"color",...n),f.color.close,this[x]);return I(this,i,this[D])}}},k["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:t}=this;return function(...n){const i=P(T(e,C[t],"bgColor",...n),f.bgColor.close,this[x]);return I(this,i,this[D])}}};const F=Object.defineProperties((()=>{}),{...k,level:{enumerable:!0,get(){return this[E].level},set(e){this[E].level=e}}}),P=(e,t,n)=>{let i,r;return void 0===n?(i=e,r=t):(i=n.openAll+e,r=t+n.closeAll),{open:e,close:t,openAll:i,closeAll:r,parent:n}},I=(e,t,n)=>{const i=(...e)=>L(i,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(i,F),i[E]=e,i[x]=t,i[D]=n,i},L=(e,t)=>{if(e.level<=0||!t)return e[D]?"":t;let n=e[x];if(void 0===n)return t;const{openAll:i,closeAll:r}=n;if(t.includes(""))for(;void 0!==n;)t=w(t,n.close,n.open),n=n.parent;const s=t.indexOf("\n");return-1!==s&&(t=function(e,t,n,i){let r=0,s="";do{const o="\r"===e[i-1];s+=e.slice(r,o?i-1:i)+t+(o?"\r\n":"\n")+n,r=i+1,i=e.indexOf("\n",r)}while(-1!==i);return s+=e.slice(r),s}(t,r,i,s)),i+t+r};Object.defineProperties(A.prototype,k);const N=A(),B=A({level:S?S.level:0});t.Chalk=class{constructor(e){return R(e)}},t.backgroundColorNames=p,t.backgroundColors=p,t.chalkStderr=B,t.colorNames=d,t.colors=d,t.default=N,t.foregroundColorNames=h,t.foregroundColors=h,t.modifierNames=l,t.modifiers=l,t.supportsColor=_,t.supportsColorStderr=S},65766:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=function({onlyFirst:e=!1}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")}();t.default=function(e){if("string"!=typeof e)throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(n,"")}},48171:(e,t)=>{"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=Symbol("singleComment"),i=Symbol("multiComment"),r=()=>"",s=(e,t,n)=>e.slice(t,n).replace(/\S/g," "),o=(e,t)=>{let n=t-1,i=0;for(;"\\"===e[n];)n-=1,i+=1;return!!(i%2)};t.default=function(e,{whitespace:t=!0,trailingCommas:a=!1}={}){if("string"!=typeof e)throw new TypeError(`Expected argument \`jsonString\` to be a \`string\`, got \`${typeof e}\``);const c=t?s:r;let u=!1,l=!1,h=0,p="",d="",f=-1;for(let t=0;t<e.length;t++){const r=e[t],s=e[t+1];if(!l&&'"'===r&&(o(e,t)||(u=!u)),!u)if(l||r+s!=="//"){if(l===n&&r+s==="\r\n"){t++,l=!1,p+=c(e,h,t),h=t;continue}if(l===n&&"\n"===r)l=!1,p+=c(e,h,t),h=t;else{if(!l&&r+s==="/*"){p+=e.slice(h,t),h=t,l=i,t++;continue}if(l===i&&r+s==="*/"){t++,l=!1,p+=c(e,h,t+1),h=t+1;continue}a&&!l&&(-1!==f?"}"===r||"]"===r?(p+=e.slice(h,t),d+=c(p,0,1)+p.slice(1),p="",h=t,f=-1):" "!==r&&"\t"!==r&&"\r"!==r&&"\n"!==r&&(p+=e.slice(h,t),h=t,f=-1):","===r&&(d+=p+e.slice(h,t),p="",h=t,f=t))}}else p+=e.slice(h,t),h=t,l=n,t++}return d+p+(l?c(e.slice(h)):e.slice(h))}},85059:(e,t,n)=>{"use strict";Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const r=n(76760),s=n(80481),o=n(78474),a=n(31421),c=n(73024),u=n(48161),l=n(57975),h=n(51455),p=n(73136),d=n(37067),f=n(44708),m=n(34589),g=n(4573),y=n(38522),b=n(57075),v=n(46193),w=n(40610),_=n(77598),S=n(77030),E=n(41692),x=n(7066),D=n(58500),C=n(41792),k=n(38321),R=n(98995);var A=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function T(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O={};let F,P,I,L,N=!0;typeof process<"u"&&(({FORCE_COLOR:F,NODE_DISABLE_COLORS:P,NO_COLOR:I,TERM:L}=process.env||{}),N=process.stdout&&process.stdout.isTTY);const B={enabled:!P&&null==I&&"dumb"!==L&&(null!=F&&"0"!==F||N),reset:M(0,0),bold:M(1,22),dim:M(2,22),italic:M(3,23),underline:M(4,24),inverse:M(7,27),hidden:M(8,28),strikethrough:M(9,29),black:M(30,39),red:M(31,39),green:M(32,39),yellow:M(33,39),blue:M(34,39),magenta:M(35,39),cyan:M(36,39),white:M(37,39),gray:M(90,39),grey:M(90,39),bgBlack:M(40,49),bgRed:M(41,49),bgGreen:M(42,49),bgYellow:M(43,49),bgBlue:M(44,49),bgMagenta:M(45,49),bgCyan:M(46,49),bgWhite:M(47,49)};function j(e,t){let n,i=0,r="",s="";for(;i<e.length;i++)n=e[i],r+=n.open,s+=n.close,~t.indexOf(n.close)&&(t=t.replace(n.rgx,n.close+n.open));return r+t+s}function M(e,t){let n={open:`[${e}m`,close:`[${t}m`,rgx:new RegExp(`\\x1b\\[${t}m`,"g")};return function(t){return void 0!==this&&void 0!==this.has?(~this.has.indexOf(e)||(this.has.push(e),this.keys.push(n)),void 0===t?this:B.enabled?j(this.keys,t+""):t+""):void 0===t?function(e,t){let n={has:e,keys:t};return n.reset=B.reset.bind(n),n.bold=B.bold.bind(n),n.dim=B.dim.bind(n),n.italic=B.italic.bind(n),n.underline=B.underline.bind(n),n.inverse=B.inverse.bind(n),n.hidden=B.hidden.bind(n),n.strikethrough=B.strikethrough.bind(n),n.black=B.black.bind(n),n.red=B.red.bind(n),n.green=B.green.bind(n),n.yellow=B.yellow.bind(n),n.blue=B.blue.bind(n),n.magenta=B.magenta.bind(n),n.cyan=B.cyan.bind(n),n.white=B.white.bind(n),n.gray=B.gray.bind(n),n.grey=B.grey.bind(n),n.bgBlack=B.bgBlack.bind(n),n.bgRed=B.bgRed.bind(n),n.bgGreen=B.bgGreen.bind(n),n.bgYellow=B.bgYellow.bind(n),n.bgBlue=B.bgBlue.bind(n),n.bgMagenta=B.bgMagenta.bind(n),n.bgCyan=B.bgCyan.bind(n),n.bgWhite=B.bgWhite.bind(n),n}([e],[n]):B.enabled?j([n],t+""):t+""}}var $=B,q=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),n=new RegExp(t,"g");return"string"==typeof e?e.replace(n,""):e};const U="[",H={to:(e,t)=>t?`${U}${t+1};${e+1}H`:`${U}${e+1}G`,move(e,t){let n="";return e<0?n+=`${U}${-e}D`:e>0&&(n+=`${U}${e}C`),t<0?n+=`${U}${-t}A`:t>0&&(n+=`${U}${t}B`),n},up:(e=1)=>`${U}${e}A`,down:(e=1)=>`${U}${e}B`,forward:(e=1)=>`${U}${e}C`,backward:(e=1)=>`${U}${e}D`,nextLine:(e=1)=>`${U}E`.repeat(e),prevLine:(e=1)=>`${U}F`.repeat(e),left:`${U}G`,hide:`${U}?25l`,show:`${U}?25h`,save:"7",restore:"8"},W={up:(e=1)=>`${U}S`.repeat(e),down:(e=1)=>`${U}T`.repeat(e)},z={screen:`${U}2J`,up:(e=1)=>`${U}1J`.repeat(e),down:(e=1)=>`${U}J`.repeat(e),line:`${U}2K`,lineEnd:`${U}K`,lineStart:`${U}1K`,lines(e){let t="";for(let n=0;n<e;n++)t+=this.line+(n<e-1?H.up():"");return e&&(t+=H.left),t}};var G={cursor:H,scroll:W,erase:z,beep:""};const V=q,{erase:K,cursor:Y}=G,J=e=>[...V(e)].length,Z={arrowUp:"",arrowDown:"",arrowLeft:"",arrowRight:"",radioOn:"",radioOff:"",tick:"",cross:"",ellipsis:"",pointerSmall:"",line:"",pointer:""},X={arrowUp:Z.arrowUp,arrowDown:Z.arrowDown,arrowLeft:Z.arrowLeft,arrowRight:Z.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"",cross:"",ellipsis:"...",pointerSmall:"",line:"",pointer:">"};var Q="win32"===process.platform?X:Z;const ee=$,te=Q,ne=Object.freeze({password:{scale:1,render:e=>"*".repeat(e.length)},emoji:{scale:2,render:e=>"".repeat(e.length)},invisible:{scale:0,render:e=>""},default:{scale:1,render:e=>`${e}`}}),ie=Object.freeze({aborted:ee.red(te.cross),done:ee.green(te.tick),exited:ee.yellow(te.cross),default:ee.cyan("?")});var re={styles:ne,render:e=>ne[e]||ne.default,symbols:ie,symbol:(e,t,n)=>t?ie.aborted:n?ie.exited:e?ie.done:ie.default,delimiter:e=>ee.gray(e?te.ellipsis:te.pointerSmall),item:(e,t)=>ee.gray(e?t?te.pointerSmall:"+":te.line)};const se=q;var oe={action:(e,t)=>{if(!e.meta||"escape"===e.name){if(e.ctrl){if("a"===e.name)return"first";if("c"===e.name||"d"===e.name)return"abort";if("e"===e.name)return"last";if("g"===e.name)return"reset"}if(t){if("j"===e.name)return"down";if("k"===e.name)return"up"}return"return"===e.name||"enter"===e.name?"submit":"backspace"===e.name?"delete":"delete"===e.name?"deleteForward":"abort"===e.name?"abort":"escape"===e.name?"exit":"tab"===e.name?"next":"pagedown"===e.name?"nextPage":"pageup"===e.name?"prevPage":"home"===e.name?"home":"end"===e.name?"end":"up"===e.name?"up":"down"===e.name?"down":"right"===e.name?"right":"left"===e.name&&"left"}},clear:function(e,t){if(!t)return K.line+Y.to(0);let n=0;const i=e.split(/\r?\n/);for(let e of i)n+=1+Math.floor(Math.max(J(e)-1,0)/t);return K.lines(n)},style:re,strip:q,figures:Q,lines:function(e,t){let n=String(se(e)||"").split(/\r?\n/);return t?n.map((e=>Math.ceil(e.length/t))).reduce(((e,t)=>e+t)):n.length},wrap:(e,t={})=>{const n=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",i=t.width;return(e||"").split(/\r?\n/g).map((e=>e.split(/\s+/g).reduce(((e,t)=>(t.length+n.length>=i||e[e.length-1].length+t.length+1<i?e[e.length-1]+=` ${t}`:e.push(`${n}${t}`),e)),[n]).join("\n"))).join("\n")},entriesToDisplay:(e,t,n)=>{n=n||t;let i=Math.min(t-n,e-Math.floor(n/2));return i<0&&(i=0),{startIndex:i,endIndex:Math.min(i+n,t)}}};const ae=s,{action:ce}=oe,ue=o,{beep:le,cursor:he}=G,pe=$;var de=class extends ue{constructor(e={}){super(),this.firstRender=!0,this.in=e.stdin||process.stdin,this.out=e.stdout||process.stdout,this.onRender=(e.onRender||(()=>{})).bind(this);const t=ae.createInterface({input:this.in,escapeCodeTimeout:50});ae.emitKeypressEvents(this.in,t),this.in.isTTY&&this.in.setRawMode(!0);const n=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,i=(e,t)=>{let i=ce(t,n);!1===i?this._&&this._(e,t):"function"==typeof this[i]?this[i](t):this.bell()};this.close=()=>{this.out.write(he.show),this.in.removeListener("keypress",i),this.in.isTTY&&this.in.setRawMode(!1),t.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",i)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(le)}render(){this.onRender(pe),this.firstRender&&(this.firstRender=!1)}};const fe=$,me=de,{erase:ge,cursor:ye}=G,{style:be,clear:ve,lines:we,figures:_e}=oe;const Se=$,Ee=de,{style:xe,clear:De,figures:Ce,wrap:ke,entriesToDisplay:Re}=oe,{cursor:Ae}=G;const Te=$,Oe=de,{style:Fe,clear:Pe}=oe,{cursor:Ie,erase:Le}=G;var Ne=class e{constructor({token:e,date:t,parts:n,locales:i}){this.token=e,this.date=t||new Date,this.parts=n||[this],this.locales=i||{}}up(){}down(){}next(){const t=this.parts.indexOf(this);return this.parts.find(((n,i)=>i>t&&n instanceof e))}setTo(e){}prev(){let t=[].concat(this.parts).reverse();const n=t.indexOf(this);return t.find(((t,i)=>i>n&&t instanceof e))}toString(){return String(this.date)}};const Be=Ne;const je=Ne;const Me=Ne;const $e=Ne;const qe=Ne;const Ue=Ne;const He=Ne;const We=Ne;var ze={DatePart:Ne,Meridiem:class extends Be{constructor(e={}){super(e)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let e=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?e.toUpperCase():e}},Day:class extends je{constructor(e={}){super(e)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(e){this.date.setDate(parseInt(e.substr(-2)))}toString(){let e=this.date.getDate(),t=this.date.getDay();return"DD"===this.token?String(e).padStart(2,"0"):"Do"===this.token?e+(n=e,1==(n%=10)?"st":2===n?"nd":3===n?"rd":"th"):"d"===this.token?t+1:"ddd"===this.token?this.locales.weekdaysShort[t]:"dddd"===this.token?this.locales.weekdays[t]:e;var n}},Hours:class extends Me{constructor(e={}){super(e)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(e){this.date.setHours(parseInt(e.substr(-2)))}toString(){let e=this.date.getHours();return/h/.test(this.token)&&(e=e%12||12),this.token.length>1?String(e).padStart(2,"0"):e}},Milliseconds:class extends $e{constructor(e={}){super(e)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(e){this.date.setMilliseconds(parseInt(e.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}},Minutes:class extends qe{constructor(e={}){super(e)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(e){this.date.setMinutes(parseInt(e.substr(-2)))}toString(){let e=this.date.getMinutes();return this.token.length>1?String(e).padStart(2,"0"):e}},Month:class extends Ue{constructor(e={}){super(e)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(e){e=parseInt(e.substr(-2))-1,this.date.setMonth(e<0?0:e)}toString(){let e=this.date.getMonth(),t=this.token.length;return 2===t?String(e+1).padStart(2,"0"):3===t?this.locales.monthsShort[e]:4===t?this.locales.months[e]:String(e+1)}},Seconds:class extends He{constructor(e={}){super(e)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(e){this.date.setSeconds(parseInt(e.substr(-2)))}toString(){let e=this.date.getSeconds();return this.token.length>1?String(e).padStart(2,"0"):e}},Year:class extends We{constructor(e={}){super(e)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(e){this.date.setFullYear(e.substr(-4))}toString(){let e=String(this.date.getFullYear()).padStart(4,"0");return 2===this.token.length?e.substr(-2):e}}};const Ge=$,Ve=de,{style:Ke,clear:Ye,figures:Je}=oe,{erase:Ze,cursor:Xe}=G,{DatePart:Qe,Meridiem:et,Day:tt,Hours:nt,Milliseconds:it,Minutes:rt,Month:st,Seconds:ot,Year:at}=ze,ct=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,ut={1:({token:e})=>e.replace(/\\(.)/g,"$1"),2:e=>new tt(e),3:e=>new st(e),4:e=>new at(e),5:e=>new et(e),6:e=>new nt(e),7:e=>new rt(e),8:e=>new ot(e),9:e=>new it(e)},lt={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};const ht=$,pt=de,{cursor:dt,erase:ft}=G,{style:mt,figures:gt,clear:yt,lines:bt}=oe,vt=/[0-9]/,wt=e=>void 0!==e,_t=(e,t)=>{let n=Math.pow(10,t);return Math.round(e*n)/n};const St=$,{cursor:Et}=G,xt=de,{clear:Dt,figures:Ct,style:kt,wrap:Rt,entriesToDisplay:At}=oe;var Tt=class extends xt{constructor(e={}){super(e),this.msg=e.message,this.cursorStart=e.choices.findIndex((e=>!e.heading)),this.cursor=e.cursor||this.cursorStart,this.scrollIndex=e.cursor||0,this.hint=e.hint||"",this.warn=e.warn||"- This option is disabled -",this.minSelected=e.min,this.showMinError=!1,this.maxChoices=e.max,this.instructions=e.instructions,this.optionsPerPage=e.optionsPerPage||10,this.value=e.choices.map(((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),description:e&&e.description,value:e&&(void 0===e.value?t:e.value),selected:e&&e.selected,disabled:e&&e.disabled,heading:e&&e.heading}))),this.clear=Dt("",this.out.columns),e.overrideRender||this.render()}reset(){this.value.map((e=>!e.selected)),this.cursor=this.cursorStart,this.fire(),this.render()}selected(){return this.value.filter((e=>e.selected))}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){const e=this.value.filter((e=>e.selected));this.minSelected&&e.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.cursor=this.cursorStart,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.value[this.cursor].heading&&this.next(),this.render()}up(){this.cursor===this.cursorStart?this.cursor=this.value.length-1:(this.cursor--,this.value[this.cursor].heading&&this.up()),this.render()}down(){this.cursor===this.value.length-1?this.cursor=this.cursorStart:(this.cursor++,this.value[this.cursor].heading&&this.down()),this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const e=this.value[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}toggleAll(){if(void 0!==this.maxChoices||this.value[this.cursor].disabled)return this.bell();const e=!this.value[this.cursor].selected;this.value.filter((e=>!e.disabled&&!e.heading)).forEach((t=>t.selected=e)),this.render()}_(e,t){if(" "===e)this.handleSpaceToggle();else{if("a"!==e)return this.bell();this.toggleAll()}}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Ct.arrowUp}/${Ct.arrowDown}: Highlight option\n    ${Ct.arrowLeft}/${Ct.arrowRight}/[space]: Toggle selection\n`+(void 0===this.maxChoices?"    a: Toggle all\n":"")+"    enter/return: Complete answer":""}renderOption(e,t,n,i){const r=(e===n?" ":"  ")+(t.selected?St.green(Ct.radioOn):Ct.radioOff)+" ";let s,o;if(t.disabled)s=e===n?St.gray(t.title):St.strikethrough().gray(t.title);else{if(t.heading)return s=t.title,s+St.gray(o||"");s=t.title,e===n&&t.description&&(o=` - ${t.description}`,(r.length+s.length+o.length>=this.out.columns||t.description.split(/\r?\n/).length>1)&&(o="\n"+Rt(t.description,{margin:r.length,width:this.out.columns})))}return r+s+St.gray(o||"")}paginateOptions(e){if(0===e.length)return St.red("No matches for this query.");let t,{startIndex:n,endIndex:i}=At(this.cursor,e.length,this.optionsPerPage),r=[];for(let s=n;s<i;s++)t=s===n&&n>0?Ct.arrowUp:s===i-1&&i<e.length?Ct.arrowDown:" ",r.push(this.renderOption(this.cursor,e[s],s,t));return"\n"+r.join("\n")}renderOptions(e){return this.done?"":this.paginateOptions(e)}renderDoneOrInstructions(){if(this.done)return"";const e=[St.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&e.push(St.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Et.hide),super.render();let e=[kt.symbol(this.done,this.aborted),St.bold(this.msg),kt.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=St.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.value),this.out.write(this.clear+e),this.clear=Dt(e,this.out.columns)}};const Ot=$,Ft=de,{erase:Pt,cursor:It}=G,{style:Lt,clear:Nt,figures:Bt,wrap:jt,entriesToDisplay:Mt}=oe,$t=(e,t)=>e[t]&&(e[t].value||e[t].title||e[t]),qt=(e,t)=>e[t]&&(e[t].title||e[t].value||e[t]);const Ut=$,{cursor:Ht}=G,Wt=Tt,{clear:zt,style:Gt,figures:Vt}=oe;const Kt=$,Yt=de,{style:Jt,clear:Zt}=oe,{erase:Xt,cursor:Qt}=G;var en={TextPrompt:class extends me{constructor(e={}){super(e),this.transform=be.render(e.style),this.scale=this.transform.scale,this.msg=e.message,this.initial=e.initial||"",this.validator=e.validate||(()=>!0),this.value="",this.errorMsg=e.error||"Please Enter A Valid Value",this.cursor=+!!this.initial,this.cursorOffset=0,this.clear=ve("",this.out.columns),this.render()}set value(e){!e&&this.initial?(this.placeholder=!0,this.rendered=fe.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(e)),this._value=e,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=+!!this.initial,this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error)return this.red=!0,this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(e){this.placeholder||(this.cursor=this.cursor+e,this.cursorOffset+=e)}_(e,t){let n=this.value.slice(0,this.cursor),i=this.value.slice(this.cursor);this.value=`${n}${e}${i}`,this.red=!1,this.cursor=this.placeholder?0:n.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let e=this.value.slice(0,this.cursor-1),t=this.value.slice(this.cursor);this.value=`${e}${t}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let e=this.value.slice(0,this.cursor),t=this.value.slice(this.cursor+1);this.value=`${e}${t}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return 0===this.cursor||this.placeholder&&1===this.cursor}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(ye.down(we(this.outputError,this.out.columns)-1)+ve(this.outputError,this.out.columns)),this.out.write(ve(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[be.symbol(this.done,this.aborted),fe.bold(this.msg),be.delimiter(this.done),this.red?fe.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,t,n)=>e+`\n${n?" ":_e.pointerSmall} ${fe.red().italic(t)}`),"")),this.out.write(ge.line+ye.to(0)+this.outputText+ye.save+this.outputError+ye.restore+ye.move(this.cursorOffset,0)))}},SelectPrompt:class extends Ee{constructor(e={}){super(e),this.msg=e.message,this.hint=e.hint||"- Use arrow-keys. Return to submit.",this.warn=e.warn||"- This option is disabled",this.cursor=e.initial||0,this.choices=e.choices.map(((e,t)=>("string"==typeof e&&(e={title:e,value:t}),{title:e&&(e.title||e.value||e),value:e&&(void 0===e.value?t:e.value),description:e&&e.description,selected:e&&e.selected,disabled:e&&e.disabled}))),this.optionsPerPage=e.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=De("",this.out.columns),this.render()}moveCursor(e){this.cursor=e,this.value=this.choices[e].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){0===this.cursor?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(e,t){if(" "===e)return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(Ae.hide):this.out.write(De(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Re(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[xe.symbol(this.done,this.aborted),Se.bold(this.msg),xe.delimiter(!1),this.done?this.selection.title:this.selection.disabled?Se.yellow(this.warn):Se.gray(this.hint)].join(" "),!this.done){this.outputText+="\n";for(let n=e;n<t;n++){let i,r,s="",o=this.choices[n];r=n===e&&e>0?Ce.arrowUp:n===t-1&&t<this.choices.length?Ce.arrowDown:" ",o.disabled?(i=this.cursor===n?Se.gray().underline(o.title):Se.strikethrough().gray(o.title),r=(this.cursor===n?Se.bold().gray(Ce.pointer)+" ":"  ")+r):(i=this.cursor===n?Se.cyan().underline(o.title):o.title,r=(this.cursor===n?Se.cyan(Ce.pointer)+" ":"  ")+r,o.description&&this.cursor===n&&(s=` - ${o.description}`,(r.length+i.length+s.length>=this.out.columns||o.description.split(/\r?\n/).length>1)&&(s="\n"+ke(o.description,{margin:3,width:this.out.columns})))),this.outputText+=`${r} ${i}${Se.gray(s)}\n`}}this.out.write(this.outputText)}},TogglePrompt:class extends Oe{constructor(e={}){super(e),this.msg=e.message,this.value=!!e.initial,this.active=e.active||"on",this.inactive=e.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}deactivate(){if(!1===this.value)return this.bell();this.value=!1,this.render()}activate(){if(!0===this.value)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(e,t){if(" "===e)this.value=!this.value;else if("1"===e)this.value=!0;else{if("0"!==e)return this.bell();this.value=!1}this.render()}render(){this.closed||(this.firstRender?this.out.write(Ie.hide):this.out.write(Pe(this.outputText,this.out.columns)),super.render(),this.outputText=[Fe.symbol(this.done,this.aborted),Te.bold(this.msg),Fe.delimiter(this.done),this.value?this.inactive:Te.cyan().underline(this.inactive),Te.gray("/"),this.value?Te.cyan().underline(this.active):this.active].join(" "),this.out.write(Le.line+Ie.to(0)+this.outputText))}},DatePrompt:class extends Ve{constructor(e={}){super(e),this.msg=e.message,this.cursor=0,this.typed="",this.locales=Object.assign(lt,e.locales),this._date=e.initial||new Date,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.mask=e.mask||"YYYY-MM-DD HH:mm:ss",this.clear=Ye("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(e){e&&this._date.setTime(e.getTime())}set mask(e){let t;for(this.parts=[];t=ct.exec(e);){let e=t.shift(),n=t.findIndex((e=>null!=e));this.parts.push(n in ut?ut[n]({token:t[n]||e,date:this.date,parts:this.parts,locales:this.locales}):t[n]||e)}let n=this.parts.reduce(((e,t)=>("string"==typeof t&&"string"==typeof e[e.length-1]?e[e.length-1]+=t:e.push(t),e)),[]);this.parts.splice(0),this.parts.push(...n),this.reset()}moveCursor(e){this.typed="",this.cursor=e,this.fire()}reset(){this.moveCursor(this.parts.findIndex((e=>e instanceof Qe))),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let e=this.parts[this.cursor].prev();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}right(){let e=this.parts[this.cursor].next();if(null==e)return this.bell();this.moveCursor(this.parts.indexOf(e)),this.render()}next(){let e=this.parts[this.cursor].next();this.moveCursor(e?this.parts.indexOf(e):this.parts.findIndex((e=>e instanceof Qe))),this.render()}_(e){/\d/.test(e)&&(this.typed+=e,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(Xe.hide):this.out.write(Ye(this.outputText,this.out.columns)),super.render(),this.outputText=[Ke.symbol(this.done,this.aborted),Ge.bold(this.msg),Ke.delimiter(!1),this.parts.reduce(((e,t,n)=>e.concat(n!==this.cursor||this.done?t:Ge.cyan().underline(t.toString()))),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split("\n").reduce(((e,t,n)=>e+`\n${n?" ":Je.pointerSmall} ${Ge.red().italic(t)}`),"")),this.out.write(Ze.line+Xe.to(0)+this.outputText))}},NumberPrompt:class extends pt{constructor(e={}){super(e),this.transform=mt.render(e.style),this.msg=e.message,this.initial=wt(e.initial)?e.initial:"",this.float=!!e.float,this.round=e.round||2,this.inc=e.increment||1,this.min=wt(e.min)?e.min:-1/0,this.max=wt(e.max)?e.max:1/0,this.errorMsg=e.error||"Please Enter A Valid Value",this.validator=e.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(e){e||0===e?(this.placeholder=!1,this.rendered=this.transform.render(`${_t(e,this.round)}`),this._value=_t(e,this.round)):(this.placeholder=!0,this.rendered=ht.gray(this.transform.render(`${this.initial}`)),this._value=""),this.fire()}get value(){return this._value}parse(e){return this.float?parseFloat(e):parseInt(e)}valid(e){return"-"===e||"."===e&&this.float||vt.test(e)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let e=this.value;this.value=""!==e?e:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}async validate(){let e=await this.validator(this.value);"string"==typeof e&&(this.errorMsg=e,e=!1),this.error=!e}async submit(){if(await this.validate(),this.error)return this.color="red",this.fire(),void this.render();let e=this.value;this.value=""!==e?e:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}up(){if(this.typed="",""===this.value&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",""===this.value&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let e=this.value.toString();if(0===e.length)return this.bell();this.value=this.parse(e=e.slice(0,-1))||"",""!==this.value&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(e,t){if(!this.valid(e))return this.bell();const n=Date.now();if(n-this.lastHit>1e3&&(this.typed=""),this.typed+=e,this.lastHit=n,this.color="cyan","."===e)return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(dt.down(bt(this.outputError,this.out.columns)-1)+yt(this.outputError,this.out.columns)),this.out.write(yt(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[mt.symbol(this.done,this.aborted),ht.bold(this.msg),mt.delimiter(this.done),this.done&&(this.done||this.placeholder)?this.rendered:ht[this.color]().underline(this.rendered)].join(" "),this.error&&(this.outputError+=this.errorMsg.split("\n").reduce(((e,t,n)=>e+`\n${n?" ":gt.pointerSmall} ${ht.red().italic(t)}`),"")),this.out.write(ft.line+dt.to(0)+this.outputText+dt.save+this.outputError+dt.restore))}},MultiselectPrompt:Tt,AutocompletePrompt:class extends Ft{constructor(e={}){super(e),this.msg=e.message,this.suggest=e.suggest,this.choices=e.choices,this.initial="number"==typeof e.initial?e.initial:((e,t)=>{const n=e.findIndex((e=>e.value===t||e.title===t));return n>-1?n:void 0})(e.choices,e.initial),this.select=this.initial||e.cursor||0,this.i18n={noMatches:e.noMatches||"no matches found"},this.fallback=e.fallback||this.initial,this.clearFirst=e.clearFirst||!1,this.suggestions=[],this.input="",this.limit=e.limit||10,this.cursor=0,this.transform=Lt.render(e.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=Nt("",this.out.columns),this.complete(this.render),this.render()}set fallback(e){this._fb=Number.isSafeInteger(parseInt(e))?parseInt(e):e}get fallback(){let e;return"number"==typeof this._fb?e=this.choices[this._fb]:"string"==typeof this._fb&&(e={title:this._fb}),e||this._fb||{title:this.i18n.noMatches}}moveSelect(e){this.select=e,this.suggestions.length>0?this.value=$t(this.suggestions,e):this.value=this.fallback.value,this.fire()}async complete(e){const t=this.completing=this.suggest(this.input,this.choices),n=await t;if(this.completing!==t)return;this.suggestions=n.map(((e,t,n)=>({title:qt(n,t),value:$t(n,t),description:e.description}))),this.completing=!1;const i=Math.max(n.length-1,0);this.moveSelect(Math.min(i,this.select)),e&&e()}reset(){this.input="",this.complete((()=>{this.moveSelect(void 0!==this.initial?this.initial:0),this.render()})),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){let n=this.input.slice(0,this.cursor),i=this.input.slice(this.cursor);this.input=`${n}${e}${i}`,this.cursor=n.length+1,this.complete(this.render),this.render()}delete(){if(0===this.cursor)return this.bell();let e=this.input.slice(0,this.cursor-1),t=this.input.slice(this.cursor);this.input=`${e}${t}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let e=this.input.slice(0,this.cursor),t=this.input.slice(this.cursor+1);this.input=`${e}${t}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){0===this.select?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(e,t,n,i){let r,s=n?Bt.arrowUp:i?Bt.arrowDown:" ",o=t?Ot.cyan().underline(e.title):e.title;return s=(t?Ot.cyan(Bt.pointer)+" ":"  ")+s,e.description&&(r=` - ${e.description}`,(s.length+o.length+r.length>=this.out.columns||e.description.split(/\r?\n/).length>1)&&(r="\n"+jt(e.description,{margin:3,width:this.out.columns}))),s+" "+o+Ot.gray(r||"")}render(){if(this.closed)return;this.firstRender?this.out.write(It.hide):this.out.write(Nt(this.outputText,this.out.columns)),super.render();let{startIndex:e,endIndex:t}=Mt(this.select,this.choices.length,this.limit);if(this.outputText=[Lt.symbol(this.done,this.aborted,this.exited),Ot.bold(this.msg),Lt.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const n=this.suggestions.slice(e,t).map(((n,i)=>this.renderOption(n,this.select===i+e,0===i&&e>0,i+e===t-1&&t<this.choices.length))).join("\n");this.outputText+="\n"+(n||Ot.gray(this.fallback.title))}this.out.write(Pt.line+It.to(0)+this.outputText)}},AutocompleteMultiselectPrompt:class extends Wt{constructor(e={}){e.overrideRender=!0,super(e),this.inputValue="",this.clear=zt("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){0===this.cursor?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const e=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter((e=>!this.inputValue||!!("string"==typeof e.title&&e.title.toLowerCase().includes(this.inputValue.toLowerCase())||"string"==typeof e.value&&e.value.toLowerCase().includes(this.inputValue.toLowerCase()))));const t=this.filteredOptions.findIndex((t=>t===e));this.cursor=t<0?0:t,this.render()}handleSpaceToggle(){const e=this.filteredOptions[this.cursor];if(e.selected)e.selected=!1,this.render();else{if(e.disabled||this.value.filter((e=>e.selected)).length>=this.maxChoices)return this.bell();e.selected=!0,this.render()}}handleInputChange(e){this.inputValue=this.inputValue+e,this.updateFilteredOptions()}_(e,t){" "===e?this.handleSpaceToggle():this.handleInputChange(e)}renderInstructions(){return void 0===this.instructions||this.instructions?"string"==typeof this.instructions?this.instructions:`\nInstructions:\n    ${Vt.arrowUp}/${Vt.arrowDown}: Highlight option\n    ${Vt.arrowLeft}/${Vt.arrowRight}/[space]: Toggle selection\n    [a,b,c]/delete: Filter choices\n    enter/return: Complete answer\n`:""}renderCurrentInput(){return`\nFiltered results for: ${this.inputValue?this.inputValue:Ut.gray("Enter something to filter")}\n`}renderOption(e,t,n,i){const r=(t.selected?Ut.green(Vt.radioOn):Vt.radioOff)+" "+i+" ";let s;return s=t.disabled?e===n?Ut.gray().underline(t.title):Ut.strikethrough().gray(t.title):e===n?Ut.cyan().underline(t.title):t.title,r+s}renderDoneOrInstructions(){if(this.done)return this.value.filter((e=>e.selected)).map((e=>e.title)).join(", ");const e=[Ut.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&e.push(Ut.yellow(this.warn)),e.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(Ht.hide),super.render();let e=[Gt.symbol(this.done,this.aborted),Ut.bold(this.msg),Gt.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(e+=Ut.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),e+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+e),this.clear=zt(e,this.out.columns)}},ConfirmPrompt:class extends Yt{constructor(e={}){super(e),this.msg=e.message,this.value=e.initial,this.initialValue=!!e.initial,this.yesMsg=e.yes||"yes",this.yesOption=e.yesOption||"(Y/n)",this.noMsg=e.no||"no",this.noOption=e.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write("\n"),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write("\n"),this.close()}_(e,t){return"y"===e.toLowerCase()?(this.value=!0,this.submit()):"n"===e.toLowerCase()?(this.value=!1,this.submit()):this.bell()}render(){if(this.closed)return;this.firstRender?this.out.write(Qt.hide):this.out.write(Zt(this.outputText,this.out.columns)),super.render();const e=this.aborted||this.done&&!this.value;this.outputText=[Jt.symbol(this.done,e),Kt.bold(this.msg),Jt.delimiter(this.done),this.done?this.value&&!this.aborted?this.yesMsg:this.noMsg:Kt.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(Xt.line+Qt.to(0)+this.outputText)}}};!function(e){const t=e,n=en,i=e=>e;function r(e,t,r={}){return new Promise(((s,o)=>{const a=new n[e](t),c=r.onAbort||i,u=r.onSubmit||i,l=r.onExit||i;a.on("state",t.onState||i),a.on("submit",(e=>s(u(e)))),a.on("exit",(e=>s(l(e)))),a.on("abort",(e=>o(c(e))))}))}t.text=e=>r("TextPrompt",e),t.password=e=>(e.style="password",t.text(e)),t.invisible=e=>(e.style="invisible",t.text(e)),t.number=e=>r("NumberPrompt",e),t.date=e=>r("DatePrompt",e),t.confirm=e=>r("ConfirmPrompt",e),t.list=e=>{const t=e.separator||",";return r("TextPrompt",e,{onSubmit:e=>e.split(t).map((e=>e.trim()))})},t.toggle=e=>r("TogglePrompt",e),t.select=e=>r("SelectPrompt",e),t.multiselect=e=>{e.choices=[].concat(e.choices||[]);const t=e=>e.filter((e=>e.selected)).map((e=>e.value));return r("MultiselectPrompt",e,{onAbort:t,onSubmit:t})},t.autocompleteMultiselect=e=>{e.choices=[].concat(e.choices||[]);const t=e=>e.filter((e=>e.selected)).map((e=>e.value));return r("AutocompleteMultiselectPrompt",e,{onAbort:t,onSubmit:t})};const s=(e,t)=>Promise.resolve(t.filter((t=>t.title.slice(0,e.length).toLowerCase()===e.toLowerCase())));t.autocomplete=e=>(e.suggest=e.suggest||s,e.choices=[].concat(e.choices||[]),r("AutocompletePrompt",e))}(O);const tn=O,nn=["suggest","format","onState","validate","onRender","type"],rn=()=>{};async function sn(e=[],{onSubmit:t=rn,onCancel:n=rn}={}){const i={},r=sn._override||{};let s,o,a,c,u,l;e=[].concat(e);const h=async(e,t,n=!1)=>{if(n||!e.validate||!0===e.validate(t))return e.format?await e.format(t,i):t};for(o of e)if(({name:c,type:u}=o),"function"==typeof u&&(u=await u(s,{...i},o),o.type=u),u){for(let e in o){if(nn.includes(e))continue;let t=o[e];o[e]="function"==typeof t?await t(s,{...i},l):t}if(l=o,"string"!=typeof o.message)throw new Error("prompt message is required");if(({name:c,type:u}=o),void 0===tn[u])throw new Error(`prompt type (${u}) is not defined`);if(void 0!==r[o.name]&&(s=await h(o,r[o.name]),void 0!==s)){i[c]=s;continue}try{s=sn._injected?on(sn._injected,o.initial):await tn[u](o),i[c]=s=await h(o,s,!0),a=await t(o,s,i)}catch{a=!await n(o,i)}if(a)return i}return i}function on(e,t){const n=e.shift();if(n instanceof Error)throw n;return void 0===n?t:n}var an=Object.assign(sn,{prompt:sn,prompts:tn,inject:function(e){sn._injected=(sn._injected||[]).concat(e)},override:function(e){sn._override=Object.assign({},e)}});const cn=T(an);var un,ln,hn,pn,dn,fn={exports:{}};dn="win32"===process.platform||A.TESTING_WINDOWS?function(){if(ln)return un;ln=1,un=n,n.sync=function(n,i){return t(e.statSync(n),n,i)};var e=c;function t(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n||-1!==(n=n.split(";")).indexOf(""))return!0;for(var i=0;i<n.length;i++){var r=n[i].toLowerCase();if(r&&e.substr(-r.length).toLowerCase()===r)return!0}return!1}(t,n)}function n(n,i,r){e.stat(n,(function(e,s){r(e,!e&&t(s,n,i))}))}return un}():function(){if(pn)return hn;pn=1,hn=t,t.sync=function(t,i){return n(e.statSync(t),i)};var e=c;function t(t,i,r){e.stat(t,(function(e,t){r(e,!e&&n(t,i))}))}function n(e,t){return e.isFile()&&function(e,t){var n=e.mode,i=e.uid,r=e.gid,s=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&r===o||n&a&&i===s||n&(a|c)&&0===s}(e,t)}return hn}();var mn=gn;function gn(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,i){gn(e,t||{},(function(e,t){e?i(e):n(t)}))}))}dn(e,t||{},(function(e,i){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,i=!1),n(e,i)}))}gn.sync=function(e,t){try{return dn.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const yn="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,bn=r,vn=yn?";":":",wn=mn,_n=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Sn=(e,t)=>{const n=t.colon||vn,i=e.match(/\//)||yn&&e.match(/\\/)?[""]:[...yn?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],r=yn?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=yn?r.split(n):[""];return yn&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:i,pathExt:s,pathExtExe:r}},En=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:i,pathExt:r,pathExtExe:s}=Sn(e,t),o=[],a=n=>new Promise(((r,s)=>{if(n===i.length)return t.all&&o.length?r(o):s(_n(e));const a=i[n],u=/^".*"$/.test(a)?a.slice(1,-1):a,l=bn.join(u,e),h=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;r(c(h,n,0))})),c=(e,n,i)=>new Promise(((u,l)=>{if(i===r.length)return u(a(n+1));const h=r[i];wn(e+h,{pathExt:s},((r,s)=>{if(!r&&s){if(!t.all)return u(e+h);o.push(e+h)}return u(c(e,n,i+1))}))}));return n?a(0).then((e=>n(null,e)),n):a(0)};var xn=En;En.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:i,pathExtExe:r}=Sn(e,t),s=[];for(let o=0;o<n.length;o++){const a=n[o],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=bn.join(c,e),l=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<i.length;e++){const n=l+i[e];try{if(wn.sync(n,{pathExt:r})){if(!t.all)return n;s.push(n)}}catch{}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw _n(e)};var Dn={exports:{}};const Cn=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};Dn.exports=Cn,Dn.exports.default=Cn;var kn=Dn.exports;const Rn=r,An=xn,Tn=kn;function On(e,t){const n=e.options.env||process.env,i=process.cwd(),r=null!=e.options.cwd,s=r&&void 0!==process.chdir&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch{}let o;try{o=An.sync(e.command,{path:n[Tn({env:n})],pathExt:t?Rn.delimiter:void 0})}catch{}finally{s&&process.chdir(i)}return o&&(o=Rn.resolve(r?e.options.cwd:"",o)),o}var Fn={};const Pn=/([()\][%!^"`<>&|;, *?])/g;Fn.command=function(e){return e.replace(Pn,"^$1")},Fn.argument=function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(Pn,"^$1"),t&&(e=e.replace(Pn,"^$1")),e};const In=/^#!(.*)/,Ln=c;const Nn=r,Bn=function(e){return On(e)||On(e,!0)},jn=Fn,Mn=function(e){const t=Buffer.alloc(150);let n;try{n=Ln.openSync(e,"r"),Ln.readSync(n,t,0,150,0),Ln.closeSync(n)}catch{}return((e="")=>{const t=e.match(In);if(!t)return null;const[n,i]=t[0].replace(/#! ?/,"").split(" "),r=n.split("/").pop();return"env"===r?i:i?`${r} ${i}`:r})(t.toString())},$n="win32"===process.platform,qn=/\.(?:com|exe)$/i,Un=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;const Hn="win32"===process.platform;function Wn(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function zn(e,t){return Hn&&1===e&&!t.file?Wn(t.original,"spawn"):null}var Gn={hookChildProcess:function(e,t){if(!Hn)return;const n=e.emit;e.emit=function(i,r){if("exit"===i){const i=zn(r,t);if(i)return n.call(e,"error",i)}return n.apply(e,arguments)}},verifyENOENT:zn,verifyENOENTSync:function(e,t){return Hn&&1===e&&!t.file?Wn(t.original,"spawnSync"):null},notFoundError:Wn};const Vn=a,Kn=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const i={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?i:function(e){if(!$n)return e;const t=function(e){e.file=Bn(e);const t=e.file&&Mn(e.file);return t?(e.args.unshift(e.file),e.command=t,Bn(e)):e.file}(e),n=!qn.test(t);if(e.options.forceShell||n){const n=Un.test(t);e.command=Nn.normalize(e.command),e.command=jn.command(e.command),e.args=e.args.map((e=>jn.argument(e,n)));const i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(i)},Yn=Gn;function Jn(e,t,n){const i=Kn(e,t,n),r=Vn.spawn(i.command,i.args,i.options);return Yn.hookChildProcess(r,i),r}fn.exports=Jn,fn.exports.spawn=Jn,fn.exports.sync=function(e,t,n){const i=Kn(e,t,n),r=Vn.spawnSync(i.command,i.args,i.options);return r.error=r.error||Yn.verifyENOENTSync(r.status,i),r},fn.exports._parse=Kn,fn.exports._enoent=Yn;const Zn=fn.exports;const Xn=T(((e,t,n={},i={})=>{void 0===n.rejectOnError&&(n.rejectOnError=!0);let r="",s="";const o=Zn(e,t,i);return new Promise(((e,t)=>{void 0!==n.stdin&&null!=n.stdin&&o.stdin.write(n.stdin),o.stdin.end(),o.stdout.on("data",(e=>{r+=e,n.stdout&&n.stdout(e)})),o.stderr.on("data",(e=>{s+=e,n.stderr&&n.stderr(e)})),n.rejectOnError&&o.addListener("error",t),o.on("close",(i=>{0!==i&&n.rejectOnError?t(s):e({stdout:r,stderr:s})}))}))}));let Qn=[],ei=0;const ti=(e,t)=>{ei>=t&&Qn.push(e)};ti.WARN=1,ti.INFO=2,ti.DEBUG=3,ti.reset=()=>{Qn=[]},ti.setDebugLevel=e=>{ei=e},ti.warn=e=>ti(e,ti.WARN),ti.info=e=>ti(e,ti.INFO),ti.debug=e=>ti(e,ti.DEBUG),ti.debugMessages=()=>Qn;var ni=ti,ii={exports:{}};var ri={exports:{}};const si=e=>!Number.isNaN(e)&&e>=4352&&(e<=4447||9001===e||9002===e||11904<=e&&e<=12871&&12351!==e||12880<=e&&e<=19903||19968<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510||110592<=e&&e<=110593||127488<=e&&e<=127569||131072<=e&&e<=262141);ri.exports=si,ri.exports.default=si;var oi=ri.exports;const ai=e=>"string"==typeof e?e.replace((({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")})(),""):e,ci=oi,ui=e=>{if("string"!=typeof e||0===e.length||0===(e=ai(e)).length)return 0;e=e.replace(/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g,"  ");let t=0;for(let n=0;n<e.length;n++){const i=e.codePointAt(n);i<=31||i>=127&&i<=159||i>=768&&i<=879||(i>65535&&n++,t+=ci(i)?2:1)}return t};ii.exports=ui,ii.exports.default=ui;const li=ii.exports;function hi(e){return e?/\u001b\[((?:\d*;){0,5}\d*)m/g:/\u001b\[(?:\d*;){0,5}\d*m/g}function pi(e){let t=hi();return(""+e).replace(t,"").split("\n").reduce((function(e,t){return li(t)>e?li(t):e}),0)}function di(e,t){return Array(t+1).join(e)}let fi={};function mi(e,t,n){n="["+n+"m",fi[t="["+t+"m"]={set:e,to:!0},fi[n]={set:e,to:!1},fi[e]={on:t,off:n}}function gi(e,t){let n=t[1]?parseInt(t[1].split(";")[0]):0;if(n>=30&&n<=39||n>=90&&n<=97)return void(e.lastForegroundAdded=t[0]);if(n>=40&&n<=49||n>=100&&n<=107)return void(e.lastBackgroundAdded=t[0]);if(0===n){for(let t in e)Object.prototype.hasOwnProperty.call(e,t)&&delete e[t];return}let i=fi[t[0]];i&&(e[i.set]=i.to)}function yi(e){let t=hi(!0),n=t.exec(e),i={};for(;null!==n;)gi(i,n),n=t.exec(e);return i}function bi(e,t){let n=e.lastBackgroundAdded,i=e.lastForegroundAdded;return delete e.lastBackgroundAdded,delete e.lastForegroundAdded,Object.keys(e).forEach((function(n){e[n]&&(t+=fi[n].off)})),n&&"[49m"!=n&&(t+="[49m"),i&&"[39m"!=i&&(t+="[39m"),t}function vi(e,t){let n=e.lastBackgroundAdded,i=e.lastForegroundAdded;return delete e.lastBackgroundAdded,delete e.lastForegroundAdded,Object.keys(e).forEach((function(n){e[n]&&(t=fi[n].on+t)})),n&&"[49m"!=n&&(t=n+t),i&&"[39m"!=i&&(t=i+t),t}function wi(e,t){if(e.length===pi(e))return e.substr(0,t);for(;pi(e)>t;)e=e.slice(0,-1);return e}function _i(e,t){let n,i=[],r=t.split(/(\s+)/g),s=[],o=0;for(let t=0;t<r.length;t+=2){let a=r[t],c=o+pi(a);o>0&&n&&(c+=n.length),c>e?(0!==o&&i.push(s.join("")),s=[a],o=pi(a)):(s.push(n||"",a),o=c),n=r[t+1]}return o&&i.push(s.join("")),i}function Si(e,t){let n=[],i="";function r(t,r){for(i.length&&r&&(i+=r),i+=t;i.length>e;)n.push(i.slice(0,e)),i=i.slice(e)}let s=t.split(/(\s+)/g);for(let e=0;e<s.length;e+=2)r(s[e],e&&s[e-1]);return i.length&&n.push(i),n}mi("bold",1,22),mi("italics",3,23),mi("underline",4,24),mi("inverse",7,27),mi("strikethrough",9,29);var Ei,xi,Di,Ci,ki,Ri={strlen:pi,repeat:di,pad:function(e,t,n,i){let r=pi(e);if(t+1>=r){let s=t-r;switch(i){case"right":e=di(n,s)+e;break;case"center":{let t=Math.ceil(s/2);e=di(n,s-t)+e+di(n,t);break}default:e+=di(n,s)}}return e},truncate:function(e,t,n){if(n=n||"",pi(e)<=t)return e;let i=function(e,t){let n,i=hi(!0),r=e.split(hi()),s=0,o=0,a="",c={};for(;o<t;){n=i.exec(e);let u=r[s];if(s++,o+pi(u)>t&&(u=wi(u,t-o)),a+=u,o+=pi(u),o<t){if(!n)break;a+=n[0],gi(c,n)}}return bi(c,a)}(e,t-=pi(n));i+=n;const r="]8;;";return e.includes(r)&&!i.includes(r)&&(i+=r),i},mergeOptions:function(e,t){e=e||{},t=t||{chars:{top:"","top-mid":"","top-left":"","top-right":"",bottom:"","bottom-mid":"","bottom-left":"","bottom-right":"",left:"","left-mid":"",mid:"","mid-mid":"",right:"","right-mid":"",middle:""},truncate:"",colWidths:[],rowHeights:[],colAligns:[],rowAligns:[],style:{"padding-left":1,"padding-right":1,head:["red"],border:["grey"],compact:!1},head:[]};let n=Object.assign({},t,e);return n.chars=Object.assign({},t.chars,e.chars),n.style=Object.assign({},t.style,e.style),n},wordWrap:function(e,t,n=!0){let i=[];t=t.split("\n");const r=n?_i:Si;for(let n=0;n<t.length;n++)i.push.apply(i,r(e,t[n]));return i},colorizeLines:function(e){let t={},n=[];for(let i=0;i<e.length;i++){let r=vi(t,e[i]);t=yi(r);let s=Object.assign({},t);n.push(bi(s,r))}return n},hyperlink:function(e,t){const n="]",i="",r=";";return[n,"8",r,r,e||t,i,t,n,"8",r,r,i].join("")}},Ai={exports:{}},Ti={exports:{}},Oi={exports:{}},Fi={exports:{}},Pi={exports:{}};var Ii,Li,Ni,Bi,ji,Mi,$i,qi,Ui={exports:{}},Hi={exports:{}},Wi={exports:{}},zi={exports:{}},Gi={exports:{}},Vi={exports:{}};function Ki(){return $i||($i=1,function(e){var t={};e.exports=t,t.themes={};var n=l,i=t.styles=(Ei||(Ei=1,function(e){var t={};e.exports=t;var n={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(n).forEach((function(e){var i=n[e],r=t[e]=[];r.open="["+i[0]+"m",r.close="["+i[1]+"m"}))}(Pi)),Pi.exports),r=Object.defineProperties,s=new RegExp(/[\r\n]+/g);t.supportsColor=function(){if(ki)return Ci;ki=1;var e=u,t=(Di||(Di=1,xi=function(e,t){var n=(t=t||process.argv).indexOf("--"),i=/^-{1,2}/.test(e)?"":"--",r=t.indexOf(i+e);return-1!==r&&(-1===n||r<n)}),xi),n=process.env,i=void 0;function r(r){var s=function(r){if(!1===i)return 0;if(t("color=16m")||t("color=full")||t("color=truecolor"))return 3;if(t("color=256"))return 2;if(r&&!r.isTTY&&!0!==i)return 0;var s=i?1:0;if("win32"===process.platform){var o=e.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(o[0])>=10&&Number(o[2])>=10586?Number(o[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((function(e){return e in n}))||"codeship"===n.CI_NAME?1:s;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in n){var a=parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:(n.TERM,s)}(r);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(s)}return t("no-color")||t("no-colors")||t("color=false")?i=!1:(t("color")||t("colors")||t("color=true")||t("color=always"))&&(i=!0),"FORCE_COLOR"in n&&(i=0===n.FORCE_COLOR.length||0!==parseInt(n.FORCE_COLOR,10)),Ci={supportsColor:r,stdout:r(process.stdout),stderr:r(process.stderr)}}().supportsColor,typeof t.enabled>"u"&&(t.enabled=!1!==t.supportsColor()),t.enable=function(){t.enabled=!0},t.disable=function(){t.enabled=!1},t.stripColors=t.strip=function(e){return(""+e).replace(/\x1B\[\d+m/g,"")},t.stylize=function(e,n){if(!t.enabled)return e+"";var r=i[n];return!r&&n in t?t[n](e):r.open+e+r.close};var o=/[|\\{}()[\]^$+*?.]/g;function a(e){var t=function e(){return d.apply(e,arguments)};return t._styles=e,t.__proto__=p,t}var c,h=(c={},i.grey=i.gray,Object.keys(i).forEach((function(e){i[e].closeRe=new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(o,"\\$&")}(i[e].close),"g"),c[e]={get:function(){return a(this._styles.concat(e))}}})),c),p=r((function(){}),h);function d(){var e=Array.prototype.slice.call(arguments).map((function(e){return null!=e&&e.constructor===String?e:n.inspect(e)})).join(" ");if(!t.enabled||!e)return e;for(var r=-1!=e.indexOf("\n"),o=this._styles,a=o.length;a--;){var c=i[o[a]];e=c.open+e.replace(c.closeRe,c.open)+c.close,r&&(e=e.replace(s,(function(e){return c.close+e+c.open})))}return e}t.setTheme=function(e){if("string"!=typeof e)for(var n in e)!function(n){t[n]=function(i){if("object"==typeof e[n]){var r=i;for(var s in e[n])r=t[e[n][s]](r);return r}return t[e[n]](i)}}(n);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var f=function(e,t){var n=t.split("");return(n=n.map(e)).join("")};for(var m in t.trap=(Ii||(Ii=1,Ui.exports=function(e,t){var n="";e=(e=e||"Run the trap, drop the bass").split("");var i={a:["@","","","","","",""],b:["","","","","",""],c:["","",""],d:["","","","","",""],e:["","","","","","","",""],f:[""],g:[""],h:["","","","","",""],i:[""],j:[""],k:["","","",""],l:[""],m:["","","","","",""],n:["","","","","",""],o:["","","","","","","","",""],p:["",""],q:[""],r:["","","","","",""],s:["","","",""],t:["","",""],u:["",""],v:[""],w:["","","",""],x:["","","",""],y:["","",""],z:["",""]};return e.forEach((function(e){e=e.toLowerCase();var t=i[e]||[" "],r=Math.floor(Math.random()*t.length);n+=typeof i[e]<"u"?i[e][r]:e})),n}),Ui.exports),t.zalgo=(Li||(Li=1,Hi.exports=function(e,t){e=e||"   he is here   ";var n={up:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],down:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],mid:["","","","","","","","","","","","","","","","","","","","",""," "]},i=[].concat(n.up,n.down,n.mid);function r(e){return Math.floor(Math.random()*e)}function s(e){var t=!1;return i.filter((function(n){t=n===e})),t}return function(e,t){var i,o,a="";for(o in(t=t||{}).up=!(typeof t.up<"u")||t.up,t.mid=!(typeof t.mid<"u")||t.mid,t.down=!(typeof t.down<"u")||t.down,t.size=typeof t.size<"u"?t.size:"maxi",e=e.split(""))if(!s(o)){switch(a+=e[o],i={up:0,down:0,mid:0},t.size){case"mini":i.up=r(8),i.mid=r(2),i.down=r(8);break;case"maxi":i.up=r(16)+3,i.mid=r(4)+1,i.down=r(64)+3;break;default:i.up=r(8)+1,i.mid=r(6)/2,i.down=r(8)+1}var c=["up","mid","down"];for(var u in c)for(var l=c[u],h=0;h<=i[l];h++)t[l]&&(a+=n[l][r(n[l].length)])}return a}(e,t)}),Hi.exports),t.maps={},t.maps.america=(Ni||(Ni=1,Wi.exports=function(e){return function(t,n,i){if(" "===t)return t;switch(n%3){case 0:return e.red(t);case 1:return e.white(t);case 2:return e.blue(t)}}}),Wi.exports)(t),t.maps.zebra=(Bi||(Bi=1,zi.exports=function(e){return function(t,n,i){return n%2==0?t:e.inverse(t)}}),zi.exports)(t),t.maps.rainbow=(ji||(ji=1,Gi.exports=function(e){var t=["red","yellow","green","blue","magenta"];return function(n,i,r){return" "===n?n:e[t[i++%t.length]](n)}}),Gi.exports)(t),t.maps.random=(Mi||(Mi=1,Vi.exports=function(e){var t=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,i,r){return" "===n?n:e[t[Math.round(Math.random()*(t.length-2))]](n)}}),Vi.exports)(t),t.maps)!function(e){t[e]=function(n){return f(t.maps[e],n)}}(m);r(t,function(){var e={};return Object.keys(h).forEach((function(t){e[t]={get:function(){return a([t])}}})),e}())}(Fi)),Fi.exports}const{info:Yi,debug:Ji}=ni,Zi=Ri;let Xi=class{constructor(){}draw(e){return"number"==typeof e&&Ji(`${this.y}-${this.x}: 1x1 ColSpanCell`),""}init(){}mergeTableOptions(){}},Qi=class{constructor(e){this.originalCell=e}init(e){let t=this.y,n=this.originalCell.y;this.cellOffset=t-n,this.offset=function(e,t,n){let i=e[t];for(let r=1;r<n;r++)i+=1+e[t+r];return i}(e.rowHeights,n,this.cellOffset)}draw(e){return"top"==e?this.originalCell.draw(this.offset,this.cellOffset):"bottom"==e?this.originalCell.draw("bottom"):(Ji(`${this.y}-${this.x}: 1x${this.colSpan} RowSpanCell for ${this.originalCell.content}`),this.originalCell.draw(this.offset+1+e))}mergeTableOptions(){}};function er(...e){return e.filter((e=>null!=e)).shift()}function tr(e,t,n,i){let r=n.split("-");r.length>1?(r[1]=r[1].charAt(0).toUpperCase()+r[1].substr(1),r=r.join(""),i[r]=er(e[r],e[n],t[r],t[n])):i[n]=er(e[n],t[n])}function nr(e,t){return e+t+1}let ir=["top","top-mid","top-left","top-right","bottom","bottom-mid","bottom-left","bottom-right","left","left-mid","mid","mid-mid","right","right-mid","middle"];Ti.exports=class e{constructor(e){this.setOptions(e),this.x=null,this.y=null}setOptions(e){-1!==["boolean","number","bigint","string"].indexOf(typeof e)&&(e={content:""+e}),e=e||{},this.options=e;let t=e.content;if(-1!==["boolean","number","bigint","string"].indexOf(typeof t))this.content=String(t);else{if(t)throw new Error("Content needs to be a primitive, got: "+typeof t);this.content=this.options.href||""}this.colSpan=e.colSpan||1,this.rowSpan=e.rowSpan||1,this.options.href&&Object.defineProperty(this,"href",{get(){return this.options.href}})}mergeTableOptions(e,t){this.cells=t;let n=this.options.chars||{},i=e.chars,r=this.chars={};ir.forEach((function(e){tr(n,i,e,r)})),this.truncate=this.options.truncate||e.truncate;let s=this.options.style=this.options.style||{},o=e.style;tr(s,o,"padding-left",this),tr(s,o,"padding-right",this),this.head=s.head||o.head,this.border=s.border||o.border,this.fixedWidth=e.colWidths[this.x],this.lines=this.computeLines(e),this.desiredWidth=Zi.strlen(this.content)+this.paddingLeft+this.paddingRight,this.desiredHeight=this.lines.length}computeLines(e){const t=e.wordWrap||e.textWrap,{wordWrap:n=t}=this.options;if(this.fixedWidth&&n){if(this.fixedWidth-=this.paddingLeft+this.paddingRight,this.colSpan){let t=1;for(;t<this.colSpan;)this.fixedWidth+=e.colWidths[this.x+t],t++}const{wrapOnWordBoundary:t=!0}=e,{wrapOnWordBoundary:n=t}=this.options;return this.wrapLines(Zi.wordWrap(this.fixedWidth,this.content,n))}return this.wrapLines(this.content.split("\n"))}wrapLines(e){const t=Zi.colorizeLines(e);return this.href?t.map((e=>Zi.hyperlink(this.href,e))):t}init(e){let t=this.x,n=this.y;this.widths=e.colWidths.slice(t,t+this.colSpan),this.heights=e.rowHeights.slice(n,n+this.rowSpan),this.width=this.widths.reduce(nr,-1),this.height=this.heights.reduce(nr,-1),this.hAlign=this.options.hAlign||e.colAligns[t],this.vAlign=this.options.vAlign||e.rowAligns[n],this.drawRight=t+this.colSpan==e.colWidths.length}draw(e,t){if("top"==e)return this.drawTop(this.drawRight);if("bottom"==e)return this.drawBottom(this.drawRight);let n=Zi.truncate(this.content,10,this.truncate);e||Yi(`${this.y}-${this.x}: ${this.rowSpan-e}x${this.colSpan} Cell ${n}`);let i,r=Math.max(this.height-this.lines.length,0);switch(this.vAlign){case"center":i=Math.ceil(r/2);break;case"bottom":i=r;break;default:i=0}if(e<i||e>=i+this.lines.length)return this.drawEmpty(this.drawRight,t);let s=this.lines.length>this.height&&e+1>=this.height;return this.drawLine(e-i,this.drawRight,s,t)}drawTop(e){let t=[];return this.cells?this.widths.forEach((function(e,n){t.push(this._topLeftChar(n)),t.push(Zi.repeat(this.chars[0==this.y?"top":"mid"],e))}),this):(t.push(this._topLeftChar(0)),t.push(Zi.repeat(this.chars[0==this.y?"top":"mid"],this.width))),e&&t.push(this.chars[0==this.y?"topRight":"rightMid"]),this.wrapWithStyleColors("border",t.join(""))}_topLeftChar(t){let n,i=this.x+t;if(0==this.y)n=0==i?"topLeft":0==t?"topMid":"top";else if(0==i)n="leftMid";else if(n=0==t?"midMid":"bottomMid",this.cells&&(this.cells[this.y-1][i]instanceof e.ColSpanCell&&(n=0==t?"topMid":"mid"),0==t)){let t=1;for(;this.cells[this.y][i-t]instanceof e.ColSpanCell;)t++;this.cells[this.y][i-t]instanceof e.RowSpanCell&&(n="leftMid")}return this.chars[n]}wrapWithStyleColors(e,t){if(!this[e]||!this[e].length)return t;try{let n=function(){return qi||(qi=1,e=Oi,t=Ki(),e.exports=t),Oi.exports;var e,t}();for(let t=this[e].length-1;t>=0;t--)n=n[this[e][t]];return n(t)}catch{return t}}drawLine(e,t,n,i){let r=this.chars[0==this.x?"left":"middle"];if(this.x&&i&&this.cells){let e=this.cells[this.y+i][this.x-1];for(;e instanceof Xi;)e=this.cells[e.y][e.x-1];e instanceof Qi||(r=this.chars.rightMid)}let s=Zi.repeat(" ",this.paddingLeft),o=t?this.chars.right:"",a=Zi.repeat(" ",this.paddingRight),c=this.lines[e],u=this.width-(this.paddingLeft+this.paddingRight);n&&(c+=this.truncate||"");let l=Zi.truncate(c,u,this.truncate);return l=Zi.pad(l,u," ",this.hAlign),l=s+l+a,this.stylizeLine(r,l,o)}stylizeLine(e,t,n){return e=this.wrapWithStyleColors("border",e),n=this.wrapWithStyleColors("border",n),0===this.y&&(t=this.wrapWithStyleColors("head",t)),e+t+n}drawBottom(e){let t=this.chars[0==this.x?"bottomLeft":"bottomMid"],n=Zi.repeat(this.chars.bottom,this.width),i=e?this.chars.bottomRight:"";return this.wrapWithStyleColors("border",t+n+i)}drawEmpty(e,t){let n=this.chars[0==this.x?"left":"middle"];if(this.x&&t&&this.cells){let e=this.cells[this.y+t][this.x-1];for(;e instanceof Xi;)e=this.cells[e.y][e.x-1];e instanceof Qi||(n=this.chars.rightMid)}let i=e?this.chars.right:"",r=Zi.repeat(" ",this.width);return this.stylizeLine(n,r,i)}},Ti.exports.ColSpanCell=Xi,Ti.exports.RowSpanCell=Qi;var rr=Ti.exports;const{warn:sr,debug:or}=ni,ar=rr,{ColSpanCell:cr,RowSpanCell:ur}=ar;function lr(e,t,n,i){return function(r,s){let o=[],a=[],c={};s.forEach((function(r){r.forEach((function(r){(r[e]||1)>1?a.push(r):o[r[n]]=Math.max(o[r[n]]||0,r[t]||0,i)}))})),r.forEach((function(e,t){"number"==typeof e&&(o[t]=e)}));for(let i=a.length-1;i>=0;i--){let s=a[i],u=s[e],l=s[n],h=o[l],p="number"==typeof r[l]?0:1;if("number"==typeof h)for(let e=1;e<u;e++)h+=1+o[l+e],"number"!=typeof r[l+e]&&p++;else h="desiredWidth"===t?s.desiredWidth-1:1,(!c[l]||c[l]<h)&&(c[l]=h);if(s[t]>h){let e=0;for(;p>0&&s[t]>h;){if("number"!=typeof r[l+e]){let n=Math.round((s[t]-h)/p);h+=n,o[l+e]+=n,p--}e++}}}Object.assign(r,o,c);for(let e=0;e<r.length;e++)r[e]=Math.max(i,r[e]||0)}}!function(){function e(t,n){return t[n]>0?e(t,n+1):n}function t(t){let n={};t.forEach((function(t,i){let r=0;t.forEach((function(t){t.y=i,t.x=i?e(n,r):r;const s=t.rowSpan||1,o=t.colSpan||1;if(s>1)for(let e=0;e<o;e++)n[t.x+e]=s;r=t.x+o})),Object.keys(n).forEach((e=>{n[e]--,n[e]<1&&delete n[e]}))}))}function n(e){let t=0;return e.forEach((function(e){e.forEach((function(e){t=Math.max(t,e.x+(e.colSpan||1))}))})),t}function i(e,t){let n=e.y,i=e.y-1+(e.rowSpan||1),r=t.y,s=!(n>t.y-1+(t.rowSpan||1)||r>i),o=e.x,a=e.x-1+(e.colSpan||1),c=t.x,u=t.x-1+(t.colSpan||1);return s&&!(o>u||c>a)}function r(e,t,n){let r=Math.min(e.length-1,n),s={x:t,y:n};for(let t=0;t<=r;t++){let n=e[t];for(let e=0;e<n.length;e++)if(i(s,n[e]))return!0}return!1}function s(e,t,n,i){for(let s=n;s<i;s++)if(r(e,s,t))return!1;return!0}function o(e){e.forEach((function(t,n){t.forEach((function(t){for(let i=1;i<t.rowSpan;i++){let r=new ur(t);r.x=t.x,r.y=t.y+i,r.colSpan=t.colSpan,a(r,e[n+i])}}))}))}function a(e,t){let n=0;for(;n<t.length&&t[n].x<e.x;)n++;t.splice(n,0,e)}function c(e){let t=function(e){return e.length}(e),i=n(e);or(`Max rows: ${t}; Max cols: ${i}`);for(let n=0;n<t;n++)for(let o=0;o<i;o++)if(!r(e,o,n)){let c={x:o,y:n,colSpan:1,rowSpan:1};for(o++;o<i&&!r(e,o,n);)c.colSpan++,o++;let u=n+1;for(;u<t&&s(e,u,c.x,c.x+c.colSpan);)c.rowSpan++,u++;let l=new ar(c);l.x=c.x,l.y=c.y,sr(`Missing cell at ${l.y}-${l.x}.`),a(l,e[n])}}Ai.exports={makeTableLayout:function(e){let n=function(e){return e.map((function(e){if(!Array.isArray(e)){let t=Object.keys(e)[0];e=e[t],Array.isArray(e)?(e=e.slice()).unshift(t):e=[t,e]}return e.map((function(e){return new ar(e)}))}))}(e);return t(n),c(n),o(n),function(e){for(let t=e.length-1;t>=0;t--){let n=e[t];for(let e=0;e<n.length;e++){let t=n[e];for(let i=1;i<t.colSpan;i++){let r=new cr;r.x=t.x+i,r.y=t.y,n.splice(e+1,0,r)}}}}(n),n},layoutTable:t,addRowSpanCells:o,maxWidth:n,fillInTable:c,computeWidths:lr("colSpan","desiredWidth","x",1),computeHeights:lr("rowSpan","desiredHeight","y",1)}}();var hr=Ai.exports;const pr=ni,dr=Ri,fr=hr;let mr=class extends Array{constructor(e){super();const t=dr.mergeOptions(e);if(Object.defineProperty(this,"options",{value:t,enumerable:t.debug}),t.debug){switch(typeof t.debug){case"boolean":pr.setDebugLevel(pr.WARN);break;case"number":pr.setDebugLevel(t.debug);break;case"string":pr.setDebugLevel(parseInt(t.debug,10));break;default:pr.setDebugLevel(pr.WARN),pr.warn("Debug option is expected to be boolean, number, or string. Received a "+typeof t.debug)}Object.defineProperty(this,"messages",{get:()=>pr.debugMessages()})}}toString(){let e=this,t=this.options.head&&this.options.head.length;t?(e=[this.options.head],this.length&&e.push.apply(e,this)):this.options.style.head=[];let n=fr.makeTableLayout(e);n.forEach((function(e){e.forEach((function(e){e.mergeTableOptions(this.options,n)}),this)}),this),fr.computeWidths(this.options.colWidths,n),fr.computeHeights(this.options.rowHeights,n),n.forEach((function(e){e.forEach((function(e){e.init(this.options)}),this)}),this);let i=[];for(let e=0;e<n.length;e++){let r=n[e],s=this.options.rowHeights[e];(0===e||!this.options.style.compact||1==e&&t)&&gr(r,"top",i);for(let e=0;e<s;e++)gr(r,e,i);e+1==n.length&&gr(r,"bottom",i)}return i.join("\n")}get width(){return this.toString().split("\n")[0].length}};function gr(e,t,n){let i=[];e.forEach((function(e){i.push(e.draw(t))}));let r=i.join("");r.length&&n.push(r)}mr.reset=()=>pr.reset();const yr=T(mr);function br(e,t,n={}){const i=Array.isArray(e);return t=t||(e=>({[e]:!0})),Object.entries(e||{}).forEach((([e,r],s)=>{const o=i?t(r,s,n):t(e,r,n);Object.entries(o||{}).forEach((e=>{n[e[0]]=e[1]}))})),n}const vr={blue:!0,bold:!0,cyan:!0,gray:!0,green:!0,magenta:!0,red:!0,yellow:!0},wr=br(vr,(e=>({[e]:e=>e.toString()})));let _r;const Sr=async e=>{const t=await Promise.resolve().then((()=>n(6796))),{default:i,Chalk:r}=t;_r=!0===e?new r({level:1}):null===e?wr:i},Er=()=>{if(!_r)throw new Error("Chalk has not been imported yet. Chalk is a dynamic import and requires that you await { chalkInit } from './lib/chalk'.")},xr=br(vr,(e=>{const t=t=>(Er(),_r[e](t));return t.bold=t=>(Er(),_r[e].bold(t)),{[e]:t}})),Dr=(e,t)=>br(e,((e,n)=>t(e,n)?{[e]:n}:null)),Cr=e=>h.stat(e).then((()=>!0),(()=>!1));async function kr(e,{pkgFile:t}={}){const i=n(57422).resolve.paths(e)||[],s=[...t?[r.join(r.dirname(t),"node_modules")]:[],r.join(process.cwd(),"node_modules"),...i];for(const t of s){const n=r.join(t,e,"package.json");if(await Cr(n))try{return JSON.parse(await h.readFile(n,"utf-8"))}catch{}}return null}var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.LRUCache=void 0;const Ar="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,Tr=new Set,Or="object"==typeof process&&process?process:{},Fr=(e,t,n,i)=>{"function"==typeof Or.emitWarning?Or.emitWarning(e,t,n,i):console.error(`[${n}] ${t}: ${e}`)};let Pr=globalThis.AbortController,Ir=globalThis.AbortSignal;if(typeof Pr>"u"){Ir=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},Pr=class{constructor(){t()}signal=new Ir;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==Or.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,Fr("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const Lr=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),Nr=e=>Lr(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?Br:null:null;let Br=class extends Array{constructor(e){super(e),this.fill(0)}},jr=class e{heap;length;static#e=!1;static create(t){const n=Nr(t);if(!n)return[];e.#e=!0;const i=new e(t,n);return e.#e=!1,i}constructor(t,n){if(!e.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new n(t),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}},Mr=class e{#e;#t;#n;#i;#r;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#o;#a;#c;#u;#l;#h;#p;#d;#f;#m;#g;#y;#b;#v;#w;#_;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#b,sizes:e.#g,keyMap:e.#a,keyList:e.#c,valList:e.#u,next:e.#l,prev:e.#h,get head(){return e.#p},get tail(){return e.#d},free:e.#f,isBackgroundFetch:t=>e.#S(t),backgroundFetch:(t,n,i,r)=>e.#E(t,n,i,r),moveToTail:t=>e.#x(t),indexes:t=>e.#D(t),rindexes:t=>e.#C(t),isStale:t=>e.#k(t)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#o}get size(){return this.#s}get fetchMethod(){return this.#r}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:u,disposeAfter:l,noDisposeOnSet:h,noUpdateTTL:p,maxSize:d=0,maxEntrySize:f=0,sizeCalculation:m,fetchMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:w,ignoreFetchAbort:_}=t;if(0!==n&&!Lr(n))throw new TypeError("max option must be a nonnegative integer");const S=n?Nr(n):Array;if(!S)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=d,this.maxEntrySize=f||this.#t,this.sizeCalculation=m,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("fetchMethod must be a function if specified");if(this.#r=g,this.#w=!!g,this.#a=new Map,this.#c=new Array(n).fill(void 0),this.#u=new Array(n).fill(void 0),this.#l=new S(n),this.#h=new S(n),this.#p=0,this.#d=0,this.#f=jr.create(n),this.#s=0,this.#o=0,"function"==typeof u&&(this.#n=u),"function"==typeof l?(this.#i=l,this.#m=[]):(this.#i=void 0,this.#m=void 0),this.#v=!!this.#n,this.#_=!!this.#i,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!w,this.ignoreFetchAbort=!!_,0!==this.maxEntrySize){if(0!==this.#t&&!Lr(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!Lr(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=Lr(r)||0===r?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!Lr(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#A()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const t="LRU_CACHE_UNBOUNDED";E=t,!Tr.has(E)&&(Tr.add(t),Fr("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,e))}var E}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#A(){const e=new Br(this.#e),t=new Br(this.#e);this.#b=e,this.#y=t,this.#T=(n,i,r=Ar.now())=>{if(t[n]=0!==i?r:0,e[n]=i,0!==i&&this.ttlAutopurge){const e=setTimeout((()=>{this.#k(n)&&this.delete(this.#c[n])}),i+1);e.unref&&e.unref()}},this.#O=n=>{t[n]=0!==e[n]?Ar.now():0},this.#F=(r,s)=>{if(e[s]){const o=e[s],a=t[s];if(!o||!a)return;r.ttl=o,r.start=a,r.now=n||i();const c=r.now-a;r.remainingTTL=o-c}};let n=0;const i=()=>{const e=Ar.now();if(this.ttlResolution>0){n=e;const t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{const s=this.#a.get(r);if(void 0===s)return 0;const o=e[s],a=t[s];return o&&a?o-((n||i())-a):1/0},this.#k=r=>{const s=t[r],o=e[r];return!!o&&!!s&&(n||i())-s>o}}#O=()=>{};#F=()=>{};#T=()=>{};#k=()=>!1;#R(){const e=new Br(this.#e);this.#o=0,this.#g=e,this.#P=t=>{this.#o-=e[t],e[t]=0},this.#I=(e,t,n,i)=>{if(this.#S(t))return 0;if(!Lr(n)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(n=i(t,e),!Lr(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#L=(t,n,i)=>{if(e[t]=n,this.#t){const n=this.#t-e[t];for(;this.#o>n;)this.#N(!0)}this.#o+=e[t],i&&(i.entrySize=n,i.totalCalculatedSize=this.#o)}}#P=e=>{};#L=(e,t,n)=>{};#I=(e,t,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#D({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#d;this.#B(t)&&((e||!this.#k(t))&&(yield t),t!==this.#p);)t=this.#h[t]}*#C({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#p;this.#B(t)&&((e||!this.#k(t))&&(yield t),t!==this.#d);)t=this.#l[t]}#B(e){return void 0!==e&&this.#a.get(this.#c[e])===e}*entries(){for(const e of this.#D())void 0!==this.#u[e]&&void 0!==this.#c[e]&&!this.#S(this.#u[e])&&(yield[this.#c[e],this.#u[e]])}*rentries(){for(const e of this.#C())void 0!==this.#u[e]&&void 0!==this.#c[e]&&!this.#S(this.#u[e])&&(yield[this.#c[e],this.#u[e]])}*keys(){for(const e of this.#D()){const t=this.#c[e];void 0!==t&&!this.#S(this.#u[e])&&(yield t)}}*rkeys(){for(const e of this.#C()){const t=this.#c[e];void 0!==t&&!this.#S(this.#u[e])&&(yield t)}}*values(){for(const e of this.#D())void 0!==this.#u[e]&&!this.#S(this.#u[e])&&(yield this.#u[e])}*rvalues(){for(const e of this.#C())void 0!==this.#u[e]&&!this.#S(this.#u[e])&&(yield this.#u[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#D()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;if(void 0!==r&&e(r,this.#c[n],this))return this.get(this.#c[n],t)}}forEach(e,t=this){for(const n of this.#D()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}rforEach(e,t=this){for(const n of this.#C()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}purgeStale(){let e=!1;for(const t of this.#C({allowStale:!0}))this.#k(t)&&(this.delete(this.#c[t]),e=!0);return e}info(e){const t=this.#a.get(e);if(void 0===t)return;const n=this.#u[t],i=this.#S(n)?n.__staleWhileFetching:n;if(void 0===i)return;const r={value:i};if(this.#b&&this.#y){const e=this.#b[t],n=this.#y[t];if(e&&n){const t=e-(Ar.now()-n);r.ttl=t,r.start=Date.now()}}return this.#g&&(r.size=this.#g[t]),r}dump(){const e=[];for(const t of this.#D({allowStale:!0})){const n=this.#c[t],i=this.#u[t],r=this.#S(i)?i.__staleWhileFetching:i;if(void 0===r||void 0===n)continue;const s={value:r};if(this.#b&&this.#y){s.ttl=this.#b[t];const e=Ar.now()-this.#y[t];s.start=Math.floor(Date.now()-e)}this.#g&&(s.size=this.#g[t]),e.unshift([n,s])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=Ar.now()-e}this.set(t,n.value,n)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#I(e,t,n.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let l=0===this.#s?void 0:this.#a.get(e);if(void 0===l)l=0===this.#s?this.#d:0!==this.#f.length?this.#f.pop():this.#s===this.#e?this.#N(!1):this.#s,this.#c[l]=e,this.#u[l]=t,this.#a.set(e,l),this.#l[this.#d]=l,this.#h[l]=this.#d,this.#d=l,this.#s++,this.#L(l,u,a),a&&(a.set="add"),c=!1;else{this.#x(l);const n=this.#u[l];if(t!==n){if(this.#w&&this.#S(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0!==t&&!s&&(this.#v&&this.#n?.(t,e,"set"),this.#_&&this.#m?.push([t,e,"set"]))}else s||(this.#v&&this.#n?.(n,e,"set"),this.#_&&this.#m?.push([n,e,"set"]));if(this.#P(l),this.#L(l,u,a),this.#u[l]=t,a){a.set="replace";const e=n&&this.#S(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0!==i&&!this.#b&&this.#A(),this.#b&&(c||this.#T(l,i,r),a&&this.#F(a,l)),!s&&this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}return this}pop(){try{for(;this.#s;){const e=this.#u[this.#p];if(this.#N(!0),this.#S(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}}}#N(e){const t=this.#p,n=this.#c[t],i=this.#u[t];return this.#w&&this.#S(i)?i.__abortController.abort(new Error("evicted")):(this.#v||this.#_)&&(this.#v&&this.#n?.(i,n,"evict"),this.#_&&this.#m?.push([i,n,"evict"])),this.#P(t),e&&(this.#c[t]=void 0,this.#u[t]=void 0,this.#f.push(t)),1===this.#s?(this.#p=this.#d=0,this.#f.length=0):this.#p=this.#l[t],this.#a.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,r=this.#a.get(e);if(void 0!==r){const e=this.#u[r];if(this.#S(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#k(r))return n&&this.#O(r),i&&(i.has="hit",this.#F(i,r)),!0;i&&(i.has="stale",this.#F(i,r))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,i=this.#a.get(e);if(void 0===i||!n&&this.#k(i))return;const r=this.#u[i];return this.#S(r)?r.__staleWhileFetching:r}#E(e,t,n,i){const r=void 0===t?void 0:this.#u[t];if(this.#S(r))return r;const s=new Pr,{signal:o}=n;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:n,context:i},c=(i,r=!1)=>{const{aborted:o}=s.signal,c=n.ignoreFetchAbort&&void 0!==i;if(n.status&&(o&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,c&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),o&&!c&&!r)return u(s.signal.reason);const h=l;return this.#u[t]===l&&(void 0===i?h.__staleWhileFetching?this.#u[t]=h.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,a.options))),i},u=i=>{const{aborted:r}=s.signal,o=r&&n.allowStaleOnFetchAbort,a=o||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,u=l;if(this.#u[t]===l&&(c&&void 0!==u.__staleWhileFetching?o||(this.#u[t]=u.__staleWhileFetching):this.delete(e)),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};n.status&&(n.status.fetchDispatched=!0);const l=new Promise(((t,i)=>{const o=this.#r?.(e,r,a);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),i),s.signal.addEventListener("abort",(()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))}))})).then(c,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),u(e)))),h=Object.assign(l,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===t?(this.set(e,h,{...a.options,status:void 0}),t=this.#a.get(e)):this.#u[t]=h,h}#S(e){if(!this.#w)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof Pr}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:g,signal:y}=t;if(!this.#w)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});const b={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:g,signal:y};let v=this.#a.get(e);if(void 0===v){g&&(g.fetch="miss");const t=this.#E(e,v,b,f);return t.__returned=t}{const t=this.#u[v];if(this.#S(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const r=this.#k(v);if(!m&&!r)return g&&(g.fetch="hit"),this.#x(v),i&&this.#O(v),g&&this.#F(g,v),t;const s=this.#E(e,v,b,f),o=void 0!==s.__staleWhileFetching&&n;return g&&(g.fetch=r?"stale":"refresh",o&&r&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=t,o=this.#a.get(e);if(void 0!==o){const t=this.#u[o],a=this.#S(t);return s&&this.#F(s,o),this.#k(o)?(s&&(s.get="stale"),a?(s&&n&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),n?t.__staleWhileFetching:void 0):(r||this.delete(e),s&&n&&(s.returnedStale=!0),n?t:void 0)):(s&&(s.get="hit"),a?t.__staleWhileFetching:(this.#x(o),i&&this.#O(o),t))}s&&(s.get="miss")}#j(e,t){this.#h[t]=e,this.#l[e]=t}#x(e){e!==this.#d&&(e===this.#p?this.#p=this.#l[e]:this.#j(this.#h[e],this.#l[e]),this.#j(this.#d,e),this.#d=e)}delete(e){let t=!1;if(0!==this.#s){const n=this.#a.get(e);if(void 0!==n)if(t=!0,1===this.#s)this.clear();else{this.#P(n);const t=this.#u[n];if(this.#S(t)?t.__abortController.abort(new Error("deleted")):(this.#v||this.#_)&&(this.#v&&this.#n?.(t,e,"delete"),this.#_&&this.#m?.push([t,e,"delete"])),this.#a.delete(e),this.#c[n]=void 0,this.#u[n]=void 0,n===this.#d)this.#d=this.#h[n];else if(n===this.#p)this.#p=this.#l[n];else{const e=this.#h[n];this.#l[e]=this.#l[n];const t=this.#l[n];this.#h[t]=this.#h[n]}this.#s--,this.#f.push(n)}}if(this.#_&&this.#m?.length){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}return t}clear(){for(const e of this.#C({allowStale:!0})){const t=this.#u[e];if(this.#S(t))t.__abortController.abort(new Error("deleted"));else{const n=this.#c[e];this.#v&&this.#n?.(t,n,"delete"),this.#_&&this.#m?.push([t,n,"delete"])}}if(this.#a.clear(),this.#u.fill(void 0),this.#c.fill(void 0),this.#b&&this.#y&&(this.#b.fill(0),this.#y.fill(0)),this.#g&&this.#g.fill(0),this.#p=0,this.#d=0,this.#f.length=0,this.#o=0,this.#s=0,this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}}};Rr.LRUCache=Mr;const $r=(...e)=>e.every((e=>e))?e.join(""):"",qr=e=>e?encodeURIComponent(e):"",Ur=e=>e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-"),Hr={sshtemplate:({domain:e,user:t,project:n,committish:i})=>`git@${e}:${t}/${n}.git${$r("#",i)}`,sshurltemplate:({domain:e,user:t,project:n,committish:i})=>`git+ssh://git@${e}/${t}/${n}.git${$r("#",i)}`,edittemplate:({domain:e,user:t,project:n,committish:i,editpath:r,path:s})=>`https://${e}/${t}/${n}${$r("/",r,"/",qr(i||"HEAD"),"/",s)}`,browsetemplate:({domain:e,user:t,project:n,committish:i,treepath:r})=>`https://${e}/${t}/${n}${$r("/",r,"/",qr(i))}`,browsetreetemplate:({domain:e,user:t,project:n,committish:i,treepath:r,path:s,fragment:o,hashformat:a})=>`https://${e}/${t}/${n}/${r}/${qr(i||"HEAD")}/${s}${$r("#",a(o||""))}`,browseblobtemplate:({domain:e,user:t,project:n,committish:i,blobpath:r,path:s,fragment:o,hashformat:a})=>`https://${e}/${t}/${n}/${r}/${qr(i||"HEAD")}/${s}${$r("#",a(o||""))}`,docstemplate:({domain:e,user:t,project:n,treepath:i,committish:r})=>`https://${e}/${t}/${n}${$r("/",i,"/",qr(r))}#readme`,httpstemplate:({auth:e,domain:t,user:n,project:i,committish:r})=>`git+https://${$r(e,"@")}${t}/${n}/${i}.git${$r("#",r)}`,filetemplate:({domain:e,user:t,project:n,committish:i,path:r})=>`https://${e}/${t}/${n}/raw/${qr(i||"HEAD")}/${r}`,shortcuttemplate:({type:e,user:t,project:n,committish:i})=>`${e}:${t}/${n}${$r("#",i)}`,pathtemplate:({user:e,project:t,committish:n})=>`${e}/${t}${$r("#",n)}`,bugstemplate:({domain:e,user:t,project:n})=>`https://${e}/${t}/${n}/issues`,hashformat:Ur},Wr={};Wr.github={protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",blobpath:"blob",editpath:"edit",filetemplate:({auth:e,user:t,project:n,committish:i,path:r})=>`https://${$r(e,"@")}raw.githubusercontent.com/${t}/${n}/${qr(i||"HEAD")}/${r}`,gittemplate:({auth:e,domain:t,user:n,project:i,committish:r})=>`git://${$r(e,"@")}${t}/${n}/${i}.git${$r("#",r)}`,tarballtemplate:({domain:e,user:t,project:n,committish:i})=>`https://codeload.${e}/${t}/${n}/tar.gz/${qr(i||"HEAD")}`,extract:e=>{let[,t,n,i,r]=e.pathname.split("/",5);if((!i||"tree"===i)&&(i||(r=e.hash.slice(1)),n&&n.endsWith(".git")&&(n=n.slice(0,-4)),t&&n))return{user:t,project:n,committish:r}}},Wr.bitbucket={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",blobpath:"src",editpath:"?mode=edit",edittemplate:({domain:e,user:t,project:n,committish:i,treepath:r,path:s,editpath:o})=>`https://${e}/${t}/${n}${$r("/",r,"/",qr(i||"HEAD"),"/",s,o)}`,tarballtemplate:({domain:e,user:t,project:n,committish:i})=>`https://${e}/${t}/${n}/get/${qr(i||"HEAD")}.tar.gz`,extract:e=>{let[,t,n,i]=e.pathname.split("/",4);if(!["get"].includes(i)&&(n&&n.endsWith(".git")&&(n=n.slice(0,-4)),t&&n))return{user:t,project:n,committish:e.hash.slice(1)}}},Wr.gitlab={protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",blobpath:"tree",editpath:"-/edit",httpstemplate:({auth:e,domain:t,user:n,project:i,committish:r})=>`git+https://${$r(e,"@")}${t}/${n}/${i}.git${$r("#",r)}`,tarballtemplate:({domain:e,user:t,project:n,committish:i})=>`https://${e}/${t}/${n}/repository/archive.tar.gz?ref=${qr(i||"HEAD")}`,extract:e=>{const t=e.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz"))return;const n=t.split("/");let i=n.pop();i.endsWith(".git")&&(i=i.slice(0,-4));const r=n.join("/");return r&&i?{user:r,project:i,committish:e.hash.slice(1)}:void 0}},Wr.gist={protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",editpath:"edit",sshtemplate:({domain:e,project:t,committish:n})=>`git@${e}:${t}.git${$r("#",n)}`,sshurltemplate:({domain:e,project:t,committish:n})=>`git+ssh://git@${e}/${t}.git${$r("#",n)}`,edittemplate:({domain:e,user:t,project:n,committish:i,editpath:r})=>`https://${e}/${t}/${n}${$r("/",qr(i))}/${r}`,browsetemplate:({domain:e,project:t,committish:n})=>`https://${e}/${t}${$r("/",qr(n))}`,browsetreetemplate:({domain:e,project:t,committish:n,path:i,hashformat:r})=>`https://${e}/${t}${$r("/",qr(n))}${$r("#",r(i))}`,browseblobtemplate:({domain:e,project:t,committish:n,path:i,hashformat:r})=>`https://${e}/${t}${$r("/",qr(n))}${$r("#",r(i))}`,docstemplate:({domain:e,project:t,committish:n})=>`https://${e}/${t}${$r("/",qr(n))}`,httpstemplate:({domain:e,project:t,committish:n})=>`git+https://${e}/${t}.git${$r("#",n)}`,filetemplate:({user:e,project:t,committish:n,path:i})=>`https://gist.githubusercontent.com/${e}/${t}/raw${$r("/",qr(n))}/${i}`,shortcuttemplate:({type:e,project:t,committish:n})=>`${e}:${t}${$r("#",n)}`,pathtemplate:({project:e,committish:t})=>`${e}${$r("#",t)}`,bugstemplate:({domain:e,project:t})=>`https://${e}/${t}`,gittemplate:({domain:e,project:t,committish:n})=>`git://${e}/${t}.git${$r("#",n)}`,tarballtemplate:({project:e,committish:t})=>`https://codeload.github.com/gist/${e}/tar.gz/${qr(t||"HEAD")}`,extract:e=>{let[,t,n,i]=e.pathname.split("/",4);if("raw"!==i){if(!n){if(!t)return;n=t,t=null}return n.endsWith(".git")&&(n=n.slice(0,-4)),{user:t,project:n,committish:e.hash.slice(1)}}},hashformat:function(e){return e&&"file-"+Ur(e)}},Wr.sourcehut={protocols:["git+ssh:","https:"],domain:"git.sr.ht",treepath:"tree",blobpath:"tree",filetemplate:({domain:e,user:t,project:n,committish:i,path:r})=>`https://${e}/${t}/${n}/blob/${qr(i)||"HEAD"}/${r}`,httpstemplate:({domain:e,user:t,project:n,committish:i})=>`https://${e}/${t}/${n}.git${$r("#",i)}`,tarballtemplate:({domain:e,user:t,project:n,committish:i})=>`https://${e}/${t}/${n}/archive/${qr(i)||"HEAD"}.tar.gz`,bugstemplate:()=>null,extract:e=>{let[,t,n,i]=e.pathname.split("/",4);if(!["archive"].includes(i)&&(n&&n.endsWith(".git")&&(n=n.slice(0,-4)),t&&n))return{user:t,project:n,committish:e.hash.slice(1)}}};for(const[e,t]of Object.entries(Wr))Wr[e]=Object.assign({},Hr,t);var zr=Wr;const Gr=p,Vr=(e,t,n)=>{const i=e.indexOf(n);return e.lastIndexOf(t,i>-1?i:1/0)},Kr=e=>{try{return new Gr.URL(e)}catch{}};var Yr=(e,t)=>{const n=t?((e,t)=>{const n=e.indexOf(":"),i=e.slice(0,n+1);if(Object.prototype.hasOwnProperty.call(t,i))return e;const r=e.indexOf("@");return r>-1?r>n?`git+ssh://${e}`:e:e.indexOf("//")===n+1?e:`${e.slice(0,n+1)}//${e.slice(n+1)}`})(e,t):e;return Kr(n)||Kr((e=>{const t=Vr(e,"@","#"),n=Vr(e,":","#");return n>t&&(e=e.slice(0,n)+"/"+e.slice(n+1)),-1===Vr(e,":","#")&&-1===e.indexOf("//")&&(e=`git+ssh://${e}`),e})(n))};const Jr=Yr,{LRUCache:Zr}=Rr,Xr=zr,Qr=Yr,es=new Zr({max:1e3});class ts{constructor(e,t,n,i,r,s,o={}){Object.assign(this,ts.#e[e],{type:e,user:t,auth:n,project:i,committish:r,default:s,opts:o})}static#e={byShortcut:{},byDomain:{}};static#t={"git+ssh:":{name:"sshurl"},"ssh:":{name:"sshurl"},"git+https:":{name:"https",auth:!0},"git:":{auth:!0},"http:":{auth:!0},"https:":{auth:!0},"git+http:":{auth:!0}};static addHost(e,t){ts.#e[e]=t,ts.#e.byDomain[t.domain]=e,ts.#e.byShortcut[`${e}:`]=e,ts.#t[`${e}:`]={name:e}}static fromUrl(e,t){if("string"!=typeof e)return;const n=e+JSON.stringify(t||{});if(!es.has(n)){const i=((e,t,{gitHosts:n,protocols:i})=>{if(!e)return;const r=(e=>{const t=e.indexOf("#"),n=e.indexOf("/"),i=e.indexOf("/",n+1),r=e.indexOf(":"),s=/\s/.exec(e),o=e.indexOf("@"),a=!s||t>-1&&s.index>t,c=-1===o||t>-1&&o>t,u=-1===r||t>-1&&r>t,l=-1===i||t>-1&&i>t,h=n>0,p=t>-1?"/"!==e[t-1]:!e.endsWith("/"),d=!e.startsWith(".");return a&&h&&p&&d&&c&&u&&l})(e)?`github:${e}`:e,s=Jr(r,i);if(!s)return;const o=n.byShortcut[s.protocol],a=n.byDomain[s.hostname.startsWith("www.")?s.hostname.slice(4):s.hostname],c=o||a;if(!c)return;const u=n[o||a];let l=null;i[s.protocol]?.auth&&(s.username||s.password)&&(l=`${s.username}${s.password?":"+s.password:""}`);let h=null,p=null,d=null,f=null;try{if(o){let e=s.pathname.startsWith("/")?s.pathname.slice(1):s.pathname;const t=e.indexOf("@");t>-1&&(e=e.slice(t+1));const n=e.lastIndexOf("/");n>-1?(p=decodeURIComponent(e.slice(0,n)),p||(p=null),d=decodeURIComponent(e.slice(n+1))):d=decodeURIComponent(e),d.endsWith(".git")&&(d=d.slice(0,-4)),s.hash&&(h=decodeURIComponent(s.hash.slice(1))),f="shortcut"}else{if(!u.protocols.includes(s.protocol))return;const e=u.extract(s);if(!e)return;p=e.user&&decodeURIComponent(e.user),d=decodeURIComponent(e.project),h=decodeURIComponent(e.committish),f=i[s.protocol]?.name||s.protocol.slice(0,-1)}}catch(e){if(e instanceof URIError)return;throw e}return[c,p,l,d,h,f,t]})(e,t,{gitHosts:ts.#e,protocols:ts.#t});es.set(n,i?new ts(...i):void 0)}return es.get(n)}static parseUrl(e){return Qr(e)}#n(e,t){if("function"!=typeof e)return null;const n={...this,...this.opts,...t};n.path||(n.path=""),n.path.startsWith("/")&&(n.path=n.path.slice(1)),n.noCommittish&&(n.committish=null);const i=e(n);return n.noGitPlus&&i.startsWith("git+")?i.slice(4):i}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this.#n(this.sshtemplate,e)}sshurl(e){return this.#n(this.sshurltemplate,e)}browse(e,...t){return"string"!=typeof e?this.#n(this.browsetemplate,e):"string"!=typeof t[0]?this.#n(this.browsetreetemplate,{...t[0],path:e}):this.#n(this.browsetreetemplate,{...t[1],fragment:t[0],path:e})}browseFile(e,...t){return"string"!=typeof t[0]?this.#n(this.browseblobtemplate,{...t[0],path:e}):this.#n(this.browseblobtemplate,{...t[1],fragment:t[0],path:e})}docs(e){return this.#n(this.docstemplate,e)}bugs(e){return this.#n(this.bugstemplate,e)}https(e){return this.#n(this.httpstemplate,e)}git(e){return this.#n(this.gittemplate,e)}shortcut(e){return this.#n(this.shortcuttemplate,e)}path(e){return this.#n(this.pathtemplate,e)}tarball(e){return this.#n(this.tarballtemplate,{...e,noCommittish:!1})}file(e,t){return this.#n(this.filetemplate,{...t,path:e})}edit(e,t){return this.#n(this.edittemplate,{...t,path:e})}getDefaultRepresentation(){return this.default}toString(e){return this.default&&"function"==typeof this[this.default]?this[this.default](e):this.sshurl(e)}}for(const[e,t]of Object.entries(Xr))ts.addHost(e,t);var ns=ts;const is=T(ns);async function rs(e,t,{pkgFile:n}={}){const i=t?t.repository?t.repository:null:await async function(e,{pkgFile:t}={}){return(await kr(e,{pkgFile:t}))?.repository??null}(e,{pkgFile:n});if(!i)return null;let r,s="";if("string"==typeof i){r=i;try{const e=new p.URL(r);if("https:"===e.protocol||"http:"===e.protocol)return r}catch{}}else"string"==typeof i.url&&(r=i.url,"string"==typeof i.directory&&(s=i.directory));if("string"==typeof r&&"string"==typeof s){const e=is.fromUrl(r)?.browse(s);return void 0!==e?e.replace(/\/$/,"").replace(/\/tree\/HEAD$/,""):r}return null}var ss,os=Array.isArray,as="object"==typeof A&&A&&A.Object===Object&&A,cs="object"==typeof self&&self&&self.Object===Object&&self,us=as||cs||Function("return this")(),ls=us.Symbol,hs=ls,ps=Object.prototype,ds=ps.hasOwnProperty,fs=ps.toString,ms=hs?hs.toStringTag:void 0,gs=Object.prototype.toString,ys=function(e){var t=ds.call(e,ms),n=e[ms];try{e[ms]=void 0;var i=!0}catch{}var r=fs.call(e);return i&&(t?e[ms]=n:delete e[ms]),r},bs=function(e){return gs.call(e)},vs=ls?ls.toStringTag:void 0,ws=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vs&&vs in Object(e)?ys(e):bs(e)},_s=function(e){return null!=e&&"object"==typeof e},Ss=ws,Es=_s,xs=function(e){return"symbol"==typeof e||Es(e)&&"[object Symbol]"==Ss(e)},Ds=os,Cs=xs,ks=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rs=/^\w*$/,As=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},Ts=ws,Os=As,Fs=us["__core-js_shared__"],Ps=(ss=/[^.]+$/.exec(Fs&&Fs.keys&&Fs.keys.IE_PROTO||""))?"Symbol(src)_1."+ss:"",Is=Function.prototype.toString,Ls=function(e){if(!Os(e))return!1;var t=Ts(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ns=function(e){return!!Ps&&Ps in e},Bs=As,js=function(e){if(null!=e){try{return Is.call(e)}catch{}try{return e+""}catch{}}return""},Ms=/^\[object .+?Constructor\]$/,$s=Function.prototype,qs=Object.prototype,Us=$s.toString,Hs=qs.hasOwnProperty,Ws=RegExp("^"+Us.call(Hs).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zs=function(e){return!(!Bs(e)||Ns(e))&&(Ls(e)?Ws:Ms).test(js(e))},Gs=function(e,t){return e?.[t]},Vs=function(e,t){var n=Gs(e,t);return zs(n)?n:void 0},Ks=Vs(Object,"create"),Ys=Ks,Js=Ks,Zs=Object.prototype.hasOwnProperty,Xs=Ks,Qs=Object.prototype.hasOwnProperty,eo=Ks,to=function(){this.__data__=Ys?Ys(null):{},this.size=0},no=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},io=function(e){var t=this.__data__;if(Js){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Zs.call(t,e)?t[e]:void 0},ro=function(e){var t=this.__data__;return Xs?void 0!==t[e]:Qs.call(t,e)},so=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=eo&&void 0===t?"__lodash_hash_undefined__":t,this};function oo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}oo.prototype.clear=to,oo.prototype.delete=no,oo.prototype.get=io,oo.prototype.has=ro,oo.prototype.set=so;var ao=oo,co=function(e,t){return e===t||e!=e&&t!=t},uo=function(e,t){for(var n=e.length;n--;)if(co(e[n][0],t))return n;return-1},lo=uo,ho=Array.prototype.splice,po=uo,fo=uo,mo=uo,go=function(){this.__data__=[],this.size=0},yo=function(e){var t=this.__data__,n=lo(t,e);return!(n<0||(n==t.length-1?t.pop():ho.call(t,n,1),--this.size,0))},bo=function(e){var t=this.__data__,n=po(t,e);return n<0?void 0:t[n][1]},vo=function(e){return fo(this.__data__,e)>-1},wo=function(e,t){var n=this.__data__,i=mo(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};function _o(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}_o.prototype.clear=go,_o.prototype.delete=yo,_o.prototype.get=bo,_o.prototype.has=vo,_o.prototype.set=wo;var So=_o,Eo=Vs(us,"Map"),xo=ao,Do=So,Co=Eo,ko=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Ro=function(e,t){var n=e.__data__;return ko(t)?n["string"==typeof t?"string":"hash"]:n.map},Ao=Ro,To=Ro,Oo=Ro,Fo=Ro,Po=function(e){var t=Ao(this,e).delete(e);return this.size-=t?1:0,t},Io=function(e){return To(this,e).get(e)},Lo=function(e){return Oo(this,e).has(e)},No=function(e,t){var n=Fo(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Bo(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Bo.prototype.clear=function(){this.size=0,this.__data__={hash:new xo,map:new(Co||Do),string:new xo}},Bo.prototype.delete=Po,Bo.prototype.get=Io,Bo.prototype.has=Lo,Bo.prototype.set=No;var jo=Bo;function Mo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(Mo.Cache||jo),n}Mo.Cache=jo;var $o=Mo,qo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Uo=/\\(\\)?/g,Ho=function(e){var t=$o(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(qo,(function(e,n,i,r){t.push(i?r.replace(Uo,"$1"):n||e)})),t})),Wo=Ho,zo=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r},Go=os,Vo=xs,Ko=1/0,Yo=ls?ls.prototype:void 0,Jo=Yo?Yo.toString:void 0,Zo=function e(t){if("string"==typeof t)return t;if(Go(t))return zo(t,e)+"";if(Vo(t))return Jo?Jo.call(t):"";var n=t+"";return"0"==n&&1/t==-Ko?"-0":n},Xo=os,Qo=function(e,t){if(Ds(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Cs(e))||Rs.test(e)||!ks.test(e)||null!=t&&e in Object(t)},ea=Wo,ta=function(e){return null==e?"":Zo(e)},na=xs,ia=1/0,ra=function(e,t){return Xo(e)?e:Qo(e,t)?[e]:ea(ta(e))},sa=function(e){if("string"==typeof e||na(e))return e;var t=e+"";return"0"==t&&1/e==-ia?"-0":t},oa=function(e,t){for(var n=0,i=(t=ra(t,e)).length;null!=e&&n<i;)e=e[sa(t[n++])];return n&&n==i?e:void 0};const aa=T((function(e){return function(t){return null==e?void 0:oa(e,t)}}));var ca=p,ua={__proto__:null};function la(e){return"/"===e.charAt(0)?e.slice(1):e}const ha=T((function(e){return ua[e]||(ua[e]=function(e){if("string"!=typeof e||!e.length||-1!==e.indexOf("git@gist")||-1!==e.indexOf("//gist"))return null;var t=ca.parse(e);if("string"!=typeof t.path||!t.path.length||"string"!=typeof t.pathname||!t.pathname.length)return null;!t.host&&!0===/^git@/.test(e)&&(t.host=ca.parse("http://"+e.replace(/git@([^:]+):/,"$1/")).host),t.path=la(t.path),t.pathname=la(t.pathname),t.filepath=null,0===t.path.indexOf("repos")&&(t.path=t.path.slice(6));var n=t.path.split("/").filter(Boolean),i="blob"===n[2];i&&!function(e){return/^[a-f0-9]{40}$/i.test(e)}(n[3])&&(t.branch=n[3],n.length>4&&(t.filepath=n.slice(4).join("/")));var r=e.indexOf("blob");i&&-1!==r&&(t.blob=e.slice(r+5));var s="tree"===n[2],o=e.indexOf("tree");if(s&&-1!==o){var a=o+5,c=e.slice(a),u=c.indexOf("/");-1!==u&&(c=c.slice(0,u)),t.branch=c}if(t.owner=function(e){if(!e)return null;var t=e.indexOf(":");return t>-1?e.slice(t+1):e}(n[0]),t.name=function(e){return e?e.replace(/\.git$/,""):null}(n[1]),n.length>1&&t.owner&&t.name)t.repo=t.owner+"/"+t.name;else{var l=t.href.split(":");if(2===l.length&&-1===t.href.indexOf("//")){t.repo=t.repo||l[l.length-1];var h=t.repo.split("/");t.owner=h[0],t.name=h[1]}else{var p=t.href.match(/\/([^/]*)$/);t.owner=p?p[1]:null,t.repo=null}if(t.repo&&(!t.owner||!t.name)){var d=t.repo.split("/");2===d.length&&(t.owner=d[0],t.name=d[1])}}return t.branch||(t.branch=n[2]||function(e,t){var n,i=e.split("#");return i.length>1&&(n=i[i.length-1]),!n&&t.hash&&"#"===t.hash.charAt(0)&&(n=t.hash.slice(1)),n||"master"}(t.path,t),n.length>3&&(t.filepath=n.slice(3).join("/"))),t.host=t.host||"github.com",t.owner=t.owner||null,t.name=t.name||null,t.repository=t.repo,t}(e)),ua[e]}));var pa={exports:{}},da={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const fa="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var ma=fa;!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:r}=da,s=ma,o=(t=e.exports={}).re=[],a=t.safeRe=[],c=t.src=[],u=t.t={};let l=0;const h="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",r],[h,i]],d=(e,t,n)=>{const i=(e=>{for(const[t,n]of p)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),r=l++;s(e,r,t),u[e]=r,c[r]=t,o[r]=new RegExp(t,n?"g":void 0),a[r]=new RegExp(i,n?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`),d("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER",`${h}+`),d("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),d("FULL",`^${c[u.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),d("LOOSE",`^${c[u.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),d("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),d("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?(?:${c[u.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",c[u.COERCE],!0),d("COERCERTLFULL",c[u.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",d("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",d("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(pa,pa.exports);var ga=pa.exports;const ya=Object.freeze({loose:!0}),ba=Object.freeze({});var va=e=>e?"object"!=typeof e?ya:e:ba;const wa=/^[0-9]+$/,_a=(e,t)=>{const n=wa.test(e),i=wa.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};var Sa={compareIdentifiers:_a,rcompareIdentifiers:(e,t)=>_a(t,e)};const Ea=ma,{MAX_LENGTH:xa,MAX_SAFE_INTEGER:Da}=da,{safeRe:Ca,t:ka}=ga,Ra=va,{compareIdentifiers:Aa}=Sa;var Ta=class e{constructor(t,n){if(n=Ra(n),t instanceof e){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>xa)throw new TypeError(`version is longer than ${xa} characters`);Ea("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const i=t.trim().match(n.loose?Ca[ka.LOOSE]:Ca[ka.FULL]);if(!i)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>Da||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Da||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Da||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<Da)return t}return e})):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(Ea("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if("string"==typeof t&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),Aa(this.major,t.major)||Aa(this.minor,t.minor)||Aa(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const e=this.prerelease[n],i=t.prerelease[n];if(Ea("prerelease compare",n,e,i),void 0===e&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===e)return-1;if(e!==i)return Aa(e,i)}while(++n)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let n=0;do{const e=this.build[n],i=t.build[n];if(Ea("build compare",n,e,i),void 0===e&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===e)return-1;if(e!==i)return Aa(e,i)}while(++n)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===Aa(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};const Oa=Ta;var Fa=(e,t,n=!1)=>{if(e instanceof Oa)return e;try{return new Oa(e,t)}catch(e){if(!n)return null;throw e}};const Pa=Fa;const Ia=Fa;const La=Ta;const Na=Fa;const Ba=Ta;const ja=Ta;const Ma=Ta;const $a=Fa;const qa=Ta;var Ua=(e,t,n)=>new qa(e,n).compare(new qa(t,n));const Ha=Ua;const Wa=Ua;const za=Ta;var Ga=(e,t,n)=>{const i=new za(e,n),r=new za(t,n);return i.compare(r)||i.compareBuild(r)};const Va=Ga;const Ka=Ga;const Ya=Ua;var Ja=(e,t,n)=>Ya(e,t,n)>0;const Za=Ua;var Xa=(e,t,n)=>Za(e,t,n)<0;const Qa=Ua;var ec=(e,t,n)=>0===Qa(e,t,n);const tc=Ua;var nc=(e,t,n)=>0!==tc(e,t,n);const ic=Ua;var rc=(e,t,n)=>ic(e,t,n)>=0;const sc=Ua;var oc=(e,t,n)=>sc(e,t,n)<=0;const ac=ec,cc=nc,uc=Ja,lc=rc,hc=Xa,pc=oc;var dc=(e,t,n,i)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return ac(e,n,i);case"!=":return cc(e,n,i);case">":return uc(e,n,i);case">=":return lc(e,n,i);case"<":return hc(e,n,i);case"<=":return pc(e,n,i);default:throw new TypeError(`Invalid operator: ${t}`)}};const fc=Ta,mc=Fa,{safeRe:gc,t:yc}=ga;var bc,vc,wc,_c,Sc=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}};function Ec(){if(vc)return bc;vc=1;const e=/\s+/g;class t{constructor(n,s){if(s=i(s),n instanceof t)return n.loose===!!s.loose&&n.includePrerelease===!!s.includePrerelease?n:new t(n.raw,s);if(n instanceof r)return this.raw=n.value,this.set=[[n]],this.formatted=void 0,this;if(this.options=s,this.loose=!!s.loose,this.includePrerelease=!!s.includePrerelease,this.raw=n.trim().replace(e," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&p)|(this.options.loose&&d))+":"+e,i=n.get(t);if(i)return i;const o=this.options.loose,m=o?a[c.HYPHENRANGELOOSE]:a[c.HYPHENRANGE];e=e.replace(m,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(a[c.COMPARATORTRIM],u),s("comparator trim",e),e=e.replace(a[c.TILDETRIM],l),s("tilde trim",e),e=e.replace(a[c.CARETTRIM],h),s("caret trim",e);let g=e.split(" ").map((e=>y(e,this.options))).join(" ").split(/\s+/).map((e=>C(e,this.options)));o&&(g=g.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(a[c.COMPARATORLOOSE]))))),s("range list",g);const b=new Map,v=g.map((e=>new r(e,this.options)));for(const e of v){if(f(e))return[e];b.set(e.value,e)}b.size>1&&b.has("")&&b.delete("");const w=[...b.values()];return n.set(t,w),w}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some((t=>g(t,n)&&e.set.some((e=>g(e,n)&&t.every((t=>e.every((e=>t.intersects(e,n)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1}}bc=t;const n=new Sc,i=va,r=xc(),s=ma,o=Ta,{safeRe:a,t:c,comparatorTrimReplace:u,tildeTrimReplace:l,caretTrimReplace:h}=ga,{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:d}=da,f=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},y=(e,t)=>(s("comp",e,t),e=_(e,t),s("caret",e),e=v(e,t),s("tildes",e),e=E(e,t),s("xrange",e),e=D(e,t),s("stars",e),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,v=(e,t)=>e.trim().split(/\s+/).map((e=>w(e,t))).join(" "),w=(e,t)=>{const n=t.loose?a[c.TILDELOOSE]:a[c.TILDE];return e.replace(n,((t,n,i,r,o)=>{let a;return s("tilde",e,t,n,i,r,o),b(n)?a="":b(i)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:b(r)?a=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:o?(s("replaceTilde pr",o),a=`>=${n}.${i}.${r}-${o} <${n}.${+i+1}.0-0`):a=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,s("tilde return",a),a}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{s("caret",e,t);const n=t.loose?a[c.CARETLOOSE]:a[c.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,o,a)=>{let c;return s("caret",e,t,n,r,o,a),b(n)?c="":b(r)?c=`>=${n}.0.0${i} <${+n+1}.0.0-0`:b(o)?c="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:a?(s("replaceCaret pr",a),c="0"===n?"0"===r?`>=${n}.${r}.${o}-${a} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}-${a} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o}-${a} <${+n+1}.0.0-0`):(s("no pr"),c="0"===n?"0"===r?`>=${n}.${r}.${o}${i} <${n}.${r}.${+o+1}-0`:`>=${n}.${r}.${o}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${o} <${+n+1}.0.0-0`),s("caret return",c),c}))},E=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>x(e,t))).join(" ")),x=(e,t)=>{e=e.trim();const n=t.loose?a[c.XRANGELOOSE]:a[c.XRANGE];return e.replace(n,((n,i,r,o,a,c)=>{s("xRange",e,n,i,r,o,a,c);const u=b(r),l=u||b(o),h=l||b(a),p=h;return"="===i&&p&&(i=""),c=t.includePrerelease?"-0":"",u?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(l&&(o=0),a=0,">"===i?(i=">=",l?(r=+r+1,o=0,a=0):(o=+o+1,a=0)):"<="===i&&(i="<",l?r=+r+1:o=+o+1),"<"===i&&(c="-0"),n=`${i+r}.${o}.${a}${c}`):l?n=`>=${r}.0.0${c} <${+r+1}.0.0-0`:h&&(n=`>=${r}.${o}.0${c} <${r}.${+o+1}.0-0`),s("xRange return",n),n}))},D=(e,t)=>(s("replaceStars",e,t),e.trim().replace(a[c.STAR],"")),C=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(a[t.includePrerelease?c.GTE0PRE:c.GTE0],"")),k=e=>(t,n,i,r,s,o,a,c,u,l,h,p)=>`${n=b(i)?"":b(r)?`>=${i}.0.0${e?"-0":""}`:b(s)?`>=${i}.${r}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=b(u)?"":b(l)?`<${+u+1}.0.0-0`:b(h)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${h}-${p}`:e?`<${u}.${l}.${+h+1}-0`:`<=${c}`}`.trim(),R=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(s(e[n].semver),e[n].semver!==r.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0};return bc}function xc(){if(_c)return wc;_c=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(i,r){if(r=n(r),i instanceof t){if(i.loose===!!r.loose)return i;i=i.value}i=i.trim().split(/\s+/).join(" "),o("comparator",i,r),this.options=r,this.loose=!!r.loose,this.parse(i),this.semver===e?this.value="":this.value=this.operator+this.semver.version,o("comp",this)}parse(t){const n=this.options.loose?i[r.COMPARATORLOOSE]:i[r.COMPARATOR],s=t.match(n);if(!s)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==s[1]?s[1]:"","="===this.operator&&(this.operator=""),s[2]?this.semver=new a(s[2],this.options.loose):this.semver=e}toString(){return this.value}test(t){if(o("Comparator.test",t,this.options.loose),this.semver===e||t===e)return!0;if("string"==typeof t)try{t=new a(t,this.options)}catch{return!1}return s(t,this.operator,this.semver,this.options)}intersects(e,i){if(!(e instanceof t))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new c(e.value,i).test(this.value):""===e.operator?""===e.value||new c(this.value,i).test(e.semver):!((i=n(i)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!i.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||s(this.semver,"<",e.semver,i)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||s(this.semver,">",e.semver,i)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}wc=t;const n=va,{safeRe:i,t:r}=ga,s=dc,o=ma,a=Ta,c=Ec();return wc}const Dc=Ec();var Cc=(e,t,n)=>{try{t=new Dc(t,n)}catch{return!1}return t.test(e)};const kc=Ec();const Rc=Ta,Ac=Ec();const Tc=Ta,Oc=Ec();const Fc=Ta,Pc=Ec(),Ic=Ja;const Lc=Ec();const Nc=Ta,Bc=xc(),{ANY:jc}=Bc,Mc=Ec(),$c=Cc,qc=Ja,Uc=Xa,Hc=oc,Wc=rc;var zc=(e,t,n,i)=>{let r,s,o,a,c;switch(e=new Nc(e,i),t=new Mc(t,i),n){case">":r=qc,s=Hc,o=Uc,a=">",c=">=";break;case"<":r=Uc,s=Wc,o=qc,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if($c(e,t,i))return!1;for(let n=0;n<t.set.length;++n){const u=t.set[n];let l=null,h=null;if(u.forEach((e=>{e.semver===jc&&(e=new Bc(">=0.0.0")),l=l||e,h=h||e,r(e.semver,l.semver,i)?l=e:o(e.semver,h.semver,i)&&(h=e)})),l.operator===a||l.operator===c||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===c&&o(e,h.semver))return!1}return!0};const Gc=zc;const Vc=zc;const Kc=Ec();const Yc=Cc,Jc=Ua,Zc=Ec(),Xc=xc(),{ANY:Qc}=Xc,eu=Cc,tu=Ua,nu=[new Xc(">=0.0.0-0")],iu=[new Xc(">=0.0.0")],ru=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===Qc){if(1===t.length&&t[0].semver===Qc)return!0;e=n.includePrerelease?nu:iu}if(1===t.length&&t[0].semver===Qc){if(n.includePrerelease)return!0;t=iu}const i=new Set;let r,s,o;for(const t of e)">"===t.operator||">="===t.operator?r=su(r,t,n):"<"===t.operator||"<="===t.operator?s=ou(s,t,n):i.add(t.semver);if(i.size>1)return null;if(r&&s){if(o=tu(r.semver,s.semver,n),o>0)return null;if(0===o&&(">="!==r.operator||"<="!==s.operator))return null}for(const e of i){if(r&&!eu(e,String(r),n)||s&&!eu(e,String(s),n))return null;for(const i of t)if(!eu(e,String(i),n))return!1;return!0}let a,c,u,l,h=!(!s||n.includePrerelease||!s.semver.prerelease.length)&&s.semver,p=!(!r||n.includePrerelease||!r.semver.prerelease.length)&&r.semver;h&&1===h.prerelease.length&&"<"===s.operator&&0===h.prerelease[0]&&(h=!1);for(const e of t){if(l=l||">"===e.operator||">="===e.operator,u=u||"<"===e.operator||"<="===e.operator,r)if(p&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===p.major&&e.semver.minor===p.minor&&e.semver.patch===p.patch&&(p=!1),">"===e.operator||">="===e.operator){if(a=su(r,e,n),a===e&&a!==r)return!1}else if(">="===r.operator&&!eu(r.semver,String(e),n))return!1;if(s)if(h&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===h.major&&e.semver.minor===h.minor&&e.semver.patch===h.patch&&(h=!1),"<"===e.operator||"<="===e.operator){if(c=ou(s,e,n),c===e&&c!==s)return!1}else if("<="===s.operator&&!eu(s.semver,String(e),n))return!1;if(!e.operator&&(s||r)&&0!==o)return!1}return!(r&&u&&!s&&0!==o||s&&l&&!r&&0!==o||p||h)},su=(e,t,n)=>{if(!e)return t;const i=tu(e.semver,t.semver,n);return i>0?e:i<0||">"===t.operator&&">="===e.operator?t:e},ou=(e,t,n)=>{if(!e)return t;const i=tu(e.semver,t.semver,n);return i<0?e:i>0||"<"===t.operator&&"<="===e.operator?t:e};const au=ga,cu=da,uu=Ta,lu=Sa;var hu={parse:Fa,valid:(e,t)=>{const n=Pa(e,t);return n?n.version:null},clean:(e,t)=>{const n=Ia(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},inc:(e,t,n,i,r)=>{"string"==typeof n&&(r=i,i=n,n=void 0);try{return new La(e instanceof La?e.version:e,n).inc(t,i,r).version}catch{return null}},diff:(e,t)=>{const n=Na(e,null,!0),i=Na(t,null,!0),r=n.compare(i);if(0===r)return null;const s=r>0,o=s?n:i,a=s?i:n,c=!!o.prerelease.length;if(a.prerelease.length&&!c)return a.patch||a.minor?o.patch?"patch":o.minor?"minor":"major":"major";const u=c?"pre":"";return n.major!==i.major?u+"major":n.minor!==i.minor?u+"minor":n.patch!==i.patch?u+"patch":"prerelease"},major:(e,t)=>new Ba(e,t).major,minor:(e,t)=>new ja(e,t).minor,patch:(e,t)=>new Ma(e,t).patch,prerelease:(e,t)=>{const n=$a(e,t);return n&&n.prerelease.length?n.prerelease:null},compare:Ua,rcompare:(e,t,n)=>Ha(t,e,n),compareLoose:(e,t)=>Wa(e,t,!0),compareBuild:Ga,sort:(e,t)=>e.sort(((e,n)=>Va(e,n,t))),rsort:(e,t)=>e.sort(((e,n)=>Ka(n,e,t))),gt:Ja,lt:Xa,eq:ec,neq:nc,gte:rc,lte:oc,cmp:dc,coerce:(e,t)=>{if(e instanceof fc)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){const i=t.includePrerelease?gc[yc.COERCERTLFULL]:gc[yc.COERCERTL];let r;for(;(r=i.exec(e))&&(!n||n.index+n[0].length!==e.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),i.lastIndex=r.index+r[1].length+r[2].length;i.lastIndex=-1}else n=e.match(t.includePrerelease?gc[yc.COERCEFULL]:gc[yc.COERCE]);if(null===n)return null;const i=n[2],r=n[3]||"0",s=n[4]||"0",o=t.includePrerelease&&n[5]?`-${n[5]}`:"",a=t.includePrerelease&&n[6]?`+${n[6]}`:"";return mc(`${i}.${r}.${s}${o}${a}`,t)},Comparator:xc(),Range:Ec(),satisfies:Cc,toComparators:(e,t)=>new kc(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" "))),maxSatisfying:(e,t,n)=>{let i=null,r=null,s=null;try{s=new Ac(t,n)}catch{return null}return e.forEach((e=>{s.test(e)&&(!i||-1===r.compare(e))&&(i=e,r=new Rc(i,n))})),i},minSatisfying:(e,t,n)=>{let i=null,r=null,s=null;try{s=new Oc(t,n)}catch{return null}return e.forEach((e=>{s.test(e)&&(!i||1===r.compare(e))&&(i=e,r=new Tc(i,n))})),i},minVersion:(e,t)=>{e=new Pc(e,t);let n=new Fc("0.0.0");if(e.test(n)||(n=new Fc("0.0.0-0"),e.test(n)))return n;n=null;for(let t=0;t<e.set.length;++t){const i=e.set[t];let r=null;i.forEach((e=>{const t=new Fc(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!r||Ic(t,r))&&(r=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),r&&(!n||Ic(n,r))&&(n=r)}return n&&e.test(n)?n:null},validRange:(e,t)=>{try{return new Lc(e,t).range||"*"}catch{return null}},outside:zc,gtr:(e,t,n)=>Gc(e,t,">",n),ltr:(e,t,n)=>Vc(e,t,"<",n),intersects:(e,t,n)=>(e=new Kc(e,n),t=new Kc(t,n),e.intersects(t,n)),simplifyRange:(e,t,n)=>{const i=[];let r=null,s=null;const o=e.sort(((e,t)=>Jc(e,t,n)));for(const e of o)Yc(e,t,n)?(s=e,r||(r=e)):(s&&i.push([r,s]),s=null,r=null);r&&i.push([r,null]);const a=[];for(const[e,t]of i)e===t?a.push(e):t||e!==o[0]?t?e===o[0]?a.push(`<=${t}`):a.push(`${e} - ${t}`):a.push(`>=${e}`):a.push("*");const c=a.join(" || "),u="string"==typeof t.raw?t.raw:String(t);return c.length<u.length?c:t},subset:(e,t,n={})=>{if(e===t)return!0;e=new Zc(e,n),t=new Zc(t,n);let i=!1;e:for(const r of e.set){for(const e of t.set){const t=ru(r,e,n);if(i=i||null!==t,t)continue e}if(i)return!1}return!0},SemVer:uu,re:au.re,src:au.src,tokens:au.t,SEMVER_SPEC_VERSION:cu.SEMVER_SPEC_VERSION,RELEASE_TYPES:cu.RELEASE_TYPES,compareIdentifiers:lu.compareIdentifiers,rcompareIdentifiers:lu.rcompareIdentifiers};const pu=T(hu);var du,fu,mu={};function gu(e,t){return e?e.map((e=>({item:e,key:t(e)}))).sort(((e,t)=>e.key>t.key?1:e.key<t.key?-1:0)).map((({item:e})=>e)):[]}!function(){var e=/^v?((\d+)\.(\d+)\.(\d+))(?:-([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?(?:\+([\dA-Za-z\-]+(?:\.[\dA-Za-z\-]+)*))?$/,t=/\s*((\|\||\-)|(((?:(?:~?[<>]?)|\^?)=?)\s*(v)?([0-9]+)(\.(x|\*|[0-9]+))?(\.(x|\*|[0-9]+))?(([\-+])([a-zA-Z0-9\.-]+))?))\s*/g;function n(e){var t={};for(var n in e)typeof e[n]<"u"&&(t[n]=e[n]);return t}function i(e){var t="";return t+=e.major||"0",t+=".",t+=e.minor||"0",t+=".",t+=e.patch||"0",e.release&&(t+="-"+e.release),e.build&&(t+="+"+e.build),t}function r(e){if(e){var t=this;Object.keys(e).forEach((function(n){t[n]=e[n]}))}}r.prototype.toString=function(){return i(this)},fu=mu.parse=function(t){var i=e.exec(t)||[],s=new r(n({semver:i[0],version:i[1],major:i[2],minor:i[3],patch:i[4],release:i[5],build:i[6]}));return 0===i.length&&(s=null),s},mu.stringify=i,du=mu.parseRange=function(e){for(var i,s,o=[];i=t.exec(e);)s={semver:i[3],operator:i[4]||i[2],major:i[6],minor:i[8],patch:i[10]},"+"===i[12]&&(s.build=i[13]),"-"===i[12]&&(s.release=i[13]),o.push(new r(n(s)));return o},mu.stringifyRange=function(e){var t="";return e.forEach((function(e){e.operator&&(t+=e.operator+" "),e.major&&(t+=e.toString()+" ")})),t.trim()}}();const yu=["major","minor","patch"],bu=["release","build"],vu=[...yu,...bu],wu={major:"",minor:".",patch:".",release:"-",build:"+"},_u="^",Su=["^","~",".*",".x"],Eu=new RegExp(`^(${["^","~","^*","*","x","x.x","x.x.x"].join("|").replace(/\^/g,"\\^").replace(/\*/g,"\\*")})$`),xu=/^npm:(.*)@(.*)/;function Du(e,t){return(t?vu.slice(0,vu.indexOf(t)+1):vu).filter((n=>t&&yu.includes(t)||e[n])).map((t=>wu[t]+(e[t]||"0"))).join("")}function Cu(e){return Eu.test(e)}function ku(e){return"*"===e||"x"===e}function Ru(e,t,n){const i=br(e,((i,r,s)=>{const o=t[i],a=function(e,t){if(e===t)return"none";/^[~^]/.test(t)&&t[0]===e[0]&&(t=t.slice(1),e=e.slice(1));const n=t.split("."),i=e.split(".");let r=n.findIndex(((e,t)=>e!==i[t]));return r=r>=0?r:n.length,"0"===n[0]?"majorVersionZero":0===r?"major":1===r?"minor":"patch"}(o,r),c=n.groupFunction?.(i,a,du(o),du(r),fu(e[i]))??a;return"none"===c?s:{...s,[c]:{...s[c],[i]:r}}})),r={patch:xr.green(xr.bold("Patch")+"   Backwards-compatible bug fixes"),minor:xr.cyan(xr.bold("Minor")+"   Backwards-compatible features"),major:xr.red(xr.bold("Major")+"   Potentially breaking API changes"),majorVersionZero:xr.magenta(xr.bold("Major version zero")+"   Anything may change")};return Array.from(new Set(["patch","minor","major","majorVersionZero",...Object.keys(i).sort()])).filter((e=>e in i)).map((e=>({groupName:e,heading:e in r?r[e]:e,packages:i[e]})))}function Au(e,t){let n="";/^[~^]/.test(t)&&t[0]===e[0]&&(n=t[0],t=t.slice(1),e=e.slice(1));const i=t.split("."),r=e.split(".");let s=i.findIndex(((e,t)=>e!==r[t]));s=s>=0?s:i.length;const o=0===s||"0"===i[0]?"red":1===s?"cyan":"green",a=s>0&&s<i.length?".":"";return n+i.slice(0,s).join(".")+a+xr[o](i.slice(s).join("."))}const Tu=e=>{const t=pu.prerelease(e);return t&&t.slice(0,-1).join(".")};function Ou(e,t){return(pu.valid(e)&&pu.valid(t)?pu.gt(e,t):e>t)?1:e===t?0:-1}function Fu(e,t,n){if(!pu.validRange(t))return null;const i=pu.minVersion(t);return[...e].sort(Ou).filter((e=>{const t=pu.parse(e);return t&&("major"===n||t.major===i?.major)&&("major"===n||"minor"===n||t.minor===i?.minor)})).at(-1)||null}function Pu(e){return"release"===function(e){const[t]=mu.parseRange(e);return vu.slice().reverse().find(aa(t))}(e)}const Iu=e=>/^[vV]?\d+$/.test(e),Lu=e=>/^[vV]?\d+\.\d+$/.test(e),Nu=e=>(e=>Lu(e)?e+".0":e)((e=>Iu(e)?e+".0.0":e)((e=>e.replace(/^[vV]/,""))(e)));function Bu(e){return!e||"v"!==e[0]&&"v"!==e[1]?"":"v"}const ju=(e,t)=>`npm:${e}@${t}`,Mu=e=>{const t=e&&e.match&&e.match(xu);return t&&t.slice(1)},$u=e=>e&&!!e.match(xu),qu=(e,t)=>{const n=Mu(e);return n?ju(n[0],t):null},Uu=e=>{if(!e)return!1;let t=null;try{t=ha(e)}catch{}if(!t||!t.branch)return!1;const n=decodeURIComponent(t.branch).replace(/^semver:/,"");return!!pu.validRange(n)},Hu=e=>{if(!e)return null;const t=ha(e);if(!t||!t.branch)return null;const n=decodeURIComponent(t.branch).replace(/^semver:/,"");return t&&t.branch&&pu.validRange(n)?n:null};function Wu(e,t,n={}){if(n.wildcard=n.wildcard||_u,!t)return e;const[i]=mu.parseRange(t);if(!i)return e;if(n.removeRange)return t;if(Cu(e))return e;const r=gu(mu.parseRange(e).filter((e=>"||"!==e.operator&&"-"!==e.operator)),(e=>function(e){const[t]=mu.parseRange(e);if(!t)throw new Error(l.format('semverutils.parseRange returned null when trying to parse "%s". This is probably a problem with the "semver-utils" dependency. Please report an issue at https://github.com/raineorshine/npm-check-updates/issues.',e));return vu.reduce(((e,n)=>t[n]?e+1:e),0)}(Du(e)))),[s]=r;function o(e){return(ku(s[e])?s[e]:yu.includes(e)&&s[e]||bu.includes(e)?i[e]:null)||null}const a=Du(br(vu,(e=>({[e]:o(e)})))),c=Bu(s.semver)+a,u=Array.from(new Set(r.map((e=>e.operator)))),h=u[0]||"",p=Su.some((e=>a.includes(e))),d="<"===u[0]||"<="===u[0],f=">"===u[0],m=u.length>1;return p||!d&&!m?(f?">=":h)+c:function(e,t){return"^"===t||"~"===t?t+e:function(e){const[t]=mu.parseRange(e);return Du(t,"major")}(e)+t}(c,n.wildcard)}const zu=(e,t)=>{const n=Nu(t),i=ha(e);if(!i)return e;const r=decodeURIComponent(i.branch).replace(/^semver:/,"");return e.replace(r,Wu(r,((e,t)=>{const n=Bu(e);let i=n?n+t:t;return i=Iu(e)?i.slice(0,i.length-4):i,i=Lu(e)?i.slice(0,i.length-2):i,i})(r,n)))},Gu={silent:0,error:1,minimal:2,warn:3,info:4,verbose:5,silly:6},Vu=e=>!(e.startsWith("file:")||e.startsWith("link:")||e.startsWith("workspace:")||/^[^/:@]+\/\w+/.test(e));function Ku(e,t,n=null,i="log"){!e.json&&"silent"!==e.loglevel&&(null==n||Gu[e.loglevel??"warn"]>=Gu[n])&&console[i](t)}function Yu(e,t){"silent"!==e.loglevel&&console.log(JSON.stringify(t,null,2))}function Ju(e,t,n){Ku(e,Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}),n)}function Zu(e){const t=new yr({colAligns:["left","right","right","right","left","left"],chars:{top:"","top-mid":"","top-left":"","top-right":"",bottom:"","bottom-mid":"","bottom-left":"","bottom-right":"",left:"","left-mid":"",mid:"","mid-mid":"",right:"","right-mid":"",middle:""}});return t.push(...e),t.toString().split("\n").map((e=>e.trimEnd())).join("\n")}function Xu(e){return Uu(e)?Hu(e):$u(e)?Mu(e)[1]:e}async function Qu({from:e,to:t,format:n,ownersChangedDeps:i,pkgFile:r,time:s}){return Zu(await Promise.all(Object.keys(t).sort().map((async o=>{const a=(n?.includes("installedVersion")?await async function(e,t,{pkgFile:n}={}){return t?t.version:(await kr(e,{pkgFile:n}))?.version??null}(o,void 0,{pkgFile:r}):e[o])||"",c=Xu(t[o]||""),u=i?o in i?i[o]?"*owner changed*":"":"*unknown*":"";return[o,a,"",Au(Xu(a),c),u,...[n?.includes("repo")&&await rs(o,void 0,{pkgFile:r})||"",n?.includes("time")&&s?.[o]?s[o]:""].filter((e=>e))]}))))}async function el(e,{current:t,latest:n,upgraded:i,total:r,ownersChangedDeps:s,pkgFile:o,time:a,errors:c}){e.format?.includes("group")||Ku(e,"");const u=xr.green.bold(":)"),l=Object.keys(c||{}).length,h="string"==typeof e.target?e.target:"target",p=Object.keys(i).length;0===p&&0===r&&0===l?0===Object.keys(t).length?Ku(e,"No dependencies."):n&&0===Object.keys(n).length&&Object.values(Dr(t,((e,t)=>Vu(t)))).length>0?Ku(e,`No package versions were returned. This may be a problem with your installed ${e.packageManager}, the npm registry, or your Internet connection. Make sure ${xr.cyan("npx pacote packument ncu-test-v2")} is working before reporting an issue.`):e.global?Ku(e,`All global packages are up-to-date ${u}`):Ku(e,`All dependencies match the ${h} package versions ${u}`):0===p&&r>0?Ku(e,`No dependencies upgraded ${u}`):p>0&&await async function({current:e,upgraded:t,ownersChangedDeps:n,pkgFile:i,time:r},s){if(s.format?.includes("group")){const o=Ru(t,e,s);for(const{heading:t,packages:a}of o)Ku(s,"\n"+t),Ku(s,await Qu({from:e,to:a,format:s.format,ownersChangedDeps:n,pkgFile:i,time:r}))}else s.format?.includes("lines")?function(e){console.log(Object.keys(e).map((t=>t+"@"+e[t])).join("\n"))}(t):Ku(s,await Qu({from:e,to:t,format:s.format,ownersChangedDeps:n,pkgFile:i,time:r}))}({current:t,upgraded:i,ownersChangedDeps:s,pkgFile:o,time:a},e),function(e,t){if(t&&Object.keys(t).length>0){const n=new yr({colAligns:["left","right","right","right","left","left"],chars:{top:"","top-mid":"","top-left":"","top-right":"",bottom:"","bottom-mid":"","bottom-left":"","bottom-right":"",left:"","left-mid":"",mid:"","mid-mid":"",right:"","right-mid":"",middle:""}});n.push(...Object.entries(t).map((([e,t])=>[e,xr.yellow(t)]))),Ku(e,"\n"+n.toString())}}(e,c)}const tl="___",nl=".ncu-cache.json",il=`~/${nl}`,rl=r.join(u.homedir(),nl);function sl(e){return e===il?rl:e}const ol=(e,t=92)=>{const n=e.split("\n"),i=[];return n.forEach((e=>{let n=0;if(0!==e.length){for(;n<e.length;){const r=e.slice(n,n+t+1),s=r.trimEnd();if(s.length<=t){i.push(s);break}const o=r.split("").reverse().join("").match(/[ -][^\W]/)?.index||0,a=r.slice(0,r.length-o);if(0===a.length)break;i.push(a.trimEnd()),n+=a.length}n=0}else i.push("")})),i.join("\n").trim()},al=e=>"\n  <tr>"+e.map((e=>`<td>${e}</td>`)).join("")+"</tr>",cl=({colAligns:e,markdown:t,rows:n})=>{if(t)return`<table>${n.map(al).join("")}\n</table>`;{const i=new yr({...e?{colAligns:e}:null});return i.push(...t?n:(e=>e.map((([e,t])=>[e,ol(t)])))(n)),i.toString()}},ul=(e,t)=>e.split("\n").map((e=>`${"".padStart(t," ")}${e}`)).join("\n"),ll=(e,{markdown:t}={})=>`${t?"```js\n":""}${ul(e,t?0:4)}${t?"\n```":""}`,hl=e=>e.replace(/`/g,""),pl=[{long:"cache",description:`Cache versions to a local cache file. Default \`--cacheFile\` is ${il} and default \`--cacheExpiration\` is 10 minutes.`,type:"boolean"},{long:"cacheClear",description:"Clear the default cache, or the cache file specified by `--cacheFile`.",type:"boolean"},{long:"cacheExpiration",arg:"min",description:"Cache expiration in minutes. Only works with `--cache`.",parse:e=>parseInt(e,10),default:10,type:"number"},{long:"cacheFile",arg:"path",description:"Filepath for the cache file. Only works with `--cache`.",parse:e=>r.isAbsolute(e)?e:r.join(process.cwd(),e),default:il,type:"string"},{long:"color",description:"Force color in terminal.",type:"boolean"},{long:"concurrency",arg:"n",description:"Max number of concurrent HTTP requests to registry.",parse:e=>parseInt(e,10),default:8,type:"number"},{long:"configFileName",arg:"s",description:"Config file name. (default: .ncurc.{json,yml,js,cjs})",type:"string"},{long:"configFilePath",arg:"path",description:"Directory of .ncurc config file. (default: directory of `packageFile`)",type:"string"},{long:"cwd",arg:"path",description:"Working directory in which npm will be executed.",type:"string"},{long:"deep",description:"Run recursively in current working directory. Alias of (`--packageFile '**/package.json'`).",type:"boolean"},{long:"dep",arg:"value",description:"Check one or more sections of dependencies only: dev, optional, peer, prod, or packageManager (comma-delimited).",default:["prod","dev","optional","packageManager"],parse:e=>e&&"string"==typeof e?e.split(","):e,type:"string | string[]"},{long:"deprecated",default:!0,description:"Include deprecated packages. Use `--no-deprecated` to exclude deprecated packages (uses more bandwidth).",type:"boolean"},{long:"doctor",short:"d",description:"Iteratively installs upgrades and runs tests to identify breaking upgrades. Requires `-u` to execute.",type:"boolean",help:({markdown:e})=>`Iteratively installs upgrades and runs your project's tests to identify breaking upgrades. Reverts broken upgrades and updates package.json with working upgrades.\n\n${xr.yellow("Requires `-u` to execute")} (modifies your package file, lock file, and node_modules)\n\nTo be more precise:\n\n1. Runs \`npm install\` and \`npm test\` to ensure tests are currently passing.\n2. Runs \`ncu -u\` to optimistically upgrade all dependencies.\n3. If tests pass, hurray!\n4. If tests fail, restores package file and lock file.\n5. For each dependency, install upgrade and run tests.\n6. Prints broken upgrades with test error.\n7. Saves working upgrades to package.json.\n\nAdditional options:\n\n${cl({markdown:e,rows:[[xr.cyan("--doctorInstall"),"specify a custom install script (default: `npm install` or `yarn`)"],[xr.cyan("--doctorTest"),"specify a custom test script (default: `npm test`)"]]})}\n\nExample:\n\n    $ ncu --doctor -u\n    Running tests before upgrading\n    npm install\n    npm run test\n    Upgrading all dependencies and re-running tests\n    ncu -u\n    npm install\n    npm run test\n    Tests failed\n    Identifying broken dependencies\n    npm install\n    npm install --no-save react@16.0.0\n    npm run test\n       react 15.0.0  16.0.0\n    npm install --no-save react-redux@7.0.0\n    npm run test\n       react-redux 6.0.0  7.0.0\n\n    /projects/myproject/test.js:13\n      throw new Error('Test failed!')\n      ^\n\n    npm install --no-save react-dnd@11.1.3\n    npm run test\n       react-dnd 10.0.0  11.1.3\n    Saving partially upgraded package.json\n`},{long:"doctorInstall",arg:"command",description:"Specifies the install script to use in doctor mode. (default: `npm install` or the equivalent for your package manager)",type:"string"},{long:"doctorTest",arg:"command",description:"Specifies the test script to use in doctor mode. (default: `npm test`)",type:"string"},{long:"enginesNode",description:"Include only packages that satisfy engines.node as specified in the package file.",type:"boolean"},{long:"errorLevel",short:"e",arg:"n",description:"Set the error level. 1: exits with error code 0 if no errors occur. 2: exits with error code 0 if no packages need updating (useful for continuous integration).",parse:e=>parseInt(e,10),default:1,type:"number"},{long:"filter",short:"f",arg:"p",description:"Include only package names matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function.",type:"string | RegExp | (string | RegExp)[] | FilterFunction",parse:(e,t)=>[...t||[],e],help:({markdown:e})=>{const t=t=>e?`\`${t}\``:t;return`Include only package names matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function. Only included packages will be checked with ${t("--peer")}.\n\n${t("--filter")} runs _before_ new versions are fetched, in contrast to ${t("--filterResults")} which runs _after_.\n\nThe predicate function is only available in .ncurc.js or when importing npm-check-updates as a module, not on the command line.\n\n${ll(`${xr.gray("/**\n  @param name     The name of the dependency.\n  @param semver   A parsed Semver array of the upgraded version.\n    (See: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring)\n  @returns        True if the package should be included, false if it should be excluded.\n*/")}\n${xr.green("filterFunction")}: (name, semver) ${xr.cyan("=>")} {\n  ${xr.red("if")} (name.startsWith(${xr.yellow("'@myorg/'")})) {\n    ${xr.red("return")} ${xr.cyan("false")}\n  }\n  ${xr.red("return")} ${xr.cyan("true")}\n}`,{markdown:e})}\n\n`}},{long:"filterResults",arg:"fn",cli:!1,description:"Filters out upgrades based on a user provided function.",type:"FilterResultsFunction",help:({markdown:e})=>{const t=t=>e?`\`${t}\``:t;return`Filters out upgrades based on a user provided function.\n\n${t("filterResults")} runs _after_ new versions are fetched, in contrast to ${t("filter")}, ${t("reject")}, ${t("filterVersion")}, and ${t("rejectVersion")}, which run _before_. This allows you to filter out upgrades with ${t("filterResults")} based on how the version has changed (e.g. a major version change).\n\nOnly available in .ncurc.js or when importing npm-check-updates as a module.\n\n${ll(`${xr.gray("/** Filter out non-major version updates.\n  @param {string} packageName        The name of the dependency.\n  @param {string} current            Current version declaration (may be a range).\n  @param {SemVer[]} currentSemver    Current version declaration in semantic versioning format (may be a range).\n  @param {string} upgraded           Upgraded version.\n  @param {SemVer} upgradedSemver     Upgraded version in semantic versioning format.\n  @returns {boolean}                 Return true if the upgrade should be kept, otherwise it will be ignored.\n*/")}\n${xr.green("filterResults")}: (packageName, { current, currentSemver, upgraded, upgradedSemver }) ${xr.cyan("=>")} {\n  ${xr.cyan("const")} currentMajor ${xr.red("=")} parseInt(currentSemver[${xr.cyan("0")}]?.major, ${xr.cyan("10")})\n  ${xr.cyan("const")} upgradedMajor ${xr.red("=")} parseInt(upgradedSemver?.major, ${xr.cyan("10")})\n  ${xr.red("if")} (currentMajor ${xr.red("&&")} upgradedMajor) {\n    ${xr.red("return")} currentMajor ${xr.red("<")} upgradedMajor\n  }\n  ${xr.red("return")} ${xr.cyan("true")}\n}`,{markdown:e})}\n\nFor the SemVer type definition, see: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring\n\n`}},{long:"filterVersion",arg:"p",description:"Filter on package version using comma-or-space-delimited list, /regex/, or predicate function.",type:"string | RegExp | (string | RegExp)[] | FilterFunction",parse:(e,t)=>[...t||[],e],help:({markdown:e})=>`Include only versions matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function.\n\nThe predicate function is only available in .ncurc.js or when importing npm-check-updates as a module, not on the command line. This function is an alias for the filter option function.\n\n${ll(`${xr.gray("/**\n  @param name     The name of the dependency.\n  @param semver   A parsed Semver array of the upgraded version.\n    (See: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring)\n  @returns        True if the package should be included, false if it should be excluded.\n*/")}\n${xr.green("filterVersionFunction")}: (name, semver) ${xr.cyan("=>")} {\n  ${xr.red("if")} (name.startsWith(${xr.yellow("'@myorg/'")}) ${xr.red("&&")} parseInt(semver[0]?.major) ${xr.cyan(">")} ${xr.cyan("5")}) {\n    ${xr.red("return")} ${xr.cyan("false")}\n  }\n  ${xr.red("return")} ${xr.cyan("true")}\n}`,{markdown:e})}\n\n`},{long:"format",arg:"value",description:"Modify the output formatting or show additional information. Specify one or more comma-delimited values: group, ownerChanged, repo, time, lines, installedVersion.",parse:e=>"string"==typeof e?e.split(","):e,default:[],type:"string[]",choices:["group","ownerChanged","repo","time","lines","installedVersion"],help:({markdown:e})=>{const t=cl({colAligns:["right","left"],markdown:e,rows:[["group","Groups packages by major, minor, patch, and major version zero updates."],["ownerChanged","Shows if the package owner has changed."],["repo","Infers and displays links to the package's source code repository. Requires packages to be installed."],["time","Shows the publish time of each upgrade."],["lines","Prints name@version on separate lines. Useful for piping to npm install."],["installedVersion","Prints the exact current version number instead of a range."]]});return`Modify the output formatting or show additional information. Specify one or more comma-delimited values.\n\n${ul(t,e?0:4)}\n`}},{long:"global",short:"g",description:"Check global packages instead of in the current project.",type:"boolean"},{long:"groupFunction",arg:"fn",cli:!1,description:"Customize how packages are divided into groups when using `--format group`.",type:"GroupFunction",help:({markdown:e})=>`Customize how packages are divided into groups when using \`--format group\`.\n\nOnly available in .ncurc.js or when importing npm-check-updates as a module, not on the command line.\n\n${ll(`${xr.gray("/**\n  @param name             The name of the dependency.\n  @param defaultGroup     The predefined group name which will be used by default.\n  @param currentSpec      The current version range in your package.json.\n  @param upgradedSpec     The upgraded version range that will be written to your package.json.\n  @param upgradedVersion  The upgraded version number returned by the registry.\n  @returns                A predefined group name ('major' | 'minor' | 'patch' | 'majorVersionZero' | 'none') or a custom string to create your own group.\n*/")}\n${xr.green("groupFunction")}: (name, defaultGroup, currentSpec, upgradedSpec, upgradedVersion) ${xr.cyan("=>")} {\n  ${xr.red("if")} (name ${xr.red("===")} ${xr.yellow("'typescript'")} ${xr.red("&&")} defaultGroup ${xr.red("===")} ${xr.yellow("'minor'")}) {\n    ${xr.red("return")} ${xr.yellow("'major'")}\n  }\n  ${xr.red("if")} (name.startsWith(${xr.yellow("'@myorg/'")})) {\n    ${xr.red("return")} ${xr.yellow("'My Org'")}\n  }\n  ${xr.red("return")} defaultGroup\n}`,{markdown:e})}\n\n`},{long:"install",arg:"value",description:"Control the auto-install behavior: always, never, prompt.",help:({markdown:e})=>{const t=cl({colAligns:["right","left"],markdown:e,rows:[["always","Runs your package manager's install command automatically after upgrading."],["never","Does not install and does not prompt."],["prompt","Shows a message after upgrading that recommends an install, but does not install. In interactive mode, prompts for install. (default)"]]});return`Control the auto-install behavior.\n\n${ul(t,e?0:4)}\n`},default:"prompt",choices:["always","never","prompt"],type:"'always' | 'never' | 'prompt'"},{long:"interactive",short:"i",description:"Enable interactive prompts for each dependency; implies `-u` unless one of the json options are set.",type:"boolean"},{long:"jsonAll",short:"j",description:"Output new package file instead of human-readable message.",type:"boolean"},{long:"jsonDeps",description:"Like `jsonAll` but only lists `dependencies`, `devDependencies`, `optionalDependencies`, etc of the new package data.",type:"boolean"},{long:"jsonUpgraded",description:"Output upgraded dependencies in json.",type:"boolean"},{long:"loglevel",short:"l",arg:"n",description:"Amount to log: silent, error, minimal, warn, info, verbose, silly.",default:"warn",type:"string"},{long:"mergeConfig",description:"Merges nested configs with the root config file for `--deep` or `--packageFile` options. (default: false)",type:"boolean"},{long:"minimal",short:"m",description:"Do not upgrade newer versions that are already satisfied by the version range according to semver.",type:"boolean"},{long:"packageData",arg:"value",description:"Package file data (you can also use stdin).",type:"string | PackageFile"},{long:"packageFile",arg:"path|glob",description:"Package file(s) location. (default: ./package.json)",type:"string"},{long:"packageManager",short:"p",arg:"s",description:"npm, yarn, pnpm, deno, bun, staticRegistry (default: npm).",help:({markdown:e})=>{const t=cl({colAligns:["right","left"],markdown:e,rows:[["npm","System-installed npm. Default."],["yarn","System-installed yarn. Automatically used if yarn.lock is present."],["pnpm","System-installed pnpm. Automatically used if pnpm-lock.yaml is present."],["bun","System-installed bun. Automatically used if bun.lockb is present."]]});return`Specifies the package manager to use when looking up versions.\n\n${ul(t,e?0:4)}\n`},type:"'npm' | 'yarn' | 'pnpm' | 'deno' | 'bun' | 'staticRegistry'"},{long:"peer",description:"Check peer dependencies of installed packages and filter updates to compatible versions.",type:"boolean",help:({markdown:e})=>{const t=t=>e?`\`${t}\``:t;return`Check peer dependencies of installed packages and filter updates to compatible versions.\n\n${xr.bold("Example")}:\n\nThe following example demonstrates how \`--peer\` works, and how it uses peer dependencies from upgraded modules.\n\nThe package ${xr.bold("ncu-test-peer-update")} has two versions published:\n\n- 1.0.0 has peer dependency ${t('"ncu-test-return-version": "1.0.x"')}\n- 1.1.0 has peer dependency ${t('"ncu-test-return-version": "1.1.x"')}\n\nOur test app has the following dependencies:\n\n    "ncu-test-peer-update": "1.0.0",\n    "ncu-test-return-version": "1.0.0"\n\nThe latest versions of these packages are:\n\n    "ncu-test-peer-update": "1.1.0",\n    "ncu-test-return-version": "2.0.0"\n\n${xr.bold("With `--peer`")}:\n\nncu upgrades packages to the highest version that still adheres to the peer dependency constraints:\n\n    ncu-test-peer-update     1.0.0    1.${xr.cyan("1.0")}\n    ncu-test-return-version  1.0.0    1.${xr.cyan("1.0")}\n\n${xr.bold("Without `--peer`")}:\n\nAs a comparison: without using the \`--peer\` option, ncu will suggest the latest versions, ignoring peer dependencies:\n\n    ncu-test-peer-update     1.0.0    1.${xr.cyan("1.0")}\n    ncu-test-return-version  1.0.0    ${xr.red("2.0.0")}\n`}},{long:"pre",arg:"n",description:"Include prerelease versions, e.g. -alpha.0, -beta.5, -rc.2. Automatically set to 1 when `--target` is newest or greatest, or when the current version is a prerelease. (default: 0)",parse:e=>!!parseInt(e,10),type:"number"},{long:"prefix",arg:"path",description:"Current working directory of npm.",type:"string"},{long:"registry",short:"r",arg:"uri",description:"Specify the registry to use when looking up package versions.",type:"string"},{long:"registryType",arg:"type",description:"Specify whether --registry refers to a full npm registry or a simple JSON file or url: npm, json. (default: npm)",help:({markdown:e})=>{const t=`Specify whether ${i="--registry",e?`\`${i}\``:i} refers to a full npm registry or a simple JSON file.`,n=cl({colAligns:["right","left"],markdown:e,rows:[["npm","Default npm registry"],["json",`Checks versions from a file or url to a simple JSON registry. Must include the ${xr.cyan("`--registry`")} option.\n\nExample:\n\n    ${xr.gray("// local file")}\n    ${xr.cyan("$")} ncu --registryType json --registry ./registry.json\n\n    ${xr.gray("// url")}\n    ${xr.cyan("$")} ncu --registryType json --registry https://api.mydomain/registry.json\n\n    ${xr.gray("// you can omit --registryType when the registry ends in .json")}\n    ${xr.cyan("$")} ncu --registry ./registry.json\n    ${xr.cyan("$")} ncu --registry https://api.mydomain/registry.json\n\nregistry.json:\n\n    {\n      "prettier": "2.7.1",\n      "typescript": "4.7.4"\n    }\n\n`]]});var i;return`${t}\n\n${ul(n,e?0:4)}\n`},type:"'npm' | 'json'"},{long:"reject",short:"x",arg:"p",description:"Exclude packages matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function.",type:"string | RegExp | (string | RegExp)[] | FilterFunction",parse:(e,t)=>[...t||[],e],help:({markdown:e})=>{const t=t=>e?`\`${t}\``:t;return`The inverse of ${t("--filter")}. Exclude package names matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function. This will also exclude them from the ${t("--peer")} check.\n\n${t("--reject")} runs _before_ new versions are fetched, in contrast to ${t("--filterResults")} which runs _after_.\n\nThe predicate function is only available in .ncurc.js or when importing npm-check-updates as a module, not on the command line.\n\n${ll(`${xr.gray("/**\n  @param name     The name of the dependency.\n  @param semver   A parsed Semver array of the upgraded version.\n    (See: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring)\n  @returns        True if the package should be excluded, false if it should be included.\n*/")}\n${xr.green("rejectFunction")}: (name, semver) ${xr.cyan("=>")} {\n  ${xr.red("if")} (name.startsWith(${xr.yellow("'@myorg/'")})) {\n    ${xr.red("return")} ${xr.cyan("true")}\n  }\n  ${xr.red("return")} ${xr.cyan("false")}\n}`,{markdown:e})}\n\n`}},{long:"rejectVersion",arg:"p",description:"Exclude package.json versions using comma-or-space-delimited list, /regex/, or predicate function.",type:"string | RegExp | (string | RegExp)[] | FilterFunction",parse:(e,t)=>[...t||[],e],help:({markdown:e})=>{return`The inverse of ${t="--filterVersion",e?`\`${t}\``:t}. Exclude versions matching the given string, wildcard, glob, comma-or-space-delimited list, /regex/, or predicate function.\n\nThe predicate function is only available in .ncurc.js or when importing npm-check-updates as a module, not on the command line. This function is an alias for the reject option function.\n\n${ll(`${xr.gray("/**\n  @param name     The name of the dependency.\n  @param semver   A parsed Semver array of the upgraded version.\n    (See: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring)\n  @returns        True if the package should be excluded, false if it should be included.\n*/")}\n${xr.green("rejectVersionFunction")}: (name, semver) ${xr.cyan("=>")} {\n  ${xr.red("if")} (name.startsWith(${xr.yellow("'@myorg/'")}) ${xr.red("&&")} parseInt(semver[0]?.major) ${xr.cyan(">")} ${xr.cyan("5")}) {\n    ${xr.red("return")} ${xr.cyan("true")}\n  }\n  ${xr.red("return")} ${xr.cyan("false")}\n}`,{markdown:e})}\n\n`;var t}},{long:"removeRange",description:"Remove version ranges from the final package version.",type:"boolean"},{long:"root",default:!0,description:"Runs updates on the root project in addition to specified workspaces. Only allowed with `--workspace` or `--workspaces`.",type:"boolean"},{long:"retry",arg:"n",description:"Number of times to retry failed requests for package info.",parse:e=>parseInt(e,10),default:3,type:"number"},{long:"silent",short:"s",description:"Don't output anything. Alias for `--loglevel` silent.",type:"boolean"},{long:"stdin",description:"Read package.json from stdin.",type:"string"},{long:"target",short:"t",arg:"value",description:"Determines the version to upgrade to: latest, newest, greatest, minor, patch, semver, `@[tag]`, or [function]. (default: latest)",help:({markdown:e})=>{const t=cl({colAligns:["right","left"],markdown:e,rows:[["greatest","Upgrade to the highest version number published, regardless of release date or tag. Includes prereleases."],["latest",'Upgrade to whatever the package\'s "latest" git tag points to. Excludes prereleases unless --pre is specified.'],["minor","Upgrade to the highest minor version without bumping the major version."],["newest","Upgrade to the version with the most recent publish date, even if there are other version numbers that are higher. Includes prereleases."],["patch","Upgrade to the highest patch version without bumping the minor or major versions."],["semver","Upgrade to the highest version within the semver range specified in your package.json."],["@[tag]","Upgrade to the version published to a specific tag, e.g. 'next' or 'beta'."]]});return`Determines the version to upgrade to. (default: "latest")\n\n${ul(t,e?0:4)}\n\nYou can also specify a custom function in your .ncurc.js file, or when importing npm-check-updates as a module:\n\n${ll(`${xr.gray("/** Upgrade major version zero to the next minor version, and everything else to latest.\n  @param name     The name of the dependency.\n  @param semver   A parsed Semver object of the upgraded version.\n    (See: https://git.coolaj86.com/coolaj86/semver-utils.js#semverutils-parse-semverstring)\n  @returns        One of the valid target values (specified in the table above).\n*/")}\n${xr.green("target")}: (name, semver) ${xr.cyan("=>")} {\n  ${xr.red("if")} (parseInt(semver[0]?.major) ${xr.red("===")} ${xr.yellow("'0'")}) ${xr.red("return")} ${xr.yellow("'minor'")}\n  ${xr.red("return")} ${xr.yellow("'latest'")}\n}`,{markdown:e})}\n`},type:`${["latest","newest","greatest","minor","patch","semver"].map((e=>`'${e}'`)).join(" | ")} | \`@\${string}\` | TargetFunction`},{long:"timeout",arg:"ms",description:"Global timeout in milliseconds. (default: no global timeout and 30 seconds per npm-registry-fetch)",parse:e=>parseInt(e,10),type:"number"},{long:"upgrade",short:"u",description:"Overwrite package file with upgraded versions instead of just outputting to console.",type:"boolean"},{long:"verbose",description:"Log additional information for debugging. Alias for `--loglevel` verbose.",type:"boolean"},{long:"workspace",short:"w",arg:"s",parse:(e,t)=>[...t,e],default:[],description:"Run on one or more specified workspaces. Add `--root` to also upgrade the root project.",type:"string[]"},{long:"workspaces",short:"ws",description:"Run on all workspaces. Add `--root` to also upgrade the root project.",type:"boolean"}],dl=pl.reduce(((e,t)=>({...e,...t.short?{[t.short]:t}:null,...t.long?{[t.long]:t}:null})),{}),fl=gu(pl,(e=>e.long));async function ml(e,t=h.readdir){try{let n=e.cwd?e.cwd:e.packageFile?r.dirname(e.packageFile):".";for(;;){const e=await t(n);if(e.includes("package-lock.json"))return{directoryPath:n,filename:"package-lock.json"};if(e.includes("yarn.lock"))return{directoryPath:n,filename:"yarn.lock"};if(e.includes("pnpm-lock.yaml"))return{directoryPath:n,filename:"pnpm-lock.yaml"};if(e.includes("deno.json"))return{directoryPath:n,filename:"deno.json"};if(e.includes("deno.jsonc"))return{directoryPath:n,filename:"deno.jsonc"};if(e.includes("bun.lockb"))return{directoryPath:n,filename:"bun.lockb"};const i=r.resolve(n,"..");if(i===n)break;n=i}}catch{}return null}const gl={"package-lock":"npm",yarn:"yarn","pnpm-lock":"pnpm",deno:"deno",bun:"bun"},yl=async(e,t=h.readdir)=>{if(e.packageManager)return e.packageManager;if(e.global)return"npm";const n=(await ml(e,t))?.filename;return n?gl[n.split(".")[0]]:"npm"};var bl={exports:{}};const vl=/[\p{Lu}]/u,wl=/[\p{Ll}]/u,_l=/^[\p{Lu}](?![\p{Lu}])/gu,Sl=/([\p{Alpha}\p{N}_]|$)/u,El=/[_.\- ]+/,xl=new RegExp("^"+El.source),Dl=new RegExp(El.source+Sl.source,"gu"),Cl=new RegExp("\\d+"+Sl.source,"gu"),kl=(e,t)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(t={pascalCase:!1,preserveConsecutiveUppercase:!1,...t},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const n=!1===t.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t.locale),i=!1===t.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t.locale);return 1===e.length?t.pascalCase?i(e):n(e):(e!==n(e)&&(e=((e,t,n)=>{let i=!1,r=!1,s=!1;for(let o=0;o<e.length;o++){const a=e[o];i&&vl.test(a)?(e=e.slice(0,o)+"-"+e.slice(o),i=!1,s=r,r=!0,o++):r&&s&&wl.test(a)?(e=e.slice(0,o-1)+"-"+e.slice(o-1),s=r,r=!1,i=!0):(i=t(a)===a&&n(a)!==a,s=r,r=n(a)===a&&t(a)!==a)}return e})(e,n,i)),e=e.replace(xl,""),e=t.preserveConsecutiveUppercase?((e,t)=>(_l.lastIndex=0,e.replace(_l,(e=>t(e)))))(e,n):n(e),t.pascalCase&&(e=i(e.charAt(0))+e.slice(1)),((e,t)=>(Dl.lastIndex=0,Cl.lastIndex=0,e.replace(Dl,((e,n)=>t(n))).replace(Cl,(e=>t(e)))))(e,i))};bl.exports=kl,bl.exports.default=kl;const Rl=T(bl.exports);var Al={exports:{}};function Tl(e,t,n,i){var r=function(e){return null==e||"number"==typeof e||"boolean"==typeof e}(i)?i:n(i),s=t.get(r);return typeof s>"u"&&(s=e.call(this,i),t.set(r,s)),s}function Ol(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=n(i),s=t.get(r);return typeof s>"u"&&(s=e.apply(this,i),t.set(r,s)),s}function Fl(e,t,n,i,r){return n.bind(t,e,i,r)}function Pl(e,t){return Fl(e,this,1===e.length?Tl:Ol,t.cache.create(),t.serializer)}function Il(){return JSON.stringify(arguments)}function Ll(){this.cache=Object.create(null)}Ll.prototype.has=function(e){return e in this.cache},Ll.prototype.get=function(e){return this.cache[e]},Ll.prototype.set=function(e,t){this.cache[e]=t};var Nl={create:function(){return new Ll}};Al.exports=function(e,t){var n=t&&t.cache?t.cache:Nl,i=t&&t.serializer?t.serializer:Il;return(t&&t.strategy?t.strategy:Pl)(e,{cache:n,serializer:i})},Al.exports.strategies={variadic:function(e,t){return Fl(e,this,Ol,t.cache.create(),t.serializer)},monadic:function(e,t){return Fl(e,this,Tl,t.cache.create(),t.serializer)}};const Bl=T(Al.exports),{hasOwnProperty:jl}=Object.prototype,Ml=(e,t={})=>{"string"==typeof t&&(t={section:t}),t.align=!0===t.align,t.newline=!0===t.newline,t.sort=!0===t.sort,t.whitespace=!0===t.whitespace||!0===t.align,t.platform=t.platform||typeof process<"u"&&process.platform,t.bracketedArray=!1!==t.bracketedArray;const n="win32"===t.platform?"\r\n":"\n",i=t.whitespace?" = ":"=",r=[],s=t.sort?Object.keys(e).sort():Object.keys(e);let o=0;t.align&&(o=Hl(s.filter((t=>null===e[t]||Array.isArray(e[t])||"object"!=typeof e[t])).map((t=>Array.isArray(e[t])?`${t}[]`:t)).concat([""]).reduce(((e,t)=>Hl(e).length>=Hl(t).length?e:t))).length);let a="";const c=t.bracketedArray?"[]":"";for(const t of s){const s=e[t];if(s&&Array.isArray(s))for(const e of s)a+=Hl(`${t}${c}`).padEnd(o," ")+i+Hl(e)+n;else s&&"object"==typeof s?r.push(t):a+=Hl(t).padEnd(o," ")+i+Hl(s)+n}t.section&&a.length&&(a="["+Hl(t.section)+"]"+(t.newline?n+n:n)+a);for(const i of r){const r=$l(i,".").join("\\."),s=(t.section?t.section+".":"")+r,o=Ml(e[i],{...t,section:s});a.length&&o.length&&(a+=n),a+=o}return a};function $l(e,t){var n=0,i=0,r=0,s=[];do{if(-1!==(r=e.indexOf(t,n))){if(n=r+t.length,r>0&&"\\"===e[r-1])continue;s.push(e.slice(i,r)),i=r+t.length}}while(-1!==r);return s.push(e.slice(i)),s}const ql=(e,t={})=>{t.bracketedArray=!1!==t.bracketedArray;const n=Object.create(null);let i=n,r=null;const s=/^\[([^\]]*)\]\s*$|^([^=]+)(=(.*))?$/i,o=e.split(/[\r\n]+/g),a={};for(const e of o){if(!e||e.match(/^\s*[;#]/)||e.match(/^\s*$/))continue;const o=e.match(s);if(!o)continue;if(void 0!==o[1]){if(r=Wl(o[1]),"__proto__"===r){i=Object.create(null);continue}i=n[r]=n[r]||Object.create(null);continue}const c=Wl(o[2]);let u;t.bracketedArray?u=c.length>2&&"[]"===c.slice(-2):(a[c]=(a?.[c]||0)+1,u=a[c]>1);const l=u&&c.endsWith("[]")?c.slice(0,-2):c;if("__proto__"===l)continue;const h=!o[3]||Wl(o[4]),p="true"===h||"false"===h||"null"===h?JSON.parse(h):h;u&&(jl.call(i,l)?Array.isArray(i[l])||(i[l]=[i[l]]):i[l]=[]),Array.isArray(i[l])?i[l].push(p):i[l]=p}const c=[];for(const e of Object.keys(n)){if(!jl.call(n,e)||"object"!=typeof n[e]||Array.isArray(n[e]))continue;const t=$l(e,".");i=n;const r=t.pop(),s=r.replace(/\\\./g,".");for(const e of t)"__proto__"!==e&&((!jl.call(i,e)||"object"!=typeof i[e])&&(i[e]=Object.create(null)),i=i[e]);i===n&&s===r||(i[s]=n[e],c.push(e))}for(const e of c)delete n[e];return n},Ul=e=>e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"),Hl=e=>"string"!=typeof e||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&Ul(e)||e!==e.trim()?JSON.stringify(e):e.split(";").join("\\;").split("#").join("\\#"),Wl=e=>{if(e=(e||"").trim(),!Ul(e)){let t=!1,n="";for(let i=0,r=e.length;i<r;i++){const r=e.charAt(i);if(t)-1!=="\\;#".indexOf(r)?n+=r:n+="\\"+r,t=!1;else{if(-1!==";#".indexOf(r))break;"\\"===r?t=!0:n+=r}}return t&&(n+="\\"),n.trim()}"'"===e.charAt(0)&&(e=e.slice(1,-1));try{e=JSON.parse(e)}catch{}return e},zl=T({parse:ql,decode:ql,stringify:Ml,encode:Ml,safe:Hl,unsafe:Wl});var Gl={exports:{}};const{URL:Vl}=p;class Kl extends Error{constructor(e,t,n,i){super(),this.name=this.constructor.name,this.headers="function"==typeof t.headers?.raw?t.headers.raw():t.headers,this.statusCode=t.status,this.code=`E${t.status}`,this.method=e,this.uri=t.url,this.body=n,this.pkgid=i?i.toString():function(e){try{let n=new Vl(e).pathname.slice(1);if(!n.match(/^-/)){n=n.split("/");var t=n.indexOf("_rewrite");return-1===t?t=n.length-1:t++,decodeURIComponent(n[t])}}catch{}}(t.url),Error.captureStackTrace(this,this.constructor)}}var Yl={HttpErrorBase:Kl,HttpErrorGeneral:class extends Kl{constructor(e,t,n,i){super(e,t,n,i),this.message=`${t.status} ${t.statusText} - ${this.method.toUpperCase()} ${this.spec||this.uri}${n&&n.error?" - "+n.error:""}`}},HttpErrorAuthOTP:class extends Kl{constructor(e,t,n,i){super(e,t,n,i),this.message="OTP required for authentication",this.code="EOTP"}},HttpErrorAuthIPAddress:class extends Kl{constructor(e,t,n,i){super(e,t,n,i),this.message="Login is not allowed from your IP address",this.code="EAUTHIP"}},HttpErrorAuthUnknown:class extends Kl{constructor(e,t,n,i){super(e,t,n,i),this.message="Unable to authenticate, need: "+t.headers.get("www-authenticate")}}},Jl={};const Zl=y.constants||{ZLIB_VERNUM:4736};var Xl=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},Zl));const Ql="object"==typeof process&&process?process:{stdout:null,stderr:null},eh=o,th=b,nh=v.StringDecoder,ih=Symbol("EOF"),rh=Symbol("maybeEmitEnd"),sh=Symbol("emittedEnd"),oh=Symbol("emittingEnd"),ah=Symbol("emittedError"),ch=Symbol("closed"),uh=Symbol("read"),lh=Symbol("flush"),hh=Symbol("flushChunk"),ph=Symbol("encoding"),dh=Symbol("decoder"),fh=Symbol("flowing"),mh=Symbol("paused"),gh=Symbol("resume"),yh=Symbol("bufferLength"),bh=Symbol("bufferPush"),vh=Symbol("bufferShift"),wh=Symbol("objectMode"),_h=Symbol("destroyed"),Sh=Symbol("emitData"),Eh=Symbol("emitEnd"),xh=Symbol("emitEnd2"),Dh=Symbol("async"),Ch=e=>Promise.resolve().then(e),kh="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Rh=kh&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Ah=kh&&Symbol.iterator||Symbol("iterator not implemented");let Th=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[gh](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Oh=class extends Th{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};const Fh=m,Ph=g.Buffer,Ih=y,Lh=Jl.constants=Xl,Nh=class e extends th{constructor(e){super(),this[fh]=!1,this[mh]=!1,this.pipes=[],this.buffer=[],this[wh]=e&&e.objectMode||!1,this[wh]?this[ph]=null:this[ph]=e&&e.encoding||null,"buffer"===this[ph]&&(this[ph]=null),this[Dh]=e&&!!e.async||!1,this[dh]=this[ph]?new nh(this[ph]):null,this[ih]=!1,this[sh]=!1,this[oh]=!1,this[ch]=!1,this[ah]=null,this.writable=!0,this.readable=!0,this[yh]=0,this[_h]=!1}get bufferLength(){return this[yh]}get encoding(){return this[ph]}set encoding(e){if(this[wh])throw new Error("cannot set encoding in objectMode");if(this[ph]&&e!==this[ph]&&(this[dh]&&this[dh].lastNeed||this[yh]))throw new Error("cannot change encoding");this[ph]!==e&&(this[dh]=e?new nh(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[dh].write(e))))),this[ph]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[wh]}set objectMode(e){this[wh]=this[wh]||!!e}get async(){return this[Dh]}set async(e){this[Dh]=this[Dh]||!!e}write(e,t,n){if(this[ih])throw new Error("write after end");if(this[_h])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[Dh]?Ch:e=>e();return!this[wh]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[wh]?(this.flowing&&0!==this[yh]&&this[lh](!0),this.flowing?this.emit("data",e):this[bh](e),0!==this[yh]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[ph]&&!this[dh].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[ph]&&(e=this[dh].write(e)),this.flowing&&0!==this[yh]&&this[lh](!0),this.flowing?this.emit("data",e):this[bh](e),0!==this[yh]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[yh]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[_h])return null;if(0===this[yh]||0===e||e>this[yh])return this[rh](),null;this[wh]&&(e=null),this.buffer.length>1&&!this[wh]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[yh])]);const t=this[uh](e||null,this.buffer[0]);return this[rh](),t}[uh](e,t){return e===t.length||null===e?this[vh]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[yh]-=e),this.emit("data",t),!this.buffer.length&&!this[ih]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[ih]=!0,this.writable=!1,(this.flowing||!this[mh])&&this[rh](),this}[gh](){this[_h]||(this[mh]=!1,this[fh]=!0,this.emit("resume"),this.buffer.length?this[lh]():this[ih]?this[rh]():this.emit("drain"))}resume(){return this[gh]()}pause(){this[fh]=!1,this[mh]=!0}get destroyed(){return this[_h]}get flowing(){return this[fh]}get paused(){return this[mh]}[bh](e){this[wh]?this[yh]+=1:this[yh]+=e.length,this.buffer.push(e)}[vh](){return this.buffer.length&&(this[wh]?this[yh]-=1:this[yh]-=this.buffer[0].length),this.buffer.shift()}[lh](e){do{}while(this[hh](this[vh]()));!e&&!this.buffer.length&&!this[ih]&&this.emit("drain")}[hh](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[_h])return;const n=this[sh];return t=t||{},e===Ql.stdout||e===Ql.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new Oh(this,e,t):new Th(this,e,t)),this[Dh]?Ch((()=>this[gh]())):this[gh]()),e}unpipe(e){const t=this.pipes.find((t=>t.dest===e));t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this.pipes.length||this.flowing?"readable"===e&&0!==this[yh]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[sh]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[ah]&&(this[Dh]?Ch((()=>t.call(this,this[ah]))):t.call(this,this[ah])):this[gh](),n}get emittedEnd(){return this[sh]}[rh](){!this[oh]&&!this[sh]&&!this[_h]&&0===this.buffer.length&&this[ih]&&(this[oh]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ch]&&this.emit("close"),this[oh]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==_h&&this[_h])return;if("data"===e)return!!t&&(this[Dh]?Ch((()=>this[Sh](t))):this[Sh](t));if("end"===e)return this[Eh]();if("close"===e){if(this[ch]=!0,!this[sh]&&!this[_h])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[ah]=t;const e=super.emit("error",t);return this[rh](),e}if("resume"===e){const e=super.emit("resume");return this[rh](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[rh](),i}[Sh](e){for(const t of this.pipes)!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[rh](),t}[Eh](){this[sh]||(this[sh]=!0,this.readable=!1,this[Dh]?Ch((()=>this[xh]())):this[xh]())}[xh](){if(this[dh]){const e=this[dh].end();if(e){for(const t of this.pipes)t.dest.write(e);super.emit("data",e)}}for(const e of this.pipes)e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[wh]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[wh]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[wh]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[wh]?Promise.reject(new Error("cannot concat in objectMode")):this[ph]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(_h,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Rh](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[ih])return Promise.resolve({done:!0});let t=null,n=null;const i=e=>{this.removeListener("data",r),this.removeListener("end",s),n(e)},r=e=>{this.removeListener("error",i),this.removeListener("end",s),this.pause(),t({value:e,done:!!this[ih]})},s=()=>{this.removeListener("error",i),this.removeListener("data",r),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{n=a,t=e,this.once(_h,o),this.once("error",i),this.once("end",s),this.once("data",r)}))}}}[Ah](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[_h]?(e?this.emit("error",e):this.emit(_h),this):(this[_h]=!0,this.buffer.length=0,this[yh]=0,"function"==typeof this.close&&!this[ch]&&this.close(),e?this.emit("error",e):this.emit(_h),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof th||t instanceof eh&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}},Bh=Ph.concat,jh=Symbol("_superWrite");class Mh extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}}const $h=Symbol("opts"),qh=Symbol("flushFlag"),Uh=Symbol("finishFlushFlag"),Hh=Symbol("fullFlushFlag"),Wh=Symbol("handle"),zh=Symbol("onError"),Gh=Symbol("sawError"),Vh=Symbol("level"),Kh=Symbol("strategy"),Yh=Symbol("ended");class Jh extends Nh{constructor(e,t){if(!e||"object"!=typeof e)throw new TypeError("invalid options for ZlibBase constructor");super(e),this[Gh]=!1,this[Yh]=!1,this[$h]=e,this[qh]=e.flush,this[Uh]=e.finishFlush;try{this[Wh]=new Ih[t](e)}catch(e){throw new Mh(e)}this[zh]=e=>{this[Gh]||(this[Gh]=!0,this.close(),this.emit("error",e))},this[Wh].on("error",(e=>this[zh](new Mh(e)))),this.once("end",(()=>this.close))}close(){this[Wh]&&(this[Wh].close(),this[Wh]=null,this.emit("close"))}reset(){if(!this[Gh])return Fh(this[Wh],"zlib binding closed"),this[Wh].reset()}flush(e){this.ended||("number"!=typeof e&&(e=this[Hh]),this.write(Object.assign(Ph.alloc(0),{[qh]:e})))}end(e,t,n){return e&&this.write(e,t),this.flush(this[Uh]),this[Yh]=!0,super.end(null,null,n)}get ended(){return this[Yh]}write(e,t,n){if("function"==typeof t&&(n=t,t="utf8"),"string"==typeof e&&(e=Ph.from(e,t)),this[Gh])return;Fh(this[Wh],"zlib binding closed");const i=this[Wh]._handle,r=i.close;i.close=()=>{};const s=this[Wh].close;let o,a;this[Wh].close=()=>{},Ph.concat=e=>e;try{const t="number"==typeof e[qh]?e[qh]:this[qh];o=this[Wh]._processChunk(e,t),Ph.concat=Bh}catch(e){Ph.concat=Bh,this[zh](new Mh(e))}finally{this[Wh]&&(this[Wh]._handle=i,i.close=r,this[Wh].close=s,this[Wh].removeAllListeners("error"))}if(this[Wh]&&this[Wh].on("error",(e=>this[zh](new Mh(e)))),o)if(Array.isArray(o)&&o.length>0){a=this[jh](Ph.from(o[0]));for(let e=1;e<o.length;e++)a=this[jh](o[e])}else a=this[jh](Ph.from(o));return n&&n(),a}[jh](e){return super.write(e)}}class Zh extends Jh{constructor(e,t){(e=e||{}).flush=e.flush||Lh.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Lh.Z_FINISH,super(e,t),this[Hh]=Lh.Z_FULL_FLUSH,this[Vh]=e.level,this[Kh]=e.strategy}params(e,t){if(!this[Gh]){if(!this[Wh])throw new Error("cannot switch params when binding is closed");if(!this[Wh].params)throw new Error("not supported in this implementation");if(this[Vh]!==e||this[Kh]!==t){this.flush(Lh.Z_SYNC_FLUSH),Fh(this[Wh],"zlib binding closed");const n=this[Wh].flush;this[Wh].flush=(e,t)=>{this.flush(e),t()};try{this[Wh].params(e,t)}finally{this[Wh].flush=n}this[Wh]&&(this[Vh]=e,this[Kh]=t)}}}}const Xh=Symbol("_portable");class Qh extends Jh{constructor(e,t){(e=e||{}).flush=e.flush||Lh.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Lh.BROTLI_OPERATION_FINISH,super(e,t),this[Hh]=Lh.BROTLI_OPERATION_FLUSH}}Jl.Deflate=class extends Zh{constructor(e){super(e,"Deflate")}},Jl.Inflate=class extends Zh{constructor(e){super(e,"Inflate")}},Jl.Gzip=class extends Zh{constructor(e){super(e,"Gzip"),this[Xh]=e&&!!e.portable}[jh](e){return this[Xh]?(this[Xh]=!1,e[9]=255,super[jh](e)):super[jh](e)}},Jl.Gunzip=class extends Zh{constructor(e){super(e,"Gunzip")}},Jl.DeflateRaw=class extends Zh{constructor(e){super(e,"DeflateRaw")}},Jl.InflateRaw=class extends Zh{constructor(e){super(e,"InflateRaw")}},Jl.Unzip=class extends Zh{constructor(e){super(e,"Unzip")}},"function"==typeof Ih.BrotliCompress?(Jl.BrotliCompress=class extends Qh{constructor(e){super(e,"BrotliCompress")}},Jl.BrotliDecompress=class extends Qh{constructor(e){super(e,"BrotliDecompress")}}):Jl.BrotliCompress=Jl.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}};var ep={};const tp="object"==typeof process&&process?process:{stdout:null,stderr:null},np=o,ip=b,rp=v.StringDecoder,sp=Symbol("EOF"),op=Symbol("maybeEmitEnd"),ap=Symbol("emittedEnd"),cp=Symbol("emittingEnd"),up=Symbol("emittedError"),lp=Symbol("closed"),hp=Symbol("read"),pp=Symbol("flush"),dp=Symbol("flushChunk"),fp=Symbol("encoding"),mp=Symbol("decoder"),gp=Symbol("flowing"),yp=Symbol("paused"),bp=Symbol("resume"),vp=Symbol("buffer"),wp=Symbol("pipes"),_p=Symbol("bufferLength"),Sp=Symbol("bufferPush"),Ep=Symbol("bufferShift"),xp=Symbol("objectMode"),Dp=Symbol("destroyed"),Cp=Symbol("error"),kp=Symbol("emitData"),Rp=Symbol("emitEnd"),Ap=Symbol("emitEnd2"),Tp=Symbol("async"),Op=Symbol("abort"),Fp=Symbol("aborted"),Pp=Symbol("signal"),Ip=e=>Promise.resolve().then(e),Lp="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Np=Lp&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Bp=Lp&&Symbol.iterator||Symbol("iterator not implemented");let jp=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[bp](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Mp=class extends jp{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};ep.Minipass=class e extends ip{constructor(e){super(),this[gp]=!1,this[yp]=!1,this[wp]=[],this[vp]=[],this[xp]=e&&e.objectMode||!1,this[xp]?this[fp]=null:this[fp]=e&&e.encoding||null,"buffer"===this[fp]&&(this[fp]=null),this[Tp]=e&&!!e.async||!1,this[mp]=this[fp]?new rp(this[fp]):null,this[sp]=!1,this[ap]=!1,this[cp]=!1,this[lp]=!1,this[up]=null,this.writable=!0,this.readable=!0,this[_p]=0,this[Dp]=!1,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[vp]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[wp]}),this[Pp]=e&&e.signal,this[Fp]=!1,this[Pp]&&(this[Pp].addEventListener("abort",(()=>this[Op]())),this[Pp].aborted&&this[Op]())}get bufferLength(){return this[_p]}get encoding(){return this[fp]}set encoding(e){if(this[xp])throw new Error("cannot set encoding in objectMode");if(this[fp]&&e!==this[fp]&&(this[mp]&&this[mp].lastNeed||this[_p]))throw new Error("cannot change encoding");this[fp]!==e&&(this[mp]=e?new rp(e):null,this[vp].length&&(this[vp]=this[vp].map((e=>this[mp].write(e))))),this[fp]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[xp]}set objectMode(e){this[xp]=this[xp]||!!e}get async(){return this[Tp]}set async(e){this[Tp]=this[Tp]||!!e}[Op](){this[Fp]=!0,this.emit("abort",this[Pp].reason),this.destroy(this[Pp].reason)}get aborted(){return this[Fp]}set aborted(e){}write(e,t,n){if(this[Fp])return!1;if(this[sp])throw new Error("write after end");if(this[Dp])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[Tp]?Ip:e=>e();return!this[xp]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[xp]?(this.flowing&&0!==this[_p]&&this[pp](!0),this.flowing?this.emit("data",e):this[Sp](e),0!==this[_p]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[fp]&&!this[mp].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[fp]&&(e=this[mp].write(e)),this.flowing&&0!==this[_p]&&this[pp](!0),this.flowing?this.emit("data",e):this[Sp](e),0!==this[_p]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[_p]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Dp])return null;if(0===this[_p]||0===e||e>this[_p])return this[op](),null;this[xp]&&(e=null),this[vp].length>1&&!this[xp]&&(this.encoding?this[vp]=[this[vp].join("")]:this[vp]=[Buffer.concat(this[vp],this[_p])]);const t=this[hp](e||null,this[vp][0]);return this[op](),t}[hp](e,t){return e===t.length||null===e?this[Ep]():(this[vp][0]=t.slice(e),t=t.slice(0,e),this[_p]-=e),this.emit("data",t),!this[vp].length&&!this[sp]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[sp]=!0,this.writable=!1,(this.flowing||!this[yp])&&this[op](),this}[bp](){this[Dp]||(this[yp]=!1,this[gp]=!0,this.emit("resume"),this[vp].length?this[pp]():this[sp]?this[op]():this.emit("drain"))}resume(){return this[bp]()}pause(){this[gp]=!1,this[yp]=!0}get destroyed(){return this[Dp]}get flowing(){return this[gp]}get paused(){return this[yp]}[Sp](e){this[xp]?this[_p]+=1:this[_p]+=e.length,this[vp].push(e)}[Ep](){return this[xp]?this[_p]-=1:this[_p]-=this[vp][0].length,this[vp].shift()}[pp](e){do{}while(this[dp](this[Ep]())&&this[vp].length);!e&&!this[vp].length&&!this[sp]&&this.emit("drain")}[dp](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[Dp])return;const n=this[ap];return t=t||{},e===tp.stdout||e===tp.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[wp].push(t.proxyErrors?new Mp(this,e,t):new jp(this,e,t)),this[Tp]?Ip((()=>this[bp]())):this[bp]()),e}unpipe(e){const t=this[wp].find((t=>t.dest===e));t&&(this[wp].splice(this[wp].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this[wp].length||this.flowing?"readable"===e&&0!==this[_p]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[ap]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[up]&&(this[Tp]?Ip((()=>t.call(this,this[up]))):t.call(this,this[up])):this[bp](),n}get emittedEnd(){return this[ap]}[op](){!this[cp]&&!this[ap]&&!this[Dp]&&0===this[vp].length&&this[sp]&&(this[cp]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[lp]&&this.emit("close"),this[cp]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==Dp&&this[Dp])return;if("data"===e)return!(!this[xp]&&!t)&&(this[Tp]?Ip((()=>this[kp](t))):this[kp](t));if("end"===e)return this[Rp]();if("close"===e){if(this[lp]=!0,!this[ap]&&!this[Dp])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[up]=t,super.emit(Cp,t);const e=!(this[Pp]&&!this.listeners("error").length)&&super.emit("error",t);return this[op](),e}if("resume"===e){const e=super.emit("resume");return this[op](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[op](),i}[kp](e){for(const t of this[wp])!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[op](),t}[Rp](){this[ap]||(this[ap]=!0,this.readable=!1,this[Tp]?Ip((()=>this[Ap]())):this[Ap]())}[Ap](){if(this[mp]){const e=this[mp].end();if(e){for(const t of this[wp])t.dest.write(e);super.emit("data",e)}}for(const e of this[wp])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[xp]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[xp]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[xp]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[xp]?Promise.reject(new Error("cannot concat in objectMode")):this[fp]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(Dp,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Np](){let e=!1;const t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[sp])return t();let i=null,r=null;const s=e=>{this.removeListener("data",o),this.removeListener("end",a),this.removeListener(Dp,c),t(),r(e)},o=e=>{this.removeListener("error",s),this.removeListener("end",a),this.removeListener(Dp,c),this.pause(),i({value:e,done:!!this[sp]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),this.removeListener(Dp,c),t(),i({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t,i=e,this.once(Dp,c),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:t,return:t,[Np](){return this}}}[Bp](){let e=!1;const t=()=>(this.pause(),this.removeListener(Cp,t),this.removeListener(Dp,t),this.removeListener("end",t),e=!0,{done:!0});return this.once("end",t),this.once(Cp,t),this.once(Dp,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{value:n}},throw:t,return:t,[Bp](){return this}}}destroy(e){return this[Dp]?(e?this.emit("error",e):this.emit(Dp),this):(this[Dp]=!0,this[vp].length=0,this[_p]=0,"function"==typeof this.close&&!this[lp]&&this.close(),e?this.emit("error",e):this.emit(Dp),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof ip||t instanceof np&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}};const $p="object"==typeof process&&process?process:{stdout:null,stderr:null},qp=o,Up=b,Hp=v.StringDecoder,Wp=Symbol("EOF"),zp=Symbol("maybeEmitEnd"),Gp=Symbol("emittedEnd"),Vp=Symbol("emittingEnd"),Kp=Symbol("emittedError"),Yp=Symbol("closed"),Jp=Symbol("read"),Zp=Symbol("flush"),Xp=Symbol("flushChunk"),Qp=Symbol("encoding"),ed=Symbol("decoder"),td=Symbol("flowing"),nd=Symbol("paused"),id=Symbol("resume"),rd=Symbol("bufferLength"),sd=Symbol("bufferPush"),od=Symbol("bufferShift"),ad=Symbol("objectMode"),cd=Symbol("destroyed"),ud=Symbol("emitData"),ld=Symbol("emitEnd"),hd=Symbol("emitEnd2"),pd=Symbol("async"),dd=e=>Promise.resolve().then(e),fd="1"!==A._MP_NO_ITERATOR_SYMBOLS_,md=fd&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),gd=fd&&Symbol.iterator||Symbol("iterator not implemented");let yd=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[id](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},bd=class extends yd{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};const vd=class e extends Up{constructor(e){super(),this[td]=!1,this[nd]=!1,this.pipes=[],this.buffer=[],this[ad]=e&&e.objectMode||!1,this[ad]?this[Qp]=null:this[Qp]=e&&e.encoding||null,"buffer"===this[Qp]&&(this[Qp]=null),this[pd]=e&&!!e.async||!1,this[ed]=this[Qp]?new Hp(this[Qp]):null,this[Wp]=!1,this[Gp]=!1,this[Vp]=!1,this[Yp]=!1,this[Kp]=null,this.writable=!0,this.readable=!0,this[rd]=0,this[cd]=!1}get bufferLength(){return this[rd]}get encoding(){return this[Qp]}set encoding(e){if(this[ad])throw new Error("cannot set encoding in objectMode");if(this[Qp]&&e!==this[Qp]&&(this[ed]&&this[ed].lastNeed||this[rd]))throw new Error("cannot change encoding");this[Qp]!==e&&(this[ed]=e?new Hp(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[ed].write(e))))),this[Qp]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ad]}set objectMode(e){this[ad]=this[ad]||!!e}get async(){return this[pd]}set async(e){this[pd]=this[pd]||!!e}write(e,t,n){if(this[Wp])throw new Error("write after end");if(this[cd])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[pd]?dd:e=>e();return!this[ad]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[ad]?(this.flowing&&0!==this[rd]&&this[Zp](!0),this.flowing?this.emit("data",e):this[sd](e),0!==this[rd]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[Qp]&&!this[ed].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Qp]&&(e=this[ed].write(e)),this.flowing&&0!==this[rd]&&this[Zp](!0),this.flowing?this.emit("data",e):this[sd](e),0!==this[rd]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[rd]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[cd])return null;if(0===this[rd]||0===e||e>this[rd])return this[zp](),null;this[ad]&&(e=null),this.buffer.length>1&&!this[ad]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[rd])]);const t=this[Jp](e||null,this.buffer[0]);return this[zp](),t}[Jp](e,t){return e===t.length||null===e?this[od]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[rd]-=e),this.emit("data",t),!this.buffer.length&&!this[Wp]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[Wp]=!0,this.writable=!1,(this.flowing||!this[nd])&&this[zp](),this}[id](){this[cd]||(this[nd]=!1,this[td]=!0,this.emit("resume"),this.buffer.length?this[Zp]():this[Wp]?this[zp]():this.emit("drain"))}resume(){return this[id]()}pause(){this[td]=!1,this[nd]=!0}get destroyed(){return this[cd]}get flowing(){return this[td]}get paused(){return this[nd]}[sd](e){this[ad]?this[rd]+=1:this[rd]+=e.length,this.buffer.push(e)}[od](){return this.buffer.length&&(this[ad]?this[rd]-=1:this[rd]-=this.buffer[0].length),this.buffer.shift()}[Zp](e){do{}while(this[Xp](this[od]()));!e&&!this.buffer.length&&!this[Wp]&&this.emit("drain")}[Xp](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[cd])return;const n=this[Gp];return t=t||{},e===$p.stdout||e===$p.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new bd(this,e,t):new yd(this,e,t)),this[pd]?dd((()=>this[id]())):this[id]()),e}unpipe(e){const t=this.pipes.find((t=>t.dest===e));t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this.pipes.length||this.flowing?"readable"===e&&0!==this[rd]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[Gp]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[Kp]&&(this[pd]?dd((()=>t.call(this,this[Kp]))):t.call(this,this[Kp])):this[id](),n}get emittedEnd(){return this[Gp]}[zp](){!this[Vp]&&!this[Gp]&&!this[cd]&&0===this.buffer.length&&this[Wp]&&(this[Vp]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Yp]&&this.emit("close"),this[Vp]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==cd&&this[cd])return;if("data"===e)return!!t&&(this[pd]?dd((()=>this[ud](t))):this[ud](t));if("end"===e)return this[ld]();if("close"===e){if(this[Yp]=!0,!this[Gp]&&!this[cd])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[Kp]=t;const e=super.emit("error",t);return this[zp](),e}if("resume"===e){const e=super.emit("resume");return this[zp](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[zp](),i}[ud](e){for(const t of this.pipes)!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[zp](),t}[ld](){this[Gp]||(this[Gp]=!0,this.readable=!1,this[pd]?dd((()=>this[hd]())):this[hd]())}[hd](){if(this[ed]){const e=this[ed].end();if(e){for(const t of this.pipes)t.dest.write(e);super.emit("data",e)}}for(const e of this.pipes)e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[ad]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[ad]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[ad]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[ad]?Promise.reject(new Error("cannot concat in objectMode")):this[Qp]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(cd,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[md](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[Wp])return Promise.resolve({done:!0});let t=null,n=null;const i=e=>{this.removeListener("data",r),this.removeListener("end",s),n(e)},r=e=>{this.removeListener("error",i),this.removeListener("end",s),this.pause(),t({value:e,done:!!this[Wp]})},s=()=>{this.removeListener("error",i),this.removeListener("data",r),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{n=a,t=e,this.once(cd,o),this.once("error",i),this.once("end",s),this.once("data",r)}))}}}[gd](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[cd]?(e?this.emit("error",e):this.emit(cd),this):(this[cd]=!0,this.buffer.length=0,this[rd]=0,"function"==typeof this.close&&!this[Yp]&&this.close(),e?this.emit("error",e):this.emit(cd),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof Up||t instanceof qp&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}};class wd extends Error{constructor(e,t){super(`Bad data size: expected ${t} bytes, but got ${e}`),this.expect=t,this.found=e,this.code="EBADSIZE",Error.captureStackTrace(this,this.constructor)}get name(){return"SizeError"}}let _d=class extends vd{constructor(e={}){if(super(e),e.objectMode)throw new TypeError(`${this.constructor.name} streams only work with string and buffer data`);if(this.found=0,this.expect=e.size,"number"!=typeof this.expect||this.expect>Number.MAX_SAFE_INTEGER||isNaN(this.expect)||this.expect<0||!isFinite(this.expect)||this.expect!==Math.floor(this.expect))throw new Error("invalid expected size: "+this.expect)}write(e,t,n){const i=Buffer.isBuffer(e)?e:"string"==typeof e?Buffer.from(e,"string"==typeof t?t:"utf8"):e;return Buffer.isBuffer(i)?(this.found+=i.length,this.found>this.expect&&this.emit("error",new wd(this.found,this.expect)),super.write(e,t,n)):(this.emit("error",new TypeError(`${this.constructor.name} streams only work with string and buffer data`)),!1)}emit(e,...t){return"end"===e&&this.found!==this.expect&&this.emit("error",new wd(this.found,this.expect)),super.emit(e,...t)}};_d.SizeError=wd;var Sd=_d;const{Minipass:Ed}=ep,xd=Symbol("type"),Dd=Symbol("buffer");let Cd=class e{constructor(t,n){this[xd]="";const i=[];let r=0;if(t){const n=t,s=Number(n.length);for(let t=0;t<s;t++){const s=n[t],o=s instanceof Buffer?s:ArrayBuffer.isView(s)?Buffer.from(s.buffer,s.byteOffset,s.byteLength):s instanceof ArrayBuffer?Buffer.from(s):s instanceof e?s[Dd]:"string"==typeof s?Buffer.from(s):Buffer.from(String(s));r+=o.length,i.push(o)}}this[Dd]=Buffer.concat(i,r);const s=n&&void 0!==n.type&&String(n.type).toLowerCase();s&&!/[^\u0020-\u007E]/.test(s)&&(this[xd]=s)}get size(){return this[Dd].length}get type(){return this[xd]}text(){return Promise.resolve(this[Dd].toString())}arrayBuffer(){const e=this[Dd],t=e.byteOffset,n=e.byteLength,i=e.buffer.slice(t,t+n);return Promise.resolve(i)}stream(){return(new Ed).end(this[Dd])}slice(t,n,i){const r=this.size,s=void 0===t?0:t<0?Math.max(r+t,0):Math.min(t,r),o=void 0===n?r:n<0?Math.max(r+n,0):Math.min(n,r),a=Math.max(o-s,0),c=this[Dd].slice(s,s+a),u=new e([],{type:i});return u[Dd]=c,u}get[Symbol.toStringTag](){return"Blob"}static get BUFFER(){return Dd}};Object.defineProperties(Cd.prototype,{size:{enumerable:!0},type:{enumerable:!0}});var kd,Rd,Ad=Cd,Td=class extends Error{constructor(e,t,n){super(e),this.code="FETCH_ERROR",n&&Object.assign(this,n),this.errno=this.code,this.type="EBADSIZE"===this.code&&this.found>this.expect?"max-size":t,this.message=e,Error.captureStackTrace(this,this.constructor)}get name(){return"FetchError"}set name(e){}get[Symbol.toStringTag](){return"FetchError"}},Od={},Fd={exports:{}};function Pd(){if(Rd)return kd;Rd=1;var e,t=g,n=t.Buffer,i={};for(e in t)t.hasOwnProperty(e)&&("SlowBuffer"===e||"Buffer"===e||(i[e]=t[e]));var r=i.Buffer={};for(e in n)n.hasOwnProperty(e)&&("allocUnsafe"===e||"allocUnsafeSlow"===e||(r[e]=n[e]));if(i.Buffer.prototype=n.prototype,(!r.from||r.from===Uint8Array.from)&&(r.from=function(e,t,i){if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&typeof e.length>"u")throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return n(e,t,i)}),r.alloc||(r.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*(1<<30))throw new RangeError('The value "'+e+'" is invalid for option "size"');var r=n(e);return t&&0!==t.length?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r}),!i.kStringMaxLength)try{i.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch{}return i.constants||(i.constants={MAX_LENGTH:i.kMaxLength},i.kStringMaxLength&&(i.constants.MAX_STRING_LENGTH=i.kStringMaxLength)),kd=i}var Id,Ld,Nd,Bd={},jd={};function Md(){if(Nd)return Ld;Nd=1;var e=Pd().Buffer;function t(t,n){this.enc=t.encodingName,this.bomAware=t.bomAware,"base64"===this.enc?this.encoder=s:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=o,""!==e.from("eda0bdedb2a9","hex").toString()&&(this.decoder=a,this.defaultCharUnicode=n.defaultCharUnicode))}Ld={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:t},t.prototype.encoder=r,t.prototype.decoder=i;var n=v.StringDecoder;function i(e,t){this.decoder=new n(t.enc)}function r(e,t){this.enc=t.enc}function s(e,t){this.prevStr=""}function o(e,t){}function a(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}return n.prototype.end||(n.prototype.end=function(){}),i.prototype.write=function(t){return e.isBuffer(t)||(t=e.from(t)),this.decoder.write(t)},i.prototype.end=function(){return this.decoder.end()},r.prototype.write=function(t){return e.from(t,this.enc)},r.prototype.end=function(){},s.prototype.write=function(t){var n=(t=this.prevStr+t).length-t.length%4;return this.prevStr=t.slice(n),t=t.slice(0,n),e.from(t,"base64")},s.prototype.end=function(){return e.from(this.prevStr,"base64")},o.prototype.write=function(t){for(var n=e.alloc(3*t.length),i=0,r=0;r<t.length;r++){var s=t.charCodeAt(r);s<128?n[i++]=s:s<2048?(n[i++]=192+(s>>>6),n[i++]=128+(63&s)):(n[i++]=224+(s>>>12),n[i++]=128+(s>>>6&63),n[i++]=128+(63&s))}return n.slice(0,i)},o.prototype.end=function(){},a.prototype.write=function(e){for(var t=this.acc,n=this.contBytes,i=this.accBytes,r="",s=0;s<e.length;s++){var o=e[s];128!=(192&o)?(n>0&&(r+=this.defaultCharUnicode,n=0),o<128?r+=String.fromCharCode(o):o<224?(t=31&o,n=1,i=1):o<240?(t=15&o,n=2,i=1):r+=this.defaultCharUnicode):n>0?(t=t<<6|63&o,i++,0==--n&&(r+=2===i&&t<128&&t>0||3===i&&t<2048?this.defaultCharUnicode:String.fromCharCode(t))):r+=this.defaultCharUnicode}return this.acc=t,this.contBytes=n,this.accBytes=i,r},a.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e},Ld}var $d,qd={};function Ud(){if($d)return qd;$d=1;var e=Pd().Buffer;function t(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function n(e,t){this.isLE=t.isLE,this.highSurrogate=0}function i(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function r(e,t,n,i){if((n<0||n>1114111)&&(n=i),n>=65536){var r=55296|(n-=65536)>>10;e[t++]=255&r,e[t++]=r>>8,n=56320|1023&n}return e[t++]=255&n,e[t++]=n>>8,t}function s(e,t){this.iconv=t}function o(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function a(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function c(e,t){var n=[],i=0,r=0,s=0,o=0,a=0;e:for(var c=0;c<e.length;c++)for(var u=e[c],l=0;l<u.length;l++)if(n.push(u[l]),4===n.length){if(0===i){if(255===n[0]&&254===n[1]&&0===n[2]&&0===n[3])return"utf-32le";if(0===n[0]&&0===n[1]&&254===n[2]&&255===n[3])return"utf-32be"}if((0!==n[0]||n[1]>16)&&s++,(0!==n[3]||n[2]>16)&&r++,0===n[0]&&0===n[1]&&(0!==n[2]||0!==n[3])&&a++,(0!==n[0]||0!==n[1])&&0===n[2]&&0===n[3]&&o++,n.length=0,++i>=100)break e}return a-s>o-r?"utf-32be":a-s<o-r?"utf-32le":t||"utf-32le"}return qd._utf32=t,qd.utf32le={type:"_utf32",isLE:!0},qd.utf32be={type:"_utf32",isLE:!1},qd.ucs4le="utf32le",qd.ucs4be="utf32be",t.prototype.encoder=n,t.prototype.decoder=i,n.prototype.write=function(t){for(var n=e.from(t,"ucs2"),i=e.alloc(2*n.length),r=this.isLE?i.writeUInt32LE:i.writeUInt32BE,s=0,o=0;o<n.length;o+=2){var a=n.readUInt16LE(o),c=55296<=a&&a<56320,u=56320<=a&&a<57344;if(this.highSurrogate){if(!c&&u){var l=65536+(this.highSurrogate-55296<<10|a-56320);r.call(i,l,s),s+=4,this.highSurrogate=0;continue}r.call(i,this.highSurrogate,s),s+=4}c?this.highSurrogate=a:(r.call(i,a,s),s+=4,this.highSurrogate=0)}return s<i.length&&(i=i.slice(0,s)),i},n.prototype.end=function(){if(this.highSurrogate){var t=e.alloc(4);return this.isLE?t.writeUInt32LE(this.highSurrogate,0):t.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,t}},i.prototype.write=function(t){if(0===t.length)return"";var n=0,i=0,s=e.alloc(t.length+4),o=0,a=this.isLE,c=this.overflow,u=this.badChar;if(c.length>0){for(;n<t.length&&c.length<4;n++)c.push(t[n]);4===c.length&&(i=a?c[n]|c[n+1]<<8|c[n+2]<<16|c[n+3]<<24:c[n+3]|c[n+2]<<8|c[n+1]<<16|c[n]<<24,c.length=0,o=r(s,o,i,u))}for(;n<t.length-3;n+=4)o=r(s,o,i=a?t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24:t[n+3]|t[n+2]<<8|t[n+1]<<16|t[n]<<24,u);for(;n<t.length;n++)c.push(t[n]);return s.slice(0,o).toString("ucs2")},i.prototype.end=function(){this.overflow.length=0},qd.utf32=s,qd.ucs4="utf32",s.prototype.encoder=o,s.prototype.decoder=a,o.prototype.write=function(e){return this.encoder.write(e)},o.prototype.end=function(){return this.encoder.end()},a.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",i=0;i<this.initialBufs.length;i++)n+=this.decoder.write(this.initialBufs[i]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},a.prototype.end=function(){if(!this.decoder){var e=c(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var i=this.decoder.end();return i&&(t+=i),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()},qd}var Hd,Wd={};function zd(){if(Hd)return Wd;Hd=1;var e=Pd().Buffer;function t(){}function n(){}function i(){this.overflowByte=-1}function r(e,t){this.iconv=t}function s(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function o(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function a(e,t){var n=[],i=0,r=0,s=0;e:for(var o=0;o<e.length;o++)for(var a=e[o],c=0;c<a.length;c++)if(n.push(a[c]),2===n.length){if(0===i){if(255===n[0]&&254===n[1])return"utf-16le";if(254===n[0]&&255===n[1])return"utf-16be"}if(0===n[0]&&0!==n[1]&&s++,0!==n[0]&&0===n[1]&&r++,n.length=0,++i>=100)break e}return s>r?"utf-16be":s<r?"utf-16le":t||"utf-16le"}return Wd.utf16be=t,t.prototype.encoder=n,t.prototype.decoder=i,t.prototype.bomAware=!0,n.prototype.write=function(t){for(var n=e.from(t,"ucs2"),i=0;i<n.length;i+=2){var r=n[i];n[i]=n[i+1],n[i+1]=r}return n},n.prototype.end=function(){},i.prototype.write=function(t){if(0==t.length)return"";var n=e.alloc(t.length+1),i=0,r=0;for(-1!==this.overflowByte&&(n[0]=t[0],n[1]=this.overflowByte,i=1,r=2);i<t.length-1;i+=2,r+=2)n[r]=t[i+1],n[r+1]=t[i];return this.overflowByte=i==t.length-1?t[t.length-1]:-1,n.slice(0,r).toString("ucs2")},i.prototype.end=function(){this.overflowByte=-1},Wd.utf16=r,r.prototype.encoder=s,r.prototype.decoder=o,s.prototype.write=function(e){return this.encoder.write(e)},s.prototype.end=function(){return this.encoder.end()},o.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=a(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var n="",i=0;i<this.initialBufs.length;i++)n+=this.decoder.write(this.initialBufs[i]);return this.initialBufs.length=this.initialBufsLen=0,n}return this.decoder.write(e)},o.prototype.end=function(){if(!this.decoder){var e=a(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",n=0;n<this.initialBufs.length;n++)t+=this.decoder.write(this.initialBufs[n]);var i=this.decoder.end();return i&&(t+=i),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()},Wd}var Gd,Vd={};function Kd(){if(Gd)return Vd;Gd=1;var e=Pd().Buffer;function t(e,t){this.iconv=t}Vd.utf7=t,Vd.unicode11utf7="utf7",t.prototype.encoder=i,t.prototype.decoder=r,t.prototype.bomAware=!0;var n=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function i(e,t){this.iconv=t.iconv}function r(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}i.prototype.write=function(t){return e.from(t.replace(n,function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}.bind(this)))},i.prototype.end=function(){};for(var s=/[A-Za-z0-9\/+]/,o=[],a=0;a<256;a++)o[a]=s.test(String.fromCharCode(a));var c=45;function u(e,t){this.iconv=t}function l(t,n){this.iconv=n.iconv,this.inBase64=!1,this.base64Accum=e.alloc(6),this.base64AccumIdx=0}function h(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}r.prototype.write=function(t){for(var n="",i=0,r=this.inBase64,s=this.base64Accum,a=0;a<t.length;a++)if(r){if(!o[t[a]]){if(a==i&&t[a]==c)n+="+";else{var u=s+this.iconv.decode(t.slice(i,a),"ascii");n+=this.iconv.decode(e.from(u,"base64"),"utf16-be")}t[a]!=c&&a--,i=a+1,r=!1,s=""}}else 43==t[a]&&(n+=this.iconv.decode(t.slice(i,a),"ascii"),i=a+1,r=!0);if(r){var l=(u=s+this.iconv.decode(t.slice(i),"ascii")).length-u.length%8;s=u.slice(l),u=u.slice(0,l),n+=this.iconv.decode(e.from(u,"base64"),"utf16-be")}else n+=this.iconv.decode(t.slice(i),"ascii");return this.inBase64=r,this.base64Accum=s,n},r.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t},Vd.utf7imap=u,u.prototype.encoder=l,u.prototype.decoder=h,u.prototype.bomAware=!0,l.prototype.write=function(t){for(var n=this.inBase64,i=this.base64Accum,r=this.base64AccumIdx,s=e.alloc(5*t.length+10),o=0,a=0;a<t.length;a++){var u=t.charCodeAt(a);32<=u&&u<=126?(n&&(r>0&&(o+=s.write(i.slice(0,r).toString("base64").replace(/\//g,",").replace(/=+$/,""),o),r=0),s[o++]=c,n=!1),n||(s[o++]=u,38===u&&(s[o++]=c))):(n||(s[o++]=38,n=!0),n&&(i[r++]=u>>8,i[r++]=255&u,r==i.length&&(o+=s.write(i.toString("base64").replace(/\//g,","),o),r=0)))}return this.inBase64=n,this.base64AccumIdx=r,s.slice(0,o)},l.prototype.end=function(){var t=e.alloc(10),n=0;return this.inBase64&&(this.base64AccumIdx>0&&(n+=t.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),n),this.base64AccumIdx=0),t[n++]=c,this.inBase64=!1),t.slice(0,n)};var p=o.slice();return p[44]=!0,h.prototype.write=function(t){for(var n="",i=0,r=this.inBase64,s=this.base64Accum,o=0;o<t.length;o++)if(r){if(!p[t[o]]){if(o==i&&t[o]==c)n+="&";else{var a=s+this.iconv.decode(t.slice(i,o),"ascii").replace(/,/g,"/");n+=this.iconv.decode(e.from(a,"base64"),"utf16-be")}t[o]!=c&&o--,i=o+1,r=!1,s=""}}else 38==t[o]&&(n+=this.iconv.decode(t.slice(i,o),"ascii"),i=o+1,r=!0);if(r){var u=(a=s+this.iconv.decode(t.slice(i),"ascii").replace(/,/g,"/")).length-a.length%8;s=a.slice(u),a=a.slice(0,u),n+=this.iconv.decode(e.from(a,"base64"),"utf16-be")}else n+=this.iconv.decode(t.slice(i),"ascii");return this.inBase64=r,this.base64Accum=s,n},h.prototype.end=function(){var t="";return this.inBase64&&this.base64Accum.length>0&&(t=this.iconv.decode(e.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",t},Vd}var Yd,Jd,Zd,Xd,Qd,ef={};function tf(){if(Yd)return ef;Yd=1;var e=Pd().Buffer;function t(t,n){if(!t)throw new Error("SBCS codec is called without the data.");if(!t.chars||128!==t.chars.length&&256!==t.chars.length)throw new Error("Encoding '"+t.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===t.chars.length){for(var i="",r=0;r<128;r++)i+=String.fromCharCode(r);t.chars=i+t.chars}this.decodeBuf=e.from(t.chars,"ucs2");var s=e.alloc(65536,n.defaultCharSingleByte.charCodeAt(0));for(r=0;r<t.chars.length;r++)s[t.chars.charCodeAt(r)]=r;this.encodeBuf=s}function n(e,t){this.encodeBuf=t.encodeBuf}function i(e,t){this.decodeBuf=t.decodeBuf}return ef._sbcs=t,t.prototype.encoder=n,t.prototype.decoder=i,n.prototype.write=function(t){for(var n=e.alloc(t.length),i=0;i<t.length;i++)n[i]=this.encodeBuf[t.charCodeAt(i)];return n},n.prototype.end=function(){},i.prototype.write=function(t){for(var n=this.decodeBuf,i=e.alloc(2*t.length),r=0,s=0,o=0;o<t.length;o++)r=2*t[o],i[s=2*o]=n[r],i[s+1]=n[r+1];return i.toString("ucs2")},i.prototype.end=function(){},ef}var nf,rf={};function sf(){if(nf)return rf;nf=1;var e=Pd().Buffer;rf._dbcs=a;for(var t=-1,n=-2,i=-10,r=-1e3,s=new Array(256),o=0;o<256;o++)s[o]=t;function a(e,i){if(this.encodingName=e.encodingName,!e)throw new Error("DBCS codec is called without the data.");if(!e.table)throw new Error("Encoding '"+this.encodingName+"' has no data.");var o=e.table();this.decodeTables=[],this.decodeTables[0]=s.slice(0),this.decodeTableSeq=[];for(var a=0;a<o.length;a++)this._addDecodeChunk(o[a]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var c=this.decodeTables.length;this.decodeTables.push(s.slice(0));var u=this.decodeTables.length;this.decodeTables.push(s.slice(0));var l=this.decodeTables[0];for(a=129;a<=254;a++)for(var h=this.decodeTables[r-l[a]],p=48;p<=57;p++){if(h[p]===t)h[p]=r-c;else if(h[p]>r)throw new Error("gb18030 decode tables conflict at byte 2");for(var d=this.decodeTables[r-h[p]],f=129;f<=254;f++){if(d[f]===t)d[f]=r-u;else{if(d[f]===r-u)continue;if(d[f]>r)throw new Error("gb18030 decode tables conflict at byte 3")}for(var m=this.decodeTables[r-d[f]],g=48;g<=57;g++)m[g]===t&&(m[g]=n)}}}this.defaultCharUnicode=i.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var y={};if(e.encodeSkipVals)for(a=0;a<e.encodeSkipVals.length;a++){var b=e.encodeSkipVals[a];if("number"==typeof b)y[b]=!0;else for(p=b.from;p<=b.to;p++)y[p]=!0}if(this._fillEncodeTable(0,0,y),e.encodeAdd)for(var v in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,v)&&this._setEncodeChar(v.charCodeAt(0),e.encodeAdd[v]);this.defCharSB=this.encodeTable[0][i.defaultCharSingleByte.charCodeAt(0)],this.defCharSB===t&&(this.defCharSB=this.encodeTable[0]["?"]),this.defCharSB===t&&(this.defCharSB=63)}function c(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function u(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function l(e,t){if(e[0]>t)return-1;for(var n=0,i=e.length;n<i-1;){var r=n+(i-n+1>>1);e[r]<=t?n=r:i=r}return n}return a.prototype.encoder=c,a.prototype.decoder=u,a.prototype._getDecodeTrieNode=function(e){for(var n=[];e>0;e>>>=8)n.push(255&e);0==n.length&&n.push(0);for(var i=this.decodeTables[0],o=n.length-1;o>0;o--){var a=i[n[o]];if(a==t)i[n[o]]=r-this.decodeTables.length,this.decodeTables.push(i=s.slice(0));else{if(!(a<=r))throw new Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16));i=this.decodeTables[r-a]}}return i},a.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),n=this._getDecodeTrieNode(t);t&=255;for(var r=1;r<e.length;r++){var s=e[r];if("string"==typeof s)for(var o=0;o<s.length;){var a=s.charCodeAt(o++);if(55296<=a&&a<56320){var c=s.charCodeAt(o++);if(!(56320<=c&&c<57344))throw new Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0]);n[t++]=65536+1024*(a-55296)+(c-56320)}else if(4080<a&&a<=4095){for(var u=4095-a+2,l=[],h=0;h<u;h++)l.push(s.charCodeAt(o++));n[t++]=i-this.decodeTableSeq.length,this.decodeTableSeq.push(l)}else n[t++]=a}else{if("number"!=typeof s)throw new Error("Incorrect type '"+typeof s+"' given in "+this.encodingName+" at chunk "+e[0]);var p=n[t-1]+1;for(o=0;o<s;o++)n[t++]=p++}}if(t>255)throw new Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},a.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=s.slice(0)),this.encodeTable[t]},a.prototype._setEncodeChar=function(e,n){var r=this._getEncodeBucket(e),s=255&e;r[s]<=i?this.encodeTableSeq[i-r[s]][-1]=n:r[s]==t&&(r[s]=n)},a.prototype._setEncodeSequence=function(e,n){var r,s=e[0],o=this._getEncodeBucket(s),a=255&s;o[a]<=i?r=this.encodeTableSeq[i-o[a]]:(r={},o[a]!==t&&(r[-1]=o[a]),o[a]=i-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var c=1;c<e.length-1;c++){var u=r[s];"object"==typeof u?r=u:(r=r[s]={},void 0!==u&&(r[-1]=u))}r[s=e[e.length-1]]=n},a.prototype._fillEncodeTable=function(e,t,n){for(var s=this.decodeTables[e],o=!1,a={},c=0;c<256;c++){var u=s[c],l=t+c;if(!n[l])if(u>=0)this._setEncodeChar(u,l),o=!0;else if(u<=r){var h=r-u;if(!a[h]){var p=l<<8>>>0;this._fillEncodeTable(h,p,n)?o=!0:a[h]=!0}}else u<=i&&(this._setEncodeSequence(this.decodeTableSeq[i-u],l),o=!0)}return o},c.prototype.write=function(n){for(var r=e.alloc(n.length*(this.gb18030?4:3)),s=this.leadSurrogate,o=this.seqObj,a=-1,c=0,u=0;;){if(-1===a){if(c==n.length)break;var h=n.charCodeAt(c++)}else h=a,a=-1;if(55296<=h&&h<57344)if(h<56320){if(-1===s){s=h;continue}s=h,h=t}else-1!==s?(h=65536+1024*(s-55296)+(h-56320),s=-1):h=t;else-1!==s&&(a=h,h=t,s=-1);var p=t;if(void 0!==o&&h!=t){var d=o[h];if("object"==typeof d){o=d;continue}"number"==typeof d?p=d:null==d&&void 0!==(d=o[-1])&&(p=d,a=h),o=void 0}else if(h>=0){var f=this.encodeTable[h>>8];if(void 0!==f&&(p=f[255&h]),p<=i){o=this.encodeTableSeq[i-p];continue}if(p==t&&this.gb18030){var m=l(this.gb18030.uChars,h);if(-1!=m){p=this.gb18030.gbChars[m]+(h-this.gb18030.uChars[m]),r[u++]=129+Math.floor(p/12600),p%=12600,r[u++]=48+Math.floor(p/1260),p%=1260,r[u++]=129+Math.floor(p/10),p%=10,r[u++]=48+p;continue}}}p===t&&(p=this.defaultCharSingleByte),p<256?r[u++]=p:p<65536?(r[u++]=p>>8,r[u++]=255&p):p<16777216?(r[u++]=p>>16,r[u++]=p>>8&255,r[u++]=255&p):(r[u++]=p>>>24,r[u++]=p>>>16&255,r[u++]=p>>>8&255,r[u++]=255&p)}return this.seqObj=o,this.leadSurrogate=s,r.slice(0,u)},c.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var t=e.alloc(10),n=0;if(this.seqObj){var i=this.seqObj[-1];void 0!==i&&(i<256?t[n++]=i:(t[n++]=i>>8,t[n++]=255&i)),this.seqObj=void 0}return-1!==this.leadSurrogate&&(t[n++]=this.defaultCharSingleByte,this.leadSurrogate=-1),t.slice(0,n)}},c.prototype.findIdx=l,u.prototype.write=function(s){for(var o=e.alloc(2*s.length),a=this.nodeIdx,c=this.prevBytes,u=this.prevBytes.length,h=-this.prevBytes.length,p=0,d=0;p<s.length;p++){var f,m=p>=0?s[p]:c[p+u];if(!((f=this.decodeTables[a][m])>=0))if(f===t)f=this.defaultCharUnicode.charCodeAt(0),p=h;else if(f===n){if(p>=3)var g=12600*(s[p-3]-129)+1260*(s[p-2]-48)+10*(s[p-1]-129)+(m-48);else g=12600*(c[p-3+u]-129)+1260*((p-2>=0?s[p-2]:c[p-2+u])-48)+10*((p-1>=0?s[p-1]:c[p-1+u])-129)+(m-48);var y=l(this.gb18030.gbChars,g);f=this.gb18030.uChars[y]+g-this.gb18030.gbChars[y]}else{if(f<=r){a=r-f;continue}if(!(f<=i))throw new Error("iconv-lite internal error: invalid decoding table value "+f+" at "+a+"/"+m);for(var b=this.decodeTableSeq[i-f],v=0;v<b.length-1;v++)f=b[v],o[d++]=255&f,o[d++]=f>>8;f=b[b.length-1]}if(f>=65536){var w=55296|(f-=65536)>>10;o[d++]=255&w,o[d++]=w>>8,f=56320|1023&f}o[d++]=255&f,o[d++]=f>>8,a=0,h=p+1}return this.nodeIdx=a,this.prevBytes=h>=0?Array.prototype.slice.call(s,h):c.slice(h+u).concat(Array.prototype.slice.call(s)),o.slice(0,d).toString("ucs2")},u.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e},rf}const of=[["0","\0",128],["a1","",62],["8140","",9,""],["8180",""],["81b8",""],["81c8",""],["81da",""],["81f0",""],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]],af=[["0","\0",127],["8ea1","",62],["a1a1","",9,""],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2",""],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af",""],["8fa2c2",""],["8fa2eb",""],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1",""],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab",""],["8fa9af",""],["8fa9c1",""],["8faaa1",""],["8faaba",""],["8faba1",""],["8fabbd",""],["8fabc5",""],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]],cf=[["0","\0",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","",7,""],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1",""],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]],uf=[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]],lf={uChars:[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],gbChars:[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189e3]},hf=[["0","\0",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"",9,""],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,""],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,""],["a8a6",""],["a8a8",""],["a8b1","",27,"",25,"",14,""],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"",27,"",25,"",14,""],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]],pf=[["0","\0",127],["a140",""],["a1a1","",4,""],["a240","",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]],df=[["8740",""],["8767",""],["87a1",""],["8840","",4,""],["88a1",""],["8940",""],["8943",""],["8946",""],["894c",""],["89a1",""],["89ab",""],["89b0",""],["89b5",""],["89c1",""],["89c5",""],["8a40",""],["8a43",""],["8a64",""],["8a76",""],["8aa1",""],["8aac",""],["8ab2",""],["8abb",""],["8ac9",""],["8ace",""],["8adf",""],["8af6",""],["8b40",""],["8b55",""],["8ba1",""],["8bde",""],["8c40",""],["8ca1",""],["8ca7",""],["8cc9",""],["8cce",""],["8ce6",""],["8d40",""],["8d42",""],["8da1",""],["8e40",""],["8ea1",""],["8f40",""],["8fa1",""],["9040",""],["90a1",""],["9140",""],["91a1",""],["9240",""],["92a1",""],["9340",""],["93a1",""],["9440",""],["94a1",""],["9540",""],["95a1",""],["9640",""],["96a1",""],["9740",""],["97a1",""],["9840",""],["98a1",""],["9940",""],["99a1",""],["9a40",""],["9aa1",""],["9b40",""],["9b62",""],["9ba1",""],["9c40",""],["9ca1",""],["9d40",""],["9da1",""],["9e40",""],["9ea1",""],["9ead",""],["9ec5",""],["9ef5",""],["9f40",""],["9f4f",""],["9fa1",""],["9fae",""],["9fb2",""],["9fc1",""],["9fc9",""],["9fdb",""],["9fe7",""],["9feb",""],["9ff0",""],["a040",""],["a055",""],["a058",""],["a05b",""],["a063",""],["a073",""],["a0a1",""],["a0a6",""],["a0ae",""],["a0b0",""],["a0d4",""],["a0e2",""],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,""],["c8a1",""],["c8cd",""],["c8f5",""],["f9fe",""],["fa40",""],["faa1",""],["fb40",""],["fba1",""],["fc40",""],["fca1",""],["fd40",""],["fda1",""],["fe40",""],["fea1",""]];var ff,mf,gf,yf,bf,vf,wf;const{Minipass:_f}=ep,Sf=Sd,Ef=Ad,{BUFFER:xf}=Ef,Df=Td;let Cf;try{Cf=function(){if(wf)return Od;wf=1;var e=(vf||(vf=1,function(e){var t,i=Pd().Buffer,r=function(){if(Id)return Bd;function e(e,t){this.encoder=e,this.addBOM=!0}function t(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}return Id=1,Bd.PrependBOM=e,e.prototype.write=function(e){return this.addBOM&&(e="\ufeff"+e,this.addBOM=!1),this.encoder.write(e)},e.prototype.end=function(){return this.encoder.end()},Bd.StripBOM=t,t.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\ufeff"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},t.prototype.end=function(){return this.decoder.end()},Bd}(),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,n){e=""+(e||"");var r=s.getEncoder(t,n),o=r.write(e),a=r.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,n){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var r=s.getDecoder(t,n),o=r.write(e),a=r.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch{return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=(gf||(gf=1,function(e){for(var t=[Md(),Ud(),zd(),Kd(),tf(),(Zd||(Zd=1,Jd={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:""},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:""},mik:{type:"_sbcs",chars:""},cp720:{type:"_sbcs",chars:""},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}),Jd),(Qd||(Qd=1,Xd={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:""},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:""},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:""},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:""},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:""},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:""},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:""},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:""},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:""},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:""},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:""},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:""},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:""},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:""},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:""},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:""},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:""},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:""},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:""},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:""},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:""},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:""},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:""},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:""},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:""},cp28606:"iso885916",cp437:{type:"_sbcs",chars:""},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:""},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:""},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:""},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:""},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:""},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:""},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:""},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:""},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:""},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:""},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:""},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:""},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:""},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:""},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:""},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:""},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:""},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:""},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:""},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:""},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:""},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:""},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:""},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:""},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:""},maccyrillic:{type:"_sbcs",chars:""},macgreek:{type:"_sbcs",chars:""},maciceland:{type:"_sbcs",chars:""},macroman:{type:"_sbcs",chars:""},macromania:{type:"_sbcs",chars:""},macthai:{type:"_sbcs",chars:"\ufeff"},macturkish:{type:"_sbcs",chars:""},macukraine:{type:"_sbcs",chars:""},koi8r:{type:"_sbcs",chars:""},koi8u:{type:"_sbcs",chars:""},koi8ru:{type:"_sbcs",chars:""},koi8t:{type:"_sbcs",chars:""},armscii8:{type:"_sbcs",chars:")(.,-"},rk1048:{type:"_sbcs",chars:""},tcvn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},georgianacademy:{type:"_sbcs",chars:""},georgianps:{type:"_sbcs",chars:""},pt154:{type:"_sbcs",chars:""},viscii:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"},iso646cn:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}"},iso646jp:{type:"_sbcs",chars:"\0\b\t\n\v\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}"},hproman8:{type:"_sbcs",chars:""},macintosh:{type:"_sbcs",chars:""},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}),Xd),sf(),(mf||(mf=1,ff={shiftjis:{type:"_dbcs",table:function(){return of},encodeAdd:{"":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return af},encodeAdd:{"":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return cf}},gbk:{type:"_dbcs",table:function(){return cf.concat(uf)}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return cf.concat(uf)},gb18030:function(){return lf},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return hf}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return pf}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return pf.concat(df)},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}),ff)],n=0;n<t.length;n++){var i=t[n];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}}(jd)),jd));for(var t=s._canonicalizeEncoding(e),n={};;){var i=s._codecDataCache[t];if(i)return i;var r=s.encodings[t];switch(typeof r){case"string":t=r;break;case"object":for(var o in r)n[o]=r[o];n.encodingName||(n.encodingName=t),t=r.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new r(n,s),s._codecDataCache[n.encodingName]=i,i;default:throw new Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var n=s.getCodec(e),i=new n.encoder(t,n);return n.bomAware&&t&&t.addBOM&&(i=new r.PrependBOM(i,t)),i},s.getDecoder=function(e,t){var n=s.getCodec(e),i=new n.decoder(t,n);return n.bomAware&&!(t&&!1===t.stripBOM)&&(i=new r.StripBOM(i,t)),i},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=function(){if(bf)return yf;bf=1;var e=Pd().Buffer;return yf=function(t){var n=t.Transform;function i(e,t){this.conv=e,(t=t||{}).decodeStrings=!1,n.call(this,t)}function r(e,t){this.conv=e,(t=t||{}).encoding=this.encoding="utf8",n.call(this,t)}return i.prototype=Object.create(n.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,n){if("string"!=typeof e)return n(new Error("Iconv encoding stream needs strings as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i),n()}catch(e){n(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},i.prototype.collect=function(t){var n=[];return this.on("error",t),this.on("data",(function(e){n.push(e)})),this.on("end",(function(){t(null,e.concat(n))})),this},r.prototype=Object.create(n.prototype,{constructor:{value:r}}),r.prototype._transform=function(t,n,i){if(!(e.isBuffer(t)||t instanceof Uint8Array))return i(new Error("Iconv decoding stream needs buffers as its input."));try{var r=this.conv.write(t);r&&r.length&&this.push(r,this.encoding),i()}catch(e){i(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",(function(e){t+=e})),this.on("end",(function(){e(null,t)})),this},{IconvLiteEncoderStream:i,IconvLiteDecoderStream:r}}}()(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{t=n(2203)}catch{}t&&t.Transform?s.enableStreamingAPI(t):s.encodeStream=s.decodeStream=function(){throw new Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}}(Fd)),Fd.exports);function t(e){return(e||"").toString().trim().replace(/^latin[\-_]?(\d+)$/i,"ISO-8859-$1").replace(/^win(?:dows)?[\-_]?(\d+)$/i,"WINDOWS-$1").replace(/^utf[\-_]?(\d+)$/i,"UTF-$1").replace(/^ks_c_5601\-1987$/i,"CP949").replace(/^us[\-_]?ascii$/i,"ASCII").toUpperCase()}return Od.convert=function(n,i,r){var s;if(r=t(r||"UTF-8"),i=t(i||"UTF-8"),n=n||"","UTF-8"!==r&&"string"==typeof n&&(n=Buffer.from(n,"binary")),r===i)s="string"==typeof n?Buffer.from(n):n;else try{s=function(t,n,i){return"UTF-8"===n?e.decode(t,i):"UTF-8"===i?e.encode(t,n):e.encode(e.decode(t,i),n)}(n,i,r)}catch(e){console.error(e),s=n}return"string"==typeof s&&(s=Buffer.from(s,"utf-8")),s},Od}().convert}catch{}const kf=Symbol("Body internals"),Rf=Symbol("consumeBody");let Af=class{constructor(e,t={}){const{size:n=0,timeout:i=0}=t,r=null==e?null:Tf(e)?Buffer.from(e.toString()):Of(e)||Buffer.isBuffer(e)?e:"[object ArrayBuffer]"===Object.prototype.toString.call(e)?Buffer.from(e):ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength):_f.isStream(e)?e:Buffer.from(String(e));this[kf]={body:r,disturbed:!1,error:null},this.size=n,this.timeout=i,_f.isStream(r)&&r.on("error",(e=>{const t="AbortError"===e.name?e:new Df(`Invalid response while trying to fetch ${this.url}: ${e.message}`,"system",e);this[kf].error=t}))}get body(){return this[kf].body}get bodyUsed(){return this[kf].disturbed}arrayBuffer(){return this[Rf]().then((e=>e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)))}blob(){const e=this.headers&&this.headers.get("content-type")||"";return this[Rf]().then((t=>Object.assign(new Ef([],{type:e.toLowerCase()}),{[xf]:t})))}async json(){const e=await this[Rf]();try{return JSON.parse(e.toString())}catch(e){throw new Df(`invalid json response body at ${this.url} reason: ${e.message}`,"invalid-json")}}text(){return this[Rf]().then((e=>e.toString()))}buffer(){return this[Rf]()}textConverted(){return this[Rf]().then((e=>Ff(e,this.headers)))}[Rf](){if(this[kf].disturbed)return Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[kf].disturbed=!0,this[kf].error)return Promise.reject(this[kf].error);if(null===this.body)return Promise.resolve(Buffer.alloc(0));if(Buffer.isBuffer(this.body))return Promise.resolve(this.body);const e=Of(this.body)?this.body.stream():this.body;if(!_f.isStream(e))return Promise.resolve(Buffer.alloc(0));const t=this.size&&e instanceof Sf||!this.size&&e instanceof _f&&!(e instanceof Sf)?e:this.size?new Sf({size:this.size}):new _f,n=this.timeout&&t.writable?setTimeout((()=>{t.emit("error",new Df(`Response timeout while trying to fetch ${this.url} (over ${this.timeout}ms)`,"body-timeout"))}),this.timeout):null;return n&&n.unref&&n.unref(),new Promise(((n,i)=>{t!==e&&(e.on("error",(e=>t.emit("error",e))),e.pipe(t)),n()})).then((()=>t.concat())).then((e=>(clearTimeout(n),e))).catch((e=>{throw clearTimeout(n),"AbortError"===e.name||"FetchError"===e.name?e:"RangeError"===e.name?new Df(`Could not create Buffer from response body for ${this.url}: ${e.message}`,"system",e):new Df(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e)}))}static clone(e){if(e.bodyUsed)throw new Error("cannot clone body after it is used");const t=e.body;if(_f.isStream(t)&&"function"!=typeof t.getBoundary){const n=new _f,i=new _f,r=new _f;return n.on("error",(e=>{i.emit("error",e),r.emit("error",e)})),t.on("error",(e=>n.emit("error",e))),n.pipe(i),n.pipe(r),t.pipe(n),e[kf].body=i,r}return e.body}static extractContentType(e){return null==e?null:"string"==typeof e?"text/plain;charset=UTF-8":Tf(e)?"application/x-www-form-urlencoded;charset=UTF-8":Of(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:_f.isStream(e)?null:"text/plain;charset=UTF-8"}static getTotalBytes(e){const{body:t}=e;return null==t?0:Of(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0===t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}static writeToStream(e,t){const{body:n}=t;return null==n?e.end():Buffer.isBuffer(n)||"string"==typeof n?e.end(n):(Of(n)?n.stream():n).on("error",(t=>e.emit("error",t))).pipe(e),e}};Object.defineProperties(Af.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}});const Tf=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort),Of=e=>"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag]),Ff=(e,t)=>{if("function"!=typeof Cf)throw new Error("The package `encoding` must be installed to use the textConverted() function");const n=t&&t.get("content-type");let i,r="utf-8";n&&(i=/charset=([^;]*)/i.exec(n));const s=e.slice(0,1024).toString();return!i&&s&&(i=/<meta.+?charset=(['"])(.+?)\1/i.exec(s)),!i&&s&&(i=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(s),i||(i=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(s),i&&i.pop()),i&&(i=/charset=(.*)/i.exec(i.pop()))),!i&&s&&(i=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(s)),i&&(r=i.pop(),("gb2312"===r||"gbk"===r)&&(r="gb18030")),Cf(e,"UTF-8",r).toString()};var Pf=Af;const If=/[^^_`a-zA-Z\-0-9!#$%&'*+.|~]/,Lf=/[^\t\x20-\x7e\x80-\xff]/,Nf=e=>{if(e=`${e}`,If.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)},Bf=e=>{if(e=`${e}`,Lf.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)},jf=(e,t)=>{t=t.toLowerCase();for(const n in e)if(n.toLowerCase()===t)return n},Mf=Symbol("map");let $f=class e{constructor(t=void 0){if(this[Mf]=Object.create(null),t instanceof e){const e=t.raw(),n=Object.keys(e);for(const t of n)for(const n of e[t])this.append(t,n)}else if(null!=t){if("object"!=typeof t)throw new TypeError("Provided initializer must be an object");{const e=t[Symbol.iterator];if(null!=e){if("function"!=typeof e)throw new TypeError("Header pairs must be iterable");const n=[];for(const e of t){if("object"!=typeof e||"function"!=typeof e[Symbol.iterator])throw new TypeError("Each header pair must be iterable");const t=Array.from(e);if(2!==t.length)throw new TypeError("Each header pair must be a name/value tuple");n.push(t)}for(const e of n)this.append(e[0],e[1])}else for(const e of Object.keys(t))this.append(e,t[e])}}}get(e){Nf(e=`${e}`);const t=jf(this[Mf],e);return void 0===t?null:this[Mf][t].join(", ")}forEach(e,t=void 0){let n=qf(this);for(let i=0;i<n.length;i++){const[r,s]=n[i];e.call(t,s,r,this),n=qf(this)}}set(e,t){t=`${t}`,Nf(e=`${e}`),Bf(t);const n=jf(this[Mf],e);this[Mf][void 0!==n?n:e]=[t]}append(e,t){t=`${t}`,Nf(e=`${e}`),Bf(t);const n=jf(this[Mf],e);void 0!==n?this[Mf][n].push(t):this[Mf][e]=[t]}has(e){return Nf(e=`${e}`),void 0!==jf(this[Mf],e)}delete(e){Nf(e=`${e}`);const t=jf(this[Mf],e);void 0!==t&&delete this[Mf][t]}raw(){return this[Mf]}keys(){return new Hf(this,"key")}values(){return new Hf(this,"value")}[Symbol.iterator](){return new Hf(this,"key+value")}entries(){return new Hf(this,"key+value")}get[Symbol.toStringTag](){return"Headers"}static exportNodeCompatibleHeaders(e){const t=Object.assign(Object.create(null),e[Mf]),n=jf(e[Mf],"Host");return void 0!==n&&(t[n]=t[n][0]),t}static createHeadersLenient(t){const n=new e;for(const e of Object.keys(t))if(!If.test(e))if(Array.isArray(t[e]))for(const i of t[e])Lf.test(i)||(void 0===n[Mf][e]?n[Mf][e]=[i]:n[Mf][e].push(i));else Lf.test(t[e])||(n[Mf][e]=[t[e]]);return n}};Object.defineProperties($f.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const qf=(e,t="key+value")=>Object.keys(e[Mf]).sort().map("key"===t?e=>e.toLowerCase():"value"===t?t=>e[Mf][t].join(", "):t=>[t.toLowerCase(),e[Mf][t].join(", ")]),Uf=Symbol("internal");class Hf{constructor(e,t){this[Uf]={target:e,kind:t,index:0}}get[Symbol.toStringTag](){return"HeadersIterator"}next(){if(!this||Object.getPrototypeOf(this)!==Hf.prototype)throw new TypeError("Value of `this` is not a HeadersIterator");const{target:e,kind:t,index:n}=this[Uf],i=qf(e,t);return n>=i.length?{value:void 0,done:!0}:(this[Uf].index++,{value:i[n],done:!1})}}Object.setPrototypeOf(Hf.prototype,Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));var Wf=$f;const zf=d,{STATUS_CODES:Gf}=zf,Vf=Wf,Kf=Pf,{clone:Yf,extractContentType:Jf}=Kf,Zf=Symbol("Response internals");let Xf=class e extends Kf{constructor(e=null,t={}){super(e,t);const n=t.status||200,i=new Vf(t.headers);if(null!=e&&!i.has("Content-Type")){const t=Jf(e);t&&i.append("Content-Type",t)}this[Zf]={url:t.url,status:n,statusText:t.statusText||Gf[n],headers:i,counter:t.counter,trailer:Promise.resolve(t.trailer||new Vf)}}get trailer(){return this[Zf].trailer}get url(){return this[Zf].url||""}get status(){return this[Zf].status}get ok(){return this[Zf].status>=200&&this[Zf].status<300}get redirected(){return this[Zf].counter>0}get statusText(){return this[Zf].statusText}get headers(){return this[Zf].headers}clone(){return new e(Yf(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,trailer:this.trailer})}get[Symbol.toStringTag](){return"Response"}};var Qf=Xf;Object.defineProperties(Xf.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});const{URL:em}=p,{Minipass:tm}=ep,nm=Wf,{exportNodeCompatibleHeaders:im}=nm,rm=Pf,{clone:sm,extractContentType:om,getTotalBytes:am}=rm,cm=Symbol("Request internals"),um=e=>"object"==typeof e&&"object"==typeof e[cm];let lm=class e extends rm{constructor(e,t={}){const n=um(e)?new em(e.url):e&&e.href?new em(e.href):new em(`${e}`);um(e)?t={...e[cm],...t}:(!e||"string"==typeof e)&&(e={});const i=(t.method||e.method||"GET").toUpperCase(),r="GET"===i||"HEAD"===i;if((null!==t.body&&void 0!==t.body||um(e)&&null!==e.body)&&r)throw new TypeError("Request with GET/HEAD method cannot have body");const s=null!==t.body&&void 0!==t.body?t.body:um(e)&&null!==e.body?sm(e):null;super(s,{timeout:t.timeout||e.timeout||0,size:t.size||e.size||0});const o=new nm(t.headers||e.headers||{});if(null!=s&&!o.has("Content-Type")){const e=om(s);e&&o.append("Content-Type",e)}const a="signal"in t?t.signal:null;if(null!=a&&!(e=>{const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)})(a))throw new TypeError("Expected signal must be an instanceof AbortSignal");const{ca:c,cert:u,ciphers:l,clientCertEngine:h,crl:p,dhparam:d,ecdhCurve:f,family:m,honorCipherOrder:g,key:y,passphrase:b,pfx:v,rejectUnauthorized:w="0"!==process.env.NODE_TLS_REJECT_UNAUTHORIZED,secureOptions:_,secureProtocol:S,servername:E,sessionIdContext:x}=t;this[cm]={method:i,redirect:t.redirect||e.redirect||"follow",headers:o,parsedURL:n,signal:a,ca:c,cert:u,ciphers:l,clientCertEngine:h,crl:p,dhparam:d,ecdhCurve:f,family:m,honorCipherOrder:g,key:y,passphrase:b,pfx:v,rejectUnauthorized:w,secureOptions:_,secureProtocol:S,servername:E,sessionIdContext:x},this.follow=void 0!==t.follow?t.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==t.compress?t.compress:void 0===e.compress||e.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent}get method(){return this[cm].method}get url(){return this[cm].parsedURL.toString()}get headers(){return this[cm].headers}get redirect(){return this[cm].redirect}get signal(){return this[cm].signal}clone(){return new e(this)}get[Symbol.toStringTag](){return"Request"}static getNodeRequestOptions(e){const t=e[cm].parsedURL,n=new nm(e[cm].headers);if(n.has("Accept")||n.set("Accept","*/*"),!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&tm.isStream(e.body)&&"function"!=typeof e.body.destroy)throw new Error("Cancellation of streamed requests with AbortSignal is not supported");const i=null!==e.body&&void 0!==e.body||!/^(POST|PUT)$/i.test(e.method)?null!==e.body&&void 0!==e.body?am(e):null:"0";i&&n.set("Content-Length",i+""),n.has("User-Agent")||n.set("User-Agent","minipass-fetch/3.0.3 (+https://github.com/isaacs/minipass-fetch)"),e.compress&&!n.has("Accept-Encoding")&&n.set("Accept-Encoding","gzip,deflate");const r="function"==typeof e.agent?e.agent(t):e.agent;!n.has("Connection")&&!r&&n.set("Connection","close");const{ca:s,cert:o,ciphers:a,clientCertEngine:c,crl:u,dhparam:l,ecdhCurve:h,family:p,honorCipherOrder:d,key:f,passphrase:m,pfx:g,rejectUnauthorized:y,secureOptions:b,secureProtocol:v,servername:w,sessionIdContext:_}=e[cm];return{auth:t.username||t.password?`${t.username}:${t.password}`:"",host:t.host,hostname:t.hostname,path:`${t.pathname}${t.search}`,port:t.port,protocol:t.protocol,method:e.method,headers:im(n),agent:r,ca:s,cert:o,ciphers:a,clientCertEngine:c,crl:u,dhparam:l,ecdhCurve:h,family:p,honorCipherOrder:d,key:f,passphrase:m,pfx:g,rejectUnauthorized:y,secureOptions:b,secureProtocol:v,servername:w,sessionIdContext:_,timeout:e.timeout}}};var hm=lm;Object.defineProperties(lm.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}});var pm=class extends Error{constructor(e){super(e),this.code="FETCH_ABORTED",this.type="aborted",Error.captureStackTrace(this,this.constructor)}get name(){return"AbortError"}set name(e){}};const{URL:dm}=p,fm=d,mm=f,gm=Jl,{Minipass:ym}=ep,bm=Pf,{writeToStream:vm,getTotalBytes:wm}=bm,_m=Qf,Sm=Wf,{createHeadersLenient:Em}=Sm,xm=hm,{getNodeRequestOptions:Dm}=xm,Cm=Td,km=pm,Rm=async(e,t)=>{if(/^data:/.test(e)){const n=new xm(e,t);return Promise.resolve().then((()=>new Promise(((t,i)=>{let r,s;try{const{pathname:t,search:n}=new dm(e),i=t.split(",");if(i.length<2)throw new Error("invalid data: URI");const o=i.shift(),a=/;base64$/.test(o);r=a?o.slice(0,-7):o;const c=decodeURIComponent(i.join(",")+n);s=a?Buffer.from(c,"base64"):Buffer.from(c)}catch(e){return i(new Cm(`[${n.method}] ${n.url} invalid URL, ${e.message}`,"system",e))}const{signal:o}=n;if(o&&o.aborted)return i(new km("The user aborted a request."));const a={"Content-Length":s.length};return r&&(a["Content-Type"]=r),t(new _m(s,{headers:a}))}))))}return new Promise(((n,i)=>{const r=new xm(e,t);let s;try{s=Dm(r)}catch(e){return i(e)}const o=("https:"===s.protocol?mm:fm).request,{signal:a}=r;let c=null;const u=()=>{const e=new km("The user aborted a request.");i(e),ym.isStream(r.body)&&"function"==typeof r.body.destroy&&r.body.destroy(e),c&&c.body&&c.body.emit("error",e)};if(a&&a.aborted)return u();const l=()=>{u(),h()},h=()=>{p.abort(),a&&a.removeEventListener("abort",l),clearTimeout(d)},p=o(s);a&&a.addEventListener("abort",l);let d=null;r.timeout&&p.once("socket",(e=>{d=setTimeout((()=>{i(new Cm(`network timeout at: ${r.url}`,"request-timeout")),h()}),r.timeout)})),p.on("error",(e=>{p.res&&p.res.emit("error",e),i(new Cm(`request to ${r.url} failed, reason: ${e.message}`,"system",e)),h()})),p.on("response",(e=>{clearTimeout(d);const t=Em(e.headers);if(Rm.isRedirect(e.statusCode)){const s=t.get("Location");let o=null;try{o=null===s?null:new dm(s,r.url).toString()}catch{if("manual"!==r.redirect)return i(new Cm(`uri requested responds with an invalid redirect URL: ${s}`,"invalid-redirect")),void h()}if("error"===r.redirect)return i(new Cm(`uri requested responds with a redirect, redirect mode is set to error: ${r.url}`,"no-redirect")),void h();if("manual"===r.redirect){if(null!==o)try{t.set("Location",o)}catch(e){i(e)}}else if("follow"===r.redirect&&null!==o){if(r.counter>=r.follow)return i(new Cm(`maximum redirect reached at: ${r.url}`,"max-redirect")),void h();if(303!==e.statusCode&&r.body&&null===wm(r))return i(new Cm("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h();r.headers.set("host",new dm(o).host);const t={headers:new Sm(r.headers),follow:r.follow,counter:r.counter+1,agent:r.agent,compress:r.compress,method:r.method,body:r.body,signal:r.signal,timeout:r.timeout},s=new dm(r.url),a=new dm(o);return s.hostname!==a.hostname&&(t.headers.delete("authorization"),t.headers.delete("cookie")),(303===e.statusCode||(301===e.statusCode||302===e.statusCode)&&"POST"===r.method)&&(t.method="GET",t.body=void 0,t.headers.delete("content-length")),n(Rm(new xm(o,t))),void h()}}e.once("end",(()=>a&&a.removeEventListener("abort",l)));const s=new ym;s.on("error",h),e.on("error",(e=>s.emit("error",e))),e.on("data",(e=>s.write(e))),e.on("end",(()=>s.end()));const o={url:r.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:r.size,timeout:r.timeout,counter:r.counter,trailer:new Promise((t=>e.on("end",(()=>t(Em(e.trailers))))))},u=t.get("Content-Encoding");if(!r.compress||"HEAD"===r.method||null===u||204===e.statusCode||304===e.statusCode)return c=new _m(s,o),void n(c);const p={flush:gm.constants.Z_SYNC_FLUSH,finishFlush:gm.constants.Z_SYNC_FLUSH};if("gzip"===u||"x-gzip"===u){const e=new gm.Gunzip(p);return c=new _m(s.on("error",(t=>e.emit("error",t))).pipe(e),o),void n(c)}if("deflate"!==u&&"x-deflate"!==u){if("br"===u){try{var f=new gm.BrotliDecompress}catch(e){return i(e),void h()}return s.on("error",(e=>f.emit("error",e))).pipe(f),c=new _m(f,o),void n(c)}c=new _m(s,o),n(c)}else e.pipe(new ym).once("data",(e=>{const t=8==(15&e[0])?new gm.Inflate:new gm.InflateRaw;s.on("error",(e=>t.emit("error",e))).pipe(t),c=new _m(t,o),n(c)}))})),vm(p,r)}))};var Am=Rm;Rm.isRedirect=e=>301===e||302===e||303===e||307===e||308===e,Rm.Headers=Sm,Rm.Request=xm,Rm.Response=_m,Rm.FetchError=Cm,Rm.AbortError=km;const Tm="npm-registry-fetch",Om="17.1.0";var Fm={maxSockets:12,method:"GET",registry:"https://registry.npmjs.org/",timeout:3e5,strictSSL:!0,noProxy:process.env.NOPROXY,userAgent:`${Tm}@${Om}/node@${process.version}+${process.arch} (${process.platform})`},Pm={META:Symbol("proc-log.meta"),output:{LEVELS:["standard","error","buffer","flush"],KEYS:{standard:"standard",error:"error",buffer:"buffer",flush:"flush"},standard:function(...e){return process.emit("output","standard",...e)},error:function(...e){return process.emit("output","error",...e)},buffer:function(...e){return process.emit("output","buffer",...e)},flush:function(...e){return process.emit("output","flush",...e)}},log:{LEVELS:["notice","error","warn","info","verbose","http","silly","timing","pause","resume"],KEYS:{notice:"notice",error:"error",warn:"warn",info:"info",verbose:"verbose",http:"http",silly:"silly",timing:"timing",pause:"pause",resume:"resume"},error:function(...e){return process.emit("log","error",...e)},notice:function(...e){return process.emit("log","notice",...e)},warn:function(...e){return process.emit("log","warn",...e)},info:function(...e){return process.emit("log","info",...e)},verbose:function(...e){return process.emit("log","verbose",...e)},http:function(...e){return process.emit("log","http",...e)},silly:function(...e){return process.emit("log","silly",...e)},timing:function(...e){return process.emit("log","timing",...e)},pause:function(){return process.emit("log","pause")},resume:function(){return process.emit("log","resume")}},time:{LEVELS:["start","end"],KEYS:{start:"start",end:"end"},start:function(e,t){function n(){return process.emit("time","end",e)}if(process.emit("time","start",e),"function"==typeof t){const e=t();return e&&e.finally?e.finally(n):(n(),e)}return n},end:function(e){return process.emit("time","end",e)}},input:{LEVELS:["start","end","read"],KEYS:{start:"start",end:"end",read:"read"},start:function(e){function t(){return process.emit("input","end")}if(process.emit("input","start"),"function"==typeof e){const n=e();return n&&n.finally?n.finally(t):(t(),n)}return t},end:function(){return process.emit("input","end")},read:function(...e){let t,n;const i=new Promise(((e,i)=>{t=e,n=i}));return process.emit("input","read",t,n,...e),i}}};const Im="regex",Lm="path",Nm={type:Lm,predicate:({path:e})=>e.endsWith(".headers.authorization"),replacement:"[REDACTED_HEADER_AUTHORIZATION]"},Bm={type:Lm,predicate:({path:e})=>e.endsWith(".headers.set-cookie"),replacement:"[REDACTED_HEADER_SET_COOKIE]"},jm={type:Lm,predicate:({path:e})=>e.endsWith(".request"),replacement:e=>({method:e?.method,path:e?.path,headers:e?.headers,url:e?.url})},Mm={type:Lm,predicate:({path:e})=>e.endsWith(".response"),replacement:e=>({data:e?.data,status:e?.status,headers:e?.headers})};var $m={TYPE_REGEX:Im,TYPE_URL:"url",TYPE_PATH:Lm,NPM_SECRET:{type:Im,pattern:/\b(npms?_)[a-zA-Z0-9]{36,48}\b/gi,replacement:"[REDACTED_NPM_SECRET]"},AUTH_HEADER:{type:Im,pattern:/\b(Basic\s+|Bearer\s+)[\w+=\-.]+\b/gi,replacement:"[REDACTED_AUTH_HEADER]"},JSON_WEB_TOKEN:{type:Im,pattern:/\b[A-Za-z0-9-_]{10,}(?!\.\d+\.)\.[A-Za-z0-9-_]{3,}\.[A-Za-z0-9-_]{20,}\b/gi,replacement:"[REDACTED_JSON_WEB_TOKEN]"},UUID:{type:Im,pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/gi,replacement:"[REDACTED_UUID]"},URL_MATCHER:{type:Im,pattern:/(?:https?|ftp):\/\/[^\s/"$.?#].[^\s"]*/gi,replacement:"[REDACTED_URL]"},DEEP_HEADER_AUTHORIZATION:Nm,DEEP_HEADER_SET_COOKIE:Bm,REWRITE_REQUEST:jm,REWRITE_RESPONSE:Mm};const{URL_MATCHER:qm,TYPE_URL:Um,TYPE_REGEX:Hm,TYPE_PATH:Wm}=$m,zm=(e=0)=>(e="string"==typeof e?e.length:e,"*".repeat(e<8?8:e)),Gm=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Vm=e=>{const t=decodeURIComponent(e),n=encodeURIComponent(e);return[...new Set([n,t,e])].map(Gm).join("|")},Km=(e,...t)=>{let n="";for(let i=0;i<t.length;i++)n+=e[i]+`(${Vm(t[i])})`;return n+=e[e.length-1],new RegExp(n)},Ym=({replacement:e}={})=>({type:Um,predicate:({url:e})=>e.password,pattern:({url:e})=>Km`(^${e.protocol}//${e.username}:)${e.password}`,replacement:`$1${e||zm()}`}),Jm=(...e)=>t=>{try{const n=new URL(t);return Xm(...e)(t,{url:n})}catch{return t}},Zm={[Hm]:e=>t=>("string"==typeof t&&(t=t.replace(e.pattern,e.replacement)),t),[Um]:e=>(t,n)=>{if("string"==typeof t)try{const i=n?.url||new URL(t),{predicate:r,pattern:s}=e;r({url:i})&&(t=t.replace(s({url:i}),e.replacement))}catch{return t}return t},[Wm]:e=>(t,n)=>{const i=n?.path,r=i.join(".").toLowerCase(),{predicate:s,replacement:o}=e,a="function"==typeof o?o:()=>o;return s({rawPath:i,path:r})&&(t=a(t,{rawPath:i,path:r})),t}},Xm=(...e)=>(t,n)=>e.flat().reduce(((e,t)=>("function"==typeof t?t:(e=>Zm[e.type](e))(t))(e,n)),t);var Qm={asterisk:zm,escapeRegExp:Gm,urlEncodeRegexGroup:Vm,urlEncodeRegexTag:Km,redactUrlHostnameMatcher:({hostname:e,replacement:t}={})=>({type:Um,predicate:({url:t})=>t.hostname===e,pattern:({url:e})=>Km`(^${e.protocol}//${e.username}:.+@)?${e.hostname}`,replacement:`$1${t||zm()}`}),redactUrlSearchParamsMatcher:({param:e,replacement:t}={})=>({type:Um,predicate:({url:t})=>t.searchParams.has(e),pattern:({url:t})=>Km`(${e}=)${t.searchParams.get(e)}`,replacement:`$1${t||zm()}`}),redactUrlPasswordMatcher:Ym,redactUrlMatcher:(...e)=>({...qm,replacement:Jm(...e)}),redactUrlReplacement:Jm,redactDynamicReplacement:()=>(e,t)=>"number"==typeof t?zm(e):t+zm(e.substring(t.length).length),redactFixedReplacement:e=>(t,n)=>"number"==typeof n?zm(e):n+zm(e),redactMatchers:Xm,redactUrlPassword:(e,t)=>Xm(Ym({replacement:t}))(e)};const eg=$m,{redactUrlPassword:tg}=Qm,ng="***",ig=e=>"string"==typeof e&&e?tg(e,ng).replace(eg.NPM_SECRET.pattern,`npm_${ng}`).replace(eg.UUID.pattern,ng):e,rg=e=>{const t=/[\s=]/g;let n=null,i="",r=0;for(;n=t.exec(e);)i+=ig(e.slice(r,n.index))+n[0],r=t.lastIndex;return i+ig(e.slice(r))};var sg={redact:ig,redactLog:e=>"string"==typeof e?rg(e):Array.isArray(e)?e.map((e=>"string"==typeof e?rg(e):e)):e};const og=Yl,{Response:ag}=Am,cg=Fm,{log:ug}=Pm,{redact:lg}=sg;var hg=async({method:e,uri:t,res:n,startTime:i,auth:r,opts:s})=>(s={...cg,...s},n.headers.has("npm-notice")&&!n.headers.has("x-local-cache")&&ug.notice("",n.headers.get("npm-notice")),n.status>=400?(pg(e,n,i),r&&r.scopeAuthKey&&!r.token&&!r.auth&&ug.warn("registry",`No auth for URI, but auth present for scoped registry.\n\nURI: ${t}\nScoped Registry Key: ${r.scopeAuthKey}\n\nMore info here: https://github.com/npm/cli/wiki/No-auth-for-URI,-but-auth-present-for-scoped-registry`),function(e,t,n,i){return t.buffer().catch((()=>null)).then((n=>{let r=n;try{r=JSON.parse(n.toString("utf8"))}catch{}if(401===t.status&&t.headers.get("www-authenticate")){const n=t.headers.get("www-authenticate").split(/,\s*/).map((e=>e.toLowerCase()));throw-1!==n.indexOf("ipaddress")?new og.HttpErrorAuthIPAddress(e,t,r,i.spec):-1!==n.indexOf("otp")?new og.HttpErrorAuthOTP(e,t,r,i.spec):new og.HttpErrorAuthUnknown(e,t,r,i.spec)}throw 401===t.status&&null!=n&&/one-time pass/.test(n.toString("utf8"))?new og.HttpErrorAuthOTP(e,t,r,i.spec):new og.HttpErrorGeneral(e,t,r,i.spec)}))}(e,n,0,s)):(n.body.on("end",(()=>pg(e,n,i))),s.ignoreBody?(n.body.resume(),new ag(null,n)):n));function pg(e,t,n){const i=Date.now()-n,r=t.headers.get("x-fetch-attempts"),s=r&&r>1?` attempt #${r}`:"",o=t.headers.get("x-local-cache-status"),a=o?` (cache ${o})`:"",c=lg(t.url);ug.http("fetch",`${e.toUpperCase()} ${t.status} ${c} ${i}ms${s}${a}`)}var dg={exports:{}};const fg=hu,mg=["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","punycode","querystring","readline","repl","stream","string_decoder","sys","timers","tls","tty","url","util","vm","zlib"],gg={freelist:"<6.0.0",v8:">=1.0.0",process:">=1.1.0",inspector:">=8.0.0",async_hooks:">=8.1.0",http2:">=8.4.0",perf_hooks:">=8.5.0",trace_events:">=10.0.0",worker_threads:">=12.0.0","node:test":">=18.0.0"},yg={worker_threads:">=10.5.0",wasi:">=12.16.0",diagnostics_channel:"^14.17.0 || >=15.1.0"};var bg=new RegExp("^(?:@([^/]+?)[/])?([^/]+?)$"),vg=["node_modules","favicon.ico"],wg=function(e,t){var n={validForNewPackages:0===t.length&&0===e.length,validForOldPackages:0===t.length,warnings:e,errors:t};return n.warnings.length||delete n.warnings,n.errors.length||delete n.errors,n};const _g=["notice","error","warn","info","verbose","http","silly","pause","resume"],Sg=e=>(...t)=>process.emit("log",e,...t),Eg={};for(const e of _g)Eg[e]=Sg(e);Eg.LEVELS=_g;var xg=Eg;dg.exports=Bg,dg.exports.resolve=Mg,dg.exports.toPurl=function(e,t=$g){const n=Bg(e);if("version"!==n.type)throw function(e,t){const n=new Error(`Invalid type "${e}" of package "${t}": Purl can only be generated for "version" types.`);return n.code="EINVALIDPURLTYPE",n}(n.type,n.raw);let i="pkg:npm/"+n.name.replace(/^@/,"%40")+"@"+n.rawSpec;return t!==$g&&(i+="?repository_url="+t),i},dg.exports.Result=qg;const{URL:Dg}=p,Cg=ns,kg=hu,Rg=A.FAKE_WINDOWS?r.win32:r,Ag=function(e){var t=[],n=[];if(null===e)return n.push("name cannot be null"),wg(t,n);if(void 0===e)return n.push("name cannot be undefined"),wg(t,n);if("string"!=typeof e)return n.push("name must be a string"),wg(t,n);if(e.length||n.push("name length must be greater than zero"),e.match(/^\./)&&n.push("name cannot start with a period"),e.match(/^_/)&&n.push("name cannot start with an underscore"),e.trim()!==e&&n.push("name cannot contain leading or trailing spaces"),vg.forEach((function(t){e.toLowerCase()===t&&n.push(t+" is a blacklisted name")})),(({version:e=process.version,experimental:t=!1}={})=>{const n=[...mg];for(const[t,i]of Object.entries(gg))("*"===e||fg.satisfies(e,i))&&n.push(t);if(t)for(const[t,i]of Object.entries(yg))!n.includes(t)&&("*"===e||fg.satisfies(e,i))&&n.push(t);return n})({version:"*"}).forEach((function(n){e.toLowerCase()===n&&t.push(n+" is a core module name")})),e.length>214&&t.push("name can no longer contain more than 214 characters"),e.toLowerCase()!==e&&t.push("name can no longer contain capital letters"),/[~'!()*]/.test(e.split("/").slice(-1)[0])&&t.push('name can no longer contain special characters ("~\'!()*")'),encodeURIComponent(e)!==e){var i=e.match(bg);if(i){var r=i[1],s=i[2];if(encodeURIComponent(r)===r&&encodeURIComponent(s)===s)return wg(t,n)}n.push("name can only contain URL-friendly characters")}return wg(t,n)},{homedir:Tg}=u,Og=xg,Fg="win32"===process.platform||A.FAKE_WINDOWS,Pg=Fg?/\\|[/]/:/[/]/,Ig=/^(?:git[+])?[a-z]+:/i,Lg=/^[^@]+@[^:.]+\.[^:]+:.+$/i,Ng=/[.](?:tgz|tar.gz|tar)$/i;function Bg(e,t){let n,i;if("object"==typeof e)return e instanceof qg&&(!t||t===e.where)?e:e.name&&e.rawSpec?Bg.resolve(e.name,e.rawSpec,t||e.where):Bg(e.raw,t||e.where);const r="@"===e[0]?e.slice(1).indexOf("@")+1:e.indexOf("@"),s=r>0?e.slice(0,r):e;return Ig.test(e)?i=e:Lg.test(e)?i=`git+ssh://${e}`:"@"!==s[0]&&(Pg.test(s)||Ng.test(s))?i=e:r>0?(n=s,i=e.slice(r+1)||"*"):Ag(e).validForOldPackages?(n=e,i="*"):i=e,Mg(n,i,t,e)}const jg=Fg?/^(?:[.]|~[/]|[/\\]|[a-zA-Z]:)/:/^(?:[.]|~[/]|[/]|[a-zA-Z]:)/;function Mg(e,t,n,i){const r=new qg({raw:i,name:e,rawSpec:t,fromArgument:null!=i});if(e&&r.setName(e),t&&(jg.test(t)||/^file:/i.test(t)))return Hg(r,n);if(t&&/^npm:/i.test(t))return function(e,t){const n=Bg(e.rawSpec.substr(4),t);if("alias"===n.type)throw new Error("nested aliases not supported");if(!n.registry)throw new Error("aliases only work for registry deps");return e.subSpec=n,e.registry=!0,e.type="alias",e.saveSpec=null,e.fetchSpec=null,e}(r,n);const s=Cg.fromUrl(t,{noGitPlus:!0,noCommittish:!0});return s?function(e,t){return e.type="git",e.hosted=t,e.saveSpec=t.toString({noGitPlus:!1,noCommittish:!1}),e.fetchSpec="shortcut"===t.getDefaultRepresentation()?null:t.toString(),Ug(e,t.committish),e}(r,s):t&&Ig.test(t)?function(e){let t=e.rawSpec;if(e.saveSpec=t,t.startsWith("git+ssh:")){const n=t.match(/^git\+ssh:\/\/([^:#]+:[^#]+(?:\.git)?)(?:#(.*))?$/i);if(n&&!n[1].match(/:[0-9]+\/?.*$/i))return e.type="git",Ug(e,n[2]),e.fetchSpec=n[1],e}else t.startsWith("git+file://")&&(t=t.replace(/\\/g,"/"));const n=new Dg(t);switch(n.protocol){case"git:":case"git+http:":case"git+https:":case"git+rsync:":case"git+ftp:":case"git+file:":case"git+ssh:":e.type="git",Ug(e,n.hash.slice(1)),"git+file:"===n.protocol&&/^git\+file:\/\/[a-z]:/i.test(t)?e.fetchSpec=`git+file://${n.host.toLowerCase()}:${n.pathname}`:(n.hash="",e.fetchSpec=n.toString()),e.fetchSpec.startsWith("git+")&&(e.fetchSpec=e.fetchSpec.slice(4));break;case"http:":case"https:":e.type="remote",e.fetchSpec=e.saveSpec;break;default:throw function(e,t){const n=new Error(`Unsupported URL Type "${e}": ${t}`);return n.code="EUNSUPPORTEDPROTOCOL",n}(n.protocol,t)}return e}(r):t&&(Pg.test(t)||Ng.test(t))?Hg(r,n):function(e){e.registry=!0;const t=e.rawSpec.trim();e.saveSpec=null,e.fetchSpec=t;const n=kg.valid(t,!0),i=kg.validRange(t,!0);if(n)e.type="version";else if(i)e.type="range";else{if(encodeURIComponent(t)!==t)throw function(e,t){const n=new Error(`Invalid tag name "${e}" of package "${t}": Tags may not have any characters that encodeURIComponent encodes.`);return n.code="EINVALIDTAGNAME",n}(t,e.raw);e.type="tag"}return e}(r)}const $g="https://registry.npmjs.org";function qg(e){this.type=e.type,this.registry=e.registry,this.where=e.where,null==e.raw?this.raw=e.name?e.name+"@"+e.rawSpec:e.rawSpec:this.raw=e.raw,this.name=void 0,this.escapedName=void 0,this.scope=void 0,this.rawSpec=e.rawSpec||"",this.saveSpec=e.saveSpec,this.fetchSpec=e.fetchSpec,e.name&&this.setName(e.name),this.gitRange=e.gitRange,this.gitCommittish=e.gitCommittish,this.gitSubdir=e.gitSubdir,this.hosted=e.hosted}function Ug(e,t){if(t)for(const n of t.split("::")){if(!n.includes(":")){if(e.gitRange)throw new Error("cannot override existing semver range with a committish");if(e.gitCommittish)throw new Error("cannot override existing committish with a second committish");e.gitCommittish=n;continue}const[t,i]=n.split(":");if("semver"!==t)if("path"!==t)Og.warn("npm-package-arg",`ignoring unknown key "${t}"`);else{if(e.gitSubdir)throw new Error("cannot override existing path with a second path");e.gitSubdir=`/${i}`}else{if(e.gitCommittish)throw new Error("cannot override existing committish with a semver range");if(e.gitRange)throw new Error("cannot override existing semver range with a second semver range");e.gitRange=decodeURIComponent(i)}}else e.gitCommittish=null}function Hg(e,t){let n,i;t||(t=process.cwd()),e.type=Ng.test(e.rawSpec)?"file":"directory",e.where=t;const r=(/^file:/.test(e.rawSpec)?"":"file:")+e.rawSpec;let s=r.replace(/^file:/,"");try{i=new Dg(r,`file://${Rg.resolve(t)}/`),n=new Dg(r)}catch(n){const i=new Error("Invalid file: URL, must comply with RFC 8089");throw Object.assign(i,{raw:e.rawSpec,spec:e,where:t,originalError:n})}if(i.host&&"localhost"!==i.host){const r=e.rawSpec.replace(/^file:\/\//,"file:///");i=new Dg(r,`file://${Rg.resolve(t)}/`),n=new Dg(r),s=r.replace(/^file:/,"")}if(/^\/{1,3}\.\.?(\/|$)/.test(s)){const r=e.rawSpec.replace(/^file:\/{1,3}/,"file:");i=new Dg(r,`file://${Rg.resolve(t)}/`),n=new Dg(r),s=r.replace(/^file:/,"")}let o=decodeURIComponent(n.pathname),a=decodeURIComponent(i.pathname);return Fg&&(o=o.replace(/^\/+([a-z]:\/)/i,"$1"),a=a.replace(/^\/+([a-z]:\/)/i,"$1")),/^\/~(\/|$)/.test(o)?(e.saveSpec=`file:${o.substr(1)}`,a=Rg.resolve(Tg(),o.substr(3))):Rg.isAbsolute(s)?e.saveSpec=`file:${Rg.resolve(a)}`:e.saveSpec=`file:${Rg.relative(t,a)}`,e.fetchSpec=Rg.resolve(t,a),e}qg.prototype.setName=function(e){const t=Ag(e);if(!t.validForOldPackages)throw function(e,t,n){const i=new Error(`Invalid package name "${e}" of package "${n}": ${t.errors.join("; ")}.`);return i.code="EINVALIDPACKAGENAME",i}(e,t,this.raw);return this.name=e,this.scope="@"===e[0]?e.slice(0,e.indexOf("/")):void 0,this.escapedName=e.replace("/","%2f"),this},qg.prototype.toString=function(){const e=[];null!=this.name&&""!==this.name&&e.push(this.name);const t=this.saveSpec||this.fetchSpec||this.rawSpec;return null!=t&&""!==t&&e.push(t),e.length?e.join("@"):this.raw},qg.prototype.toJSON=function(){const e=Object.assign({},this);return delete e.hosted,e};var Wg=dg.exports;const zg=c,Gg=Wg,{URL:Vg}=p,Kg=(e,t)=>{const n=new Vg(e);let i=`//${n.host}${n.pathname}`;for(;i.length>2;){const e=Yg(i,t);if(e)return{regKey:i,authKey:e};i=i.replace(/([^/]+|\/)$/,"")}return{regKey:!1,authKey:null}},Yg=(e,t)=>t[`${e}:_authToken`]?"_authToken":t[`${e}:_auth`]?"_auth":t[`${e}:username`]&&t[`${e}:_password`]?"username":!(!t[`${e}:certfile`]||!t[`${e}:keyfile`])&&"certfile",Jg=e=>{try{return zg.readFileSync(e,"utf8")}catch(e){if("ENOENT"!==e.code)throw e;return null}},Zg=(e,t={})=>{const{forceAuth:n}=t;if(!e)throw new Error("URI is required");const{regKey:i,authKey:r}=Kg(e,n||t);if(n&&!i)return new Xg({regKey:!1,authKey:null,scopeAuthKey:null,token:n._authToken||n.token,username:n.username,password:n._password||n.password,auth:n._auth||n.auth,certfile:n.certfile,keyfile:n.keyfile});if(!i){const n=(e=>{const{spec:t}=e,{scope:n,subSpec:i}=t?Gg(t):{},r=i&&i.scope,s=i?r:n;return s&&e[`${s}:registry`]||e.registry})(t);if(n&&e!==n&&((e,t)=>{const n=new Vg(e),i=new Vg(t);return n.host===i.host})(e,n))return Zg(n,t);if(n!==t.registry){const{regKey:e,authKey:i}=Kg(n,t);return new Xg({scopeAuthKey:e,regKey:e,authKey:i})}}const{[`${i}:_authToken`]:s,[`${i}:username`]:o,[`${i}:_password`]:a,[`${i}:_auth`]:c,[`${i}:certfile`]:u,[`${i}:keyfile`]:l}=t;return new Xg({scopeAuthKey:null,regKey:i,authKey:r,token:s,auth:c,username:o,password:a,certfile:u,keyfile:l})};class Xg{constructor({token:e,auth:t,username:n,password:i,scopeAuthKey:r,certfile:s,keyfile:o,regKey:a,authKey:c}){if(this.scopeAuthKey=r,this.regKey=a,this.authKey=c,this.token=null,this.auth=null,this.isBasicAuth=!1,this.cert=null,this.key=null,e)this.token=e;else if(t)this.auth=t;else if(n&&i){const e=Buffer.from(i,"base64").toString("utf8");this.auth=Buffer.from(`${n}:${e}`,"utf8").toString("base64"),this.isBasicAuth=!0}if(s&&o){const e=Jg(s),t=Jg(o);e&&t&&(this.cert=e,this.key=t)}}}var Qg=Zg,ey={exports:{}};const ty=w,ny=["if-modified-since","if-none-match","if-unmodified-since","if-match","if-range"];const iy=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),ry=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),sy=new Set([500,502,503,504]),oy={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},ay={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function cy(e){const t=parseInt(e,10);return isFinite(t)?t:0}function uy(e){const t={};if(!e)return t;const n=e.trim().split(/,/);for(const e of n){const[n,i]=e.split(/=/,2);t[n.trim()]=void 0===i||i.trim().replace(/^"|"$/g,"")}return t}function ly(e){let t=[];for(const n in e){const i=e[n];t.push(!0===i?n:n+"="+i)}if(t.length)return t.join(", ")}var hy={exports:{}},py={exports:{}};py.exports=gy,py.exports.preferredCharsets=gy;var dy=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function fy(e,t){var n=dy.exec(e);if(!n)return null;var i=n[1],r=1;if(n[2])for(var s=n[2].split(";"),o=0;o<s.length;o++){var a=s[o].trim().split("=");if("q"===a[0]){r=parseFloat(a[1]);break}}return{charset:i,q:r,i:t}}function my(e,t,n){var i=0;if(t.charset.toLowerCase()===e.toLowerCase())i|=1;else if("*"!==t.charset)return null;return{i:n,o:t.i,q:t.q,s:i}}function gy(e,t){var n=function(e){for(var t=e.split(","),n=0,i=0;n<t.length;n++){var r=fy(t[n].trim(),n);r&&(t[i++]=r)}return t.length=i,t}(void 0===e?"*":e||"");if(!t)return n.filter(vy).sort(yy).map(by);var i=t.map((function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=my(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)}));return i.filter(vy).sort(yy).map((function(e){return t[i.indexOf(e)]}))}function yy(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function by(e){return e.charset}function vy(e){return e.q>0}var wy=py.exports,_y={exports:{}};_y.exports=Dy,_y.exports.preferredEncodings=Dy;var Sy=/^\s*([^\s;]+)\s*(?:;(.*))?$/;function Ey(e,t){var n=Sy.exec(e);if(!n)return null;var i=n[1],r=1;if(n[2])for(var s=n[2].split(";"),o=0;o<s.length;o++){var a=s[o].trim().split("=");if("q"===a[0]){r=parseFloat(a[1]);break}}return{encoding:i,q:r,i:t}}function xy(e,t,n){var i=0;if(t.encoding.toLowerCase()===e.toLowerCase())i|=1;else if("*"!==t.encoding)return null;return{i:n,o:t.i,q:t.q,s:i}}function Dy(e,t){var n=function(e){for(var t=e.split(","),n=!1,i=1,r=0,s=0;r<t.length;r++){var o=Ey(t[r].trim(),r);o&&(t[s++]=o,n=n||xy("identity",o),i=Math.min(i,o.q||1))}return n||(t[s++]={encoding:"identity",q:i,i:r}),t.length=s,t}(e||"");if(!t)return n.filter(Ry).sort(Cy).map(ky);var i=t.map((function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=xy(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)}));return i.filter(Ry).sort(Cy).map((function(e){return t[i.indexOf(e)]}))}function Cy(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function ky(e){return e.encoding}function Ry(e){return e.q>0}var Ay=_y.exports,Ty={exports:{}};Ty.exports=Iy,Ty.exports.preferredLanguages=Iy;var Oy=/^\s*([^\s\-;]+)(?:-([^\s;]+))?\s*(?:;(.*))?$/;function Fy(e,t){var n=Oy.exec(e);if(!n)return null;var i=n[1],r=n[2],s=i;r&&(s+="-"+r);var o=1;if(n[3])for(var a=n[3].split(";"),c=0;c<a.length;c++){var u=a[c].split("=");"q"===u[0]&&(o=parseFloat(u[1]))}return{prefix:i,suffix:r,q:o,i:t,full:s}}function Py(e,t,n){var i=Fy(e);if(!i)return null;var r=0;if(t.full.toLowerCase()===i.full.toLowerCase())r|=4;else if(t.prefix.toLowerCase()===i.full.toLowerCase())r|=2;else if(t.full.toLowerCase()===i.prefix.toLowerCase())r|=1;else if("*"!==t.full)return null;return{i:n,o:t.i,q:t.q,s:r}}function Iy(e,t){var n=function(e){for(var t=e.split(","),n=0,i=0;n<t.length;n++){var r=Fy(t[n].trim(),n);r&&(t[i++]=r)}return t.length=i,t}(void 0===e?"*":e||"");if(!t)return n.filter(By).sort(Ly).map(Ny);var i=t.map((function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=Py(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)}));return i.filter(By).sort(Ly).map((function(e){return t[i.indexOf(e)]}))}function Ly(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function Ny(e){return e.full}function By(e){return e.q>0}var jy=Ty.exports,My={exports:{}};My.exports=Hy,My.exports.preferredMediaTypes=Hy;var $y=/^\s*([^\s\/;]+)\/([^;\s]+)\s*(?:;(.*))?$/;function qy(e,t){var n=$y.exec(e);if(!n)return null;var i=Object.create(null),r=1,s=n[2],o=n[1];if(n[3])for(var a=function(e){for(var t=e.split(";"),n=1,i=0;n<t.length;n++)Vy(t[i])%2==0?t[++i]=t[n]:t[i]+=";"+t[n];for(t.length=i+1,n=0;n<t.length;n++)t[n]=t[n].trim();return t}(n[3]).map(Ky),c=0;c<a.length;c++){var u=a[c],l=u[0].toLowerCase(),h=u[1],p=h&&'"'===h[0]&&'"'===h[h.length-1]?h.substr(1,h.length-2):h;if("q"===l){r=parseFloat(p);break}i[l]=p}return{type:o,subtype:s,params:i,q:r,i:t}}function Uy(e,t,n){var i=qy(e),r=0;if(!i)return null;if(t.type.toLowerCase()==i.type.toLowerCase())r|=4;else if("*"!=t.type)return null;if(t.subtype.toLowerCase()==i.subtype.toLowerCase())r|=2;else if("*"!=t.subtype)return null;var s=Object.keys(t.params);if(s.length>0){if(!s.every((function(e){return"*"==t.params[e]||(t.params[e]||"").toLowerCase()==(i.params[e]||"").toLowerCase()})))return null;r|=1}return{i:n,o:t.i,q:t.q,s:r}}function Hy(e,t){var n=function(e){for(var t=function(e){for(var t=e.split(","),n=1,i=0;n<t.length;n++)Vy(t[i])%2==0?t[++i]=t[n]:t[i]+=","+t[n];return t.length=i+1,t}(e),n=0,i=0;n<t.length;n++){var r=qy(t[n].trim(),n);r&&(t[i++]=r)}return t.length=i,t}(void 0===e?"*/*":e||"");if(!t)return n.filter(Gy).sort(Wy).map(zy);var i=t.map((function(e,t){return function(e,t,n){for(var i={o:-1,q:0,s:0},r=0;r<t.length;r++){var s=Uy(e,t[r],n);s&&(i.s-s.s||i.q-s.q||i.o-s.o)<0&&(i=s)}return i}(e,n,t)}));return i.filter(Gy).sort(Wy).map((function(e){return t[i.indexOf(e)]}))}function Wy(e,t){return t.q-e.q||t.s-e.s||e.o-t.o||e.i-t.i||0}function zy(e){return e.type+"/"+e.subtype}function Gy(e){return e.q>0}function Vy(e){for(var t=0,n=0;-1!==(n=e.indexOf('"',n));)t++,n++;return t}function Ky(e){var t,n,i=e.indexOf("=");return-1===i?t=e:(t=e.substr(0,i),n=e.substr(i+1)),[t,n]}var Yy=My.exports,Jy=wy,Zy=Ay,Xy=jy,Qy=Yy;function eb(e){if(!(this instanceof eb))return new eb(e);this.request=e}hy.exports=eb,hy.exports.Negotiator=eb,eb.prototype.charset=function(e){var t=this.charsets(e);return t&&t[0]},eb.prototype.charsets=function(e){return Jy(this.request.headers["accept-charset"],e)},eb.prototype.encoding=function(e){var t=this.encodings(e);return t&&t[0]},eb.prototype.encodings=function(e){return Zy(this.request.headers["accept-encoding"],e)},eb.prototype.language=function(e){var t=this.languages(e);return t&&t[0]},eb.prototype.languages=function(e){return Xy(this.request.headers["accept-language"],e)},eb.prototype.mediaType=function(e){var t=this.mediaTypes(e);return t&&t[0]},eb.prototype.mediaTypes=function(e){return Qy(this.request.headers.accept,e)},eb.prototype.preferredCharset=eb.prototype.charset,eb.prototype.preferredCharsets=eb.prototype.charsets,eb.prototype.preferredEncoding=eb.prototype.encoding,eb.prototype.preferredEncodings=eb.prototype.encodings,eb.prototype.preferredLanguage=eb.prototype.language,eb.prototype.preferredLanguages=eb.prototype.languages,eb.prototype.preferredMediaType=eb.prototype.mediaType,eb.prototype.preferredMediaTypes=eb.prototype.mediaTypes;var tb=hy.exports,nb={},ib={};const rb="object"==typeof process&&process?process:{stdout:null,stderr:null},sb=o,ob=b,ab=v.StringDecoder,cb=Symbol("EOF"),ub=Symbol("maybeEmitEnd"),lb=Symbol("emittedEnd"),hb=Symbol("emittingEnd"),pb=Symbol("emittedError"),db=Symbol("closed"),fb=Symbol("read"),mb=Symbol("flush"),gb=Symbol("flushChunk"),yb=Symbol("encoding"),bb=Symbol("decoder"),vb=Symbol("flowing"),wb=Symbol("paused"),_b=Symbol("resume"),Sb=Symbol("buffer"),Eb=Symbol("pipes"),xb=Symbol("bufferLength"),Db=Symbol("bufferPush"),Cb=Symbol("bufferShift"),kb=Symbol("objectMode"),Rb=Symbol("destroyed"),Ab=Symbol("error"),Tb=Symbol("emitData"),Ob=Symbol("emitEnd"),Fb=Symbol("emitEnd2"),Pb=Symbol("async"),Ib=Symbol("abort"),Lb=Symbol("aborted"),Nb=Symbol("signal"),Bb=e=>Promise.resolve().then(e),jb="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Mb=jb&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),$b=jb&&Symbol.iterator||Symbol("iterator not implemented");let qb=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[_b](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Ub=class extends qb{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};ib.Minipass=class e extends ob{constructor(e){super(),this[vb]=!1,this[wb]=!1,this[Eb]=[],this[Sb]=[],this[kb]=e&&e.objectMode||!1,this[kb]?this[yb]=null:this[yb]=e&&e.encoding||null,"buffer"===this[yb]&&(this[yb]=null),this[Pb]=e&&!!e.async||!1,this[bb]=this[yb]?new ab(this[yb]):null,this[cb]=!1,this[lb]=!1,this[hb]=!1,this[db]=!1,this[pb]=null,this.writable=!0,this.readable=!0,this[xb]=0,this[Rb]=!1,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[Sb]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[Eb]}),this[Nb]=e&&e.signal,this[Lb]=!1,this[Nb]&&(this[Nb].addEventListener("abort",(()=>this[Ib]())),this[Nb].aborted&&this[Ib]())}get bufferLength(){return this[xb]}get encoding(){return this[yb]}set encoding(e){if(this[kb])throw new Error("cannot set encoding in objectMode");if(this[yb]&&e!==this[yb]&&(this[bb]&&this[bb].lastNeed||this[xb]))throw new Error("cannot change encoding");this[yb]!==e&&(this[bb]=e?new ab(e):null,this[Sb].length&&(this[Sb]=this[Sb].map((e=>this[bb].write(e))))),this[yb]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[kb]}set objectMode(e){this[kb]=this[kb]||!!e}get async(){return this[Pb]}set async(e){this[Pb]=this[Pb]||!!e}[Ib](){this[Lb]=!0,this.emit("abort",this[Nb].reason),this.destroy(this[Nb].reason)}get aborted(){return this[Lb]}set aborted(e){}write(e,t,n){if(this[Lb])return!1;if(this[cb])throw new Error("write after end");if(this[Rb])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[Pb]?Bb:e=>e();return!this[kb]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[kb]?(this.flowing&&0!==this[xb]&&this[mb](!0),this.flowing?this.emit("data",e):this[Db](e),0!==this[xb]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[yb]&&!this[bb].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[yb]&&(e=this[bb].write(e)),this.flowing&&0!==this[xb]&&this[mb](!0),this.flowing?this.emit("data",e):this[Db](e),0!==this[xb]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[xb]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Rb])return null;if(0===this[xb]||0===e||e>this[xb])return this[ub](),null;this[kb]&&(e=null),this[Sb].length>1&&!this[kb]&&(this.encoding?this[Sb]=[this[Sb].join("")]:this[Sb]=[Buffer.concat(this[Sb],this[xb])]);const t=this[fb](e||null,this[Sb][0]);return this[ub](),t}[fb](e,t){return e===t.length||null===e?this[Cb]():(this[Sb][0]=t.slice(e),t=t.slice(0,e),this[xb]-=e),this.emit("data",t),!this[Sb].length&&!this[cb]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[cb]=!0,this.writable=!1,(this.flowing||!this[wb])&&this[ub](),this}[_b](){this[Rb]||(this[wb]=!1,this[vb]=!0,this.emit("resume"),this[Sb].length?this[mb]():this[cb]?this[ub]():this.emit("drain"))}resume(){return this[_b]()}pause(){this[vb]=!1,this[wb]=!0}get destroyed(){return this[Rb]}get flowing(){return this[vb]}get paused(){return this[wb]}[Db](e){this[kb]?this[xb]+=1:this[xb]+=e.length,this[Sb].push(e)}[Cb](){return this[kb]?this[xb]-=1:this[xb]-=this[Sb][0].length,this[Sb].shift()}[mb](e){do{}while(this[gb](this[Cb]())&&this[Sb].length);!e&&!this[Sb].length&&!this[cb]&&this.emit("drain")}[gb](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[Rb])return;const n=this[lb];return t=t||{},e===rb.stdout||e===rb.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[Eb].push(t.proxyErrors?new Ub(this,e,t):new qb(this,e,t)),this[Pb]?Bb((()=>this[_b]())):this[_b]()),e}unpipe(e){const t=this[Eb].find((t=>t.dest===e));t&&(this[Eb].splice(this[Eb].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this[Eb].length||this.flowing?"readable"===e&&0!==this[xb]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[lb]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[pb]&&(this[Pb]?Bb((()=>t.call(this,this[pb]))):t.call(this,this[pb])):this[_b](),n}get emittedEnd(){return this[lb]}[ub](){!this[hb]&&!this[lb]&&!this[Rb]&&0===this[Sb].length&&this[cb]&&(this[hb]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[db]&&this.emit("close"),this[hb]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==Rb&&this[Rb])return;if("data"===e)return!(!this[kb]&&!t)&&(this[Pb]?Bb((()=>this[Tb](t))):this[Tb](t));if("end"===e)return this[Ob]();if("close"===e){if(this[db]=!0,!this[lb]&&!this[Rb])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[pb]=t,super.emit(Ab,t);const e=!(this[Nb]&&!this.listeners("error").length)&&super.emit("error",t);return this[ub](),e}if("resume"===e){const e=super.emit("resume");return this[ub](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[ub](),i}[Tb](e){for(const t of this[Eb])!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[ub](),t}[Ob](){this[lb]||(this[lb]=!0,this.readable=!1,this[Pb]?Bb((()=>this[Fb]())):this[Fb]())}[Fb](){if(this[bb]){const e=this[bb].end();if(e){for(const t of this[Eb])t.dest.write(e);super.emit("data",e)}}for(const e of this[Eb])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[kb]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[kb]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[kb]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[kb]?Promise.reject(new Error("cannot concat in objectMode")):this[yb]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(Rb,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Mb](){let e=!1;const t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[cb])return t();let i=null,r=null;const s=e=>{this.removeListener("data",o),this.removeListener("end",a),this.removeListener(Rb,c),t(),r(e)},o=e=>{this.removeListener("error",s),this.removeListener("end",a),this.removeListener(Rb,c),this.pause(),i({value:e,done:!!this[cb]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),this.removeListener(Rb,c),t(),i({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t,i=e,this.once(Rb,c),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:t,return:t,[Mb](){return this}}}[$b](){let e=!1;const t=()=>(this.pause(),this.removeListener(Ab,t),this.removeListener(Rb,t),this.removeListener("end",t),e=!0,{done:!0});return this.once("end",t),this.once(Ab,t),this.once(Rb,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{value:n}},throw:t,return:t,[$b](){return this}}}destroy(e){return this[Rb]?(e?this.emit("error",e):this.emit(Rb),this):(this[Rb]=!0,this[Sb].length=0,this[xb]=0,"function"==typeof this.close&&!this[db]&&this.close(),e?this.emit("error",e):this.emit(Rb),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof ob||t instanceof sb&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}};const Hb=_,{Minipass:Wb}=ib,zb=["sha512","sha384","sha256"],Gb=["sha512"],Vb=/^[a-z0-9+/]+(?:=?=?)$/i,Kb=/^([a-z0-9]+)-([^?]+)([?\S*]*)$/,Yb=/^([a-z0-9]+)-([A-Za-z0-9+/=]{44,88})(\?[\x21-\x7E]*)?$/,Jb=/^[\x21-\x7E]+$/,Zb=e=>e?.length?`?${e.join("?")}`:"";class Xb extends Wb{#e;#t;#n;constructor(e){super(),this.size=0,this.opts=e,this.#i(),this.algorithms=e?.algorithms?[...e.algorithms]:[...Gb],null!==this.algorithm&&!this.algorithms.includes(this.algorithm)&&this.algorithms.push(this.algorithm),this.hashes=this.algorithms.map(Hb.createHash)}#i(){this.sri=this.opts?.integrity?nv(this.opts?.integrity,this.opts):null,this.expectedSize=this.opts?.size,this.sri?this.sri.isHash?(this.goodSri=!0,this.algorithm=this.sri.algorithm):(this.goodSri=!this.sri.isEmpty(),this.algorithm=this.sri.pickAlgorithm(this.opts)):this.algorithm=null,this.digests=this.goodSri?this.sri[this.algorithm]:null,this.optString=Zb(this.opts?.options)}on(e,t){return"size"===e&&this.#t?t(this.#t):"integrity"===e&&this.#e?t(this.#e):"verified"===e&&this.#n?t(this.#n):super.on(e,t)}emit(e,t){return"end"===e&&this.#r(),super.emit(e,t)}write(e){return this.size+=e.length,this.hashes.forEach((t=>t.update(e))),super.write(e)}#r(){this.goodSri||this.#i();const e=nv(this.hashes.map(((e,t)=>`${this.algorithms[t]}-${e.digest("base64")}${this.optString}`)).join(" "),this.opts),t=this.goodSri&&e.match(this.sri,this.opts);if("number"==typeof this.expectedSize&&this.size!==this.expectedSize){const e=new Error(`stream size mismatch when checking ${this.sri}.\n  Wanted: ${this.expectedSize}\n  Found: ${this.size}`);e.code="EBADSIZE",e.found=this.size,e.expected=this.expectedSize,e.sri=this.sri,this.emit("error",e)}else if(this.sri&&!t){const t=new Error(`${this.sri} integrity checksum failed when using ${this.algorithm}: wanted ${this.digests} but got ${e}. (${this.size} bytes)`);t.code="EINTEGRITY",t.found=e,t.expected=this.digests,t.algorithm=this.algorithm,t.sri=this.sri,this.emit("error",t)}else this.#t=this.size,this.emit("size",this.size),this.#e=e,this.emit("integrity",e),t&&(this.#n=t,this.emit("verified",t))}}class Qb{get isHash(){return!0}constructor(e,t){const n=t?.strict;this.source=e.trim(),this.digest="",this.algorithm="",this.options=[];const i=this.source.match(n?Yb:Kb);if(!i||n&&!zb.includes(i[1]))return;this.algorithm=i[1],this.digest=i[2];const r=i[3];r&&(this.options=r.slice(1).split("?"))}hexDigest(){return this.digest&&Buffer.from(this.digest,"base64").toString("hex")}toJSON(){return this.toString()}match(e,t){const n=nv(e,t);if(!n)return!1;if(n.isIntegrity){const e=n.pickAlgorithm(t,[this.algorithm]);return e&&n[e].find((e=>e.digest===this.digest))||!1}return n.digest===this.digest&&n}toString(e){return!e?.strict||zb.includes(this.algorithm)&&this.digest.match(Vb)&&this.options.every((e=>e.match(Jb)))?`${this.algorithm}-${this.digest}${Zb(this.options)}`:""}}function ev(e,t,n,i){const r=""!==e;let s=!1,o="";const a=i.length-1;for(let e=0;e<a;e++){const r=Qb.prototype.toString.call(i[e],n);r&&(s=!0,o+=r,o+=t)}const c=Qb.prototype.toString.call(i[a],n);return c&&(s=!0,o+=c),r&&s?e+t+o:e+o}class tv{get isIntegrity(){return!0}toJSON(){return this.toString()}isEmpty(){return 0===Object.keys(this).length}toString(e){let t=e?.sep||" ",n="";if(e?.strict){t=t.replace(/\S+/g," ");for(const i of zb)this[i]&&(n=ev(n,t,e,this[i]))}else for(const i of Object.keys(this))n=ev(n,t,e,this[i]);return n}concat(e,t){const n="string"==typeof e?e:rv(e,t);return nv(`${this.toString(t)} ${n}`,t)}hexDigest(){return nv(this,{single:!0}).hexDigest()}merge(e,t){const n=nv(e,t);for(const e in n)if(this[e]){if(!this[e].find((t=>n[e].find((e=>t.digest===e.digest)))))throw new Error("hashes do not match, cannot update integrity")}else this[e]=n[e]}match(e,t){const n=nv(e,t);if(!n)return!1;const i=n.pickAlgorithm(t,Object.keys(this));return!!i&&this[i]&&n[i]&&this[i].find((e=>n[i].find((t=>e.digest===t.digest))))||!1}pickAlgorithm(e,t){const n=e?.pickAlgorithm||cv,i=Object.keys(this).filter((e=>!t?.length||t.includes(e)));return i.length?i.reduce(((e,t)=>n(e,t)||e)):null}}function nv(e,t){if(!e)return null;if("string"==typeof e)return iv(e,t);if(e.algorithm&&e.digest){const n=new tv;return n[e.algorithm]=[e],iv(rv(n,t),t)}return iv(rv(e,t),t)}function iv(e,t){if(t?.single)return new Qb(e,t);const n=e.trim().split(/\s+/).reduce(((e,n)=>{const i=new Qb(n,t);if(i.algorithm&&i.digest){const t=i.algorithm;e[t]||(e[t]=[]),e[t].push(i)}return e}),new tv);return n.isEmpty()?null:n}function rv(e,t){return e.algorithm&&e.digest?Qb.prototype.toString.call(e,t):"string"==typeof e?rv(nv(e,t),t):tv.prototype.toString.call(e,t)}function sv(e=Object.create(null)){return new Xb(e)}nb.parse=nv,nb.stringify=rv,nb.fromHex=function(e,t,n){const i=Zb(n?.options);return nv(`${t}-${Buffer.from(e,"hex").toString("base64")}${i}`,n)},nb.fromData=function(e,t){const n=t?.algorithms||[...Gb],i=Zb(t?.options);return n.reduce(((n,r)=>{const s=Hb.createHash(r).update(e).digest("base64"),o=new Qb(`${r}-${s}${i}`,t);if(o.algorithm&&o.digest){const e=o.algorithm;n[e]||(n[e]=[]),n[e].push(o)}return n}),new tv)},nb.fromStream=function(e,t){const n=sv(t);return new Promise(((t,i)=>{let r;e.pipe(n),e.on("error",i),n.on("error",i),n.on("integrity",(e=>{r=e})),n.on("end",(()=>t(r))),n.resume()}))},nb.checkData=function(e,t,n){if(!(t=nv(t,n))||!Object.keys(t).length){if(n?.error)throw Object.assign(new Error("No valid integrity hashes to check against"),{code:"EINTEGRITY"});return!1}const i=t.pickAlgorithm(n),r=nv({algorithm:i,digest:Hb.createHash(i).update(e).digest("base64")}),s=r.match(t,n);if(n=n||{},s||!n.error)return s;if("number"==typeof n.size&&e.length!==n.size){const i=new Error(`data size mismatch when checking ${t}.\n  Wanted: ${n.size}\n  Found: ${e.length}`);throw i.code="EBADSIZE",i.found=e.length,i.expected=n.size,i.sri=t,i}{const n=new Error(`Integrity checksum failed when using ${i}: Wanted ${t}, but got ${r}. (${e.length} bytes)`);throw n.code="EINTEGRITY",n.found=r,n.expected=t,n.algorithm=i,n.sri=t,n}},nb.checkStream=function(e,t,n){if((n=n||Object.create(null)).integrity=t,!(t=nv(t,n))||!Object.keys(t).length)return Promise.reject(Object.assign(new Error("No valid integrity hashes to check against"),{code:"EINTEGRITY"}));const i=sv(n);return new Promise(((t,n)=>{let r;e.pipe(i),e.on("error",n),i.on("error",n),i.on("verified",(e=>{r=e})),i.on("end",(()=>t(r))),i.resume()}))},nb.integrityStream=sv,nb.create=function(e){const t=e?.algorithms||[...Gb],n=Zb(e?.options),i=t.map(Hb.createHash);return{update:function(e,t){return i.forEach((n=>n.update(e,t))),this},digest:function(r){return t.reduce(((t,r)=>{const s=i.shift().digest("base64"),o=new Qb(`${r}-${s}${n}`,e);if(o.algorithm&&o.digest){const e=o.algorithm;t[e]||(t[e]=[]),t[e].push(o)}return t}),new tv)}}};const ov=Hb.getHashes(),av=["md5","whirlpool","sha1","sha224","sha256","sha384","sha512","sha3","sha3-256","sha3-384","sha3-512","sha3_256","sha3_384","sha3_512"].filter((e=>ov.includes(e)));function cv(e,t){return av.indexOf(e.toLowerCase())>=av.indexOf(t.toLowerCase())?e:t}const uv=class{constructor(e,t,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:r,ignoreCargoCult:s,_fromObject:o}={}){if(o)this._fromObject(o);else{if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=!1!==n,this._cacheHeuristic=void 0!==i?i:.1,this._immutableMinTtl=void 0!==r?r:864e5,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=uy(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=uy(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":ly(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),null==t.headers["cache-control"]&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}}now(){return Date.now()}storable(){return!(this._reqcc["no-store"]||!("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())||!ry.has(this._status)||this._rescc["no-store"]||this._isShared&&this._rescc.private||this._isShared&&!this._noAuthorization&&!this._allowsStoringAuthenticated()||!(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||iy.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);const t=uy(e.headers["cache-control"]);return!(t["no-cache"]||/no-cache/.test(e.headers.pragma)||t["max-age"]&&this.age()>t["max-age"]||t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]||this.stale()&&(!t["max-stale"]||this._rescc["must-revalidate"]||!(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))&&this._requestMatches(e,!1)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;const t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const n of t)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){const t={};for(const n in e)oy[n]||(t[n]=e[n]);if(e.connection){const n=e.connection.trim().split(/\s*,\s*/);for(const e of n)delete t[e]}if(t.warning){const e=t.warning.split(/,/).filter((e=>!/^\s*1[0-9][0-9]/.test(e)));e.length?t.warning=e.join(",").trim():delete t.warning}return t}responseHeaders(){const e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){const e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){return this._ageValue()+(this.now()-this._responseTime)/1e3}_ageValue(){return cy(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||"*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return cy(this._rescc["s-maxage"])}if(this._rescc["max-age"])return cy(this._rescc["max-age"]);const e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){const n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<t?0:Math.max(e,(n-t)/1e3)}if(this._resHeaders["last-modified"]){const n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&t>n)return Math.max(e,(t-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){const e=this.maxAge()-this.age(),t=e+cy(this._rescc["stale-if-error"]),n=e+cy(this._rescc["stale-while-revalidate"]);return 1e3*Math.max(0,e,t,n)}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+cy(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+cy(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);const t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){const e=t["if-none-match"].split(/,/).filter((e=>!/^\s*W\//.test(e)));e.length?t["if-none-match"]=e.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&function(e){return!e||sy.has(e.status)}(t))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let n=!1;if(void 0!==t.status&&304!=t.status?n=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===t.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!t.headers.etag&&!t.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,t),modified:304!=t.status,matches:!1};const i={};for(const e in this._resHeaders)i[e]=e in t.headers&&!ay[e]?t.headers[e]:this._resHeaders[e];const r=Object.assign({},t,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,r,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}},lv=tb,hv=nb,pv={shared:!1,ignoreCargoCult:!0},dv={status:200,headers:{}},fv=e=>{const t={method:e.method,url:e.url,headers:{},compress:e.compress};return e.headers.forEach(((e,n)=>{t.headers[n]=e})),t},mv=e=>{const t={status:e.status,headers:{}};return e.headers.forEach(((e,n)=>{t.headers[n]=e})),t};var gv=class{constructor({entry:e,request:t,response:n,options:i}){this.entry=e,this.request=fv(t),this.response=mv(n),this.options=i,this.policy=new uv(this.request,this.response,pv),this.entry&&(this.policy._responseTime=this.entry.metadata.time)}static storable(e,t){return!(!t.cachePath||"no-store"===t.cache||!["GET","HEAD"].includes(e.method))&&new uv(fv(e),dv,pv).storable()}satisfies(e){const t=fv(e);if(this.request.headers.host!==t.headers.host||this.request.compress!==t.compress)return!1;const n=new lv(this.request),i=new lv(t);return JSON.stringify(n.mediaTypes())===JSON.stringify(i.mediaTypes())&&JSON.stringify(n.languages())===JSON.stringify(i.languages())&&JSON.stringify(n.encodings())===JSON.stringify(i.encodings())&&(!this.options.integrity||hv.parse(this.options.integrity).match(this.entry.integrity))}storable(){return this.policy.storable()}get mustRevalidate(){return!!this.policy._rescc["must-revalidate"]}needsRevalidation(e){const t=fv(e);return t.method="GET",!this.policy.satisfiesWithoutRevalidation(t)}responseHeaders(){return this.policy.responseHeaders()}revalidationHeaders(e){const t=fv(e);return this.policy.revalidationHeaders(t)}revalidated(e,t){const n=fv(e),i=mv(t);return!this.policy.revalidatedPolicy(n,i).modified}},yv={NotCachedError:class extends Error{constructor(e){super(`request to ${e} failed: cache mode is 'only-if-cached' but no cached response is available.`),this.code="ENOTCACHED"}}},bv={};!function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const n="object"==typeof process&&process?process:{stdout:null,stderr:null},i=o,r=t(b),s=v;e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof z||t instanceof r.default||(0,e.isReadable)(t)||(0,e.isWritable)(t)),e.isReadable=e=>!!e&&"object"==typeof e&&e instanceof i.EventEmitter&&"function"==typeof e.pipe&&e.pipe!==r.default.Writable.prototype.pipe,e.isWritable=e=>!!e&&"object"==typeof e&&e instanceof i.EventEmitter&&"function"==typeof e.write&&"function"==typeof e.end;const a=Symbol("EOF"),c=Symbol("maybeEmitEnd"),u=Symbol("emittedEnd"),l=Symbol("emittingEnd"),h=Symbol("emittedError"),p=Symbol("closed"),d=Symbol("read"),f=Symbol("flush"),m=Symbol("flushChunk"),g=Symbol("encoding"),y=Symbol("decoder"),w=Symbol("flowing"),_=Symbol("paused"),S=Symbol("resume"),E=Symbol("buffer"),x=Symbol("pipes"),D=Symbol("bufferLength"),C=Symbol("bufferPush"),k=Symbol("bufferShift"),R=Symbol("objectMode"),T=Symbol("destroyed"),O=Symbol("error"),F=Symbol("emitData"),P=Symbol("emitEnd"),I=Symbol("emitEnd2"),L=Symbol("async"),N=Symbol("abort"),B=Symbol("aborted"),j=Symbol("signal"),M=Symbol("dataListeners"),$=Symbol("discarded"),q=e=>Promise.resolve().then(e),U=e=>e();class H{src;dest;opts;ondrain;constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[S](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class W extends H{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}class z extends i.EventEmitter{[w]=!1;[_]=!1;[x]=[];[E]=[];[R];[g];[L];[y];[a]=!1;[u]=!1;[l]=!1;[p]=!1;[h]=null;[D]=0;[T]=!1;[j];[B]=!1;[M]=0;[$]=!1;writable=!0;readable=!0;constructor(...e){const t=e[0]||{};if(super(),t.objectMode&&"string"==typeof t.encoding)throw new TypeError("Encoding and objectMode may not be used together");var n;t.objectMode?(this[R]=!0,this[g]=null):!(n=t).objectMode&&n.encoding&&"buffer"!==n.encoding?(this[g]=t.encoding,this[R]=!1):(this[R]=!1,this[g]=null),this[L]=!!t.async,this[y]=this[g]?new s.StringDecoder(this[g]):null,t&&!0===t.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[E]}),t&&!0===t.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[x]});const{signal:i}=t;i&&(this[j]=i,i.aborted?this[N]():i.addEventListener("abort",(()=>this[N]())))}get bufferLength(){return this[D]}get encoding(){return this[g]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[R]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[L]}set async(e){this[L]=this[L]||!!e}[N](){this[B]=!0,this.emit("abort",this[j]?.reason),this.destroy(this[j]?.reason)}get aborted(){return this[B]}set aborted(e){}write(e,t,n){if(this[B])return!1;if(this[a])throw new Error("write after end");if(this[T])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[L]?q:U;if(!this[R]&&!Buffer.isBuffer(e))if(r=e,!Buffer.isBuffer(r)&&ArrayBuffer.isView(r))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if((e=>e instanceof ArrayBuffer||!!e&&"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e))e=Buffer.from(e);else if("string"!=typeof e)throw new Error("Non-contiguous data written to non-objectMode stream");var r;return this[R]?(this[w]&&0!==this[D]&&this[f](!0),this[w]?this.emit("data",e):this[C](e),0!==this[D]&&this.emit("readable"),n&&i(n),this[w]):e.length?("string"==typeof e&&!(t===this[g]&&!this[y]?.lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[g]&&(e=this[y].write(e)),this[w]&&0!==this[D]&&this[f](!0),this[w]?this.emit("data",e):this[C](e),0!==this[D]&&this.emit("readable"),n&&i(n),this[w]):(0!==this[D]&&this.emit("readable"),n&&i(n),this[w])}read(e){if(this[T])return null;if(this[$]=!1,0===this[D]||0===e||e&&e>this[D])return this[c](),null;this[R]&&(e=null),this[E].length>1&&!this[R]&&(this[E]=[this[g]?this[E].join(""):Buffer.concat(this[E],this[D])]);const t=this[d](e||null,this[E][0]);return this[c](),t}[d](e,t){if(this[R])this[k]();else{const n=t;e===n.length||null===e?this[k]():"string"==typeof n?(this[E][0]=n.slice(e),t=n.slice(0,e),this[D]-=e):(this[E][0]=n.subarray(e),t=n.subarray(0,e),this[D]-=e)}return this.emit("data",t),!this[E].length&&!this[a]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t="utf8"),void 0!==e&&this.write(e,t),n&&this.once("end",n),this[a]=!0,this.writable=!1,(this[w]||!this[_])&&this[c](),this}[S](){this[T]||(!this[M]&&!this[x].length&&(this[$]=!0),this[_]=!1,this[w]=!0,this.emit("resume"),this[E].length?this[f]():this[a]?this[c]():this.emit("drain"))}resume(){return this[S]()}pause(){this[w]=!1,this[_]=!0,this[$]=!1}get destroyed(){return this[T]}get flowing(){return this[w]}get paused(){return this[_]}[C](e){this[R]?this[D]+=1:this[D]+=e.length,this[E].push(e)}[k](){return this[R]?this[D]-=1:this[D]-=this[E][0].length,this[E].shift()}[f](e=!1){do{}while(this[m](this[k]())&&this[E].length);!e&&!this[E].length&&!this[a]&&this.emit("drain")}[m](e){return this.emit("data",e),this[w]}pipe(e,t){if(this[T])return e;this[$]=!1;const i=this[u];return t=t||{},e===n.stdout||e===n.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,i?t.end&&e.end():(this[x].push(t.proxyErrors?new W(this,e,t):new H(this,e,t)),this[L]?q((()=>this[S]())):this[S]()),e}unpipe(e){const t=this[x].find((t=>t.dest===e));t&&(1===this[x].length?(this[w]&&0===this[M]&&(this[w]=!1),this[x]=[]):this[x].splice(this[x].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);if("data"===e)this[$]=!1,this[M]++,!this[x].length&&!this[w]&&this[S]();else if("readable"===e&&0!==this[D])super.emit("readable");else if("end"!==(i=e)&&"finish"!==i&&"prefinish"!==i||!this[u]){if("error"===e&&this[h]){const e=t;this[L]?q((()=>e.call(this,this[h]))):e.call(this,this[h])}}else super.emit(e),this.removeAllListeners(e);var i;return n}removeListener(e,t){return this.off(e,t)}off(e,t){const n=super.off(e,t);return"data"===e&&(this[M]=this.listeners("data").length,0===this[M]&&!this[$]&&!this[x].length&&(this[w]=!1)),n}removeAllListeners(e){const t=super.removeAllListeners(e);return("data"===e||void 0===e)&&(this[M]=0,!this[$]&&!this[x].length&&(this[w]=!1)),t}get emittedEnd(){return this[u]}[c](){!this[l]&&!this[u]&&!this[T]&&0===this[E].length&&this[a]&&(this[l]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[p]&&this.emit("close"),this[l]=!1)}emit(e,...t){const n=t[0];if("error"!==e&&"close"!==e&&e!==T&&this[T])return!1;if("data"===e)return!(!this[R]&&!n)&&(this[L]?(q((()=>this[F](n))),!0):this[F](n));if("end"===e)return this[P]();if("close"===e){if(this[p]=!0,!this[u]&&!this[T])return!1;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[h]=n,super.emit(O,n);const e=!(this[j]&&!this.listeners("error").length)&&super.emit("error",n);return this[c](),e}if("resume"===e){const e=super.emit("resume");return this[c](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,...t);return this[c](),i}[F](e){for(const t of this[x])!1===t.dest.write(e)&&this.pause();const t=!this[$]&&super.emit("data",e);return this[c](),t}[P](){return!this[u]&&(this[u]=!0,this.readable=!1,this[L]?(q((()=>this[I]())),!0):this[I]())}[I](){if(this[y]){const e=this[y].end();if(e){for(const t of this[x])t.dest.write(e);this[$]||super.emit("data",e)}}for(const e of this[x])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){const e=Object.assign([],{dataLength:0});this[R]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[R]||(e.dataLength+=t.length)})),await t,e}async concat(){if(this[R])throw new Error("cannot concat in objectMode");const e=await this.collect();return this[g]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,t)=>{this.on(T,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[$]=!1;let e=!1;const t=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[a])return t();let i,r;const s=e=>{this.off("data",o),this.off("end",c),this.off(T,u),t(),r(e)},o=e=>{this.off("error",s),this.off("end",c),this.off(T,u),this.pause(),i({value:e,done:!!this[a]})},c=()=>{this.off("error",s),this.off("data",o),this.off(T,u),t(),i({done:!0,value:void 0})},u=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t,i=e,this.once(T,u),this.once("error",s),this.once("end",c),this.once("data",o)}))},throw:t,return:t,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[$]=!1;let e=!1;const t=()=>(this.pause(),this.off(O,t),this.off(T,t),this.off("end",t),e=!0,{done:!0,value:void 0});return this.once("end",t),this.once(O,t),this.once(T,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{done:!1,value:n}},throw:t,return:t,[Symbol.iterator](){return this}}}destroy(e){return this[T]?(e?this.emit("error",e):this.emit(T),this):(this[T]=!0,this[$]=!0,this[E].length=0,this[D]=0,"function"==typeof this.close&&!this[p]&&this.close(),e?this.emit("error",e):this.emit(T),this)}static get isStream(){return e.isStream}}e.Minipass=z}(bv);const vv="object"==typeof process&&process?process:{stdout:null,stderr:null},wv=o,_v=b,Sv=v.StringDecoder,Ev=Symbol("EOF"),xv=Symbol("maybeEmitEnd"),Dv=Symbol("emittedEnd"),Cv=Symbol("emittingEnd"),kv=Symbol("emittedError"),Rv=Symbol("closed"),Av=Symbol("read"),Tv=Symbol("flush"),Ov=Symbol("flushChunk"),Fv=Symbol("encoding"),Pv=Symbol("decoder"),Iv=Symbol("flowing"),Lv=Symbol("paused"),Nv=Symbol("resume"),Bv=Symbol("bufferLength"),jv=Symbol("bufferPush"),Mv=Symbol("bufferShift"),$v=Symbol("objectMode"),qv=Symbol("destroyed"),Uv=Symbol("emitData"),Hv=Symbol("emitEnd"),Wv=Symbol("emitEnd2"),zv=Symbol("async"),Gv=e=>Promise.resolve().then(e),Vv="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Kv=Vv&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Yv=Vv&&Symbol.iterator||Symbol("iterator not implemented");let Jv=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[Nv](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Zv=class extends Jv{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};const Xv=class e extends _v{constructor(e){super(),this[Iv]=!1,this[Lv]=!1,this.pipes=[],this.buffer=[],this[$v]=e&&e.objectMode||!1,this[$v]?this[Fv]=null:this[Fv]=e&&e.encoding||null,"buffer"===this[Fv]&&(this[Fv]=null),this[zv]=e&&!!e.async||!1,this[Pv]=this[Fv]?new Sv(this[Fv]):null,this[Ev]=!1,this[Dv]=!1,this[Cv]=!1,this[Rv]=!1,this[kv]=null,this.writable=!0,this.readable=!0,this[Bv]=0,this[qv]=!1}get bufferLength(){return this[Bv]}get encoding(){return this[Fv]}set encoding(e){if(this[$v])throw new Error("cannot set encoding in objectMode");if(this[Fv]&&e!==this[Fv]&&(this[Pv]&&this[Pv].lastNeed||this[Bv]))throw new Error("cannot change encoding");this[Fv]!==e&&(this[Pv]=e?new Sv(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[Pv].write(e))))),this[Fv]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[$v]}set objectMode(e){this[$v]=this[$v]||!!e}get async(){return this[zv]}set async(e){this[zv]=this[zv]||!!e}write(e,t,n){if(this[Ev])throw new Error("write after end");if(this[qv])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[zv]?Gv:e=>e();return!this[$v]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[$v]?(this.flowing&&0!==this[Bv]&&this[Tv](!0),this.flowing?this.emit("data",e):this[jv](e),0!==this[Bv]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[Fv]&&!this[Pv].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[Fv]&&(e=this[Pv].write(e)),this.flowing&&0!==this[Bv]&&this[Tv](!0),this.flowing?this.emit("data",e):this[jv](e),0!==this[Bv]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[Bv]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[qv])return null;if(0===this[Bv]||0===e||e>this[Bv])return this[xv](),null;this[$v]&&(e=null),this.buffer.length>1&&!this[$v]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Bv])]);const t=this[Av](e||null,this.buffer[0]);return this[xv](),t}[Av](e,t){return e===t.length||null===e?this[Mv]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[Bv]-=e),this.emit("data",t),!this.buffer.length&&!this[Ev]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[Ev]=!0,this.writable=!1,(this.flowing||!this[Lv])&&this[xv](),this}[Nv](){this[qv]||(this[Lv]=!1,this[Iv]=!0,this.emit("resume"),this.buffer.length?this[Tv]():this[Ev]?this[xv]():this.emit("drain"))}resume(){return this[Nv]()}pause(){this[Iv]=!1,this[Lv]=!0}get destroyed(){return this[qv]}get flowing(){return this[Iv]}get paused(){return this[Lv]}[jv](e){this[$v]?this[Bv]+=1:this[Bv]+=e.length,this.buffer.push(e)}[Mv](){return this.buffer.length&&(this[$v]?this[Bv]-=1:this[Bv]-=this.buffer[0].length),this.buffer.shift()}[Tv](e){do{}while(this[Ov](this[Mv]()));!e&&!this.buffer.length&&!this[Ev]&&this.emit("drain")}[Ov](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[qv])return;const n=this[Dv];return t=t||{},e===vv.stdout||e===vv.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new Zv(this,e,t):new Jv(this,e,t)),this[zv]?Gv((()=>this[Nv]())):this[Nv]()),e}unpipe(e){const t=this.pipes.find((t=>t.dest===e));t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this.pipes.length||this.flowing?"readable"===e&&0!==this[Bv]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[Dv]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[kv]&&(this[zv]?Gv((()=>t.call(this,this[kv]))):t.call(this,this[kv])):this[Nv](),n}get emittedEnd(){return this[Dv]}[xv](){!this[Cv]&&!this[Dv]&&!this[qv]&&0===this.buffer.length&&this[Ev]&&(this[Cv]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Rv]&&this.emit("close"),this[Cv]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==qv&&this[qv])return;if("data"===e)return!!t&&(this[zv]?Gv((()=>this[Uv](t))):this[Uv](t));if("end"===e)return this[Hv]();if("close"===e){if(this[Rv]=!0,!this[Dv]&&!this[qv])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[kv]=t;const e=super.emit("error",t);return this[xv](),e}if("resume"===e){const e=super.emit("resume");return this[xv](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[xv](),i}[Uv](e){for(const t of this.pipes)!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[xv](),t}[Hv](){this[Dv]||(this[Dv]=!0,this.readable=!1,this[zv]?Gv((()=>this[Wv]())):this[Wv]())}[Wv](){if(this[Pv]){const e=this[Pv].end();if(e){for(const t of this.pipes)t.dest.write(e);super.emit("data",e)}}for(const e of this.pipes)e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[$v]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[$v]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[$v]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[$v]?Promise.reject(new Error("cannot concat in objectMode")):this[Fv]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(qv,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Kv](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[Ev])return Promise.resolve({done:!0});let t=null,n=null;const i=e=>{this.removeListener("data",r),this.removeListener("end",s),n(e)},r=e=>{this.removeListener("error",i),this.removeListener("end",s),this.pause(),t({value:e,done:!!this[Ev]})},s=()=>{this.removeListener("error",i),this.removeListener("data",r),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{n=a,t=e,this.once(qv,o),this.once("error",i),this.once("end",s),this.once("data",r)}))}}}[Yv](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[qv]?(e?this.emit("error",e):this.emit(qv),this):(this[qv]=!0,this.buffer.length=0,this[Bv]=0,"function"==typeof this.close&&!this[Rv]&&this.close(),e?this.emit("error",e):this.emit(qv),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof _v||t instanceof wv&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}},Qv=Symbol("_flush"),ew=Symbol("_flushed"),tw=Symbol("_flushing");var nw=class extends Xv{constructor(e={}){if("function"==typeof e&&(e={flush:e}),super(e),"function"!=typeof e.flush&&"function"!=typeof this.flush)throw new TypeError("must provide flush function in options");this[Qv]=e.flush||this.flush}emit(e,...t){if("end"!==e&&"finish"!==e||this[ew])return super.emit(e,...t);if(this[tw])return;this[tw]=!0;const n=e=>{this[ew]=!0,e?super.emit("error",e):super.emit("end")},i=this[Qv](n);i&&i.then&&i.then((()=>n()),(e=>n(e)))}},iw={exports:{}},rw={exports:{}},sw={exports:{}};const ow="object"==typeof process&&process?process:{stdout:null,stderr:null},aw=o,cw=b,uw=v.StringDecoder,lw=Symbol("EOF"),hw=Symbol("maybeEmitEnd"),pw=Symbol("emittedEnd"),dw=Symbol("emittingEnd"),fw=Symbol("emittedError"),mw=Symbol("closed"),gw=Symbol("read"),yw=Symbol("flush"),bw=Symbol("flushChunk"),vw=Symbol("encoding"),ww=Symbol("decoder"),_w=Symbol("flowing"),Sw=Symbol("paused"),Ew=Symbol("resume"),xw=Symbol("bufferLength"),Dw=Symbol("bufferPush"),Cw=Symbol("bufferShift"),kw=Symbol("objectMode"),Rw=Symbol("destroyed"),Aw=Symbol("emitData"),Tw=Symbol("emitEnd"),Ow=Symbol("emitEnd2"),Fw=Symbol("async"),Pw=e=>Promise.resolve().then(e),Iw="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Lw=Iw&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Nw=Iw&&Symbol.iterator||Symbol("iterator not implemented");let Bw=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[Ew](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},jw=class extends Bw{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};const Mw=class e extends cw{constructor(e){super(),this[_w]=!1,this[Sw]=!1,this.pipes=[],this.buffer=[],this[kw]=e&&e.objectMode||!1,this[kw]?this[vw]=null:this[vw]=e&&e.encoding||null,"buffer"===this[vw]&&(this[vw]=null),this[Fw]=e&&!!e.async||!1,this[ww]=this[vw]?new uw(this[vw]):null,this[lw]=!1,this[pw]=!1,this[dw]=!1,this[mw]=!1,this[fw]=null,this.writable=!0,this.readable=!0,this[xw]=0,this[Rw]=!1}get bufferLength(){return this[xw]}get encoding(){return this[vw]}set encoding(e){if(this[kw])throw new Error("cannot set encoding in objectMode");if(this[vw]&&e!==this[vw]&&(this[ww]&&this[ww].lastNeed||this[xw]))throw new Error("cannot change encoding");this[vw]!==e&&(this[ww]=e?new uw(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[ww].write(e))))),this[vw]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[kw]}set objectMode(e){this[kw]=this[kw]||!!e}get async(){return this[Fw]}set async(e){this[Fw]=this[Fw]||!!e}write(e,t,n){if(this[lw])throw new Error("write after end");if(this[Rw])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[Fw]?Pw:e=>e();return!this[kw]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[kw]?(this.flowing&&0!==this[xw]&&this[yw](!0),this.flowing?this.emit("data",e):this[Dw](e),0!==this[xw]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[vw]&&!this[ww].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[vw]&&(e=this[ww].write(e)),this.flowing&&0!==this[xw]&&this[yw](!0),this.flowing?this.emit("data",e):this[Dw](e),0!==this[xw]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[xw]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[Rw])return null;if(0===this[xw]||0===e||e>this[xw])return this[hw](),null;this[kw]&&(e=null),this.buffer.length>1&&!this[kw]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[xw])]);const t=this[gw](e||null,this.buffer[0]);return this[hw](),t}[gw](e,t){return e===t.length||null===e?this[Cw]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[xw]-=e),this.emit("data",t),!this.buffer.length&&!this[lw]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[lw]=!0,this.writable=!1,(this.flowing||!this[Sw])&&this[hw](),this}[Ew](){this[Rw]||(this[Sw]=!1,this[_w]=!0,this.emit("resume"),this.buffer.length?this[yw]():this[lw]?this[hw]():this.emit("drain"))}resume(){return this[Ew]()}pause(){this[_w]=!1,this[Sw]=!0}get destroyed(){return this[Rw]}get flowing(){return this[_w]}get paused(){return this[Sw]}[Dw](e){this[kw]?this[xw]+=1:this[xw]+=e.length,this.buffer.push(e)}[Cw](){return this.buffer.length&&(this[kw]?this[xw]-=1:this[xw]-=this.buffer[0].length),this.buffer.shift()}[yw](e){do{}while(this[bw](this[Cw]()));!e&&!this.buffer.length&&!this[lw]&&this.emit("drain")}[bw](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[Rw])return;const n=this[pw];return t=t||{},e===ow.stdout||e===ow.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new jw(this,e,t):new Bw(this,e,t)),this[Fw]?Pw((()=>this[Ew]())):this[Ew]()),e}unpipe(e){const t=this.pipes.find((t=>t.dest===e));t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this.pipes.length||this.flowing?"readable"===e&&0!==this[xw]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[pw]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[fw]&&(this[Fw]?Pw((()=>t.call(this,this[fw]))):t.call(this,this[fw])):this[Ew](),n}get emittedEnd(){return this[pw]}[hw](){!this[dw]&&!this[pw]&&!this[Rw]&&0===this.buffer.length&&this[lw]&&(this[dw]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[mw]&&this.emit("close"),this[dw]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==Rw&&this[Rw])return;if("data"===e)return!!t&&(this[Fw]?Pw((()=>this[Aw](t))):this[Aw](t));if("end"===e)return this[Tw]();if("close"===e){if(this[mw]=!0,!this[pw]&&!this[Rw])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[fw]=t;const e=super.emit("error",t);return this[hw](),e}if("resume"===e){const e=super.emit("resume");return this[hw](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[hw](),i}[Aw](e){for(const t of this.pipes)!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[hw](),t}[Tw](){this[pw]||(this[pw]=!0,this.readable=!1,this[Fw]?Pw((()=>this[Ow]())):this[Ow]())}[Ow](){if(this[ww]){const e=this[ww].end();if(e){for(const t of this.pipes)t.dest.write(e);super.emit("data",e)}}for(const e of this.pipes)e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[kw]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[kw]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[kw]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[kw]?Promise.reject(new Error("cannot concat in objectMode")):this[vw]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(Rw,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Lw](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[lw])return Promise.resolve({done:!0});let t=null,n=null;const i=e=>{this.removeListener("data",r),this.removeListener("end",s),n(e)},r=e=>{this.removeListener("error",i),this.removeListener("end",s),this.pause(),t({value:e,done:!!this[lw]})},s=()=>{this.removeListener("error",i),this.removeListener("data",r),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{n=a,t=e,this.once(Rw,o),this.once("error",i),this.once("end",s),this.once("data",r)}))}}}[Nw](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[Rw]?(e?this.emit("error",e):this.emit(Rw),this):(this[Rw]=!0,this.buffer.length=0,this[xw]=0,"function"==typeof this.close&&!this[mw]&&this.close(),e?this.emit("error",e):this.emit(Rw),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof cw||t instanceof aw&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}},$w=Symbol("_data"),qw=Symbol("_length");sw.exports=class extends Mw{constructor(e){super(e),this[$w]=[],this[qw]=0}write(e,t,n){"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=Buffer.isBuffer(e)?e:Buffer.from(e,t);return this[$w].push(i),this[qw]+=i.length,n&&n(),!0}end(e,t,n){"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t);const i=Buffer.concat(this[$w],this[qw]);return super.write(i),super.end(n)}},sw.exports.PassThrough=class extends Mw{constructor(e){super(e),this[$w]=[],this[qw]=0}write(e,t,n){"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=Buffer.isBuffer(e)?e:Buffer.from(e,t);return this[$w].push(i),this[qw]+=i.length,super.write(e,t,n)}end(e,t,n){"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t);const i=Buffer.concat(this[$w],this[qw]);return this.emit("collect",i),super.end(n)}};var Uw=sw.exports;const Hw="object"==typeof process&&process?process:{stdout:null,stderr:null},Ww=o,zw=b,Gw=v.StringDecoder,Vw=Symbol("EOF"),Kw=Symbol("maybeEmitEnd"),Yw=Symbol("emittedEnd"),Jw=Symbol("emittingEnd"),Zw=Symbol("emittedError"),Xw=Symbol("closed"),Qw=Symbol("read"),e_=Symbol("flush"),t_=Symbol("flushChunk"),n_=Symbol("encoding"),i_=Symbol("decoder"),r_=Symbol("flowing"),s_=Symbol("paused"),o_=Symbol("resume"),a_=Symbol("bufferLength"),c_=Symbol("bufferPush"),u_=Symbol("bufferShift"),l_=Symbol("objectMode"),h_=Symbol("destroyed"),p_=Symbol("emitData"),d_=Symbol("emitEnd"),f_=Symbol("emitEnd2"),m_=Symbol("async"),g_=e=>Promise.resolve().then(e),y_="1"!==A._MP_NO_ITERATOR_SYMBOLS_,b_=y_&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),v_=y_&&Symbol.iterator||Symbol("iterator not implemented");let w_=class{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[o_](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},__=class extends w_{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}};const S_=class e extends zw{constructor(e){super(),this[r_]=!1,this[s_]=!1,this.pipes=[],this.buffer=[],this[l_]=e&&e.objectMode||!1,this[l_]?this[n_]=null:this[n_]=e&&e.encoding||null,"buffer"===this[n_]&&(this[n_]=null),this[m_]=e&&!!e.async||!1,this[i_]=this[n_]?new Gw(this[n_]):null,this[Vw]=!1,this[Yw]=!1,this[Jw]=!1,this[Xw]=!1,this[Zw]=null,this.writable=!0,this.readable=!0,this[a_]=0,this[h_]=!1}get bufferLength(){return this[a_]}get encoding(){return this[n_]}set encoding(e){if(this[l_])throw new Error("cannot set encoding in objectMode");if(this[n_]&&e!==this[n_]&&(this[i_]&&this[i_].lastNeed||this[a_]))throw new Error("cannot change encoding");this[n_]!==e&&(this[i_]=e?new Gw(e):null,this.buffer.length&&(this.buffer=this.buffer.map((e=>this[i_].write(e))))),this[n_]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[l_]}set objectMode(e){this[l_]=this[l_]||!!e}get async(){return this[m_]}set async(e){this[m_]=this[m_]||!!e}write(e,t,n){if(this[Vw])throw new Error("write after end");if(this[h_])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[m_]?g_:e=>e();return!this[l_]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[l_]?(this.flowing&&0!==this[a_]&&this[e_](!0),this.flowing?this.emit("data",e):this[c_](e),0!==this[a_]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[n_]&&!this[i_].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[n_]&&(e=this[i_].write(e)),this.flowing&&0!==this[a_]&&this[e_](!0),this.flowing?this.emit("data",e):this[c_](e),0!==this[a_]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[a_]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[h_])return null;if(0===this[a_]||0===e||e>this[a_])return this[Kw](),null;this[l_]&&(e=null),this.buffer.length>1&&!this[l_]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[a_])]);const t=this[Qw](e||null,this.buffer[0]);return this[Kw](),t}[Qw](e,t){return e===t.length||null===e?this[u_]():(this.buffer[0]=t.slice(e),t=t.slice(0,e),this[a_]-=e),this.emit("data",t),!this.buffer.length&&!this[Vw]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[Vw]=!0,this.writable=!1,(this.flowing||!this[s_])&&this[Kw](),this}[o_](){this[h_]||(this[s_]=!1,this[r_]=!0,this.emit("resume"),this.buffer.length?this[e_]():this[Vw]?this[Kw]():this.emit("drain"))}resume(){return this[o_]()}pause(){this[r_]=!1,this[s_]=!0}get destroyed(){return this[h_]}get flowing(){return this[r_]}get paused(){return this[s_]}[c_](e){this[l_]?this[a_]+=1:this[a_]+=e.length,this.buffer.push(e)}[u_](){return this.buffer.length&&(this[l_]?this[a_]-=1:this[a_]-=this.buffer[0].length),this.buffer.shift()}[e_](e){do{}while(this[t_](this[u_]()));!e&&!this.buffer.length&&!this[Vw]&&this.emit("drain")}[t_](e){return!!e&&(this.emit("data",e),this.flowing)}pipe(e,t){if(this[h_])return;const n=this[Yw];return t=t||{},e===Hw.stdout||e===Hw.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this.pipes.push(t.proxyErrors?new __(this,e,t):new w_(this,e,t)),this[m_]?g_((()=>this[o_]())):this[o_]()),e}unpipe(e){const t=this.pipes.find((t=>t.dest===e));t&&(this.pipes.splice(this.pipes.indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this.pipes.length||this.flowing?"readable"===e&&0!==this[a_]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[Yw]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[Zw]&&(this[m_]?g_((()=>t.call(this,this[Zw]))):t.call(this,this[Zw])):this[o_](),n}get emittedEnd(){return this[Yw]}[Kw](){!this[Jw]&&!this[Yw]&&!this[h_]&&0===this.buffer.length&&this[Vw]&&(this[Jw]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Xw]&&this.emit("close"),this[Jw]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==h_&&this[h_])return;if("data"===e)return!!t&&(this[m_]?g_((()=>this[p_](t))):this[p_](t));if("end"===e)return this[d_]();if("close"===e){if(this[Xw]=!0,!this[Yw]&&!this[h_])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[Zw]=t;const e=super.emit("error",t);return this[Kw](),e}if("resume"===e){const e=super.emit("resume");return this[Kw](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[Kw](),i}[p_](e){for(const t of this.pipes)!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[Kw](),t}[d_](){this[Yw]||(this[Yw]=!0,this.readable=!1,this[m_]?g_((()=>this[f_]())):this[f_]())}[f_](){if(this[i_]){const e=this[i_].end();if(e){for(const t of this.pipes)t.dest.write(e);super.emit("data",e)}}for(const e of this.pipes)e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[l_]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[l_]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[l_]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[l_]?Promise.reject(new Error("cannot concat in objectMode")):this[n_]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(h_,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[b_](){return{next:()=>{const e=this.read();if(null!==e)return Promise.resolve({done:!1,value:e});if(this[Vw])return Promise.resolve({done:!0});let t=null,n=null;const i=e=>{this.removeListener("data",r),this.removeListener("end",s),n(e)},r=e=>{this.removeListener("error",i),this.removeListener("end",s),this.pause(),t({value:e,done:!!this[Vw]})},s=()=>{this.removeListener("error",i),this.removeListener("data",r),t({done:!0})},o=()=>i(new Error("stream destroyed"));return new Promise(((e,a)=>{n=a,t=e,this.once(h_,o),this.once("error",i),this.once("end",s),this.once("data",r)}))}}}[v_](){return{next:()=>{const e=this.read();return{value:e,done:null===e}}}}destroy(e){return this[h_]?(e?this.emit("error",e):this.emit(h_),this):(this[h_]=!0,this.buffer.length=0,this[a_]=0,"function"==typeof this.close&&!this[Xw]&&this.close(),e?this.emit("error",e):this.emit(h_),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof zw||t instanceof Ww&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}},E_=o,x_=Symbol("_head"),D_=Symbol("_tail"),C_=Symbol("_linkStreams"),k_=Symbol("_setHead"),R_=Symbol("_setTail"),A_=Symbol("_onError"),T_=Symbol("_onData"),O_=Symbol("_onEnd"),F_=Symbol("_onDrain"),P_=Symbol("_streams");var I_=class extends S_{constructor(e,...t){(e=>e&&e instanceof E_&&("function"==typeof e.pipe||"function"==typeof e.write&&"function"==typeof e.end))(e)&&(t.unshift(e),e={}),super(e),this[P_]=[],t.length&&this.push(...t)}[C_](e){return e.reduce(((e,t)=>(e.on("error",(e=>t.emit("error",e))),e.pipe(t),t)))}push(...e){this[P_].push(...e),this[D_]&&e.unshift(this[D_]);const t=this[C_](e);this[R_](t),this[x_]||this[k_](e[0])}unshift(...e){this[P_].unshift(...e),this[x_]&&e.push(this[x_]);const t=this[C_](e);this[k_](e[0]),this[D_]||this[R_](t)}destroy(e){return this[P_].forEach((e=>"function"==typeof e.destroy&&e.destroy())),super.destroy(e)}[R_](e){this[D_]=e,e.on("error",(t=>this[A_](e,t))),e.on("data",(t=>this[T_](e,t))),e.on("end",(()=>this[O_](e))),e.on("finish",(()=>this[O_](e)))}[A_](e,t){e===this[D_]&&this.emit("error",t)}[T_](e,t){e===this[D_]&&super.write(t)}[O_](e){e===this[D_]&&super.end()}pause(){return super.pause(),this[D_]&&this[D_].pause&&this[D_].pause()}emit(e,...t){return"resume"===e&&this[D_]&&this[D_].resume&&this[D_].resume(),super.emit(e,...t)}[k_](e){this[x_]=e,e.on("drain",(()=>this[F_](e)))}[F_](e){e===this[x_]&&this.emit("drain")}write(e,t,n){return this[x_].write(e,t,n)&&(this.flowing||0===this.buffer.length)}end(e,t,n){return this[x_].end(e,t,n),this}},L_={},N_={exports:{}};!function(e){!function(){var t;function n(e,i){var r=this instanceof n?this:t;if(r.reset(i),"string"==typeof e&&e.length>0&&r.hash(e),r!==this)return r}n.prototype.hash=function(e){var t,n,i,r,s;switch(s=e.length,this.len+=s,n=this.k1,i=0,this.rem){case 0:n^=s>i?65535&e.charCodeAt(i++):0;case 1:n^=s>i?(65535&e.charCodeAt(i++))<<8:0;case 2:n^=s>i?(65535&e.charCodeAt(i++))<<16:0;case 3:n^=s>i?(255&e.charCodeAt(i))<<24:0,n^=s>i?(65280&e.charCodeAt(i++))>>8:0}if(this.rem=s+this.rem&3,(s-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=n=13715*(n=(n=11601*n+3432906752*(65535&n)&4294967295)<<15|n>>>17)+461832192*(65535&n)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(i>=s);)n=65535&e.charCodeAt(i++)^(65535&e.charCodeAt(i++))<<8^(65535&e.charCodeAt(i++))<<16,n^=(255&(r=e.charCodeAt(i++)))<<24^(65280&r)>>8;switch(n=0,this.rem){case 3:n^=(65535&e.charCodeAt(i+2))<<16;case 2:n^=(65535&e.charCodeAt(i+1))<<8;case 1:n^=65535&e.charCodeAt(i)}this.h1=t}return this.k1=n,this},n.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},n.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new n,e.exports=n}()}(N_);var B_=N_.exports,j_=r,M_=function(e,t,n){return j_.join(e,(t?t+"-":"")+function(e){return e?("00000000"+new B_(e).result().toString(16)).slice(-8):(Math.random().toString(16)+"0000000").slice(2,10)}(n))},$_={exports:{}};const q_="5";var U_=function(e){return[e.slice(0,2),e.slice(2,4),e.slice(4)]};const H_="2",W_=U_,z_=r,G_=nb;function V_(e){return z_.join(e,`content-v${H_}`)}$_.exports=function(e,t){const n=G_.parse(t,{single:!0});return z_.join(V_(e),n.algorithm,...W_(n.hexDigest()))},$_.exports.contentDir=V_;var K_=$_.exports,Y_=(e,{copy:t,wrap:n})=>{const i={};if(e&&"object"==typeof e)for(const n of t)void 0!==e[n]&&(i[n]=e[n]);else i[n]=e;return i};const J_=hu;var Z_=e=>J_.satisfies(process.version,e,{includePrerelease:!0}),X_={exports:{}};!function(e){const{inspect:t}=l;class n{constructor(e,t,n){let i=`${t}: ${n.syscall} returned ${n.code} (${n.message})`;void 0!==n.path&&(i+=` ${n.path}`),void 0!==n.dest&&(i+=` => ${n.dest}`),this.code=e,Object.defineProperties(this,{name:{value:"SystemError",enumerable:!1,writable:!0,configurable:!0},message:{value:i,enumerable:!1,writable:!0,configurable:!0},info:{value:n,enumerable:!0,configurable:!0,writable:!1},errno:{get:()=>n.errno,set(e){n.errno=e},enumerable:!0,configurable:!0},syscall:{get:()=>n.syscall,set(e){n.syscall=e},enumerable:!0,configurable:!0}}),void 0!==n.path&&Object.defineProperty(this,"path",{get:()=>n.path,set(e){n.path=e},enumerable:!0,configurable:!0}),void 0!==n.dest&&Object.defineProperty(this,"dest",{get:()=>n.dest,set(e){n.dest=e},enumerable:!0,configurable:!0})}toString(){return`${this.name} [${this.code}]: ${this.message}`}[Symbol.for("nodejs.util.inspect.custom")](e,n){return t(this,{...n,getters:!0,customInspect:!1})}}function i(t,i){e.exports[t]=class extends n{constructor(e){super(t,i,e)}}}i("ERR_FS_CP_DIR_TO_NON_DIR","Cannot overwrite directory with non-directory"),i("ERR_FS_CP_EEXIST","Target already exists"),i("ERR_FS_CP_EINVAL","Invalid src or dest"),i("ERR_FS_CP_FIFO_PIPE","Cannot copy a FIFO pipe"),i("ERR_FS_CP_NON_DIR_TO_DIR","Cannot overwrite non-directory with directory"),i("ERR_FS_CP_SOCKET","Cannot copy a socket file"),i("ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY","Cannot overwrite symlink in subdirectory of self"),i("ERR_FS_CP_UNKNOWN","Cannot copy an unknown file type"),i("ERR_FS_EISDIR","Path is a directory"),e.exports.ERR_INVALID_ARG_TYPE=class extends Error{constructor(e,t,n){super(),this.code="ERR_INVALID_ARG_TYPE",this.message=`The ${e} argument must be ${t}. Received ${typeof n}`}}}(X_);var Q_=X_.exports;const{ERR_FS_CP_DIR_TO_NON_DIR:eS,ERR_FS_CP_EEXIST:tS,ERR_FS_CP_EINVAL:nS,ERR_FS_CP_FIFO_PIPE:iS,ERR_FS_CP_NON_DIR_TO_DIR:rS,ERR_FS_CP_SOCKET:sS,ERR_FS_CP_SYMLINK_TO_SUBDIRECTORY:oS,ERR_FS_CP_UNKNOWN:aS,ERR_FS_EISDIR:cS,ERR_INVALID_ARG_TYPE:uS}=Q_,{constants:{errno:{EEXIST:lS,EISDIR:hS,EINVAL:pS,ENOTDIR:dS}}}=u,{chmod:fS,copyFile:mS,lstat:gS,mkdir:yS,readdir:bS,readlink:vS,stat:wS,symlink:_S,unlink:SS,utimes:ES}=h,{dirname:xS,isAbsolute:DS,join:CS,parse:kS,resolve:RS,sep:AS,toNamespacedPath:TS}=r,{fileURLToPath:OS}=p,FS={dereference:!1,errorOnExist:!1,filter:void 0,force:!0,preserveTimestamps:!1,recursive:!1};function PS(e){return null!=e&&e.href&&e.origin?OS(e):e}async function IS(e,t,n){const{0:i,1:r}=await function(e,t,n){const i=n.dereference?e=>wS(e,{bigint:!0}):e=>gS(e,{bigint:!0});return Promise.all([i(e),i(t).catch((e=>{if("ENOENT"===e.code)return null;throw e}))])}(e,t,n);if(r){if(LS(i,r))throw new nS({message:"src and dest cannot be the same",path:t,syscall:"cp",errno:pS});if(i.isDirectory()&&!r.isDirectory())throw new eS({message:`cannot overwrite directory ${e} with non-directory ${t}`,path:t,syscall:"cp",errno:hS});if(!i.isDirectory()&&r.isDirectory())throw new rS({message:`cannot overwrite non-directory ${e} with directory ${t}`,path:t,syscall:"cp",errno:dS})}if(i.isDirectory()&&MS(e,t))throw new nS({message:`cannot copy ${e} to a subdirectory of self ${t}`,path:t,syscall:"cp",errno:pS});return{srcStat:i,destStat:r}}function LS(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}async function NS(e,t,n,i){const r=xS(n);return await function(e){return wS(e).then((()=>!0),(e=>"ENOENT"!==e.code&&Promise.reject(e)))}(r)||await yS(r,{recursive:!0}),US(e,t,n,i)}async function BS(e,t,n){const i=RS(xS(e)),r=RS(xS(n));if(r===i||r===kS(r).root)return;let s;try{s=await wS(r,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(LS(t,s))throw new nS({message:`cannot copy ${e} to a subdirectory of self ${n}`,path:n,syscall:"cp",errno:pS});return BS(e,t,r)}const jS=e=>RS(e).split(AS).filter(Boolean);function MS(e,t){const n=jS(e),i=jS(t);return n.every(((e,t)=>i[t]===e))}async function $S(e,t,n,i,r,s){if(await r.filter(n,i))return e(t,n,i,r,s)}function qS(e,t,n,i){return i.filter?$S(US,e,t,n,i):US(e,t,n,i)}async function US(e,t,n,i){const r=await(i.dereference?wS:gS)(t);if(r.isDirectory()&&i.recursive)return function(e,t,n,i,r){return t?zS(n,i,r):async function(e,t,n,i){return await yS(n),await zS(t,n,i),WS(n,e)}(e.mode,n,i,r)}(r,e,t,n,i);if(r.isDirectory())throw new cS({message:`${t} is a directory (not copied)`,path:t,syscall:"cp",errno:pS});if(r.isFile()||r.isCharacterDevice()||r.isBlockDevice())return function(e,t,n,i,r){return t?async function(e,t,n,i){if(i.force)return await SS(n),HS(e,t,n,i);if(i.errorOnExist)throw new tS({message:`${n} already exists`,path:n,syscall:"cp",errno:lS})}(e,n,i,r):HS(e,n,i,r)}(r,e,t,n,i);if(r.isSymbolicLink())return async function(e,t,n){let i,r=await vS(t);if(DS(r)||(r=RS(xS(t),r)),!e)return _S(r,n);try{i=await vS(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return _S(r,n);throw e}if(DS(i)||(i=RS(xS(n),i)),MS(r,i))throw new nS({message:`cannot copy ${r} to a subdirectory of self ${i}`,path:n,syscall:"cp",errno:pS});if((await wS(t)).isDirectory()&&MS(i,r))throw new oS({message:`cannot overwrite ${i} with ${r}`,path:n,syscall:"cp",errno:pS});return async function(e,t){return await SS(t),_S(e,t)}(r,n)}(e,t,n);throw r.isSocket()?new sS({message:`cannot copy a socket file: ${n}`,path:n,syscall:"cp",errno:pS}):r.isFIFO()?new iS({message:`cannot copy a FIFO pipe: ${n}`,path:n,syscall:"cp",errno:pS}):new aS({message:`cannot copy an unknown file type: ${n}`,path:n,syscall:"cp",errno:pS})}async function HS(e,t,n,i){return await mS(t,n),i.preserveTimestamps?async function(e,t,n){return function(e){return!(128&e)}(e)&&await function(e,t){return WS(e,128|t)}(n,e),async function(e,t,n){return await async function(e,t){const n=await wS(e);return ES(t,n.atime,n.mtime)}(t,n),WS(n,e)}(e,t,n)}(e.mode,t,n):WS(n,e.mode)}function WS(e,t){return fS(e,t)}async function zS(e,t,n){const i=await bS(e);for(let r=0;r<i.length;r++){const s=i[r],o=CS(e,s),a=CS(t,s),{destStat:c}=await IS(o,a,n);await qS(c,o,a,n)}}const GS=h,VS=Y_,KS=async function(e,t,n){if(null!=n&&"object"!=typeof n)throw new uS("options",["Object"],n);return async function(e,t,n){n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended","TimestampPrecisionWarning");const i=await IS(e,t,n),{srcStat:r,destStat:s}=i;return await BS(e,r,t),n.filter?$S(NS,s,e,t,n):NS(s,e,t,n)}(TS(PS(e)),TS(PS(t)),{...FS,...n})},YS=Z_(">=16.7.0");const{join:JS,sep:ZS}=r,XS=Y_,{mkdir:QS,mkdtemp:eE,rm:tE}=h;const{readdir:nE}=h,{join:iE}=r;const{dirname:rE,join:sE,resolve:oE,relative:aE,isAbsolute:cE}=r,uE=h,lE=async(e,t,n={},i=!0,r=[])=>{if(!e||!t)throw new TypeError("`source` and `destination` file required");if(!(n={overwrite:!0,...n}).overwrite&&await(async e=>{try{return await uE.access(e),!0}catch(e){return"ENOENT"!==e.code}})(t))throw new Error(`The destination file exists: ${t}`);await uE.mkdir(rE(t),{recursive:!0});try{await uE.rename(e,t)}catch(i){if("EXDEV"!==i.code&&"EPERM"!==i.code)throw i;{const i=await uE.lstat(e);if(i.isDirectory()){const i=await uE.readdir(e);await Promise.all(i.map((i=>lE(sE(e,i),sE(t,i),n,!1,r))))}else i.isSymbolicLink()?r.push({source:e,destination:t}):await uE.copyFile(e,t)}}i&&(await Promise.all(r.map((async({source:e,destination:t})=>{let n=await uE.readlink(e);cE(n)&&(n=oE(t,aE(e,n)));let i="file";try{i=await uE.stat(oE(rE(e),n)),i.isDirectory()&&(i="junction")}catch{}await uE.symlink(n,t,i)}))),await uE.rm(e,{recursive:!0,force:!0}))};var hE={cp:async(e,t,n)=>{const i=VS(n,{copy:["dereference","errorOnExist","filter","force","preserveTimestamps","recursive"]});return YS?GS.cp(e,t,i):KS(e,t,i)},withTempDir:async(e,t,n)=>{const i=XS(n,{copy:["tmpPrefix"]});await QS(e,{recursive:!0});const r=await eE(JS(`${e}${ZS}`,i.tmpPrefix||""));let s,o;try{o=await t(r)}catch(e){s=e}try{await tE(r,{force:!0,recursive:!0})}catch{}if(s)throw s;return o},readdirScoped:async e=>{const t=[];for(const n of await nE(e))if(n.startsWith("@"))for(const i of await nE(iE(e,n)))t.push(iE(n,i));else t.push(n);return t},moveFile:lE};const pE=_,{appendFile:dE,mkdir:fE,readFile:mE,readdir:gE,rm:yE,writeFile:bE}=h,{Minipass:vE}=bv,wE=r,_E=nb,SE=M_,EE=K_,xE=U_,DE=q_,{moveFile:CE}=hE;async function kE(e,t,n,i={}){const{metadata:r,size:s,time:o}=i,a=OE(e,t),c={key:t,integrity:n&&_E.stringify(n),time:o||Date.now(),size:s,metadata:r};try{await fE(wE.dirname(a),{recursive:!0});const e=JSON.stringify(c);await dE(a,`\n${PE(e)}\t${e}`)}catch(e){if("ENOENT"===e.code)return;throw e}return LE(e,c)}function RE(e){const t=TE(e),n=new vE({objectMode:!0});return Promise.resolve().then((async()=>{const i=await NE(t);return await Promise.all(i.map((async i=>{const r=wE.join(t,i),s=await NE(r);await Promise.all(s.map((async t=>{const i=wE.join(r,t),s=await NE(i);await Promise.all(s.map((async t=>{const r=wE.join(i,t);try{const t=(await AE(r)).reduce(((e,t)=>(e.set(t.key,t),e)),new Map);for(const i of t.values()){const t=LE(e,i);t&&n.write(t)}}catch(e){if("ENOENT"===e.code)return;throw e}})))})))}))),n.end(),n})).catch((e=>n.emit("error",e))),n}async function AE(e,t){return function(e){const t=[];return e.split("\n").forEach((e=>{if(!e)return;const n=e.split("\t");if(!n[1]||PE(n[1])!==n[0])return;let i;try{i=JSON.parse(n[1])}catch{}i&&t.push(i)})),t}(await mE(e,"utf8"))}function TE(e){return wE.join(e,`index-v${DE}`)}function OE(e,t){const n=FE(t);return wE.join.apply(wE,[TE(e)].concat(xE(n)))}function FE(e){return IE(e,"sha256")}function PE(e){return IE(e,"sha1")}function IE(e,t){return pE.createHash(t).update(e).digest("hex")}function LE(e,t,n){return t.integrity||n?{key:t.key,integrity:t.integrity,path:t.integrity?EE(e,t.integrity):void 0,size:t.size,time:t.time,metadata:t.metadata}:null}function NE(e){return gE(e).catch((e=>{if("ENOENT"===e.code||"ENOTDIR"===e.code)return[];throw e}))}L_.NotFoundError=class extends Error{constructor(e,t){super(`No cache entry for ${t} found in ${e}`),this.code="ENOENT",this.cache=e,this.key=t}},L_.compact=async function(e,t,n,i={}){const r=OE(e,t),s=await AE(r),o=[];for(let e=s.length-1;e>=0;--e){const t=s[e];if(null===t.integrity&&!i.validateEntry)break;(!i.validateEntry||!0===i.validateEntry(t))&&(0===o.length||!o.find((e=>n(e,t))))&&o.unshift(t)}const a="\n"+o.map((e=>{const t=JSON.stringify(e);return`${PE(t)}\t${t}`})).join("\n"),c=await(async()=>{const t=SE(wE.join(e,"tmp"),i.tmpPrefix);return await fE(wE.dirname(t),{recursive:!0}),{target:t,moved:!1}})();try{await(async e=>{await bE(e.target,a,{flag:"wx"}),await fE(wE.dirname(r),{recursive:!0}),await CE(e.target,r),e.moved=!0})(c)}finally{await(async e=>{if(!e.moved)return yE(e.target,{recursive:!0,force:!0})})(c)}return o.reverse().map((t=>LE(e,t,!0)))},L_.insert=kE,L_.find=async function(e,t){const n=OE(e,t);try{return(await AE(n)).reduce(((n,i)=>i&&i.key===t?LE(e,i):n),null)}catch(e){if("ENOENT"===e.code)return null;throw e}},L_.delete=function(e,t,n={}){if(!n.removeFully)return kE(e,t,null,n);const i=OE(e,t);return yE(i,{recursive:!0,force:!0})},L_.lsStream=RE,L_.ls=async function(e){return(await RE(e).collect()).reduce(((e,t)=>(e[t.key]=t,e)),{})},L_.bucketEntries=AE,L_.bucketDir=TE,L_.bucketPath=OE,L_.hashKey=FE,L_.hashEntry=PE;var BE={exports:{}};!function(e){const{LRUCache:t}=Rr,n=new t({max:500,maxSize:52428800,ttl:18e4,sizeCalculation:(e,t)=>t.startsWith("key:")?e.data.length:e.length});function i(e,t,n,i){s(i).set(`digest:${e}:${t}`,n)}e.exports.clearMemoized=function(){const e={};return n.forEach(((t,n)=>{e[n]=t})),n.clear(),e},e.exports.put=function(e,t,n,r){s(r).set(`key:${e}:${t.key}`,{entry:t,data:n}),i(e,t.integrity,n,r)},e.exports.put.byDigest=i,e.exports.get=function(e,t,n){return s(n).get(`key:${e}:${t}`)},e.exports.get.byDigest=function(e,t,n){return s(n).get(`digest:${e}:${t}`)};class r{constructor(e){this.obj=e}get(e){return this.obj[e]}set(e,t){this.obj[e]=t}}function s(e){return e&&e.memoize?e.memoize.get&&e.memoize.set?e.memoize:"object"==typeof e.memoize?new r(e.memoize):n:n}}(BE);var jE=BE.exports,ME={exports:{}},$E={},qE={};const UE="object"==typeof process&&process?process:{stdout:null,stderr:null},HE=o,WE=b,zE=v.StringDecoder,GE=Symbol("EOF"),VE=Symbol("maybeEmitEnd"),KE=Symbol("emittedEnd"),YE=Symbol("emittingEnd"),JE=Symbol("emittedError"),ZE=Symbol("closed"),XE=Symbol("read"),QE=Symbol("flush"),ex=Symbol("flushChunk"),tx=Symbol("encoding"),nx=Symbol("decoder"),ix=Symbol("flowing"),rx=Symbol("paused"),sx=Symbol("resume"),ox=Symbol("buffer"),ax=Symbol("pipes"),cx=Symbol("bufferLength"),ux=Symbol("bufferPush"),lx=Symbol("bufferShift"),hx=Symbol("objectMode"),px=Symbol("destroyed"),dx=Symbol("error"),fx=Symbol("emitData"),mx=Symbol("emitEnd"),gx=Symbol("emitEnd2"),yx=Symbol("async"),bx=Symbol("abort"),vx=Symbol("aborted"),wx=Symbol("signal"),_x=e=>Promise.resolve().then(e),Sx="1"!==A._MP_NO_ITERATOR_SYMBOLS_,Ex=Sx&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),xx=Sx&&Symbol.iterator||Symbol("iterator not implemented");class Dx{constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[sx](),t.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class Cx extends Dx{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}qE.Minipass=class e extends WE{constructor(e){super(),this[ix]=!1,this[rx]=!1,this[ax]=[],this[ox]=[],this[hx]=e&&e.objectMode||!1,this[hx]?this[tx]=null:this[tx]=e&&e.encoding||null,"buffer"===this[tx]&&(this[tx]=null),this[yx]=e&&!!e.async||!1,this[nx]=this[tx]?new zE(this[tx]):null,this[GE]=!1,this[KE]=!1,this[YE]=!1,this[ZE]=!1,this[JE]=null,this.writable=!0,this.readable=!0,this[cx]=0,this[px]=!1,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[ox]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[ax]}),this[wx]=e&&e.signal,this[vx]=!1,this[wx]&&(this[wx].addEventListener("abort",(()=>this[bx]())),this[wx].aborted&&this[bx]())}get bufferLength(){return this[cx]}get encoding(){return this[tx]}set encoding(e){if(this[hx])throw new Error("cannot set encoding in objectMode");if(this[tx]&&e!==this[tx]&&(this[nx]&&this[nx].lastNeed||this[cx]))throw new Error("cannot change encoding");this[tx]!==e&&(this[nx]=e?new zE(e):null,this[ox].length&&(this[ox]=this[ox].map((e=>this[nx].write(e))))),this[tx]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[hx]}set objectMode(e){this[hx]=this[hx]||!!e}get async(){return this[yx]}set async(e){this[yx]=this[yx]||!!e}[bx](){this[vx]=!0,this.emit("abort",this[wx].reason),this.destroy(this[wx].reason)}get aborted(){return this[vx]}set aborted(e){}write(e,t,n){if(this[vx])return!1;if(this[GE])throw new Error("write after end");if(this[px])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[yx]?_x:e=>e();return!this[hx]&&!Buffer.isBuffer(e)&&((e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e))(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(e=>e instanceof ArrayBuffer||"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e)?e=Buffer.from(e):"string"!=typeof e&&(this.objectMode=!0)),this[hx]?(this.flowing&&0!==this[cx]&&this[QE](!0),this.flowing?this.emit("data",e):this[ux](e),0!==this[cx]&&this.emit("readable"),n&&i(n),this.flowing):e.length?("string"==typeof e&&!(t===this[tx]&&!this[nx].lastNeed)&&(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[tx]&&(e=this[nx].write(e)),this.flowing&&0!==this[cx]&&this[QE](!0),this.flowing?this.emit("data",e):this[ux](e),0!==this[cx]&&this.emit("readable"),n&&i(n),this.flowing):(0!==this[cx]&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[px])return null;if(0===this[cx]||0===e||e>this[cx])return this[VE](),null;this[hx]&&(e=null),this[ox].length>1&&!this[hx]&&(this.encoding?this[ox]=[this[ox].join("")]:this[ox]=[Buffer.concat(this[ox],this[cx])]);const t=this[XE](e||null,this[ox][0]);return this[VE](),t}[XE](e,t){return e===t.length||null===e?this[lx]():(this[ox][0]=t.slice(e),t=t.slice(0,e),this[cx]-=e),this.emit("data",t),!this[ox].length&&!this[GE]&&this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=null),"function"==typeof t&&(n=t,t="utf8"),e&&this.write(e,t),n&&this.once("end",n),this[GE]=!0,this.writable=!1,(this.flowing||!this[rx])&&this[VE](),this}[sx](){this[px]||(this[rx]=!1,this[ix]=!0,this.emit("resume"),this[ox].length?this[QE]():this[GE]?this[VE]():this.emit("drain"))}resume(){return this[sx]()}pause(){this[ix]=!1,this[rx]=!0}get destroyed(){return this[px]}get flowing(){return this[ix]}get paused(){return this[rx]}[ux](e){this[hx]?this[cx]+=1:this[cx]+=e.length,this[ox].push(e)}[lx](){return this[hx]?this[cx]-=1:this[cx]-=this[ox][0].length,this[ox].shift()}[QE](e){do{}while(this[ex](this[lx]())&&this[ox].length);!e&&!this[ox].length&&!this[GE]&&this.emit("drain")}[ex](e){return this.emit("data",e),this.flowing}pipe(e,t){if(this[px])return;const n=this[KE];return t=t||{},e===UE.stdout||e===UE.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[ax].push(t.proxyErrors?new Cx(this,e,t):new Dx(this,e,t)),this[yx]?_x((()=>this[sx]())):this[sx]()),e}unpipe(e){const t=this[ax].find((t=>t.dest===e));t&&(this[ax].splice(this[ax].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);return"data"!==e||this[ax].length||this.flowing?"readable"===e&&0!==this[cx]?super.emit("readable"):(e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[KE]?(super.emit(e),this.removeAllListeners(e)):"error"===e&&this[JE]&&(this[yx]?_x((()=>t.call(this,this[JE]))):t.call(this,this[JE])):this[sx](),n}get emittedEnd(){return this[KE]}[VE](){!this[YE]&&!this[KE]&&!this[px]&&0===this[ox].length&&this[GE]&&(this[YE]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ZE]&&this.emit("close"),this[YE]=!1)}emit(e,t,...n){if("error"!==e&&"close"!==e&&e!==px&&this[px])return;if("data"===e)return!(!this[hx]&&!t)&&(this[yx]?_x((()=>this[fx](t))):this[fx](t));if("end"===e)return this[mx]();if("close"===e){if(this[ZE]=!0,!this[KE]&&!this[px])return;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[JE]=t,super.emit(dx,t);const e=!(this[wx]&&!this.listeners("error").length)&&super.emit("error",t);return this[VE](),e}if("resume"===e){const e=super.emit("resume");return this[VE](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,t,...n);return this[VE](),i}[fx](e){for(const t of this[ax])!1===t.dest.write(e)&&this.pause();const t=super.emit("data",e);return this[VE](),t}[mx](){this[KE]||(this[KE]=!0,this.readable=!1,this[yx]?_x((()=>this[gx]())):this[gx]())}[gx](){if(this[nx]){const e=this[nx].end();if(e){for(const t of this[ax])t.dest.write(e);super.emit("data",e)}}for(const e of this[ax])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[hx]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[hx]||(e.dataLength+=t.length)})),t.then((()=>e))}concat(){return this[hx]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then((e=>this[hx]?Promise.reject(new Error("cannot concat in objectMode")):this[tx]?e.join(""):Buffer.concat(e,e.dataLength)))}promise(){return new Promise(((e,t)=>{this.on(px,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Ex](){let e=!1;const t=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[GE])return t();let i=null,r=null;const s=e=>{this.removeListener("data",o),this.removeListener("end",a),this.removeListener(px,c),t(),r(e)},o=e=>{this.removeListener("error",s),this.removeListener("end",a),this.removeListener(px,c),this.pause(),i({value:e,done:!!this[GE]})},a=()=>{this.removeListener("error",s),this.removeListener("data",o),this.removeListener(px,c),t(),i({done:!0})},c=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t,i=e,this.once(px,c),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:t,return:t,[Ex](){return this}}}[xx](){let e=!1;const t=()=>(this.pause(),this.removeListener(dx,t),this.removeListener(px,t),this.removeListener("end",t),e=!0,{done:!0});return this.once("end",t),this.once(dx,t),this.once(px,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{value:n}},throw:t,return:t,[xx](){return this}}}destroy(e){return this[px]?(e?this.emit("error",e):this.emit(px),this):(this[px]=!0,this[ox].length=0,this[cx]=0,"function"==typeof this.close&&!this[ZE]&&this.close(),e?this.emit("error",e):this.emit(px),this)}static isStream(t){return!!t&&(t instanceof e||t instanceof WE||t instanceof HE&&("function"==typeof t.pipe||"function"==typeof t.write&&"function"==typeof t.end))}};const{Minipass:kx}=qE,Rx=o.EventEmitter,Ax=c,Tx=Ax.writev,Ox=Symbol("_autoClose"),Fx=Symbol("_close"),Px=Symbol("_ended"),Ix=Symbol("_fd"),Lx=Symbol("_finished"),Nx=Symbol("_flags"),Bx=Symbol("_flush"),jx=Symbol("_handleChunk"),Mx=Symbol("_makeBuf"),$x=Symbol("_mode"),qx=Symbol("_needDrain"),Ux=Symbol("_onerror"),Hx=Symbol("_onopen"),Wx=Symbol("_onread"),zx=Symbol("_onwrite"),Gx=Symbol("_open"),Vx=Symbol("_path"),Kx=Symbol("_pos"),Yx=Symbol("_queue"),Jx=Symbol("_read"),Zx=Symbol("_readSize"),Xx=Symbol("_reading"),Qx=Symbol("_remain"),eD=Symbol("_size"),tD=Symbol("_write"),nD=Symbol("_writing"),iD=Symbol("_defaultFlag"),rD=Symbol("_errored");class sD extends kx{constructor(e,t){if(super(t=t||{}),this.readable=!0,this.writable=!1,"string"!=typeof e)throw new TypeError("path must be a string");this[rD]=!1,this[Ix]="number"==typeof t.fd?t.fd:null,this[Vx]=e,this[Zx]=t.readSize||16777216,this[Xx]=!1,this[eD]="number"==typeof t.size?t.size:1/0,this[Qx]=this[eD],this[Ox]="boolean"!=typeof t.autoClose||t.autoClose,"number"==typeof this[Ix]?this[Jx]():this[Gx]()}get fd(){return this[Ix]}get path(){return this[Vx]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Gx](){Ax.open(this[Vx],"r",((e,t)=>this[Hx](e,t)))}[Hx](e,t){e?this[Ux](e):(this[Ix]=t,this.emit("open",t),this[Jx]())}[Mx](){return Buffer.allocUnsafe(Math.min(this[Zx],this[Qx]))}[Jx](){if(!this[Xx]){this[Xx]=!0;const e=this[Mx]();if(0===e.length)return process.nextTick((()=>this[Wx](null,0,e)));Ax.read(this[Ix],e,0,e.length,null,((e,t,n)=>this[Wx](e,t,n)))}}[Wx](e,t,n){this[Xx]=!1,e?this[Ux](e):this[jx](t,n)&&this[Jx]()}[Fx](){if(this[Ox]&&"number"==typeof this[Ix]){const e=this[Ix];this[Ix]=null,Ax.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}[Ux](e){this[Xx]=!0,this[Fx](),this.emit("error",e)}[jx](e,t){let n=!1;return this[Qx]-=e,e>0&&(n=super.write(e<t.length?t.slice(0,e):t)),(0===e||this[Qx]<=0)&&(n=!1,this[Fx](),super.end()),n}emit(e,t){switch(e){case"prefinish":case"finish":break;case"drain":"number"==typeof this[Ix]&&this[Jx]();break;case"error":return this[rD]?void 0:(this[rD]=!0,super.emit(e,t));default:return super.emit(e,t)}}}class oD extends Rx{constructor(e,t){super(t=t||{}),this.readable=!1,this.writable=!0,this[rD]=!1,this[nD]=!1,this[Px]=!1,this[qx]=!1,this[Yx]=[],this[Vx]=e,this[Ix]="number"==typeof t.fd?t.fd:null,this[$x]=void 0===t.mode?438:t.mode,this[Kx]="number"==typeof t.start?t.start:null,this[Ox]="boolean"!=typeof t.autoClose||t.autoClose;const n=null!==this[Kx]?"r+":"w";this[iD]=void 0===t.flags,this[Nx]=this[iD]?n:t.flags,null===this[Ix]&&this[Gx]()}emit(e,t){if("error"===e){if(this[rD])return;this[rD]=!0}return super.emit(e,t)}get fd(){return this[Ix]}get path(){return this[Vx]}[Ux](e){this[Fx](),this[nD]=!0,this.emit("error",e)}[Gx](){Ax.open(this[Vx],this[Nx],this[$x],((e,t)=>this[Hx](e,t)))}[Hx](e,t){this[iD]&&"r+"===this[Nx]&&e&&"ENOENT"===e.code?(this[Nx]="w",this[Gx]()):e?this[Ux](e):(this[Ix]=t,this.emit("open",t),this[nD]||this[Bx]())}end(e,t){return e&&this.write(e,t),this[Px]=!0,!this[nD]&&!this[Yx].length&&"number"==typeof this[Ix]&&this[zx](null,0),this}write(e,t){return"string"==typeof e&&(e=Buffer.from(e,t)),this[Px]?(this.emit("error",new Error("write() after end()")),!1):null===this[Ix]||this[nD]||this[Yx].length?(this[Yx].push(e),this[qx]=!0,!1):(this[nD]=!0,this[tD](e),!0)}[tD](e){Ax.write(this[Ix],e,0,e.length,this[Kx],((e,t)=>this[zx](e,t)))}[zx](e,t){e?this[Ux](e):(null!==this[Kx]&&(this[Kx]+=t),this[Yx].length?this[Bx]():(this[nD]=!1,this[Px]&&!this[Lx]?(this[Lx]=!0,this[Fx](),this.emit("finish")):this[qx]&&(this[qx]=!1,this.emit("drain"))))}[Bx](){if(0===this[Yx].length)this[Px]&&this[zx](null,0);else if(1===this[Yx].length)this[tD](this[Yx].pop());else{const e=this[Yx];this[Yx]=[],Tx(this[Ix],e,this[Kx],((e,t)=>this[zx](e,t)))}}[Fx](){if(this[Ox]&&"number"==typeof this[Ix]){const e=this[Ix];this[Ix]=null,Ax.close(e,(e=>e?this.emit("error",e):this.emit("close")))}}}$E.ReadStream=sD,$E.ReadStreamSync=class extends sD{[Gx](){let e=!0;try{this[Hx](null,Ax.openSync(this[Vx],"r")),e=!1}finally{e&&this[Fx]()}}[Jx](){let e=!0;try{if(!this[Xx]){for(this[Xx]=!0;;){const e=this[Mx](),t=0===e.length?0:Ax.readSync(this[Ix],e,0,e.length,null);if(!this[jx](t,e))break}this[Xx]=!1}e=!1}finally{e&&this[Fx]()}}[Fx](){if(this[Ox]&&"number"==typeof this[Ix]){const e=this[Ix];this[Ix]=null,Ax.closeSync(e),this.emit("close")}}},$E.WriteStream=oD,$E.WriteStreamSync=class extends oD{[Gx](){let e;if(this[iD]&&"r+"===this[Nx])try{e=Ax.openSync(this[Vx],this[Nx],this[$x])}catch(e){if("ENOENT"===e.code)return this[Nx]="w",this[Gx]();throw e}else e=Ax.openSync(this[Vx],this[Nx],this[$x]);this[Hx](null,e)}[Fx](){if(this[Ox]&&"number"==typeof this[Ix]){const e=this[Ix];this[Ix]=null,Ax.closeSync(e),this.emit("close")}}[tD](e){let t=!0;try{this[zx](null,Ax.writeSync(this[Ix],e,0,e.length,this[Kx])),t=!1}finally{if(t)try{this[Fx]()}catch{}}}};const aD=h,cD=$E,uD=nb,lD=K_,hD=I_;ME.exports=async function(e,t,n={}){const{size:i}=n,{stat:r,cpath:s,sri:o}=await mD(e,t,(async(e,t)=>({stat:await aD.stat(e),cpath:e,sri:t})));if("number"==typeof i&&r.size!==i)throw gD(i,r.size);if(r.size>pD)return dD(s,r.size,o,new hD).concat();const a=await aD.readFile(s,{encoding:null});if(!uD.checkData(a,o))throw function(e,t){const n=new Error(`Integrity verification failed for ${e} (${t})`);return n.code="EINTEGRITY",n.sri=e,n.path=t,n}(o,s);return a};const pD=67108864,dD=(e,t,n,i)=>(i.push(new cD.ReadStream(e,{size:t,readSize:pD}),uD.integrityStream({integrity:n,size:t})),i);function fD(e,t,n={}){const{size:i}=n,r=new hD;return Promise.resolve().then((async()=>{const{stat:n,cpath:s,sri:o}=await mD(e,t,(async(e,t)=>({stat:await aD.stat(e),cpath:e,sri:t})));return"number"==typeof i&&i!==n.size?r.emit("error",gD(i,n.size)):dD(s,n.size,o,r)})).catch((e=>r.emit("error",e))),r}async function mD(e,t,n){const i=uD.parse(t),r=i.pickAlgorithm(),s=i[r];if(s.length<=1){const t=lD(e,s[0]);return n(t,s[0])}{const t=await Promise.all(s.map((async t=>{try{return await mD(e,t,n)}catch(e){return"ENOENT"===e.code?Object.assign(new Error("No matching content found for "+i.toString()),{code:"ENOENT"}):e}}))),r=t.find((e=>!(e instanceof Error)));if(r)return r;throw t.find((e=>"ENOENT"===e.code))||t.find((e=>e instanceof Error))}}function gD(e,t){const n=new Error(`Bad data size: expected inserted data to be ${e} bytes, but got ${t} instead`);return n.expected=e,n.found=t,n.code="EBADSIZE",n}ME.exports.stream=fD,ME.exports.readStream=fD,ME.exports.copy=function(e,t,n){return mD(e,t,((e,t)=>aD.copyFile(e,n)))},ME.exports.hasContent=async function(e,t){if(!t)return!1;try{return await mD(e,t,(async(e,t)=>{const n=await aD.stat(e);return{size:n.size,sri:t,stat:n}}))}catch(e){if("ENOENT"===e.code)return!1;if("EPERM"===e.code){if("win32"!==process.platform)throw e;return!1}}};var yD=ME.exports;!function(e){const t=Uw,{Minipass:n}=bv,i=I_,r=L_,s=jE,o=yD;e.exports=async function(e,t,n={}){const{integrity:i,memoize:a,size:c}=n,u=s.get(e,t,n);if(u&&!1!==a)return{metadata:u.entry.metadata,data:u.data,integrity:u.entry.integrity,size:u.entry.size};const l=await r.find(e,t,n);if(!l)throw new r.NotFoundError(e,t);const h=await o(e,l.integrity,{integrity:i,size:c});return a&&s.put(e,l,h,n),{data:h,metadata:l.metadata,size:l.size,integrity:l.integrity}},e.exports.byDigest=async function(e,t,n={}){const{integrity:i,memoize:r,size:a}=n,c=s.get.byDigest(e,t,n);if(c&&!1!==r)return c;const u=await o(e,t,{integrity:i,size:a});return r&&s.put.byDigest(e,t,u,n),u},e.exports.stream=function(e,a,c={}){const{memoize:u,size:l}=c,h=s.get(e,a,c);if(h&&!1!==u)return(e=>{const t=new n;return t.on("newListener",(function(t,n){"metadata"===t&&n(e.entry.metadata),"integrity"===t&&n(e.entry.integrity),"size"===t&&n(e.entry.size)})),t.end(e.data),t})(h);const p=new i;return Promise.resolve().then((async()=>{const n=await r.find(e,a);if(!n)throw new r.NotFoundError(e,a);p.emit("metadata",n.metadata),p.emit("integrity",n.integrity),p.emit("size",n.size),p.on("newListener",(function(e,t){"metadata"===e&&t(n.metadata),"integrity"===e&&t(n.integrity),"size"===e&&t(n.size)}));const i=o.readStream(e,n.integrity,{...c,size:"number"!=typeof l?n.size:l});if(u){const i=new t.PassThrough;i.on("collect",(t=>s.put(e,n,t,c))),p.unshift(i)}return p.unshift(i),p})).catch((e=>p.emit("error",e))),p},e.exports.stream.byDigest=function(e,r,a={}){const{memoize:c}=a,u=s.get.byDigest(e,r,a);if(u&&!1!==c){const e=new n;return e.end(u),e}{const n=o.readStream(e,r,a);if(!c)return n;const u=new t.PassThrough;return u.on("collect",(t=>s.put.byDigest(e,r,t,a))),new i(n,u)}},e.exports.info=function(e,t,n={}){const{memoize:i}=n,o=s.get(e,t,n);return o&&!1!==i?Promise.resolve(o.entry):r.find(e,t)},e.exports.copy=async function(e,t,n,i={}){const s=await r.find(e,t,i);if(!s)throw new r.NotFoundError(e,t);return await o.copy(e,s.integrity,n,i),{metadata:s.metadata,size:s.size,integrity:s.integrity}},e.exports.copy.byDigest=async function(e,t,n,i={}){return await o.copy(e,t,n,i),t},e.exports.hasContent=o.hasContent}(rw);var bD=rw.exports,vD={exports:{}},wD={exports:{}};const _D=o,SD=K_,ED=h,{moveFile:xD}=hE,{Minipass:DD}=bv,CD=I_,kD=nw,RD=r,AD=nb,TD=M_,OD=$E;wD.exports=async function(e,t,n={}){const{algorithms:i,size:r,integrity:s}=n;if("number"==typeof r&&t.length!==r)throw function(e,t){const n=new Error(`Bad data size: expected inserted data to be ${e} bytes, but got ${t} instead`);return n.expected=e,n.found=t,n.code="EBADSIZE",n}(r,t.length);const o=AD.fromData(t,i?{algorithms:i}:{});if(s&&!AD.checkData(t,s,n))throw function(e,t){const n=new Error(`Integrity check failed:\n  Wanted: ${e}\n   Found: ${t}`);return n.code="EINTEGRITY",n.expected=e,n.found=t,n}(s,o);for(const i in o){const r=await ID(e,n),s=o[i].toString();try{await ED.writeFile(r.target,t,{flag:"wx"}),await LD(r,e,s)}finally{r.moved||await ED.rm(r.target,{recursive:!0,force:!0})}}return{integrity:o,size:t.length}};const FD=new Map;wD.exports.stream=function(e,t={}){return new PD(e,t)};class PD extends kD{constructor(e,t){super(),this.opts=t,this.cache=e,this.inputStream=new DD,this.inputStream.on("error",(e=>this.emit("error",e))),this.inputStream.on("drain",(()=>this.emit("drain"))),this.handleContentP=null}write(e,t,n){return this.handleContentP||(this.handleContentP=async function(e,t,n){const i=await ID(t,n);try{const r=await async function(e,t,n,i){const r=new OD.WriteStream(n,{flags:"wx"});if(i.integrityEmitter){const[t,n]=await Promise.all([_D.once(i.integrityEmitter,"integrity").then((e=>e[0])),_D.once(i.integrityEmitter,"size").then((e=>e[0])),new CD(e,r).promise()]);return{integrity:t,size:n}}let s,o;const a=AD.integrityStream({integrity:i.integrity,algorithms:i.algorithms,size:i.size});return a.on("integrity",(e=>{s=e})),a.on("size",(e=>{o=e})),await new CD(e,a,r).promise(),{integrity:s,size:o}}(e,0,i.target,n);return await LD(i,t,r.integrity),r}finally{i.moved||await ED.rm(i.target,{recursive:!0,force:!0})}}(this.inputStream,this.cache,this.opts)),this.inputStream.write(e,t,n)}flush(e){this.inputStream.end((()=>{if(!this.handleContentP){const t=new Error("Cache input stream was empty");return t.code="ENODATA",Promise.reject(t).catch(e)}this.handleContentP.then((t=>{t.integrity&&this.emit("integrity",t.integrity),null!==t.size&&this.emit("size",t.size),e()}),(t=>e(t)))}))}}async function ID(e,t){const n=TD(RD.join(e,"tmp"),t.tmpPrefix);return await ED.mkdir(RD.dirname(n),{recursive:!0}),{target:n,moved:!1}}async function LD(e,t,n,i){const r=SD(t,n),s=RD.dirname(r);return FD.has(r)||FD.set(r,ED.mkdir(s,{recursive:!0}).then((async()=>(await xD(e.target,r,{overwrite:!1}),e.moved=!0,e.moved))).catch((e=>{if(!e.message.startsWith("The destination file exists"))throw Object.assign(e,{code:"EEXIST"})})).finally((()=>{FD.delete(r)}))),FD.get(r)}var ND=wD.exports;const BD=L_,jD=jE,MD=ND,$D=nw,{PassThrough:qD}=Uw,UD=I_,HD=e=>({algorithms:["sha512"],...e});vD.exports=async function(e,t,n,i={}){const{memoize:r}=i;i=HD(i);const s=await MD(e,n,i),o=await BD.insert(e,t,s.integrity,{...i,size:s.size});return r&&jD.put(e,o,n,i),s.integrity},vD.exports.stream=function(e,t,n={}){const{memoize:i}=n;let r,s,o,a;n=HD(n);const c=new UD;if(i){const e=(new qD).on("collect",(e=>{a=e}));c.push(e)}const u=MD.stream(e,n).on("integrity",(e=>{r=e})).on("size",(e=>{s=e})).on("error",(e=>{o=e}));return c.push(u),c.push(new $D({async flush(){if(!o){const o=await BD.insert(e,t,r,{...n,size:s});i&&a&&jD.put(e,o,a,n),c.emit("integrity",r),c.emit("size",s)}}})),c};var WD=vD.exports,zD={exports:{}},GD={},VD={},KD=YD;function YD(e,t,n){e instanceof RegExp&&(e=JD(e,n)),t instanceof RegExp&&(t=JD(t,n));var i=ZD(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function JD(e,t){var n=t.match(e);return n?n[0]:null}function ZD(e,t,n){var i,r,s,o,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(i=[],s=n.length;l>=0&&!a;)l==c?(i.push(l),c=n.indexOf(e,l+1)):1==i.length?a=[i.pop(),u]:((r=i.pop())<s&&(s=r,o=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;i.length&&(a=[s,o])}return a}YD.range=ZD;var XD=KD,QD=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),pC(function(e){return e.split("\\\\").join(eC).split("\\{").join(tC).split("\\}").join(nC).split("\\,").join(iC).split("\\.").join(rC)}(e),!0).map(oC)):[]},eC="\0SLASH"+Math.random()+"\0",tC="\0OPEN"+Math.random()+"\0",nC="\0CLOSE"+Math.random()+"\0",iC="\0COMMA"+Math.random()+"\0",rC="\0PERIOD"+Math.random()+"\0";function sC(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function oC(e){return e.split(eC).join("\\").split(tC).join("{").split(nC).join("}").split(iC).join(",").split(rC).join(".")}function aC(e){if(!e)return[""];var t=[],n=XD("{","}",e);if(!n)return e.split(",");var i=n.pre,r=n.body,s=n.post,o=i.split(",");o[o.length-1]+="{"+r+"}";var a=aC(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),t.push.apply(t,o),t}function cC(e){return"{"+e+"}"}function uC(e){return/^-?0\d/.test(e)}function lC(e,t){return e<=t}function hC(e,t){return e>=t}function pC(e,t){var n=[],i=XD("{","}",e);if(!i)return[e];var r=i.pre,s=i.post.length?pC(i.post,!1):[""];if(/\$$/.test(i.pre))for(var o=0;o<s.length;o++){var a=r+"{"+i.body+"}"+s[o];n.push(a)}else{var c,u,l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),p=l||h,d=i.body.indexOf(",")>=0;if(!p&&!d)return i.post.match(/,.*\}/)?pC(e=i.pre+"{"+i.body+nC+i.post):[e];if(p)c=i.body.split(/\.\./);else if(1===(c=aC(i.body)).length&&1===(c=pC(c[0],!1).map(cC)).length)return s.map((function(e){return i.pre+c[0]+e}));if(p){var f=sC(c[0]),m=sC(c[1]),g=Math.max(c[0].length,c[1].length),y=3==c.length?Math.abs(sC(c[2])):1,b=lC;m<f&&(y*=-1,b=hC);var v=c.some(uC);u=[];for(var w=f;b(w,m);w+=y){var _;if(h)"\\"===(_=String.fromCharCode(w))&&(_="");else if(_=String(w),v){var S=g-_.length;if(S>0){var E=new Array(S+1).join("0");_=w<0?"-"+E+_.slice(1):E+_}}u.push(_)}}else{u=[];for(var x=0;x<c.length;x++)u.push.apply(u,pC(c[x],!1))}for(x=0;x<u.length;x++)for(o=0;o<s.length;o++)a=r+u[x]+s[o],(!t||p||a)&&n.push(a)}return n}var dC={};Object.defineProperty(dC,"__esModule",{value:!0}),dC.assertValidPattern=void 0,dC.assertValidPattern=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};var fC={},mC={};Object.defineProperty(mC,"__esModule",{value:!0}),mC.parseClass=void 0;const gC={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},yC=e=>e.replace(/[[\]\\-]/g,"\\$&"),bC=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),vC=e=>e.join("");mC.parseClass=(e,t)=>{const n=t;if("["!==e.charAt(n))throw new Error("not in a brace expression");const i=[],r=[];let s=n+1,o=!1,a=!1,c=!1,u=!1,l=n,h="";e:for(;s<e.length;){const t=e.charAt(s);if("!"!==t&&"^"!==t||s!==n+1){if("]"===t&&o&&!c){l=s+1;break}if(o=!0,"\\"!==t||c){if("["===t&&!c)for(const[t,[o,c,u]]of Object.entries(gC))if(e.startsWith(t,s)){if(h)return["$.",!1,e.length-n,!0];s+=t.length,u?r.push(o):i.push(o),a=a||c;continue e}c=!1,h?(t>h?i.push(yC(h)+"-"+yC(t)):t===h&&i.push(yC(t)),h="",s++):e.startsWith("-]",s+1)?(i.push(yC(t+"-")),s+=2):e.startsWith("-",s+1)?(h=t,s+=2):(i.push(yC(t)),s++)}else c=!0,s++}else u=!0,s++}if(l<s)return["",!1,0,!1];if(!i.length&&!r.length)return["$.",!1,e.length-n,!0];if(0===r.length&&1===i.length&&/^\\?.$/.test(i[0])&&!u){const e=2===i[0].length?i[0].slice(-1):i[0];return[bC(e),!1,l-n,!1]}const p="["+(u?"^":"")+vC(i)+"]",d="["+(u?"":"^")+vC(r)+"]";return[i.length&&r.length?"("+p+"|"+d+")":i.length?p:d,a,l-n,!0]};var wC={};Object.defineProperty(wC,"__esModule",{value:!0}),wC.unescape=void 0,wC.unescape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1"),Object.defineProperty(fC,"__esModule",{value:!0}),fC.AST=void 0;const _C=mC,SC=wC,EC=new Set(["!","?","+","*","@"]),xC=e=>EC.has(e),DC="(?!\\.)",CC=new Set(["[","."]),kC=new Set(["..","."]),RC=new Set("().*{}+?[]^$\\!"),AC=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),TC="[^/]",OC=TC+"*?",FC=TC+"+?";class PC{type;#e;#t;#n=!1;#i=[];#r;#s;#o;#a=!1;#c;#u;#l=!1;constructor(e,t,n={}){this.type=e,e&&(this.#t=!0),this.#r=t,this.#e=this.#r?this.#r.#e:this,this.#c=this.#e===this?n:this.#e.#c,this.#o=this.#e===this?[]:this.#e.#o,"!"===e&&!this.#e.#a&&this.#o.push(this),this.#s=this.#r?this.#r.#i.length:0}get hasMagic(){if(void 0!==this.#t)return this.#t;for(const e of this.#i)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#t=!0;return this.#t}toString(){return void 0!==this.#u?this.#u:this.type?this.#u=this.type+"("+this.#i.map((e=>String(e))).join("|")+")":this.#u=this.#i.map((e=>String(e))).join("")}#h(){if(this!==this.#e)throw new Error("should only call on root");if(this.#a)return this;let e;for(this.toString(),this.#a=!0;e=this.#o.pop();){if("!"!==e.type)continue;let t=e,n=t.#r;for(;n;){for(let i=t.#s+1;!n.type&&i<n.#i.length;i++)for(const t of e.#i){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#i[i])}t=n,n=t.#r}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof PC&&t.#r===this))throw new Error("invalid part: "+t);this.#i.push(t)}}toJSON(){const e=null===this.type?this.#i.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#i.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#e||this.#e.#a&&"!"===this.#r?.type)&&e.push({}),e}isStart(){if(this.#e===this)return!0;if(!this.#r?.isStart())return!1;if(0===this.#s)return!0;const e=this.#r;for(let t=0;t<this.#s;t++){const n=e.#i[t];if(!(n instanceof PC&&"!"===n.type))return!1}return!0}isEnd(){if(this.#e===this||"!"===this.#r?.type)return!0;if(!this.#r?.isEnd())return!1;if(!this.type)return this.#r?.isEnd();const e=this.#r?this.#r.#i.length:0;return this.#s===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new PC(this.type,e);for(const e of this.#i)t.copyIn(e);return t}static#p(e,t,n,i){let r=!1,s=!1,o=-1,a=!1;if(null===t.type){let c=n,u="";for(;c<e.length;){const n=e.charAt(c++);if(r||"\\"===n)r=!r,u+=n;else if(s)c===o+1?("^"===n||"!"===n)&&(a=!0):"]"===n&&!(c===o+2&&a)&&(s=!1),u+=n;else if("["!==n)if(i.noext||!xC(n)||"("!==e.charAt(c))u+=n;else{t.push(u),u="";const r=new PC(n,t);c=PC.#p(e,r,c,i),t.push(r)}else s=!0,o=c,a=!1,u+=n}return t.push(u),c}let c=n+1,u=new PC(null,t);const l=[];let h="";for(;c<e.length;){const n=e.charAt(c++);if(r||"\\"===n)r=!r,h+=n;else if(s)c===o+1?("^"===n||"!"===n)&&(a=!0):"]"===n&&!(c===o+2&&a)&&(s=!1),h+=n;else if("["!==n)if(xC(n)&&"("===e.charAt(c)){u.push(h),h="";const t=new PC(n,u);u.push(t),c=PC.#p(e,t,c,i)}else if("|"!==n){if(")"===n)return""===h&&0===t.#i.length&&(t.#l=!0),u.push(h),h="",t.push(...l,u),c;h+=n}else u.push(h),h="",l.push(u),u=new PC(null,t);else s=!0,o=c,a=!1,h+=n}return t.type=null,t.#t=void 0,t.#i=[e.substring(n-1)],c}static fromGlob(e,t={}){const n=new PC(null,void 0,t);return PC.#p(e,n,0,t),n}toMMPattern(){if(this!==this.#e)return this.#e.toMMPattern();const e=this.toString(),[t,n,i,r]=this.toRegExpSource();if(!(i||this.#t||this.#c.nocase&&!this.#c.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#c.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}get options(){return this.#c}toRegExpSource(e){const t=e??!!this.#c.dot;if(this.#e===this&&this.#h(),!this.type){const n=this.isStart()&&this.isEnd(),i=this.#i.map((t=>{const[i,r,s,o]="string"==typeof t?PC.#f(t,this.#t,n):t.toRegExpSource(e);return this.#t=this.#t||s,this.#n=this.#n||o,i})).join("");let r="";if(this.isStart()&&"string"==typeof this.#i[0]&&(1!==this.#i.length||!kC.has(this.#i[0]))){const n=CC,s=t&&n.has(i.charAt(0))||i.startsWith("\\.")&&n.has(i.charAt(2))||i.startsWith("\\.\\.")&&n.has(i.charAt(4)),o=!t&&!e&&n.has(i.charAt(0));r=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?DC:""}let s="";return this.isEnd()&&this.#e.#a&&"!"===this.#r?.type&&(s="(?:$|\\/)"),[r+i+s,(0,SC.unescape)(i),this.#t=!!this.#t,this.#n]}const n="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let r=this.#d(t);if(this.isStart()&&this.isEnd()&&!r&&"!"!==this.type){const e=this.toString();return this.#i=[e],this.type=null,this.#t=void 0,[e,(0,SC.unescape)(this.toString()),!1,!1]}let s=!n||e||t?"":this.#d(!0);s===r&&(s=""),s&&(r=`(?:${r})(?:${s})*?`);let o="";return o="!"===this.type&&this.#l?(this.isStart()&&!t?DC:"")+FC:i+r+("!"===this.type?"))"+(!this.isStart()||t||e?"":DC)+OC+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&s?")":"*"===this.type&&s?")?":`)${this.type}`),[o,(0,SC.unescape)(r),this.#t=!!this.#t,this.#n]}#d(e){return this.#i.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,i,r,s]=t.toRegExpSource(e);return this.#n=this.#n||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#f(e,t,n=!1){let i=!1,r="",s=!1;for(let o=0;o<e.length;o++){const a=e.charAt(o);if(i)i=!1,r+=(RC.has(a)?"\\":"")+a;else if("\\"!==a){if("["===a){const[n,i,a,c]=(0,_C.parseClass)(e,o);if(a){r+=n,s=s||i,o+=a-1,t=t||c;continue}}"*"!==a?"?"!==a?r+=AC(a):(r+=TC,t=!0):(r+=n&&"*"===e?FC:OC,t=!0)}else o===e.length-1?r+="\\\\":i=!0}return[r,(0,SC.unescape)(e),!!t,s]}}fC.AST=PC;var IC={};Object.defineProperty(IC,"__esModule",{value:!0}),IC.escape=void 0,IC.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&"),function(e){var t=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;const n=t(QD),i=dC,r=fC,s=IC,o=wC;e.minimatch=(e,t,n={})=>((0,i.assertValidPattern)(t),!(!n.nocomment&&"#"===t.charAt(0))&&new O(t,n).match(e));const a=/^\*+([^+@!?\*\[\(]*)$/,c=e=>t=>!t.startsWith(".")&&t.endsWith(e),u=e=>t=>t.endsWith(e),l=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),h=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),p=/^\*+\.\*+$/,d=e=>!e.startsWith(".")&&e.includes("."),f=e=>"."!==e&&".."!==e&&e.includes("."),m=/^\.\*+$/,g=e=>"."!==e&&".."!==e&&e.startsWith("."),y=/^\*+$/,b=e=>0!==e.length&&!e.startsWith("."),v=e=>0!==e.length&&"."!==e&&".."!==e,w=/^\?+([^+@!?\*\[\(]*)?$/,_=([e,t=""])=>{const n=D([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},S=([e,t=""])=>{const n=C([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},E=([e,t=""])=>{const n=C([e]);return t?e=>n(e)&&e.endsWith(t):n},x=([e,t=""])=>{const n=D([e]);return t?e=>n(e)&&e.endsWith(t):n},D=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},C=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},k="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";e.sep="win32"===k?"\\":"/",e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR,e.filter=(t,n={})=>i=>(0,e.minimatch)(i,t,n),e.minimatch.filter=e.filter;const R=(e,t={})=>Object.assign({},e,t);e.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return e.minimatch;const n=e.minimatch;return Object.assign(((e,i,r={})=>n(e,i,R(t,r))),{Minimatch:class extends n.Minimatch{constructor(e,n={}){super(e,R(t,n))}static defaults(e){return n.defaults(R(t,e)).Minimatch}},AST:class extends n.AST{constructor(e,n,i={}){super(e,n,R(t,i))}static fromGlob(e,i={}){return n.AST.fromGlob(e,R(t,i))}},unescape:(e,i={})=>n.unescape(e,R(t,i)),escape:(e,i={})=>n.escape(e,R(t,i)),filter:(e,i={})=>n.filter(e,R(t,i)),defaults:e=>n.defaults(R(t,e)),makeRe:(e,i={})=>n.makeRe(e,R(t,i)),braceExpand:(e,i={})=>n.braceExpand(e,R(t,i)),match:(e,i,r={})=>n.match(e,i,R(t,r)),sep:n.sep,GLOBSTAR:e.GLOBSTAR})},e.minimatch.defaults=e.defaults,e.braceExpand=(e,t={})=>((0,i.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,n.default)(e)),e.minimatch.braceExpand=e.braceExpand,e.makeRe=(e,t={})=>new O(e,t).makeRe(),e.minimatch.makeRe=e.makeRe,e.match=(e,t,n={})=>{const i=new O(t,n);return e=e.filter((e=>i.match(e))),i.options.nonull&&!e.length&&e.push(t),e},e.minimatch.match=e.match;const T=/[?*]|[+@!]\(.*?\)|\[|\]/;class O{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,i.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||k,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&T.test(e[2])||T.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,i),this.set=i.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const i=e[n];1===n&&""===i&&""===e[0]||("."===i||""===i)&&(t=!0,e.splice(n,1),n--)}"."===e[0]&&2===e.length&&("."===e[1]||""===e[1])&&(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const i=e[n-1];i&&"."!==i&&".."!==i&&"**"!==i&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;-1!==(i=n.indexOf("**",i+1));){let r=i;for(;"**"===n[r+1];)r++;r>i&&n.splice(i+1,r-i);let s=n[i+1];const o=n[i+2],a=n[i+3];if(".."!==s||!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(i,1);const c=n.slice(0);c[i]="**",e.push(c),i--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const i=n[e];1===e&&""===i&&""===n[0]||("."===i||""===i)&&(t=!0,n.splice(e,1),e--)}"."===n[0]&&2===n.length&&("."===n[1]||""===n[1])&&(t=!0,n.pop())}let r=0;for(;-1!==(r=n.indexOf("..",r+1));){const e=n[r-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===r&&"**"===n[r+1]?["."]:[];n.splice(r-1,2,...e),0===n.length&&n.push(""),r-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);i&&(e[t]=i,e[n]=[])}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let i=0,r=0,s=[],o="";for(;i<e.length&&r<t.length;)if(e[i]===t[r])s.push("b"===o?t[r]:e[i]),i++,r++;else if(n&&"**"===e[i]&&t[r]===e[i+1])s.push(e[i]),i++;else if(n&&"**"===t[r]&&e[i]===t[r+1])s.push(t[r]),r++;else if("*"!==e[i]||!t[r]||!this.options.dot&&t[r].startsWith(".")||"**"===t[r]){if("*"!==t[r]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i])return!1;if("a"===o)return!1;o="b",s.push(t[r]),i++,r++}else{if("b"===o)return!1;o="a",s.push(e[i]),i++,r++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let i=0;i<e.length&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(t,n,i=!1){const r=this.options;if(this.isWindows){const e="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),i=!e&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),r="string"==typeof n[0]&&/^[a-z]:$/i.test(n[0]),s=i?3:e?0:void 0,o=!r&&""===n[0]&&""===n[1]&&"?"===n[2]&&"string"==typeof n[3]&&/^[a-z]:$/i.test(n[3])?3:r?0:void 0;if("number"==typeof s&&"number"==typeof o){const[e,i]=[t[s],n[o]];e.toLowerCase()===i.toLowerCase()&&(n[o]=e,o>s?n=n.slice(o):s>o&&(t=t.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var o=0,a=0,c=t.length,u=n.length;o<c&&a<u;o++,a++){this.debug("matchOne loop");var l=n[a],h=t[o];if(this.debug(n,l,h),!1===l)return!1;if(l===e.GLOBSTAR){this.debug("GLOBSTAR",[n,l,h]);var p=o,d=a+1;if(d===u){for(this.debug("** at the end");o<c;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<c;){var f=t[p];if(this.debug("\nglobstar while",t,p,n,d,f),this.matchOne(t.slice(p),n.slice(d),i))return this.debug("globstar found match!",p,c,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,n,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!i||(this.debug("\n>>> no match, partial?",t,p,n,d),p!==c))}let s;if("string"==typeof l?(s=h===l,this.debug("string match",l,h,s)):(s=l.test(h),this.debug("pattern match",l,h,s)),!s)return!1}if(o===c&&a===u)return!0;if(o===c)return i;if(a===u)return o===c-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(t){(0,i.assertValidPattern)(t);const n=this.options;if("**"===t)return e.GLOBSTAR;if(""===t)return"";let s,o=null;(s=t.match(y))?o=n.dot?v:b:(s=t.match(a))?o=(n.nocase?n.dot?h:l:n.dot?u:c)(s[1]):(s=t.match(w))?o=(n.nocase?n.dot?S:_:n.dot?E:x)(s):(s=t.match(p))?o=n.dot?f:d:(s=t.match(m))&&(o=g);const D=r.AST.fromGlob(t,this.options).toMMPattern();return o&&"object"==typeof D&&Reflect.defineProperty(D,"test",{value:o}),D}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,i=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(n.nocase?["i"]:[]);let s=t.map((t=>{const n=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))r.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===e.GLOBSTAR?e.GLOBSTAR:t._src}));return n.forEach(((t,r)=>{const s=n[r+1],o=n[r-1];t!==e.GLOBSTAR||o===e.GLOBSTAR||(void 0===o?void 0!==s&&s!==e.GLOBSTAR?n[r+1]="(?:\\/|"+i+"\\/)?"+s:n[r]=i:void 0===s?n[r-1]=o+"(?:\\/|"+i+")?":s!==e.GLOBSTAR&&(n[r-1]=o+"(?:\\/|\\/"+i+"\\/)"+s,n[r+1]=e.GLOBSTAR))})),n.filter((t=>t!==e.GLOBSTAR)).join("/")})).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...r].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const r=this.set;this.debug(this.pattern,"set",r);let s=i[i.length-1];if(!s)for(let e=i.length-2;!s&&e>=0;e--)s=i[e];for(let e=0;e<r.length;e++){const o=r[e];let a=i;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(t){return e.minimatch.defaults(t).Minimatch}}e.Minimatch=O;var F=fC;Object.defineProperty(e,"AST",{enumerable:!0,get:function(){return F.AST}});var P=IC;Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return P.escape}});var I=wC;Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return I.unescape}}),e.minimatch.AST=r.AST,e.minimatch.Minimatch=O,e.minimatch.escape=s.escape,e.minimatch.unescape=o.unescape}(VD);var LC={},NC={},BC=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),jC=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),MC=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&BC(t,e,n);return jC(t,e),t};Object.defineProperty(NC,"__esModule",{value:!0}),NC.PathScurry=NC.Path=NC.PathScurryDarwin=NC.PathScurryPosix=NC.PathScurryWin32=NC.PathScurryBase=NC.PathPosix=NC.PathWin32=NC.PathBase=NC.ChildrenCache=NC.ResolveCache=void 0;const $C=Rr,qC=r,UC=p,HC=c,WC=MC(c),zC=HC.realpathSync.native,GC=h,VC=bv,KC={lstatSync:HC.lstatSync,readdir:HC.readdir,readdirSync:HC.readdirSync,readlinkSync:HC.readlinkSync,realpathSync:zC,promises:{lstat:GC.lstat,readdir:GC.readdir,readlink:GC.readlink,realpath:GC.realpath}},YC=e=>e&&e!==KC&&e!==WC?{...KC,...e,promises:{...KC.promises,...e.promises||{}}}:KC,JC=/^\\\\\?\\([a-z]:)\\?$/i,ZC=/[\\\/]/,XC=10,QC=15,ek=-16,tk=128,nk=e=>e.isFile()?8:e.isDirectory()?4:e.isSymbolicLink()?XC:e.isCharacterDevice()?2:e.isBlockDevice()?6:e.isSocket()?12:e.isFIFO()?1:0,ik=new Map,rk=e=>{const t=ik.get(e);if(t)return t;const n=e.normalize("NFKD");return ik.set(e,n),n},sk=new Map,ok=e=>{const t=sk.get(e);if(t)return t;const n=rk(e.toLowerCase());return sk.set(e,n),n};class ak extends $C.LRUCache{constructor(){super({max:256})}}NC.ResolveCache=ak;class ck extends $C.LRUCache{constructor(e=16384){super({maxSize:e,sizeCalculation:e=>e.length+1})}}NC.ChildrenCache=ck;const uk=Symbol("PathScurry setAsCwd");class lk{name;root;roots;parent;nocase;isCWD=!1;#e;#t;get dev(){return this.#t}#n;get mode(){return this.#n}#i;get nlink(){return this.#i}#r;get uid(){return this.#r}#s;get gid(){return this.#s}#o;get rdev(){return this.#o}#a;get blksize(){return this.#a}#c;get ino(){return this.#c}#u;get size(){return this.#u}#l;get blocks(){return this.#l}#h;get atimeMs(){return this.#h}#p;get mtimeMs(){return this.#p}#d;get ctimeMs(){return this.#d}#f;get birthtimeMs(){return this.#f}#m;get atime(){return this.#m}#g;get mtime(){return this.#g}#y;get ctime(){return this.#y}#b;get birthtime(){return this.#b}#v;#w;#_;#A;#O;#F;#T;#k;#R;#P;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,t=0,n,i,r,s,o){this.name=e,this.#v=r?ok(e):rk(e),this.#T=1023&t,this.nocase=r,this.roots=i,this.root=n||this,this.#k=s,this.#_=o.fullpath,this.#O=o.relative,this.#F=o.relativePosix,this.parent=o.parent,this.parent?this.#e=this.parent.#e:this.#e=YC(o.fs)}depth(){return void 0!==this.#w?this.#w:this.parent?this.#w=this.parent.depth()+1:this.#w=0}childrenCache(){return this.#k}resolve(e){if(!e)return this;const t=this.getRootString(e),n=e.substring(t.length).split(this.splitSep);return t?this.getRoot(t).#L(n):this.#L(n)}#L(e){let t=this;for(const n of e)t=t.child(n);return t}children(){const e=this.#k.get(this);if(e)return e;const t=Object.assign([],{provisional:0});return this.#k.set(this,t),this.#T&=-17,t}child(e,t){if(""===e||"."===e)return this;if(".."===e)return this.parent||this;const n=this.children(),i=this.nocase?ok(e):rk(e);for(const e of n)if(e.#v===i)return e;const r=this.parent?this.sep:"",s=this.#_?this.#_+r+e:void 0,o=this.newChild(e,0,{...t,parent:this,fullpath:s});return this.canReaddir()||(o.#T|=tk),n.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#O)return this.#O;const e=this.name,t=this.parent;if(!t)return this.#O=this.name;const n=t.relative();return n+(n&&t.parent?this.sep:"")+e}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#F)return this.#F;const e=this.name,t=this.parent;if(!t)return this.#F=this.fullpathPosix();const n=t.relativePosix();return n+(n&&t.parent?"/":"")+e}fullpath(){if(void 0!==this.#_)return this.#_;const e=this.name,t=this.parent;if(!t)return this.#_=this.name;const n=t.fullpath()+(t.parent?this.sep:"")+e;return this.#_=n}fullpathPosix(){if(void 0!==this.#A)return this.#A;if("/"===this.sep)return this.#A=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(e)?this.#A=`//?/${e}`:this.#A=e}const e=this.parent,t=e.fullpathPosix(),n=t+(t&&e.parent?"/":"")+this.name;return this.#A=n}isUnknown(){return!(this.#T&QC)}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#T&QC)}isDirectory(){return 4==(this.#T&QC)}isCharacterDevice(){return 2==(this.#T&QC)}isBlockDevice(){return 6==(this.#T&QC)}isFIFO(){return 1==(this.#T&QC)}isSocket(){return 12==(this.#T&QC)}isSymbolicLink(){return(this.#T&XC)===XC}lstatCached(){return 32&this.#T?this:void 0}readlinkCached(){return this.#R}realpathCached(){return this.#P}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#R)return!0;if(!this.parent)return!1;const e=this.#T&QC;return!(0!==e&&e!==XC||256&this.#T||this.#T&tk)}calledReaddir(){return!!(16&this.#T)}isENOENT(){return!!(this.#T&tk)}isNamed(e){return this.nocase?this.#v===ok(e):this.#v===rk(e)}async readlink(){const e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=await this.#e.promises.readlink(this.fullpath()),t=(await this.parent.realpath())?.resolve(e);if(t)return this.#R=t}catch(e){return void this.#j(e.code)}}readlinkSync(){const e=this.#R;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=this.#e.readlinkSync(this.fullpath()),t=this.parent.realpathSync()?.resolve(e);if(t)return this.#R=t}catch(e){return void this.#j(e.code)}}#I(e){this.#T|=16;for(let t=e.provisional;t<e.length;t++){const n=e[t];n&&n.#D()}}#D(){this.#T&tk||(this.#T=(this.#T|tk)&ek,this.#C())}#C(){const e=this.children();e.provisional=0;for(const t of e)t.#D()}#B(){this.#T|=512,this.#N()}#N(){if(64&this.#T)return;let e=this.#T;4==(e&QC)&&(e&=ek),this.#T=64|e,this.#C()}#E(e=""){"ENOTDIR"===e||"EPERM"===e?this.#N():"ENOENT"===e?this.#D():this.children().provisional=0}#S(e=""){"ENOTDIR"===e?this.parent.#N():"ENOENT"===e&&this.#D()}#j(e=""){let t=this.#T;t|=256,"ENOENT"===e&&(t|=tk),("EINVAL"===e||"UNKNOWN"===e)&&(t&=ek),this.#T=t,"ENOTDIR"===e&&this.parent&&this.parent.#N()}#x(e,t){return this.#M(e,t)||this.#$(e,t)}#$(e,t){const n=nk(e),i=this.newChild(e.name,n,{parent:this}),r=i.#T&QC;return 4!==r&&r!==XC&&0!==r&&(i.#T|=64),t.unshift(i),t.provisional++,i}#M(e,t){for(let n=t.provisional;n<t.length;n++){const i=t[n];if((this.nocase?ok(e.name):rk(e.name))===i.#v)return this.#q(e,i,n,t)}}#q(e,t,n,i){const r=t.name;return t.#T=t.#T&ek|nk(e),r!==e.name&&(t.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(t)),i.provisional++,t}async lstat(){if(!(this.#T&tk))try{return this.#U(await this.#e.promises.lstat(this.fullpath())),this}catch(e){this.#S(e.code)}}lstatSync(){if(!(this.#T&tk))try{return this.#U(this.#e.lstatSync(this.fullpath())),this}catch(e){this.#S(e.code)}}#U(e){const{atime:t,atimeMs:n,birthtime:i,birthtimeMs:r,blksize:s,blocks:o,ctime:a,ctimeMs:c,dev:u,gid:l,ino:h,mode:p,mtime:d,mtimeMs:f,nlink:m,rdev:g,size:y,uid:b}=e;this.#m=t,this.#h=n,this.#b=i,this.#f=r,this.#a=s,this.#l=o,this.#y=a,this.#d=c,this.#t=u,this.#s=l,this.#c=h,this.#n=p,this.#g=d,this.#p=f,this.#i=m,this.#o=g,this.#u=y,this.#r=b;const v=nk(e);this.#T=this.#T&ek|v|32,0!==v&&4!==v&&v!==XC&&(this.#T|=64)}#H=[];#W=!1;#z(e){this.#W=!1;const t=this.#H.slice();this.#H.length=0,t.forEach((t=>t(null,e)))}readdirCB(e,t=!1){if(!this.canReaddir())return void(t?e(null,[]):queueMicrotask((()=>e(null,[]))));const n=this.children();if(this.calledReaddir()){const i=n.slice(0,n.provisional);return void(t?e(null,i):queueMicrotask((()=>e(null,i))))}if(this.#H.push(e),this.#W)return;this.#W=!0;const i=this.fullpath();this.#e.readdir(i,{withFileTypes:!0},((e,t)=>{if(e)this.#E(e.code),n.provisional=0;else{for(const e of t)this.#x(e,n);this.#I(n)}this.#z(n.slice(0,n.provisional))}))}#G;async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();if(this.#G)await this.#G;else{let n=()=>{};this.#G=new Promise((e=>n=e));try{for(const n of await this.#e.promises.readdir(t,{withFileTypes:!0}))this.#x(n,e);this.#I(e)}catch(t){this.#E(t.code),e.provisional=0}this.#G=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();try{for(const n of this.#e.readdirSync(t,{withFileTypes:!0}))this.#x(n,e);this.#I(e)}catch(t){this.#E(t.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(704&this.#T)return!1;const e=QC&this.#T;return 0===e||4===e||e===XC}shouldWalk(e,t){return!(4&~this.#T)&&!(704&this.#T)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#P)return this.#P;if(!(896&this.#T))try{const e=await this.#e.promises.realpath(this.fullpath());return this.#P=this.resolve(e)}catch{this.#B()}}realpathSync(){if(this.#P)return this.#P;if(!(896&this.#T))try{const e=this.#e.realpathSync(this.fullpath());return this.#P=this.resolve(e)}catch{this.#B()}}[uk](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;const t=new Set([]);let n=[],i=this;for(;i&&i.parent;)t.add(i),i.#O=n.join(this.sep),i.#F=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!t.has(i);)i.#O=void 0,i.#F=void 0,i=i.parent}}NC.PathBase=lk;class hk extends lk{sep="\\";splitSep=ZC;constructor(e,t=0,n,i,r,s,o){super(e,t,n,i,r,s,o)}newChild(e,t=0,n={}){return new hk(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return qC.win32.parse(e).root}getRoot(e){if(e=(e=>e.replace(/\//g,"\\").replace(JC,"$1\\"))(e.toUpperCase()),e===this.root.name)return this.root;for(const[t,n]of Object.entries(this.roots))if(this.sameRoot(e,t))return this.roots[e]=n;return this.roots[e]=new fk(e,this).root}sameRoot(e,t=this.root.name){return(e=e.toUpperCase().replace(/\//g,"\\").replace(JC,"$1\\"))===t}}NC.PathWin32=hk;class pk extends lk{splitSep="/";sep="/";constructor(e,t=0,n,i,r,s,o){super(e,t,n,i,r,s,o)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=0,n={}){return new pk(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}}NC.PathPosix=pk;class dk{root;rootPath;roots;cwd;#e;#t;#n;nocase;#i;constructor(e=process.cwd(),t,n,{nocase:i,childrenCacheSize:r=16384,fs:s=KC}={}){this.#i=YC(s),(e instanceof URL||e.startsWith("file://"))&&(e=(0,UC.fileURLToPath)(e));const o=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#e=new ak,this.#t=new ak,this.#n=new ck(r);const a=o.substring(this.rootPath.length).split(n);if(1===a.length&&!a[0]&&a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#i),this.roots[this.rootPath]=this.root;let c=this.root,u=a.length-1;const l=t.sep;let h=this.rootPath,p=!1;for(const e of a){const t=u--;c=c.child(e,{relative:new Array(t).fill("..").join(l),relativePosix:new Array(t).fill("..").join("/"),fullpath:h+=(p?"":l)+e}),p=!0}this.cwd=c}depth(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#n}resolve(...e){let t="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(i&&"."!==i&&(t=t?`${i}/${t}`:i,this.isAbsolute(i)))break}const n=this.#e.get(t);if(void 0!==n)return n;const i=this.cwd.resolve(t).fullpath();return this.#e.set(t,i),i}resolvePosix(...e){let t="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(i&&"."!==i&&(t=t?`${i}/${t}`:i,this.isAbsolute(i)))break}const n=this.#t.get(t);if(void 0!==n)return n;const i=this.cwd.resolve(t).fullpathPosix();return this.#t.set(t,i),i}relative(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n}=t;if(e.canReaddir()){const t=await e.readdir();return n?t:t.map((e=>e.name))}return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0}=t;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map((e=>e.name)):[]}async lstat(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e.withFileTypes,e=this.cwd);const n=await e.readlink();return t?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e.withFileTypes,e=this.cwd);const n=e.readlinkSync();return t?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e.withFileTypes,e=this.cwd);const n=await e.realpath();return t?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e.withFileTypes,e=this.cwd);const n=e.realpathSync();return t?n:n?.fullpath()}async walk(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=[];(!r||r(e))&&o.push(n?e:e.fullpath());const a=new Set,c=(e,t)=>{a.add(e),e.readdirCB(((e,u)=>{if(e)return t(e);let l=u.length;if(!l)return t();const h=()=>{0==--l&&t()};for(const e of u)(!r||r(e))&&o.push(n?e:e.fullpath()),i&&e.isSymbolicLink()?e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(a,s)?c(e,h):h())):e.shouldWalk(a,s)?c(e,h):h()}),!0)},u=e;return new Promise(((e,t)=>{c(u,(n=>{if(n)return t(n);e(o)}))}))}walkSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=[];(!r||r(e))&&o.push(n?e:e.fullpath());const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){(!r||r(e))&&o.push(n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&a.add(t)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t;(!r||r(e))&&(yield n?e:e.fullpath());const o=new Set([e]);for(const e of o){const t=e.readdirSync();for(const e of t){(!r||r(e))&&(yield n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(o,s)&&o.add(t)}}}stream(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=new VC.Minipass({objectMode:!0});(!r||r(e))&&o.write(n?e:e.fullpath());const a=new Set,c=[e];let u=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===u&&o.end());u++,a.add(t);const h=(t,d,f=!1)=>{if(t)return o.emit("error",t);if(i&&!f){const e=[];for(const t of d)t.isSymbolicLink()&&e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)));if(e.length)return void Promise.all(e).then((()=>h(null,d,!0)))}for(const t of d)t&&(!r||r(t))&&(o.write(n?t:t.fullpath())||(e=!0));u--;for(const e of d){const t=e.realpathCached()||e;t.shouldWalk(a,s)&&c.push(t)}e&&!o.flowing?o.once("drain",l):p||l()};let p=!0;t.readdirCB(h,!0),p=!1}};return l(),o}streamSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof lk||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=new VC.Minipass({objectMode:!0}),a=new Set;(!r||r(e))&&o.write(n?e:e.fullpath());const c=[e];let u=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===u&&o.end());u++,a.add(t);const l=t.readdirSync();for(const t of l)(!r||r(t))&&(o.write(n?t:t.fullpath())||(e=!0));u--;for(const e of l){let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&c.push(t)}}e&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(e=this.cwd){const t=this.cwd;this.cwd="string"==typeof e?this.cwd.resolve(e):e,this.cwd[uk](t)}}NC.PathScurryBase=dk;class fk extends dk{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,qC.win32,"\\",{...t,nocase:n}),this.nocase=n;for(let e=this.cwd;e;e=e.parent)e.nocase=this.nocase}parseRootPath(e){return qC.win32.parse(e).root.toUpperCase()}newRoot(e){return new hk(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}NC.PathScurryWin32=fk;class mk extends dk{sep="/";constructor(e=process.cwd(),t={}){const{nocase:n=!1}=t;super(e,qC.posix,"/",{...t,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new pk(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}NC.PathScurryPosix=mk;class gk extends mk{constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,{...t,nocase:n})}}NC.PathScurryDarwin=gk,NC.Path="win32"===process.platform?hk:pk,NC.PathScurry="win32"===process.platform?fk:"darwin"===process.platform?gk:mk;var yk={};Object.defineProperty(yk,"__esModule",{value:!0}),yk.Pattern=void 0;const bk=VD;class vk{#e;#t;#n;length;#i;#r;#s;#o;#a;#c;#u=!0;constructor(e,t,n,i){if(!(e=>e.length>=1)(e))throw new TypeError("empty pattern list");if(!(e=>e.length>=1)(t))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#e=e,this.#t=t,this.#n=n,this.#i=i,0===this.#n)if(this.isUNC()){const[e,t,n,i,...r]=this.#e,[s,o,a,c,...u]=this.#t;""===r[0]&&(r.shift(),u.shift());const l=[e,t,n,i,""].join("/"),h=[s,o,a,c,""].join("/");this.#e=[l,...r],this.#t=[h,...u],this.length=this.#e.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#e,[n,...i]=this.#t;""===t[0]&&(t.shift(),i.shift());const r=e+"/",s=n+"/";this.#e=[r,...t],this.#t=[s,...i],this.length=this.#e.length}}pattern(){return this.#e[this.#n]}isString(){return"string"==typeof this.#e[this.#n]}isGlobstar(){return this.#e[this.#n]===bk.GLOBSTAR}isRegExp(){return this.#e[this.#n]instanceof RegExp}globString(){return this.#s=this.#s||(0===this.#n?this.isAbsolute()?this.#t[0]+this.#t.slice(1).join("/"):this.#t.join("/"):this.#t.slice(this.#n).join("/"))}hasMore(){return this.length>this.#n+1}rest(){return void 0!==this.#r?this.#r:this.hasMore()?(this.#r=new vk(this.#e,this.#t,this.#n+1,this.#i),this.#r.#c=this.#c,this.#r.#a=this.#a,this.#r.#o=this.#o,this.#r):this.#r=null}isUNC(){const e=this.#e;return void 0!==this.#a?this.#a:this.#a="win32"===this.#i&&0===this.#n&&""===e[0]&&""===e[1]&&"string"==typeof e[2]&&!!e[2]&&"string"==typeof e[3]&&!!e[3]}isDrive(){const e=this.#e;return void 0!==this.#o?this.#o:this.#o="win32"===this.#i&&0===this.#n&&this.length>1&&"string"==typeof e[0]&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#e;return void 0!==this.#c?this.#c:this.#c=""===e[0]&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#e[0];return"string"==typeof e&&this.isAbsolute()&&0===this.#n?e:""}checkFollowGlobstar(){return!(0===this.#n||!this.isGlobstar()||!this.#u)}markFollowGlobstar(){return!(0===this.#n||!this.isGlobstar()||!this.#u||(this.#u=!1,0))}}yk.Pattern=vk;var wk={},_k={};Object.defineProperty(_k,"__esModule",{value:!0}),_k.Ignore=void 0;const Sk=VD,Ek=yk,xk="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";_k.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;constructor(e,{nobrace:t,nocase:n,noext:i,noglobstar:r,platform:s=xk}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const o={dot:!0,nobrace:t,nocase:n,noext:i,noglobstar:r,optimizationLevel:2,platform:s,nocomment:!0,nonegate:!0};for(const t of e){const e=new Sk.Minimatch(t,o);for(let t=0;t<e.set.length;t++){const n=e.set[t],i=e.globParts[t];if(!n||!i)throw new Error("invalid pattern object");for(;"."===n[0]&&"."===i[0];)n.shift(),i.shift();const r=new Ek.Pattern(n,i,0,s),a=new Sk.Minimatch(r.globString(),o),c="**"===i[i.length-1],u=r.isAbsolute();u?this.absolute.push(a):this.relative.push(a),c&&(u?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(e){const t=e.fullpath(),n=`${t}/`,i=e.relative()||".",r=`${i}/`;for(const e of this.relative)if(e.match(i)||e.match(r))return!0;for(const e of this.absolute)if(e.match(t)||e.match(n))return!0;return!1}childrenIgnored(e){const t=e.fullpath()+"/",n=(e.relative()||".")+"/";for(const e of this.relativeChildren)if(e.match(n))return!0;for(const e of this.absoluteChildren)if(e.match(t))return!0;return!1}};var Dk={};Object.defineProperty(Dk,"__esModule",{value:!0}),Dk.Processor=Dk.SubWalks=Dk.MatchRecord=Dk.HasWalkedCache=void 0;const Ck=VD;class kk{store;constructor(e=new Map){this.store=e}copy(){return new kk(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const n=e.fullpath(),i=this.store.get(n);i?i.add(t.globString()):this.store.set(n,new Set([t.globString()]))}}Dk.HasWalkedCache=kk;class Rk{store=new Map;add(e,t,n){const i=(t?2:0)|(n?1:0),r=this.store.get(e);this.store.set(e,void 0===r?i:i&r)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(2&t),!!(1&t)]))}}Dk.MatchRecord=Rk;class Ak{store=new Map;add(e,t){if(!e.canReaddir())return;const n=this.store.get(e);n?n.find((e=>e.globString()===t.globString()))||n.push(t):this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}Dk.SubWalks=Ak;class Tk{hasWalkedCache;matches=new Rk;subwalks=new Ak;patterns;follow;dot;opts;constructor(e,t){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new kk}processPatterns(e,t){this.patterns=t;const n=t.map((t=>[e,t]));for(let[e,t]of n){this.hasWalkedCache.storeWalked(e,t);const n=t.root(),i=t.isAbsolute()&&!1!==this.opts.absolute;if(n){e=e.resolve("/"===n&&void 0!==this.opts.root?this.opts.root:n);const i=t.rest();if(!i){this.matches.add(e,!0,!1);continue}t=i}if(e.isENOENT())continue;let r,s,o=!1;for(;"string"==typeof(r=t.pattern())&&(s=t.rest());)e=e.resolve(r),t=s,o=!0;if(r=t.pattern(),s=t.rest(),o){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if("string"!=typeof r)if(r===Ck.GLOBSTAR){(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar())&&this.subwalks.add(e,t);const n=s?.pattern(),r=s?.rest();if(s&&(""!==n&&"."!==n||r)){if(".."===n){const t=e.parent||e;r?this.hasWalkedCache.hasWalked(t,r)||this.subwalks.add(t,r):this.matches.add(t,i,!0)}}else this.matches.add(e,i,""===n||"."===n)}else r instanceof RegExp&&this.subwalks.add(e,t);else{const t=".."===r||""===r||"."===r;this.matches.add(e.resolve(r),i,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Tk(this.opts,this.hasWalkedCache)}filterEntries(e,t){const n=this.subwalks.get(e),i=this.child();for(const e of t)for(const t of n){const n=t.isAbsolute(),r=t.pattern(),s=t.rest();r===Ck.GLOBSTAR?i.testGlobstar(e,t,s,n):r instanceof RegExp?i.testRegExp(e,r,s,n):i.testString(e,r,s,n)}return i}testGlobstar(e,t,n,i){if((this.dot||!e.name.startsWith("."))&&(t.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(n&&t.checkFollowGlobstar()?this.subwalks.add(e,n):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),n){const t=n.pattern();if("string"==typeof t&&".."!==t&&""!==t&&"."!==t)this.testString(e,t,n.rest(),i);else if(".."===t){const t=e.parent||e;this.subwalks.add(t,n)}else t instanceof RegExp&&this.testRegExp(e,t,n.rest(),i)}}testRegExp(e,t,n,i){t.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,t,n,i){e.isNamed(t)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}}Dk.Processor=Tk,Object.defineProperty(wk,"__esModule",{value:!0}),wk.GlobStream=wk.GlobWalker=wk.GlobUtil=void 0;const Ok=bv,Fk=_k,Pk=Dk;class Ik{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#e=[];#t;#n;signal;maxDepth;constructor(e,t,n){this.patterns=e,this.path=t,this.opts=n,this.#n=n.posix||"win32"!==n.platform?"/":"\\",n.ignore&&(this.#t=((e,t)=>"string"==typeof e?new Fk.Ignore([e],t):Array.isArray(e)?new Fk.Ignore(e,t):e)(n.ignore,n)),this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",(()=>{this.#e.length=0})))}#i(e){return this.seen.has(e)||!!this.#t?.ignored?.(e)}#r(e){return!!this.#t?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let e;for(this.paused=!1;!this.paused&&(e=this.#e.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#e.push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}const i=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const e=await i.realpath();e&&(e.isUnknown()||this.opts.stat)&&await e.lstat()}return this.matchCheckTest(i,t)}matchCheckTest(e,t){return!e||!(this.maxDepth===1/0||e.depth()<=this.maxDepth)||t&&!e.canReaddir()||this.opts.nodir&&e.isDirectory()||this.opts.nodir&&this.opts.follow&&e.isSymbolicLink()&&e.realpathCached()?.isDirectory()||this.#i(e)?void 0:e}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}const i=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const e=i.realpathSync();e&&(e?.isUnknown()||this.opts.stat)&&e.lstatSync()}return this.matchCheckTest(i,t)}matchFinish(e,t){if(this.#i(e))return;const n=void 0===this.opts.absolute?t:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?this.#n:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+i)}else{const t=this.opts.posix?e.relativePosix():e.relative(),n=this.opts.dotRelative&&!t.startsWith(".."+this.#n)?"."+this.#n:"";this.matchEmit(t?n+t+i:"."+i)}}async match(e,t,n){const i=await this.matchCheck(e,n);i&&this.matchFinish(i,t)}matchSync(e,t,n){const i=this.matchCheckSync(e,n);i&&this.matchFinish(i,t)}walkCB(e,t,n){this.signal?.aborted&&n(),this.walkCB2(e,t,new Pk.Processor(this.opts),n)}walkCB2(e,t,n,i){if(this.#r(e))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(e,t,n,i)));n.processPatterns(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#i(e)||(r++,this.match(e,t,i).then((()=>s())));for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;r++;const t=e.readdirCached();e.calledReaddir()?this.walkCB3(e,t,n,s):e.readdirCB(((t,i)=>this.walkCB3(e,i,n,s)),!0)}s()}walkCB3(e,t,n,i){n=n.filterEntries(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#i(e)||(r++,this.match(e,t,i).then((()=>s())));for(const[e,t]of n.subwalks.entries())r++,this.walkCB2(e,t,n.child(),s);s()}walkCBSync(e,t,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,t,new Pk.Processor(this.opts),n)}walkCB2Sync(e,t,n,i){if(this.#r(e))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(e,t,n,i)));n.processPatterns(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#i(e)||this.matchSync(e,t,i);for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;r++;const t=e.readdirSync();this.walkCB3Sync(e,t,n,s)}s()}walkCB3Sync(e,t,n,i){n=n.filterEntries(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#i(e)||this.matchSync(e,t,i);for(const[e,t]of n.subwalks.entries())r++,this.walkCB2Sync(e,t,n.child(),s);s()}}wk.GlobUtil=Ik,wk.GlobWalker=class extends Ik{matches;constructor(e,t,n){super(e,t,n),this.matches=new Set}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?t(this.signal.reason):e(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},wk.GlobStream=class extends Ik{results;constructor(e,t,n){super(e,t,n),this.results=new Ok.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){const e=this.path;return e.isUnknown()?e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))})):this.walkCB(e,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}},Object.defineProperty(LC,"__esModule",{value:!0}),LC.Glob=void 0;const Lk=VD,Nk=NC,Bk=p,jk=yk,Mk=wk,$k="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class qk{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,Bk.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth="number"==typeof t.maxDepth?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof e&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(e=e.map((e=>e.replace(/\\/g,"/")))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map((e=>e.includes("/")?e:`./**/${e}`))}if(this.pattern=e,this.platform=t.platform||$k,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,void 0!==t.nocase&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const e="win32"===t.platform?Nk.PathScurryWin32:"darwin"===t.platform?Nk.PathScurryDarwin:t.platform?Nk.PathScurryPosix:Nk.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const n="darwin"===this.platform||"win32"===this.platform,i={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},r=this.pattern.map((e=>new Lk.Minimatch(e,i))),[s,o]=r.reduce(((e,t)=>(e[0].push(...t.set),e[1].push(...t.globParts),e)),[[],[]]);this.patterns=s.map(((e,t)=>{const n=o[t];if(!n)throw new Error("invalid pattern object");return new jk.Pattern(e,n,0,this.platform)}))}async walk(){return[...await new Mk.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new Mk.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new Mk.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new Mk.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}LC.Glob=qk;var Uk={};Object.defineProperty(Uk,"__esModule",{value:!0}),Uk.hasMagic=void 0;const Hk=VD;Uk.hasMagic=(e,t={})=>{Array.isArray(e)||(e=[e]);for(const n of e)if(new Hk.Minimatch(n,t).hasMagic())return!0;return!1},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.hasMagic=e.Glob=e.unescape=e.escape=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.globIterate=e.globIterateSync=e.globSync=e.globStream=e.globStreamSync=void 0;const t=VD,n=LC,i=Uk;function r(e,t={}){return new n.Glob(e,t).streamSync()}function s(e,t={}){return new n.Glob(e,t).stream()}function o(e,t={}){return new n.Glob(e,t).walkSync()}async function a(e,t={}){return new n.Glob(e,t).walk()}function c(e,t={}){return new n.Glob(e,t).iterateSync()}function u(e,t={}){return new n.Glob(e,t).iterate()}e.globStreamSync=r,e.globStream=s,e.globSync=o,e.globIterateSync=c,e.globIterate=u,e.streamSync=r,e.stream=Object.assign(s,{sync:r}),e.iterateSync=c,e.iterate=Object.assign(u,{sync:c}),e.sync=Object.assign(o,{stream:r,iterate:c});var l=VD;Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return l.escape}}),Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return l.unescape}});var h=LC;Object.defineProperty(e,"Glob",{enumerable:!0,get:function(){return h.Glob}});var p=Uk;Object.defineProperty(e,"hasMagic",{enumerable:!0,get:function(){return p.hasMagic}}),e.glob=Object.assign(a,{glob:a,globSync:o,sync:e.sync,globStream:s,stream:e.stream,globStreamSync:r,streamSync:e.streamSync,globIterate:u,iterate:e.iterate,globIterateSync:c,iterateSync:e.iterateSync,Glob:n.Glob,hasMagic:i.hasMagic,escape:t.escape,unescape:t.unescape}),e.glob.glob=e.glob}(GD);const{glob:Wk}=GD,zk=r;var Gk=(e,t)=>Wk((e=>e.split(zk.win32.sep).join(zk.posix.sep))(e),t);const Vk=h,Kk=K_,{hasContent:Yk}=yD;const{rm:Jk}=h,Zk=Gk,Xk=L_,Qk=jE,eR=r,tR=async function(e,t){const n=await Yk(e,t);return!(!n||!n.sri||(await Vk.rm(Kk(e,n.sri),{recursive:!0,force:!0}),0))};function nR(e,t,n){return Qk.clearMemoized(),Xk.delete(e,t,n)}zD.exports=nR,zD.exports.entry=nR,zD.exports.content=function(e,t){return Qk.clearMemoized(),tR(e,t)},zD.exports.all=async function(e){Qk.clearMemoized();const t=await Zk(eR.join(e,"*(content-*|index-*)"),{silent:!0,nosort:!0});return Promise.all(t.map((e=>Jk(e,{recursive:!0,force:!0}))))};var iR=zD.exports,rR={exports:{}};const sR=u,oR=/\s+at.*(?:\(|\s)(.*)\)?/,aR=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,cR=typeof sR.homedir>"u"?"":sR.homedir();let uR=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t=(e=[...e].map((e=>e instanceof Error?e:null!==e&&"object"==typeof e?Object.assign(new Error(e.message),e):new Error(e)))).map((e=>"string"==typeof e.stack?(e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""))(((e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split("\n").filter((e=>{const t=e.match(oR);if(null===t||!t[1])return!0;const n=t[1];return!n.includes(".app/Contents/Resources/electron.asar")&&!n.includes(".app/Contents/Resources/default_app.asar")&&!aR.test(n)})).filter((e=>""!==e.trim())).map((e=>t.pretty?e.replace(oR,((e,t)=>e.replace(t,t.replace(cR,"~")))):e)).join("\n")))(e.stack)):String(e))).join("\n");t="\n"+((e,t=1,n)=>{if(n={indent:" ",includeEmptyLines:!1,...n},"string"!=typeof e)throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if("number"!=typeof t)throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if("string"!=typeof n.indent)throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof n.indent}\``);if(0===t)return e;const i=n.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(i,n.indent.repeat(t))})(t,4),super(t),this.name="AggregateError",Object.defineProperty(this,"_errors",{value:e})}*[Symbol.iterator](){for(const e of this._errors)yield e}};const lR=uR;var hR=async(e,t,{concurrency:n=1/0,stopOnError:i=!0}={})=>new Promise(((r,s)=>{if("function"!=typeof t)throw new TypeError("Mapper function is required");if(!Number.isSafeInteger(n)&&n!==1/0||!(n>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${n}\` (${typeof n})`);const o=[],a=[],c=e[Symbol.iterator]();let u=!1,l=!1,h=0,p=0;const d=()=>{if(u)return;const e=c.next(),n=p;if(p++,e.done)return l=!0,void(0===h&&(i||0===a.length?r(o):s(new lR(a))));h++,(async()=>{try{const i=await e.value;o[n]=await t(i,n),h--,d()}catch(e){i?(u=!0,s(e)):(a.push(e),h--,d())}})()};for(let e=0;e<n&&(d(),!l);e++);}));const pR=T(hR),{mkdir:dR,readFile:fR,rm:mR,stat:gR,truncate:yR,writeFile:bR}=h,vR=hR,wR=K_,_R=$E,SR=Gk,ER=L_,xR=r,DR=nb,CR=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);async function kR(e,t){return{startTime:new Date}}async function RR(e,t){return{endTime:new Date}}async function AR(e,t){return t.log.silly("verify","fixing cache permissions"),await dR(e,{recursive:!0}),null}async function TR(e,t){t.log.silly("verify","garbage collecting content");const n=ER.lsStream(e),i=new Set;n.on("data",(e=>{if(t.filter&&!t.filter(e))return;const n=DR.parse(e.integrity);for(const e in n)i.add(n[e].toString())})),await new Promise(((e,t)=>{n.on("end",e).on("error",t)}));const r=wR.contentDir(e),s=await SR(xR.join(r,"**"),{follow:!1,nodir:!0,nosort:!0}),o={verifiedContent:0,reclaimedCount:0,reclaimedSize:0,badContentCount:0,keptSize:0};return await vR(s,(async e=>{const t=e.split(/[/\\]/),n=t.slice(t.length-3).join(""),r=t[t.length-4],s=DR.fromHex(n,r);if(i.has(s.toString())){const t=await async function(e,t){const n={};try{const{size:i}=await gR(e);n.size=i,n.valid=!0,await DR.checkStream(new _R.ReadStream(e),t)}catch(t){if("ENOENT"===t.code)return{size:0,valid:!1};if("EINTEGRITY"!==t.code)throw t;await mR(e,{recursive:!0,force:!0}),n.valid=!1}return n}(e,s);t.valid?(o.verifiedContent++,o.keptSize+=t.size):(o.reclaimedCount++,o.badContentCount++,o.reclaimedSize+=t.size)}else{o.reclaimedCount++;const t=await gR(e);await mR(e,{recursive:!0,force:!0}),o.reclaimedSize+=t.size}return o}),{concurrency:t.concurrency}),o}async function OR(e,t){t.log.silly("verify","rebuilding index");const n=await ER.ls(e),i={missingContent:0,rejectedEntries:0,totalEntries:0},r={};for(const s in n)if(CR(n,s)){const o=ER.hashKey(s),a=n[s],c=t.filter&&!t.filter(a);c&&i.rejectedEntries++,r[o]&&!c?r[o].push(a):r[o]&&c||(c?(r[o]=[],r[o]._path=ER.bucketPath(e,s)):(r[o]=[a],r[o]._path=ER.bucketPath(e,s)))}return await vR(Object.keys(r),(t=>async function(e,t,n){await yR(t._path);for(const i of t){const t=wR(e,i.integrity);try{await gR(t),await ER.insert(e,i.key,i.integrity,{metadata:i.metadata,size:i.size,time:i.time}),n.totalEntries++}catch(e){if("ENOENT"!==e.code)throw e;n.rejectedEntries++,n.missingContent++}}}(e,r[t],i)),{concurrency:t.concurrency}),i}function FR(e,t){return t.log.silly("verify","cleaning tmp directory"),mR(xR.join(e,"tmp"),{recursive:!0,force:!0})}async function PR(e,t){const n=xR.join(e,"_lastverified");return t.log.silly("verify","writing verifile to "+n),bR(n,`${Date.now()}`)}rR.exports=async function(e,t){(t=(e=>({concurrency:20,log:{silly(){}},...e}))(t)).log.silly("verify","verifying cache at",e);const n=[kR,AR,TR,OR,FR,PR,RR],i={};for(const r of n){const n=r.name,s=new Date,o=await r(e,t);o&&Object.keys(o).forEach((e=>{i[e]=o[e]}));const a=new Date;i.runTime||(i.runTime={}),i.runTime[n]=a-s}return i.runTime.total=i.endTime-i.startTime,t.log.silly("verify","verification finished for",e,"in",`${i.runTime.total}ms`),i},rR.exports.lastRun=async function(e){const t=await fR(xR.join(e,"_lastverified"),{encoding:"utf8"});return new Date(+t)};var IR=rR.exports,LR={};const{withTempDir:NR}=hE,BR=h,jR=r;LR.mkdir=async function(e,t={}){const{tmpPrefix:n}=t,i=jR.join(e,"tmp");await BR.mkdir(i,{recursive:!0,owner:"inherit"});const r=`${i}${jR.sep}${n||""}`;return BR.mkdtemp(r,{owner:"inherit"})},LR.withTmp=function(e,t,n){return n||(n=t,t={}),NR(jR.join(e,"tmp"),n,t)},function(e){const t=bD,n=WD,i=iR,r=IR,{clearMemoized:s}=jE,o=LR,a=L_;e.exports.index={},e.exports.index.compact=a.compact,e.exports.index.insert=a.insert,e.exports.ls=a.ls,e.exports.ls.stream=a.lsStream,e.exports.get=t,e.exports.get.byDigest=t.byDigest,e.exports.get.stream=t.stream,e.exports.get.stream.byDigest=t.stream.byDigest,e.exports.get.copy=t.copy,e.exports.get.copy.byDigest=t.copy.byDigest,e.exports.get.info=t.info,e.exports.get.hasContent=t.hasContent,e.exports.put=n,e.exports.put.stream=n.stream,e.exports.rm=i.entry,e.exports.rm.all=i.all,e.exports.rm.entry=e.exports.rm,e.exports.rm.content=i.content,e.exports.clearMemoized=s,e.exports.tmp={},e.exports.tmp.mkdir=o.mkdir,e.exports.tmp.withTmp=o.withTmp,e.exports.verify=r,e.exports.verify.lastRun=r.lastRun}(iw);var MR=iw.exports;const $R=I_;var qR=class extends $R{#e=[];#t=new Map;constructor(e,...t){super(),this.#e=e.events,t.length&&this.push(...t)}on(e,t){return this.#e.includes(e)&&this.#t.has(e)?t(...this.#t.get(e)):super.on(e,t)}emit(e,...t){return this.#e.includes(e)&&this.#t.set(e,t),super.emit(e,...t)}};const{URL:UR,format:HR}=p,WR={auth:!1,fragment:!1,search:!0,unicode:!1};function zR(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}var GR={};function VR(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var KR=VR;VR.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},VR.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},VR.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var i=this,r=setTimeout((function(){i._attempts++,i._operationTimeoutCb&&(i._timeout=setTimeout((function(){i._operationTimeoutCb(i._attempts)}),i._operationTimeout),i._options.unref&&i._timeout.unref()),i._fn(i._attempts)}),n);return this._options.unref&&r.unref(),!0},VR.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},VR.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},VR.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},VR.prototype.start=VR.prototype.try,VR.prototype.errors=function(){return this._errors},VR.prototype.attempts=function(){return this._attempts},VR.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,i=0;i<this._errors.length;i++){var r=this._errors[i],s=r.message,o=(e[s]||0)+1;e[s]=o,o>=n&&(t=r,n=o)}return t},function(e){var t=KR;e.operation=function(n){var i=e.timeouts(n);return new t(i,{forever:n&&n.forever,unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var i=[],r=0;r<t.retries;r++)i.push(this.createTimeout(r,t));return e&&e.forever&&!i.length&&i.push(this.createTimeout(r,t)),i.sort((function(e,t){return e-t})),i},e.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,i=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return Math.min(i,t.maxTimeout)},e.wrap=function(t,n,i){if(n instanceof Array&&(i=n,n=null),!i)for(var r in i=[],t)"function"==typeof t[r]&&i.push(r);for(var s=0;s<i.length;s++){var o=i[s],a=t[o];t[o]=function(i){var r=e.operation(n),s=Array.prototype.slice.call(arguments,1),o=s.pop();s.push((function(e){r.retry(e)||(e&&(arguments[0]=r.mainError()),o.apply(this,arguments))})),r.attempt((function(){i.apply(t,s)}))}.bind(t,a),t[o].options=n}}}(GR);var YR=function(e,t,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof t&&(n=t,t=void 0),null!=t&&(n.code=t);try{return zR(e,n)}catch{n.message=e.message,n.stack=e.stack;const t=function(){};return t.prototype=Object.create(Object.getPrototypeOf(e)),zR(new t,n)}},JR=GR,ZR=Object.prototype.hasOwnProperty;function XR(e){return e&&"EPROMISERETRY"===e.code&&ZR.call(e,"retried")}var QR={};Object.defineProperty(QR,"__esModule",{value:!0}),QR.LRUCache=void 0;const eA="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,tA=new Set,nA="object"==typeof process&&process?process:{},iA=(e,t,n,i)=>{"function"==typeof nA.emitWarning?nA.emitWarning(e,t,n,i):console.error(`[${n}] ${t}: ${e}`)};let rA=globalThis.AbortController,sA=globalThis.AbortSignal;if(typeof rA>"u"){sA=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},rA=class{constructor(){t()}signal=new sA;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==nA.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,iA("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}const oA=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),aA=e=>oA(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?cA:null:null;class cA extends Array{constructor(e){super(e),this.fill(0)}}class uA{heap;length;static#e=!1;static create(e){const t=aA(e);if(!t)return[];uA.#e=!0;const n=new uA(e,t);return uA.#e=!1,n}constructor(e,t){if(!uA.#e)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}let lA=class e{#e;#t;#n;#i;#r;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#s;#o;#a;#c;#u;#l;#h;#p;#d;#f;#m;#g;#y;#b;#v;#w;#_;static unsafeExposeInternals(e){return{starts:e.#y,ttls:e.#b,sizes:e.#g,keyMap:e.#a,keyList:e.#c,valList:e.#u,next:e.#l,prev:e.#h,get head(){return e.#p},get tail(){return e.#d},free:e.#f,isBackgroundFetch:t=>e.#S(t),backgroundFetch:(t,n,i,r)=>e.#E(t,n,i,r),moveToTail:t=>e.#x(t),indexes:t=>e.#D(t),rindexes:t=>e.#C(t),isStale:t=>e.#k(t)}}get max(){return this.#e}get maxSize(){return this.#t}get calculatedSize(){return this.#o}get size(){return this.#s}get fetchMethod(){return this.#r}get dispose(){return this.#n}get disposeAfter(){return this.#i}constructor(t){const{max:n=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:c,dispose:u,disposeAfter:l,noDisposeOnSet:h,noUpdateTTL:p,maxSize:d=0,maxEntrySize:f=0,sizeCalculation:m,fetchMethod:g,noDeleteOnFetchRejection:y,noDeleteOnStaleGet:b,allowStaleOnFetchRejection:v,allowStaleOnFetchAbort:w,ignoreFetchAbort:_}=t;if(0!==n&&!oA(n))throw new TypeError("max option must be a nonnegative integer");const S=n?aA(n):Array;if(!S)throw new Error("invalid max value: "+n);if(this.#e=n,this.#t=d,this.maxEntrySize=f||this.#t,this.sizeCalculation=m,this.sizeCalculation){if(!this.#t&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==g&&"function"!=typeof g)throw new TypeError("fetchMethod must be a function if specified");if(this.#r=g,this.#w=!!g,this.#a=new Map,this.#c=new Array(n).fill(void 0),this.#u=new Array(n).fill(void 0),this.#l=new S(n),this.#h=new S(n),this.#p=0,this.#d=0,this.#f=uA.create(n),this.#s=0,this.#o=0,"function"==typeof u&&(this.#n=u),"function"==typeof l?(this.#i=l,this.#m=[]):(this.#i=void 0,this.#m=void 0),this.#v=!!this.#n,this.#_=!!this.#i,this.noDisposeOnSet=!!h,this.noUpdateTTL=!!p,this.noDeleteOnFetchRejection=!!y,this.allowStaleOnFetchRejection=!!v,this.allowStaleOnFetchAbort=!!w,this.ignoreFetchAbort=!!_,0!==this.maxEntrySize){if(0!==this.#t&&!oA(this.#t))throw new TypeError("maxSize must be a positive integer if specified");if(!oA(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#R()}if(this.allowStale=!!c,this.noDeleteOnStaleGet=!!b,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=oA(r)||0===r?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!oA(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#A()}if(0===this.#e&&0===this.ttl&&0===this.#t)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#t){const t="LRU_CACHE_UNBOUNDED";(e=>!tA.has(e))(t)&&(tA.add(t),iA("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,e))}}getRemainingTTL(e){return this.#a.has(e)?1/0:0}#A(){const e=new cA(this.#e),t=new cA(this.#e);this.#b=e,this.#y=t,this.#T=(n,i,r=eA.now())=>{if(t[n]=0!==i?r:0,e[n]=i,0!==i&&this.ttlAutopurge){const e=setTimeout((()=>{this.#k(n)&&this.delete(this.#c[n])}),i+1);e.unref&&e.unref()}},this.#O=n=>{t[n]=0!==e[n]?eA.now():0},this.#F=(r,s)=>{if(e[s]){const o=e[s],a=t[s];r.ttl=o,r.start=a,r.now=n||i();const c=r.now-a;r.remainingTTL=o-c}};let n=0;const i=()=>{const e=eA.now();if(this.ttlResolution>0){n=e;const t=setTimeout((()=>n=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=r=>{const s=this.#a.get(r);if(void 0===s)return 0;const o=e[s],a=t[s];return 0===o||0===a?1/0:o-((n||i())-a)},this.#k=r=>0!==e[r]&&0!==t[r]&&(n||i())-t[r]>e[r]}#O=()=>{};#F=()=>{};#T=()=>{};#k=()=>!1;#R(){const e=new cA(this.#e);this.#o=0,this.#g=e,this.#P=t=>{this.#o-=e[t],e[t]=0},this.#I=(e,t,n,i)=>{if(this.#S(t))return 0;if(!oA(n)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(n=i(t,e),!oA(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#L=(t,n,i)=>{if(e[t]=n,this.#t){const n=this.#t-e[t];for(;this.#o>n;)this.#N(!0)}this.#o+=e[t],i&&(i.entrySize=n,i.totalCalculatedSize=this.#o)}}#P=e=>{};#L=(e,t,n)=>{};#I=(e,t,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#D({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#d;this.#B(t)&&((e||!this.#k(t))&&(yield t),t!==this.#p);)t=this.#h[t]}*#C({allowStale:e=this.allowStale}={}){if(this.#s)for(let t=this.#p;this.#B(t)&&((e||!this.#k(t))&&(yield t),t!==this.#d);)t=this.#l[t]}#B(e){return void 0!==e&&this.#a.get(this.#c[e])===e}*entries(){for(const e of this.#D())void 0!==this.#u[e]&&void 0!==this.#c[e]&&!this.#S(this.#u[e])&&(yield[this.#c[e],this.#u[e]])}*rentries(){for(const e of this.#C())void 0!==this.#u[e]&&void 0!==this.#c[e]&&!this.#S(this.#u[e])&&(yield[this.#c[e],this.#u[e]])}*keys(){for(const e of this.#D()){const t=this.#c[e];void 0!==t&&!this.#S(this.#u[e])&&(yield t)}}*rkeys(){for(const e of this.#C()){const t=this.#c[e];void 0!==t&&!this.#S(this.#u[e])&&(yield t)}}*values(){for(const e of this.#D())void 0!==this.#u[e]&&!this.#S(this.#u[e])&&(yield this.#u[e])}*rvalues(){for(const e of this.#C())void 0!==this.#u[e]&&!this.#S(this.#u[e])&&(yield this.#u[e])}[Symbol.iterator](){return this.entries()}find(e,t={}){for(const n of this.#D()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;if(void 0!==r&&e(r,this.#c[n],this))return this.get(this.#c[n],t)}}forEach(e,t=this){for(const n of this.#D()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}rforEach(e,t=this){for(const n of this.#C()){const i=this.#u[n],r=this.#S(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#c[n],this)}}purgeStale(){let e=!1;for(const t of this.#C({allowStale:!0}))this.#k(t)&&(this.delete(this.#c[t]),e=!0);return e}dump(){const e=[];for(const t of this.#D({allowStale:!0})){const n=this.#c[t],i=this.#u[t],r=this.#S(i)?i.__staleWhileFetching:i;if(void 0===r||void 0===n)continue;const s={value:r};if(this.#b&&this.#y){s.ttl=this.#b[t];const e=eA.now()-this.#y[t];s.start=Math.floor(Date.now()-e)}this.#g&&(s.size=this.#g[t]),e.unshift([n,s])}return e}load(e){this.clear();for(const[t,n]of e){if(n.start){const e=Date.now()-n.start;n.start=eA.now()-e}this.set(t,n.value,n)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#I(e,t,n.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(e),this;let l=0===this.#s?void 0:this.#a.get(e);if(void 0===l)l=0===this.#s?this.#d:0!==this.#f.length?this.#f.pop():this.#s===this.#e?this.#N(!1):this.#s,this.#c[l]=e,this.#u[l]=t,this.#a.set(e,l),this.#l[this.#d]=l,this.#h[l]=this.#d,this.#d=l,this.#s++,this.#L(l,u,a),a&&(a.set="add"),c=!1;else{this.#x(l);const n=this.#u[l];if(t!==n){if(this.#w&&this.#S(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0!==t&&!s&&(this.#v&&this.#n?.(t,e,"set"),this.#_&&this.#m?.push([t,e,"set"]))}else s||(this.#v&&this.#n?.(n,e,"set"),this.#_&&this.#m?.push([n,e,"set"]));if(this.#P(l),this.#L(l,u,a),this.#u[l]=t,a){a.set="replace";const e=n&&this.#S(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0!==i&&!this.#b&&this.#A(),this.#b&&(c||this.#T(l,i,r),a&&this.#F(a,l)),!s&&this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}return this}pop(){try{for(;this.#s;){const e=this.#u[this.#p];if(this.#N(!0),this.#S(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}}}#N(e){const t=this.#p,n=this.#c[t],i=this.#u[t];return this.#w&&this.#S(i)?i.__abortController.abort(new Error("evicted")):(this.#v||this.#_)&&(this.#v&&this.#n?.(i,n,"evict"),this.#_&&this.#m?.push([i,n,"evict"])),this.#P(t),e&&(this.#c[t]=void 0,this.#u[t]=void 0,this.#f.push(t)),1===this.#s?(this.#p=this.#d=0,this.#f.length=0):this.#p=this.#l[t],this.#a.delete(n),this.#s--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,r=this.#a.get(e);if(void 0!==r){const e=this.#u[r];if(this.#S(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#k(r))return n&&this.#O(r),i&&(i.has="hit",this.#F(i,r)),!0;i&&(i.has="stale",this.#F(i,r))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,i=this.#a.get(e);if(void 0!==i&&(n||!this.#k(i))){const e=this.#u[i];return this.#S(e)?e.__staleWhileFetching:e}}#E(e,t,n,i){const r=void 0===t?void 0:this.#u[t];if(this.#S(r))return r;const s=new rA,{signal:o}=n;o?.addEventListener("abort",(()=>s.abort(o.reason)),{signal:s.signal});const a={signal:s.signal,options:n,context:i},c=(i,r=!1)=>{const{aborted:o}=s.signal,c=n.ignoreFetchAbort&&void 0!==i;if(n.status&&(o&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,c&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),o&&!c&&!r)return u(s.signal.reason);const h=l;return this.#u[t]===l&&(void 0===i?h.__staleWhileFetching?this.#u[t]=h.__staleWhileFetching:this.delete(e):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,a.options))),i},u=i=>{const{aborted:r}=s.signal,o=r&&n.allowStaleOnFetchAbort,a=o||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,u=l;if(this.#u[t]===l&&(c&&void 0!==u.__staleWhileFetching?o||(this.#u[t]=u.__staleWhileFetching):this.delete(e)),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};n.status&&(n.status.fetchDispatched=!0);const l=new Promise(((t,i)=>{const o=this.#r?.(e,r,a);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),i),s.signal.addEventListener("abort",(()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>c(e,!0)))}))})).then(c,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),u(e)))),h=Object.assign(l,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===t?(this.set(e,h,{...a.options,status:void 0}),t=this.#a.get(e)):this.#u[t]=h,h}#S(e){if(!this.#w)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof rA}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:g,signal:y}=t;if(!this.#w)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});const b={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:g,signal:y};let v=this.#a.get(e);if(void 0===v){g&&(g.fetch="miss");const t=this.#E(e,v,b,f);return t.__returned=t}{const t=this.#u[v];if(this.#S(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const r=this.#k(v);if(!m&&!r)return g&&(g.fetch="hit"),this.#x(v),i&&this.#O(v),g&&this.#F(g,v),t;const s=this.#E(e,v,b,f),o=void 0!==s.__staleWhileFetching&&n;return g&&(g.fetch=r?"stale":"refresh",o&&r&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=t,o=this.#a.get(e);if(void 0!==o){const t=this.#u[o],a=this.#S(t);return s&&this.#F(s,o),this.#k(o)?(s&&(s.get="stale"),a?(s&&n&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),n?t.__staleWhileFetching:void 0):(r||this.delete(e),s&&n&&(s.returnedStale=!0),n?t:void 0)):(s&&(s.get="hit"),a?t.__staleWhileFetching:(this.#x(o),i&&this.#O(o),t))}s&&(s.get="miss")}#j(e,t){this.#h[t]=e,this.#l[e]=t}#x(e){e!==this.#d&&(e===this.#p?this.#p=this.#l[e]:this.#j(this.#h[e],this.#l[e]),this.#j(this.#d,e),this.#d=e)}delete(e){let t=!1;if(0!==this.#s){const n=this.#a.get(e);if(void 0!==n)if(t=!0,1===this.#s)this.clear();else{this.#P(n);const t=this.#u[n];this.#S(t)?t.__abortController.abort(new Error("deleted")):(this.#v||this.#_)&&(this.#v&&this.#n?.(t,e,"delete"),this.#_&&this.#m?.push([t,e,"delete"])),this.#a.delete(e),this.#c[n]=void 0,this.#u[n]=void 0,n===this.#d?this.#d=this.#h[n]:n===this.#p?this.#p=this.#l[n]:(this.#l[this.#h[n]]=this.#l[n],this.#h[this.#l[n]]=this.#h[n]),this.#s--,this.#f.push(n)}}if(this.#_&&this.#m?.length){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}return t}clear(){for(const e of this.#C({allowStale:!0})){const t=this.#u[e];if(this.#S(t))t.__abortController.abort(new Error("deleted"));else{const n=this.#c[e];this.#v&&this.#n?.(t,n,"delete"),this.#_&&this.#m?.push([t,n,"delete"])}}if(this.#a.clear(),this.#u.fill(void 0),this.#c.fill(void 0),this.#b&&this.#y&&(this.#b.fill(0),this.#y.fill(0)),this.#g&&this.#g.fill(0),this.#p=0,this.#d=0,this.#f.length=0,this.#o=0,this.#s=0,this.#_&&this.#m){const e=this.#m;let t;for(;t=e?.shift();)this.#i?.(...t)}}};QR.LRUCache=lA;const{LRUCache:hA}=QR,pA=w,dA=new hA({max:50});var fA={cache:dA,getOptions:({family:e=0,hints:t=pA.ADDRCONFIG,all:n=!1,verbatim:i,ttl:r=3e5,lookup:s=pA.lookup})=>({hints:t,lookup:(o,...a)=>{const c=a.pop(),u=a[0]??{},l={family:e,hints:t,all:n,verbatim:i,..."number"==typeof u?{family:u}:u},h=JSON.stringify({hostname:o,...l});if(dA.has(h)){const e=dA.get(h);return process.nextTick(c,null,...e)}s(o,l,((e,...t)=>e?c(e):(dA.set(h,t,{ttl:r}),c(null,...t))))}})};const mA=fA,gA=e=>{let t="";const n=Object.entries(e).sort(((e,t)=>e[0]-t[0]));for(let[e,i]of n)null==i?i="null":i instanceof URL?i=i.toString():"object"==typeof i&&(i=gA(i)),t+=`${e}:${i}:`;return t};var yA,bA,vA,wA,_A,SA={normalizeOptions:e=>{const t=parseInt(e.family??"0",10),n=e.keepAlive??!0,i={keepAliveMsecs:n?1e3:void 0,maxSockets:e.maxSockets??15,maxTotalSockets:1/0,maxFreeSockets:n?256:void 0,scheduling:"fifo",...e,family:t,keepAlive:n,timeouts:{idle:e.timeout??0,connection:0,response:0,transfer:0,...e.timeouts},...mA.getOptions({family:t,...e.dns})};return delete i.timeout,i},cacheOptions:({secureEndpoint:e,...t})=>gA({secureEndpoint:!!e,family:t.family,hints:t.hints,localAddress:t.localAddress,strictSsl:!!e&&!!t.rejectUnauthorized,ca:e?t.ca:null,cert:e?t.cert:null,key:e?t.key:null,keepAlive:t.keepAlive,keepAliveMsecs:t.keepAliveMsecs,maxSockets:t.maxSockets,maxTotalSockets:t.maxTotalSockets,maxFreeSockets:t.maxFreeSockets,scheduling:t.scheduling,timeouts:t.timeouts,proxy:t.proxy})},EA={},xA={exports:{}},DA={exports:{}};function CA(){return wA?vA:(wA=1,vA=function(e){function t(e){let i,r,s,o=null;function a(...e){if(!a.enabled)return;const n=a,r=Number(new Date),s=r-(i||r);n.diff=s,n.prev=i,n.curr=r,i=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((i,r)=>{if("%%"===i)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];i=s.call(n,t),e.splice(o,1),o--}return i})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,n){const i=t(this.namespace+(typeof n>"u"?":":n)+e);return i.log=this.log,i}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=function(){if(bA)return yA;bA=1;var e=1e3,t=60*e,n=60*t,i=24*n,r=7*i;function s(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}return yA=function(o,a){a=a||{};var c=typeof o;if("string"===c&&o.length>0)return function(s){if(!((s=String(s)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(o){var a=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return a*r;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*n;case"minutes":case"minute":case"mins":case"min":case"m":return a*t;case"seconds":case"second":case"secs":case"sec":case"s":return a*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(o);if("number"===c&&isFinite(o))return a.long?function(r){var o=Math.abs(r);return o>=i?s(r,o,i,"day"):o>=n?s(r,o,n,"hour"):o>=t?s(r,o,t,"minute"):o>=e?s(r,o,e,"second"):r+" ms"}(o):function(r){var s=Math.abs(r);return s>=i?Math.round(r/i)+"d":s>=n?Math.round(r/n)+"h":s>=t?Math.round(r/t)+"m":s>=e?Math.round(r/e)+"s":r+"ms"}(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))}}(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t})}var kA,RA,AA,TA,OA,FA={exports:{}};typeof process>"u"||"renderer"===process.type||!0===process.browser||process.__nwjs?xA.exports=(_A||(_A=1,function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch{}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!(!(typeof window<"u"&&window.process)||"renderer"!==window.process.type&&!window.process.__nwjs)||!(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch{}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=CA()(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}(DA,DA.exports)),DA.exports):xA.exports=(OA||(OA=1,function(e,t){const n=x,i=l;t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let i=0;i<n.length;i++)e.inspectOpts[n[i]]=t.inspectOpts[n[i]]},t.log=function(...e){return process.stderr.write(i.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:i,useColors:r}=this;if(r){const t=this.color,r="[3"+(t<8?t:"8;5;"+t),s=`  ${r};1m${i} [0m`;n[0]=s+n[0].split("\n").join("\n"+s),n.push(r+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=function(){if(TA)return AA;TA=1;const e=u,t=x,n=(RA||(RA=1,kA=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(n+e),r=t.indexOf("--");return-1!==i&&(-1===r||i<r)}),kA),{env:i}=process;let r;function s(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function o(t,s){if(0===r)return 0;if(n("color=16m")||n("color=full")||n("color=truecolor"))return 3;if(n("color=256"))return 2;if(t&&!s&&void 0===r)return 0;const o=r||0;if("dumb"===i.TERM)return o;if("win32"===process.platform){const t=e.release().split(".");return Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:o;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:o}return n("no-color")||n("no-colors")||n("color=false")||n("color=never")?r=0:(n("color")||n("colors")||n("color=true")||n("color=always"))&&(r=1),"FORCE_COLOR"in i&&(r="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),AA={supportsColor:function(e){return s(o(e,e&&e.isTTY))},stdout:s(o(!0,t.isatty(1))),stderr:s(o(!0,t.isatty(2)))}}();e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[n]=i,e}),{}),e.exports=CA()(t);const{formatters:r}=e.exports;r.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},r.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}}(FA,FA.exports)),FA.exports);var PA=xA.exports,IA={},LA={},NA=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),BA=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),jA=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&NA(t,e,n);return BA(t,e),t};Object.defineProperty(LA,"__esModule",{value:!0}),LA.req=LA.json=LA.toBuffer=void 0;const MA=jA(d),$A=jA(f);async function qA(e){let t=0;const n=[];for await(const i of e)t+=i.length,n.push(i);return Buffer.concat(n,t)}LA.toBuffer=qA,LA.json=async function(e){const t=(await qA(e)).toString("utf8");try{return JSON.parse(t)}catch(e){const n=e;throw n.message+=` (input: ${t})`,n}},LA.req=function(e,t={}){const n=(("string"==typeof e?e:e.href).startsWith("https:")?$A:MA).request(e,t),i=new Promise(((e,t)=>{n.once("response",e).once("error",t).end()}));return n.then=i.then.bind(i),n},function(e){var t=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var i={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&t(i,e,r);return n(i,e),i},r=A&&A.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),e.Agent=void 0;const s=i(d);r(LA,e);const o=Symbol("AgentBaseInternalState");class a extends s.Agent{constructor(e){super(e),this[o]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}const{stack:t}=new Error;return"string"==typeof t&&t.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}createSocket(e,t,n){const i={...t,secureEndpoint:this.isSecureEndpoint(t)};Promise.resolve().then((()=>this.connect(e,i))).then((r=>{if(r instanceof s.Agent)return r.addRequest(e,i);this[o].currentSocket=r,super.createSocket(e,t,n)}),n)}createConnection(){const e=this[o].currentSocket;if(this[o].currentSocket=void 0,!e)throw new Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[o].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[o]&&(this[o].defaultPort=e)}get protocol(){return this[o].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[o]&&(this[o].protocol=e)}}e.Agent=a}(IA);var UA=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),HA=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),WA=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&UA(t,e,n);return HA(t,e),t},zA=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(EA,"__esModule",{value:!0}),EA.HttpProxyAgent=void 0;const GA=WA(S),VA=WA(E),KA=zA(PA),YA=o,JA=IA,ZA=(0,KA.default)("http-proxy-agent");let XA=class extends JA.Agent{constructor(e,t){super(t),this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=t?.headers??{},ZA("Creating new HttpProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={...t?QA(t,"headers"):null,host:n,port:i}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){const{proxy:n}=this,i=`${t.secureEndpoint?"https:":"http:"}//${e.getHeader("host")||"localhost"}`,r=new URL(e.path,i);80!==t.port&&(r.port=String(t.port)),e.path=String(r);const s="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders};if(n.username||n.password){const e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;s["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}s["Proxy-Connection"]||(s["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const t of Object.keys(s)){const n=s[t];n&&e.setHeader(t,n)}}async connect(e,t){let n,i,r;return e._header=null,e.path.includes("://")||this.setRequestProps(e,t),ZA("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(ZA("Patching connection write() output buffer with updated header"),n=e.outputData[0].data,i=n.indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+n.substring(i),ZA("Output buffer: %o",e.outputData[0].data)),"https:"===this.proxy.protocol?(ZA("Creating `tls.Socket`: %o",this.connectOpts),r=VA.connect(this.connectOpts)):(ZA("Creating `net.Socket`: %o",this.connectOpts),r=GA.connect(this.connectOpts)),await(0,YA.once)(r,"connect"),r}};function QA(e,...t){const n={};let i;for(i in e)t.includes(i)||(n[i]=e[i]);return n}XA.protocols=["http","https"],EA.HttpProxyAgent=XA;var eT={},tT={},nT=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tT,"__esModule",{value:!0}),tT.parseProxyResponse=void 0;const iT=(0,nT(PA).default)("https-proxy-agent:parse-proxy-response");tT.parseProxyResponse=function(e){return new Promise(((t,n)=>{let i=0;const r=[];function s(){const a=e.read();a?function(a){r.push(a),i+=a.length;const c=Buffer.concat(r,i),u=c.indexOf("\r\n\r\n");if(-1===u)return iT("have not received end of HTTP headers yet..."),void s();const l=c.slice(0,u).toString("ascii").split("\r\n"),h=l.shift();if(!h)return e.destroy(),n(new Error("No header received from proxy CONNECT response"));const p=h.split(" "),d=+p[1],f=p.slice(2).join(" "),m={};for(const t of l){if(!t)continue;const i=t.indexOf(":");if(-1===i)return e.destroy(),n(new Error(`Invalid header from proxy CONNECT response: "${t}"`));const r=t.slice(0,i).toLowerCase(),s=t.slice(i+1).trimStart(),o=m[r];"string"==typeof o?m[r]=[o,s]:Array.isArray(o)?o.push(s):m[r]=s}iT("got proxy server response: %o %o",h,m),o(),t({connect:{statusCode:d,statusText:f,headers:m},buffered:c})}(a):e.once("readable",s)}function o(){e.removeListener("end",a),e.removeListener("error",c),e.removeListener("readable",s)}function a(){o(),iT("onend"),n(new Error("Proxy connection ended before receiving CONNECT response"))}function c(e){o(),iT("onerror %o",e),n(e)}e.on("error",c),e.on("end",a),s()}))};var rT=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),sT=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oT=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&rT(t,e,n);return sT(t,e),t},aT=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(eT,"__esModule",{value:!0}),eT.HttpsProxyAgent=void 0;const cT=oT(S),uT=oT(E),lT=aT(m),hT=aT(PA),pT=IA,dT=tT,fT=(0,hT.default)("https-proxy-agent");let mT=class extends pT.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new URL(e):e,this.proxyHeaders=t?.headers??{},fT("Creating new HttpsProxyAgent instance: %o",this.proxy.href);const n=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),i=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?yT(t,"headers"):null,host:n,port:i}}async connect(e,t){const{proxy:n}=this;if(!t.host)throw new TypeError('No "host" provided');let i;if("https:"===n.protocol){fT("Creating `tls.Socket`: %o",this.connectOpts);const e=this.connectOpts.servername||this.connectOpts.host;i=uT.connect({...this.connectOpts,servername:e&&cT.isIP(e)?void 0:e})}else fT("Creating `net.Socket`: %o",this.connectOpts),i=cT.connect(this.connectOpts);const r="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},s=cT.isIPv6(t.host)?`[${t.host}]`:t.host;let o=`CONNECT ${s}:${t.port} HTTP/1.1\r\n`;if(n.username||n.password){const e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;r["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}r.Host=`${s}:${t.port}`,r["Proxy-Connection"]||(r["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close");for(const e of Object.keys(r))o+=`${e}: ${r[e]}\r\n`;const a=(0,dT.parseProxyResponse)(i);i.write(`${o}\r\n`);const{connect:c,buffered:u}=await a;if(e.emit("proxyConnect",c),this.emit("proxyConnect",c,e),200===c.statusCode){if(e.once("socket",gT),t.secureEndpoint){fT("Upgrading socket connection to TLS");const e=t.servername||t.host;return uT.connect({...yT(t,"host","path","port"),socket:i,servername:cT.isIP(e)?void 0:e})}return i}i.destroy();const l=new cT.Socket({writable:!1});return l.readable=!0,e.once("socket",(e=>{fT("Replaying proxy buffer for failed request"),(0,lT.default)(e.listenerCount("data")>0),e.push(u),e.push(null)})),l}};function gT(e){e.resume()}function yT(e,...t){const n={};let i;for(i in e)t.includes(i)||(n[i]=e[i]);return n}mT.protocols=["http","https"],eT.HttpsProxyAgent=mT;var bT={},vT={},wT={},_T={};!function(e){const t=e,{Buffer:n}=g,i=u;t.toBuffer=function(e,t,i){let r;if(i=~~i,this.isV4Format(e))r=t||n.alloc(i+4),e.split(/\./g).map((e=>{r[i++]=255&parseInt(e,10)}));else if(this.isV6Format(e)){const s=e.split(":",8);let o;for(o=0;o<s.length;o++){let e;this.isV4Format(s[o])&&(e=this.toBuffer(s[o]),s[o]=e.slice(0,2).toString("hex")),e&&++o<8&&s.splice(o,0,e.slice(2,4).toString("hex"))}if(""===s[0])for(;s.length<8;)s.unshift("0");else if(""===s[s.length-1])for(;s.length<8;)s.push("0");else if(s.length<8){for(o=0;o<s.length&&""!==s[o];o++);const e=[o,1];for(o=9-s.length;o>0;o--)e.push("0");s.splice(...e)}for(r=t||n.alloc(i+16),o=0;o<s.length;o++){const e=parseInt(s[o],16);r[i++]=e>>8&255,r[i++]=255&e}}if(!r)throw Error(`Invalid ip address: ${e}`);return r},t.toString=function(e,t,n){t=~~t;let i=[];if(4===(n=n||e.length-t)){for(let r=0;r<n;r++)i.push(e[t+r]);i=i.join(".")}else if(16===n){for(let r=0;r<n;r+=2)i.push(e.readUInt16BE(t+r).toString(16));i=i.join(":"),i=i.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),i=i.replace(/:{3,4}/,"::")}return i};const r=/^(\d{1,3}\.){3,3}\d{1,3}$/,s=/^(::)?(((\d{1,3}\.){3}(\d{1,3}){1})?([0-9a-f]){0,4}:{0,2}){1,8}(::)?$/i;function o(e){return 4===e?"ipv4":6===e?"ipv6":e?e.toLowerCase():"ipv4"}t.isV4Format=function(e){return r.test(e)},t.isV6Format=function(e){return s.test(e)},t.fromPrefixLen=function(e,i){let r=4;"ipv6"===(i=e>32?"ipv6":o(i))&&(r=16);const s=n.alloc(r);for(let t=0,n=s.length;t<n;++t){let n=8;e<8&&(n=e),e-=n,s[t]=255&~(255>>n)}return t.toString(s)},t.mask=function(e,i){e=t.toBuffer(e),i=t.toBuffer(i);const r=n.alloc(Math.max(e.length,i.length));let s;if(e.length===i.length)for(s=0;s<e.length;s++)r[s]=e[s]&i[s];else if(4===i.length)for(s=0;s<i.length;s++)r[s]=e[e.length-4+s]&i[s];else{for(s=0;s<r.length-6;s++)r[s]=0;for(r[10]=255,r[11]=255,s=0;s<e.length;s++)r[s+12]=e[s]&i[s+12];s+=12}for(;s<r.length;s++)r[s]=0;return t.toString(r)},t.cidr=function(e){const n=e.split("/"),i=n[0];if(2!==n.length)throw new Error(`invalid CIDR subnet: ${i}`);const r=t.fromPrefixLen(parseInt(n[1],10));return t.mask(i,r)},t.subnet=function(e,n){const i=t.toLong(t.mask(e,n)),r=t.toBuffer(n);let s=0;for(let e=0;e<r.length;e++)if(255===r[e])s+=8;else{let t=255&r[e];for(;t;)t=t<<1&255,s++}const o=2**(32-s);return{networkAddress:t.fromLong(i),firstAddress:o<=2?t.fromLong(i):t.fromLong(i+1),lastAddress:o<=2?t.fromLong(i+o-1):t.fromLong(i+o-2),broadcastAddress:t.fromLong(i+o-1),subnetMask:n,subnetMaskLength:s,numHosts:o<=2?o:o-2,length:o,contains:e=>i===t.toLong(t.mask(e,n))}},t.cidrSubnet=function(e){const n=e.split("/"),i=n[0];if(2!==n.length)throw new Error(`invalid CIDR subnet: ${i}`);const r=t.fromPrefixLen(parseInt(n[1],10));return t.subnet(i,r)},t.not=function(e){const n=t.toBuffer(e);for(let e=0;e<n.length;e++)n[e]=255^n[e];return t.toString(n)},t.or=function(e,n){if(e=t.toBuffer(e),n=t.toBuffer(n),e.length===n.length){for(let t=0;t<e.length;++t)e[t]|=n[t];return t.toString(e)}let i=e,r=n;n.length>e.length&&(i=n,r=e);const s=i.length-r.length;for(let e=s;e<i.length;++e)i[e]|=r[e-s];return t.toString(i)},t.isEqual=function(e,n){if(e=t.toBuffer(e),n=t.toBuffer(n),e.length===n.length){for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}if(4===n.length){const t=n;n=e,e=t}for(let e=0;e<10;e++)if(0!==n[e])return!1;const i=n.readUInt16BE(10);if(0!==i&&65535!==i)return!1;for(let t=0;t<4;t++)if(e[t]!==n[t+12])return!1;return!0},t.isPrivate=function(e){if(t.isLoopback(e))return!0;if(!t.isV6Format(e)){const n=t.normalizeToLong(e);if(n<0)throw new Error("invalid ipv4 address");e=t.fromLong(n)}return/^(::f{4}:)?10\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?192\.168\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?172\.(1[6-9]|2\d|30|31)\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^(::f{4}:)?169\.254\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^f[cd][0-9a-f]{2}:/i.test(e)||/^fe80:/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},t.isPublic=function(e){return!t.isPrivate(e)},t.isLoopback=function(e){return!/\./.test(e)&&!/:/.test(e)&&(e=t.fromLong(Number(e))),/^(::f{4}:)?127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})/.test(e)||/^0177\./.test(e)||/^0x7f\./i.test(e)||/^fe80::1$/i.test(e)||/^::1$/.test(e)||/^::$/.test(e)},t.loopback=function(e){if("ipv4"!==(e=o(e))&&"ipv6"!==e)throw new Error("family must be ipv4 or ipv6");return"ipv4"===e?"127.0.0.1":"fe80::1"},t.address=function(e,n){const r=i.networkInterfaces();if(n=o(n),e&&"private"!==e&&"public"!==e){const t=r[e].filter((e=>o(e.family)===n));return 0===t.length?void 0:t[0].address}const s=Object.keys(r).map((i=>{const s=r[i].filter((i=>(i.family=o(i.family),i.family===n&&!t.isLoopback(i.address)&&(!e||("public"===e?t.isPrivate(i.address):t.isPublic(i.address))))));return s.length?s[0].address:void 0})).filter(Boolean);return s.length?s[0]:t.loopback(n)},t.toLong=function(e){let t=0;return e.split(".").forEach((e=>{t<<=8,t+=parseInt(e)})),t>>>0},t.fromLong=function(e){return`${e>>>24}.${e>>16&255}.${e>>8&255}.${255&e}`},t.normalizeToLong=function(e){const t=e.split(".").map((e=>e.startsWith("0x")||e.startsWith("0X")?parseInt(e,16):e.startsWith("0")&&"0"!==e&&/^[0-7]+$/.test(e)?parseInt(e,8):/^[1-9]\d*$/.test(e)||"0"===e?parseInt(e,10):NaN));if(t.some(isNaN))return-1;let n=0;switch(t.length){case 1:n=t[0];break;case 2:if(t[0]>255||t[1]>16777215)return-1;n=t[0]<<24|16777215&t[1];break;case 3:if(t[0]>255||t[1]>255||t[2]>65535)return-1;n=t[0]<<24|t[1]<<16|65535&t[2];break;case 4:if(t.some((e=>e>255)))return-1;n=t[0]<<24|t[1]<<16|t[2]<<8|t[3];break;default:return-1}return n>>>0}}(_T);var ST={},ET={};Object.defineProperty(ET,"__esModule",{value:!0});const xT=g,DT={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function CT(e){return"number"==typeof e&&isFinite(e)&&function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}(e)}function kT(e,t){if("number"!=typeof e)throw new Error(t?DT.INVALID_OFFSET_NON_NUMBER:DT.INVALID_LENGTH_NON_NUMBER);if(!CT(e)||e<0)throw new Error(t?DT.INVALID_OFFSET:DT.INVALID_LENGTH)}ET.ERRORS=DT,ET.checkEncoding=function(e){if(!xT.Buffer.isEncoding(e))throw new Error(DT.INVALID_ENCODING)},ET.isFiniteInteger=CT,ET.checkLengthValue=function(e){kT(e,!1)},ET.checkOffsetValue=function(e){kT(e,!0)},ET.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw new Error(DT.INVALID_TARGET_OFFSET)},ET.bigIntAndBufferInt64Check=function(e){if(typeof BigInt>"u")throw new Error("Platform does not support JS BigInt type.");if(typeof xT.Buffer.prototype[e]>"u")throw new Error(`Platform does not support Buffer.prototype.${e}.`)},Object.defineProperty(ST,"__esModule",{value:!0});const RT=ET;class AT{constructor(e){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,AT.isSmartBufferOptions(e))if(e.encoding&&(RT.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(!(RT.isFiniteInteger(e.size)&&e.size>0))throw new Error(RT.ERRORS.INVALID_SMARTBUFFER_SIZE);this._buff=Buffer.allocUnsafe(e.size)}else if(e.buff){if(!Buffer.isBuffer(e.buff))throw new Error(RT.ERRORS.INVALID_SMARTBUFFER_BUFFER);this._buff=e.buff,this.length=e.buff.length}else this._buff=Buffer.allocUnsafe(4096);else{if(typeof e<"u")throw new Error(RT.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=Buffer.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){const t=e;return t&&(void 0!==t.encoding||void 0!==t.size||void 0!==t.buff)}readInt8(e){return this._readNumberValue(Buffer.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(Buffer.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(Buffer.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(Buffer.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(Buffer.prototype.readInt32LE,4,e)}readBigInt64BE(e){return RT.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(Buffer.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return RT.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(Buffer.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return RT.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return RT.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return RT.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return RT.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(Buffer.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(Buffer.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(Buffer.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(Buffer.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(Buffer.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return RT.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(Buffer.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return RT.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(Buffer.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(Buffer.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return RT.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return RT.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return RT.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return RT.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(Buffer.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(Buffer.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(Buffer.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(Buffer.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(Buffer.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(Buffer.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(Buffer.prototype.writeDoubleLE,8,e,t)}readString(e,t){let n;"number"==typeof e?(RT.checkLengthValue(e),n=Math.min(e,this.length-this._readOffset)):(t=e,n=this.length-this._readOffset),typeof t<"u"&&RT.checkEncoding(t);const i=this._buff.slice(this._readOffset,this._readOffset+n).toString(t||this._encoding);return this._readOffset+=n,i}insertString(e,t,n){return RT.checkOffsetValue(t),this._handleString(e,!0,t,n)}writeString(e,t,n){return this._handleString(e,!1,t,n)}readStringNT(e){typeof e<"u"&&RT.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}const n=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,n.toString(e||this._encoding)}insertStringNT(e,t,n){return RT.checkOffsetValue(t),this.insertString(e,t,n),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,n){return this.writeString(e,t,n),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){typeof e<"u"&&RT.checkLengthValue(e);const t="number"==typeof e?e:this.length,n=Math.min(this.length,this._readOffset+t),i=this._buff.slice(this._readOffset,n);return this._readOffset=n,i}insertBuffer(e,t){return RT.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}const t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return RT.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return typeof t<"u"&&RT.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){RT.checkOffsetValue(e),RT.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){RT.checkOffsetValue(e),RT.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){RT.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){const t="string"==typeof e?e:this._encoding;return RT.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,n,i){let r=this._writeOffset,s=this._encoding;"number"==typeof n?r=n:"string"==typeof n&&(RT.checkEncoding(n),s=n),"string"==typeof i&&(RT.checkEncoding(i),s=i);const o=Buffer.byteLength(e,s);return t?this.ensureInsertable(o,r):this._ensureWriteable(o,r),this._buff.write(e,r,o,s),t?this._writeOffset+=o:"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,r+o):this._writeOffset+=o,this}_handleBuffer(e,t,n){const i="number"==typeof n?n:this._writeOffset;return t?this.ensureInsertable(e.length,i):this._ensureWriteable(e.length,i),e.copy(this._buff,i),t?this._writeOffset+=e.length:"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,i+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let n=this._readOffset;if(typeof t<"u"&&(RT.checkOffsetValue(t),n=t),n<0||n+e>this.length)throw new Error(RT.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){RT.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){const n="number"==typeof t?t:this._writeOffset;this._ensureCapacity(n+e),n+e>this.length&&(this.length=n+e)}_ensureCapacity(e){const t=this._buff.length;if(e>t){let n=this._buff,i=3*t/2+1;i<e&&(i=e),this._buff=Buffer.allocUnsafe(i),n.copy(this._buff,0,0,t)}}_readNumberValue(e,t,n){this.ensureReadable(t,n);const i=e.call(this._buff,"number"==typeof n?n:this._readOffset);return typeof n>"u"&&(this._readOffset+=t),i}_insertNumberValue(e,t,n,i){return RT.checkOffsetValue(i),this.ensureInsertable(t,i),e.call(this._buff,n,i),this._writeOffset+=t,this}_writeNumberValue(e,t,n,i){if("number"==typeof i){if(i<0)throw new Error(RT.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);RT.checkOffsetValue(i)}const r="number"==typeof i?i:this._writeOffset;return this._ensureWriteable(t,r),e.call(this._buff,n,r),"number"==typeof i?this._writeOffset=Math.max(this._writeOffset,r+t):this._writeOffset+=t,this}}ST.SmartBuffer=AT;var TT,OT,FT,PT,IT,LT,NT={};Object.defineProperty(NT,"__esModule",{value:!0}),NT.SOCKS5_NO_ACCEPTABLE_AUTH=NT.SOCKS5_CUSTOM_AUTH_END=NT.SOCKS5_CUSTOM_AUTH_START=NT.SOCKS_INCOMING_PACKET_SIZES=NT.SocksClientState=NT.Socks5Response=NT.Socks5HostType=NT.Socks5Auth=NT.Socks4Response=NT.SocksCommand=NT.ERRORS=NT.DEFAULT_TIMEOUT=void 0,NT.DEFAULT_TIMEOUT=3e4,NT.ERRORS={InvalidSocksCommand:"An invalid SOCKS command was provided. Valid options are connect, bind, and associate.",InvalidSocksCommandForOperation:"An invalid SOCKS command was provided. Only a subset of commands are supported for this operation.",InvalidSocksCommandChain:"An invalid SOCKS command was provided. Chaining currently only supports the connect command.",InvalidSocksClientOptionsDestination:"An invalid destination host was provided.",InvalidSocksClientOptionsExistingSocket:"An invalid existing socket was provided. This should be an instance of stream.Duplex.",InvalidSocksClientOptionsProxy:"Invalid SOCKS proxy details were provided.",InvalidSocksClientOptionsTimeout:"An invalid timeout value was provided. Please enter a value above 0 (in ms).",InvalidSocksClientOptionsProxiesLength:"At least two socks proxies must be provided for chaining.",InvalidSocksClientOptionsCustomAuthRange:"Custom auth must be a value between 0x80 and 0xFE.",InvalidSocksClientOptionsCustomAuthOptions:"When a custom_auth_method is provided, custom_auth_request_handler, custom_auth_response_size, and custom_auth_response_handler must also be provided and valid.",NegotiationError:"Negotiation error",SocketClosed:"Socket closed",ProxyConnectionTimedOut:"Proxy connection timed out",InternalError:"SocksClient internal error (this should not happen)",InvalidSocks4HandshakeResponse:"Received invalid Socks4 handshake response",Socks4ProxyRejectedConnection:"Socks4 Proxy rejected connection",InvalidSocks4IncomingConnectionResponse:"Socks4 invalid incoming connection response",Socks4ProxyRejectedIncomingBoundConnection:"Socks4 Proxy rejected incoming bound connection",InvalidSocks5InitialHandshakeResponse:"Received invalid Socks5 initial handshake response",InvalidSocks5IntiailHandshakeSocksVersion:"Received invalid Socks5 initial handshake (invalid socks version)",InvalidSocks5InitialHandshakeNoAcceptedAuthType:"Received invalid Socks5 initial handshake (no accepted authentication type)",InvalidSocks5InitialHandshakeUnknownAuthType:"Received invalid Socks5 initial handshake (unknown authentication type)",Socks5AuthenticationFailed:"Socks5 Authentication failed",InvalidSocks5FinalHandshake:"Received invalid Socks5 final handshake response",InvalidSocks5FinalHandshakeRejected:"Socks5 proxy rejected connection",InvalidSocks5IncomingConnectionResponse:"Received invalid Socks5 incoming connection response",Socks5ProxyRejectedIncomingBoundConnection:"Socks5 Proxy rejected incoming bound connection"},NT.SOCKS_INCOMING_PACKET_SIZES={Socks5InitialHandshakeResponse:2,Socks5UserPassAuthenticationResponse:2,Socks5ResponseHeader:5,Socks5ResponseIPv4:10,Socks5ResponseIPv6:22,Socks5ResponseHostname:e=>e+7,Socks4Response:8},function(e){e[e.connect=1]="connect",e[e.bind=2]="bind",e[e.associate=3]="associate"}(TT||(TT={})),NT.SocksCommand=TT,function(e){e[e.Granted=90]="Granted",e[e.Failed=91]="Failed",e[e.Rejected=92]="Rejected",e[e.RejectedIdent=93]="RejectedIdent"}(OT||(OT={})),NT.Socks4Response=OT,function(e){e[e.NoAuth=0]="NoAuth",e[e.GSSApi=1]="GSSApi",e[e.UserPass=2]="UserPass"}(FT||(FT={})),NT.Socks5Auth=FT,NT.SOCKS5_CUSTOM_AUTH_START=128,NT.SOCKS5_CUSTOM_AUTH_END=254,NT.SOCKS5_NO_ACCEPTABLE_AUTH=255,function(e){e[e.Granted=0]="Granted",e[e.Failure=1]="Failure",e[e.NotAllowed=2]="NotAllowed",e[e.NetworkUnreachable=3]="NetworkUnreachable",e[e.HostUnreachable=4]="HostUnreachable",e[e.ConnectionRefused=5]="ConnectionRefused",e[e.TTLExpired=6]="TTLExpired",e[e.CommandNotSupported=7]="CommandNotSupported",e[e.AddressNotSupported=8]="AddressNotSupported"}(PT||(PT={})),NT.Socks5Response=PT,function(e){e[e.IPv4=1]="IPv4",e[e.Hostname=3]="Hostname",e[e.IPv6=4]="IPv6"}(IT||(IT={})),NT.Socks5HostType=IT,function(e){e[e.Created=0]="Created",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.SentInitialHandshake=3]="SentInitialHandshake",e[e.ReceivedInitialHandshakeResponse=4]="ReceivedInitialHandshakeResponse",e[e.SentAuthentication=5]="SentAuthentication",e[e.ReceivedAuthenticationResponse=6]="ReceivedAuthenticationResponse",e[e.SentFinalHandshake=7]="SentFinalHandshake",e[e.ReceivedFinalResponse=8]="ReceivedFinalResponse",e[e.BoundWaitingForConnection=9]="BoundWaitingForConnection",e[e.Established=10]="Established",e[e.Disconnected=11]="Disconnected",e[e.Error=99]="Error"}(LT||(LT={})),NT.SocksClientState=LT;var BT={},jT={};Object.defineProperty(jT,"__esModule",{value:!0}),jT.shuffleArray=jT.SocksClientError=void 0;class MT extends Error{constructor(e,t){super(e),this.options=t}}jT.SocksClientError=MT,jT.shuffleArray=function(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},Object.defineProperty(BT,"__esModule",{value:!0}),BT.validateSocksClientChainOptions=BT.validateSocksClientOptions=void 0;const $T=jT,qT=NT,UT=b;function HT(e,t){if(void 0!==e.custom_auth_method){if(e.custom_auth_method<qT.SOCKS5_CUSTOM_AUTH_START||e.custom_auth_method>qT.SOCKS5_CUSTOM_AUTH_END)throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsCustomAuthRange,t);if(void 0===e.custom_auth_request_handler||"function"!=typeof e.custom_auth_request_handler)throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_size)throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t);if(void 0===e.custom_auth_response_handler||"function"!=typeof e.custom_auth_response_handler)throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsCustomAuthOptions,t)}}function WT(e){return e&&"string"==typeof e.host&&"number"==typeof e.port&&e.port>=0&&e.port<=65535}function zT(e){return e&&("string"==typeof e.host||"string"==typeof e.ipaddress)&&"number"==typeof e.port&&e.port>=0&&e.port<=65535&&(4===e.type||5===e.type)}function GT(e){return"number"==typeof e&&e>0}BT.validateSocksClientOptions=function(e,t=["connect","bind","associate"]){if(!qT.SocksCommand[e.command])throw new $T.SocksClientError(qT.ERRORS.InvalidSocksCommand,e);if(-1===t.indexOf(e.command))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksCommandForOperation,e);if(!WT(e.destination))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsDestination,e);if(!zT(e.proxy))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsProxy,e);if(HT(e.proxy,e),e.timeout&&!GT(e.timeout))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsTimeout,e);if(e.existing_socket&&!(e.existing_socket instanceof UT.Duplex))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsExistingSocket,e)},BT.validateSocksClientChainOptions=function(e){if("connect"!==e.command)throw new $T.SocksClientError(qT.ERRORS.InvalidSocksCommandChain,e);if(!WT(e.destination))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsDestination,e);if(!(e.proxies&&Array.isArray(e.proxies)&&e.proxies.length>=2))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsProxiesLength,e);if(e.proxies.forEach((t=>{if(!zT(t))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsProxy,e);HT(t,e)})),e.timeout&&!GT(e.timeout))throw new $T.SocksClientError(qT.ERRORS.InvalidSocksClientOptionsTimeout,e)};var VT={};Object.defineProperty(VT,"__esModule",{value:!0}),VT.ReceiveBuffer=void 0,VT.ReceiveBuffer=class{constructor(e=4096){this.buffer=Buffer.allocUnsafe(e),this.offset=0,this.originalSize=e}get length(){return this.offset}append(e){if(!Buffer.isBuffer(e))throw new Error("Attempted to append a non-buffer instance to ReceiveBuffer.");if(this.offset+e.length>=this.buffer.length){const t=this.buffer;this.buffer=Buffer.allocUnsafe(Math.max(this.buffer.length+this.originalSize,this.buffer.length+e.length)),t.copy(this.buffer)}return e.copy(this.buffer,this.offset),this.offset+=e.length}peek(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");return this.buffer.slice(0,e)}get(e){if(e>this.offset)throw new Error("Attempted to read beyond the bounds of the managed internal data.");const t=Buffer.allocUnsafe(e);return this.buffer.slice(0,e).copy(t),this.buffer.copyWithin(0,e,e+this.offset-e),this.offset-=e,t}},function(e){var t=A&&A.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){e.done?r(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.SocksClientError=e.SocksClient=void 0;const n=o,i=S,r=_T,s=ST,a=NT,c=BT,u=VT,l=jT;Object.defineProperty(e,"SocksClientError",{enumerable:!0,get:function(){return l.SocksClientError}});class h extends n.EventEmitter{constructor(e){super(),this.options=Object.assign({},e),(0,c.validateSocksClientOptions)(e),this.setState(a.SocksClientState.Created)}static createConnection(e,t){return new Promise(((n,i)=>{try{(0,c.validateSocksClientOptions)(e,["connect"])}catch(e){return"function"==typeof t?(t(e),n(e)):i(e)}const r=new h(e);r.connect(e.existing_socket),r.once("established",(e=>{r.removeAllListeners(),"function"==typeof t&&t(null,e),n(e)})),r.once("error",(e=>{r.removeAllListeners(),"function"==typeof t?(t(e),n(e)):i(e)}))}))}static createConnectionChain(e,n){return new Promise(((i,r)=>t(this,void 0,void 0,(function*(){try{(0,c.validateSocksClientChainOptions)(e)}catch(e){return"function"==typeof n?(n(e),i(e)):r(e)}e.randomizeChain&&(0,l.shuffleArray)(e.proxies);try{let t;for(let n=0;n<e.proxies.length;n++){const i=e.proxies[n],r=n===e.proxies.length-1?e.destination:{host:e.proxies[n+1].host||e.proxies[n+1].ipaddress,port:e.proxies[n+1].port},s=yield h.createConnection({command:"connect",proxy:i,destination:r,existing_socket:t});t=t||s.socket}"function"==typeof n?(n(null,{socket:t}),i({socket:t})):i({socket:t})}catch(e){"function"==typeof n?(n(e),i(e)):r(e)}}))))}static createUDPFrame(e){const t=new s.SmartBuffer;return t.writeUInt16BE(0),t.writeUInt8(e.frameNumber||0),i.isIPv4(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv4),t.writeUInt32BE(r.toLong(e.remoteHost.host))):i.isIPv6(e.remoteHost.host)?(t.writeUInt8(a.Socks5HostType.IPv6),t.writeBuffer(r.toBuffer(e.remoteHost.host))):(t.writeUInt8(a.Socks5HostType.Hostname),t.writeUInt8(Buffer.byteLength(e.remoteHost.host)),t.writeString(e.remoteHost.host)),t.writeUInt16BE(e.remoteHost.port),t.writeBuffer(e.data),t.toBuffer()}static parseUDPFrame(e){const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n=t.readUInt8(),i=t.readUInt8();let o;return o=i===a.Socks5HostType.IPv4?r.fromLong(t.readUInt32BE()):i===a.Socks5HostType.IPv6?r.toString(t.readBuffer(16)):t.readString(t.readUInt8()),{frameNumber:n,remoteHost:{host:o,port:t.readUInt16BE()},data:t.readBuffer()}}setState(e){this.state!==a.SocksClientState.Error&&(this.state=e)}connect(e){this.onDataReceived=e=>this.onDataReceivedHandler(e),this.onClose=()=>this.onCloseHandler(),this.onError=e=>this.onErrorHandler(e),this.onConnect=()=>this.onConnectHandler();const t=setTimeout((()=>this.onEstablishedTimeout()),this.options.timeout||a.DEFAULT_TIMEOUT);t.unref&&"function"==typeof t.unref&&t.unref(),this.socket=e||new i.Socket,this.socket.once("close",this.onClose),this.socket.once("error",this.onError),this.socket.once("connect",this.onConnect),this.socket.on("data",this.onDataReceived),this.setState(a.SocksClientState.Connecting),this.receiveBuffer=new u.ReceiveBuffer,e?this.socket.emit("connect"):(this.socket.connect(this.getSocketOptions()),void 0!==this.options.set_tcp_nodelay&&null!==this.options.set_tcp_nodelay&&this.socket.setNoDelay(!!this.options.set_tcp_nodelay)),this.prependOnceListener("established",(e=>{setImmediate((()=>{if(this.receiveBuffer.length>0){const t=this.receiveBuffer.get(this.receiveBuffer.length);e.socket.emit("data",t)}e.socket.resume()}))}))}getSocketOptions(){return Object.assign(Object.assign({},this.options.socket_options),{host:this.options.proxy.host||this.options.proxy.ipaddress,port:this.options.proxy.port})}onEstablishedTimeout(){this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.BoundWaitingForConnection&&this.closeSocket(a.ERRORS.ProxyConnectionTimedOut)}onConnectHandler(){this.setState(a.SocksClientState.Connected),4===this.options.proxy.type?this.sendSocks4InitialHandshake():this.sendSocks5InitialHandshake(),this.setState(a.SocksClientState.SentInitialHandshake)}onDataReceivedHandler(e){this.receiveBuffer.append(e),this.processData()}processData(){for(;this.state!==a.SocksClientState.Established&&this.state!==a.SocksClientState.Error&&this.receiveBuffer.length>=this.nextRequiredPacketBufferSize;)if(this.state===a.SocksClientState.SentInitialHandshake)4===this.options.proxy.type?this.handleSocks4FinalHandshakeResponse():this.handleInitialSocks5HandshakeResponse();else if(this.state===a.SocksClientState.SentAuthentication)this.handleInitialSocks5AuthenticationHandshakeResponse();else if(this.state===a.SocksClientState.SentFinalHandshake)this.handleSocks5FinalHandshakeResponse();else{if(this.state!==a.SocksClientState.BoundWaitingForConnection){this.closeSocket(a.ERRORS.InternalError);break}4===this.options.proxy.type?this.handleSocks4IncomingConnectionResponse():this.handleSocks5IncomingConnectionResponse()}}onCloseHandler(){this.closeSocket(a.ERRORS.SocketClosed)}onErrorHandler(e){this.closeSocket(e.message)}removeInternalSocketHandlers(){this.socket.pause(),this.socket.removeListener("data",this.onDataReceived),this.socket.removeListener("close",this.onClose),this.socket.removeListener("error",this.onError),this.socket.removeListener("connect",this.onConnect)}closeSocket(e){this.state!==a.SocksClientState.Error&&(this.setState(a.SocksClientState.Error),this.socket.destroy(),this.removeInternalSocketHandlers(),this.emit("error",new l.SocksClientError(e,this.options)))}sendSocks4InitialHandshake(){const e=this.options.proxy.userId||"",t=new s.SmartBuffer;t.writeUInt8(4),t.writeUInt8(a.SocksCommand[this.options.command]),t.writeUInt16BE(this.options.destination.port),i.isIPv4(this.options.destination.host)?(t.writeBuffer(r.toBuffer(this.options.destination.host)),t.writeStringNT(e)):(t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(0),t.writeUInt8(1),t.writeStringNT(e),t.writeStringNT(this.options.destination.host)),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks4Response,this.socket.write(t.toBuffer())}handleSocks4FinalHandshakeResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedConnection} - (${a.Socks4Response[e[1]]})`);else if(a.SocksCommand[this.options.command]===a.SocksCommand.bind){const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n={port:t.readUInt16BE(),host:r.fromLong(t.readUInt32BE())};"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress),this.setState(a.SocksClientState.BoundWaitingForConnection),this.emit("bound",{remoteHost:n,socket:this.socket})}else this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{socket:this.socket})}handleSocks4IncomingConnectionResponse(){const e=this.receiveBuffer.get(8);if(e[1]!==a.Socks4Response.Granted)this.closeSocket(`${a.ERRORS.Socks4ProxyRejectedIncomingBoundConnection} - (${a.Socks4Response[e[1]]})`);else{const t=s.SmartBuffer.fromBuffer(e);t.readOffset=2;const n={port:t.readUInt16BE(),host:r.fromLong(t.readUInt32BE())};this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}sendSocks5InitialHandshake(){const e=new s.SmartBuffer,t=[a.Socks5Auth.NoAuth];(this.options.proxy.userId||this.options.proxy.password)&&t.push(a.Socks5Auth.UserPass),void 0!==this.options.proxy.custom_auth_method&&t.push(this.options.proxy.custom_auth_method),e.writeUInt8(5),e.writeUInt8(t.length);for(const n of t)e.writeUInt8(n);this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5InitialHandshakeResponse,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentInitialHandshake)}handleInitialSocks5HandshakeResponse(){const e=this.receiveBuffer.get(2);5!==e[0]?this.closeSocket(a.ERRORS.InvalidSocks5IntiailHandshakeSocksVersion):e[1]===a.SOCKS5_NO_ACCEPTABLE_AUTH?this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeNoAcceptedAuthType):e[1]===a.Socks5Auth.NoAuth?(this.socks5ChosenAuthType=a.Socks5Auth.NoAuth,this.sendSocks5CommandRequest()):e[1]===a.Socks5Auth.UserPass?(this.socks5ChosenAuthType=a.Socks5Auth.UserPass,this.sendSocks5UserPassAuthentication()):e[1]===this.options.proxy.custom_auth_method?(this.socks5ChosenAuthType=this.options.proxy.custom_auth_method,this.sendSocks5CustomAuthentication()):this.closeSocket(a.ERRORS.InvalidSocks5InitialHandshakeUnknownAuthType)}sendSocks5UserPassAuthentication(){const e=this.options.proxy.userId||"",t=this.options.proxy.password||"",n=new s.SmartBuffer;n.writeUInt8(1),n.writeUInt8(Buffer.byteLength(e)),n.writeString(e),n.writeUInt8(Buffer.byteLength(t)),n.writeString(t),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5UserPassAuthenticationResponse,this.socket.write(n.toBuffer()),this.setState(a.SocksClientState.SentAuthentication)}sendSocks5CustomAuthentication(){return t(this,void 0,void 0,(function*(){this.nextRequiredPacketBufferSize=this.options.proxy.custom_auth_response_size,this.socket.write(yield this.options.proxy.custom_auth_request_handler()),this.setState(a.SocksClientState.SentAuthentication)}))}handleSocks5CustomAuthHandshakeResponse(e){return t(this,void 0,void 0,(function*(){return yield this.options.proxy.custom_auth_response_handler(e)}))}handleSocks5AuthenticationNoAuthHandshakeResponse(e){return t(this,void 0,void 0,(function*(){return 0===e[1]}))}handleSocks5AuthenticationUserPassHandshakeResponse(e){return t(this,void 0,void 0,(function*(){return 0===e[1]}))}handleInitialSocks5AuthenticationHandshakeResponse(){return t(this,void 0,void 0,(function*(){this.setState(a.SocksClientState.ReceivedAuthenticationResponse);let e=!1;this.socks5ChosenAuthType===a.Socks5Auth.NoAuth?e=yield this.handleSocks5AuthenticationNoAuthHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===a.Socks5Auth.UserPass?e=yield this.handleSocks5AuthenticationUserPassHandshakeResponse(this.receiveBuffer.get(2)):this.socks5ChosenAuthType===this.options.proxy.custom_auth_method&&(e=yield this.handleSocks5CustomAuthHandshakeResponse(this.receiveBuffer.get(this.options.proxy.custom_auth_response_size))),e?this.sendSocks5CommandRequest():this.closeSocket(a.ERRORS.Socks5AuthenticationFailed)}))}sendSocks5CommandRequest(){const e=new s.SmartBuffer;e.writeUInt8(5),e.writeUInt8(a.SocksCommand[this.options.command]),e.writeUInt8(0),i.isIPv4(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv4),e.writeBuffer(r.toBuffer(this.options.destination.host))):i.isIPv6(this.options.destination.host)?(e.writeUInt8(a.Socks5HostType.IPv6),e.writeBuffer(r.toBuffer(this.options.destination.host))):(e.writeUInt8(a.Socks5HostType.Hostname),e.writeUInt8(this.options.destination.host.length),e.writeString(this.options.destination.host)),e.writeUInt16BE(this.options.destination.port),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.socket.write(e.toBuffer()),this.setState(a.SocksClientState.SentFinalHandshake)}handleSocks5FinalHandshakeResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.InvalidSocks5FinalHandshakeRejected} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let n,i;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:r.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],r=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<r)return void(this.nextRequiredPacketBufferSize=r);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(r).slice(5)),n={host:i.readString(t),port:i.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:r.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(a.SocksClientState.ReceivedFinalResponse),a.SocksCommand[this.options.command]===a.SocksCommand.connect?(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.bind?(this.setState(a.SocksClientState.BoundWaitingForConnection),this.nextRequiredPacketBufferSize=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHeader,this.emit("bound",{remoteHost:n,socket:this.socket})):a.SocksCommand[this.options.command]===a.SocksCommand.associate&&(this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket}))}}handleSocks5IncomingConnectionResponse(){const e=this.receiveBuffer.peek(5);if(5!==e[0]||e[1]!==a.Socks5Response.Granted)this.closeSocket(`${a.ERRORS.Socks5ProxyRejectedIncomingBoundConnection} - ${a.Socks5Response[e[1]]}`);else{const t=e[3];let n,i;if(t===a.Socks5HostType.IPv4){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv4;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:r.fromLong(i.readUInt32BE()),port:i.readUInt16BE()},"0.0.0.0"===n.host&&(n.host=this.options.proxy.ipaddress)}else if(t===a.Socks5HostType.Hostname){const t=e[4],r=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseHostname(t);if(this.receiveBuffer.length<r)return void(this.nextRequiredPacketBufferSize=r);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(r).slice(5)),n={host:i.readString(t),port:i.readUInt16BE()}}else if(t===a.Socks5HostType.IPv6){const e=a.SOCKS_INCOMING_PACKET_SIZES.Socks5ResponseIPv6;if(this.receiveBuffer.length<e)return void(this.nextRequiredPacketBufferSize=e);i=s.SmartBuffer.fromBuffer(this.receiveBuffer.get(e).slice(4)),n={host:r.toString(i.readBuffer(16)),port:i.readUInt16BE()}}this.setState(a.SocksClientState.Established),this.removeInternalSocketHandlers(),this.emit("established",{remoteHost:n,socket:this.socket})}}get socksClientOptions(){return Object.assign({},this.options)}}e.SocksClient=h}(wT),function(e){var t=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),n=A&&A.__exportStar||function(e,n){for(var i in e)"default"!==i&&!Object.prototype.hasOwnProperty.call(n,i)&&t(n,e,i)};Object.defineProperty(e,"__esModule",{value:!0}),n(wT,e)}(vT);var KT=A&&A.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),YT=A&&A.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),JT=A&&A.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&KT(t,e,n);return YT(t,e),t},ZT=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bT,"__esModule",{value:!0}),bT.SocksProxyAgent=void 0;const XT=vT,QT=IA,eO=ZT(PA),tO=JT(w),nO=JT(S),iO=JT(E),rO=p,sO=(0,eO.default)("socks-proxy-agent");let oO=class extends QT.Agent{constructor(e,t){super(t);const n="string"==typeof e?new rO.URL(e):e,{proxy:i,lookup:r}=function(e){let t=!1,n=5;const i=e.hostname,r=parseInt(e.port,10)||1080;switch(e.protocol.replace(":","")){case"socks4":t=!0,n=4;break;case"socks4a":n=4;break;case"socks5":t=!0,n=5;break;case"socks":case"socks5h":n=5;break;default:throw new TypeError(`A "socks" protocol must be specified! Got: ${String(e.protocol)}`)}const s={host:i,port:r,type:n};return e.username&&Object.defineProperty(s,"userId",{value:decodeURIComponent(e.username),enumerable:!1}),null!=e.password&&Object.defineProperty(s,"password",{value:decodeURIComponent(e.password),enumerable:!1}),{lookup:t,proxy:s}}(n);this.shouldLookup=r,this.proxy=i,this.timeout=t?.timeout??null}async connect(e,t){const{shouldLookup:n,proxy:i,timeout:r}=this;if(!t.host)throw new Error("No `host` defined!");let{host:s}=t;const{port:o,lookup:a=tO.lookup}=t;n&&(s=await new Promise(((e,t)=>{a(s,{},((n,i)=>{n?t(n):e(i)}))})));const c={proxy:i,destination:{host:s,port:"number"==typeof o?o:parseInt(o,10)},command:"connect",timeout:r??void 0},u=t=>{e.destroy(),l.destroy(),t&&t.destroy()};sO("Creating socks proxy connection: %o",c);const{socket:l}=await XT.SocksClient.createConnection(c);if(sO("Successfully created socks proxy connection"),null!==r&&(l.setTimeout(r),l.on("timeout",(()=>u()))),t.secureEndpoint){sO("Upgrading socket connection to TLS");const e=t.servername||t.host,n=iO.connect({...aO(t,"host","path","port"),socket:l,servername:nO.isIP(e)?void 0:e});return n.once("error",(e=>{sO("Socket TLS error",e.message),u(n)})),n}return l}};function aO(e,...t){const n={};let i;for(i in e)t.includes(i)||(n[i]=e[i]);return n}oO.protocols=["socks","socks4","socks4a","socks5","socks5h"],bT.SocksProxyAgent=oO;let cO=class extends Error{constructor(e){super(`Invalid protocol \`${e.protocol}\` connecting to proxy \`${e.host}\``),this.code="EINVALIDPROXY",this.proxy=e}};class uO extends Error{constructor(e){super(`Timeout connecting to host \`${e}\``),this.code="ECONNECTIONTIMEOUT",this.host=e}}class lO extends Error{constructor(e){super(`Idle timeout reached for host \`${e}\``),this.code="EIDLETIMEOUT",this.host=e}}class hO extends Error{constructor(e,t){let n="Response timeout ";t&&(n+=`from proxy \`${t.host}\` `),n+=`connecting to host \`${e.host}\``,super(n),this.code="ERESPONSETIMEOUT",this.proxy=t,this.request=e}}class pO extends Error{constructor(e,t){let n="Transfer timeout ";t&&(n+=`from proxy \`${t.host}\` `),n+=`for \`${e.host}\``,super(n),this.code="ETRANSFERTIMEOUT",this.proxy=t,this.request=e}}var dO={InvalidProxyProtocolError:cO,ConnectionTimeoutError:uO,IdleTimeoutError:lO,ResponseTimeoutError:hO,TransferTimeoutError:pO};const{HttpProxyAgent:fO}=EA,{HttpsProxyAgent:mO}=eT,{SocksProxyAgent:gO}=bT,{LRUCache:yO}=QR,{InvalidProxyProtocolError:bO}=dO,vO=new yO({max:20}),wO=new Set(gO.protocols),_O=new Set(["https_proxy","http_proxy","proxy","no_proxy"]),SO=Object.entries(process.env).reduce(((e,[t,n])=>(t=t.toLowerCase(),_O.has(t)&&(e[t]=n),e)),{});var EO={getProxyAgent:e=>{const t=(e=new URL(e)).protocol.slice(0,-1);if(wO.has(t))return gO;if("https"===t||"http"===t)return[fO,mO];throw new bO(e)},getProxy:(e,{proxy:t,noProxy:n})=>(e=new URL(e),t||(t="https:"===e.protocol?SO.https_proxy:SO.https_proxy||SO.http_proxy||SO.proxy),n||(n=SO.no_proxy),!t||((e,t)=>{if("string"==typeof t&&(t=t.split(",").map((e=>e.trim())).filter(Boolean)),!t||!t.length)return!1;const n=e.hostname.split(".").reverse();return t.some((e=>{const t=e.split(".").filter(Boolean).reverse();if(!t.length)return!1;for(let e=0;e<t.length;e++)if(n[e]!==t[e])return!1;return!0}))})(e,n)?null:new URL(t)),proxyCache:vO};const xO=S,DO=E,{once:CO}=o,kO=D,{normalizeOptions:RO,cacheOptions:AO}=SA,{getProxy:TO,getProxyAgent:OO,proxyCache:FO}=EO,PO=dO,{Agent:IO}=IA,{LRUCache:LO}=QR,{normalizeOptions:NO,cacheOptions:BO}=SA,{getProxy:jO,proxyCache:MO}=EO,$O=fA,qO=class extends IO{#e;#t;#n;#i;#r;constructor(e={}){const{timeouts:t,proxy:n,noProxy:i,...r}=RO(e);super(r),this.#e=r,this.#t=t,n&&(this.#n=new URL(n),this.#i=i,this.#r=OO(n))}get proxy(){return this.#n?{url:this.#n}:{}}#s(e){if(!this.#n)return;const t=TO(`${e.protocol}//${e.host}:${e.port}`,{proxy:this.#n,noProxy:this.#i});if(!t)return;const n=AO({...e,...this.#e,timeouts:this.#t,proxy:t});if(FO.has(n))return FO.get(n);let i=this.#r;Array.isArray(i)&&(i=e.secureEndpoint?i[1]:i[0]);const r=new i(t,this.#e);return FO.set(n,r),r}async#o({promises:e,options:t,timeout:n},i=new AbortController){if(n){const r=kO.setTimeout(n,null,{signal:i.signal}).then((()=>{throw new PO.ConnectionTimeoutError(`${t.host}:${t.port}`)})).catch((e=>{if("AbortError"!==e.name)throw e}));e.push(r)}let r;try{r=await Promise.race(e),i.abort()}catch(e){throw i.abort(),e}return r}async connect(e,t){t.lookup??=this.#e.lookup;let n,i=this.#t.connection;const r=this.#s(t);if(r){const s=Date.now();n=await this.#o({options:t,timeout:i,promises:[r.connect(e,t)]}),i&&(i-=Date.now()-s)}else n=(t.secureEndpoint?DO:xO).connect(t);n.setKeepAlive(this.keepAlive,this.keepAliveMsecs),n.setNoDelay(this.keepAlive);const s=new AbortController,{signal:o}=s,a=n[t.secureEndpoint?"secureConnecting":"connecting"]?CO(n,t.secureEndpoint?"secureConnect":"connect",{signal:o}):Promise.resolve();return await this.#o({options:t,timeout:i,promises:[a,CO(n,"error",{signal:o}).then((e=>{throw e[0]}))]},s),this.#t.idle&&n.setTimeout(this.#t.idle,(()=>{n.destroy(new PO.IdleTimeoutError(`${t.host}:${t.port}`))})),n}addRequest(e,t){const n=this.#s(t);if(n?.setRequestProps&&n.setRequestProps(e,t),e.setHeader("connection",this.keepAlive?"keep-alive":"close"),this.#t.response){let t;e.once("finish",(()=>{setTimeout((()=>{e.destroy(new PO.ResponseTimeoutError(e,this.#n))}),this.#t.response)})),e.once("response",(()=>{clearTimeout(t)}))}if(this.#t.transfer){let t;e.once("response",(n=>{setTimeout((()=>{n.destroy(new PO.TransferTimeoutError(e,this.#n))}),this.#t.transfer),n.once("close",(()=>{clearTimeout(t)}))}))}return super.addRequest(e,t)}},UO=new LO({max:20});var HO={getAgent:(e,{agent:t,proxy:n,noProxy:i,...r}={})=>{if(null!=t)return t;e=new URL(e);const s=jO(e,{proxy:n,noProxy:i}),o={...NO(r),proxy:s},a=BO({...o,secureEndpoint:"https:"===e.protocol});if(UO.has(a))return UO.get(a);const c=new qO(o);return UO.set(a,c),c},Agent:qO,HttpAgent:qO,HttpsAgent:qO,cache:{proxy:MO,agent:UO,dns:$O.cache,clear:()=>{MO.clear(),UO.clear(),$O.cache.clear()}}};const WO="make-fetch-happen",zO="13.0.0",{Minipass:GO}=bv,VO=Am,KO=function(e,t){var n,i;return"object"==typeof e&&"function"==typeof t&&(n=t,t=e,e=n),i=JR.operation(t),new Promise((function(t,n){i.attempt((function(r){Promise.resolve().then((function(){return e((function(e){throw XR(e)&&(e=e.retried),YR(new Error("Retrying"),"EPROMISERETRY",{retried:e})}),r)})).then(t,(function(e){XR(e)&&(e=e.retried,i.retry(e||new Error))||n(e)}))}))}))},YO=nb,JO=qR,{getAgent:ZO}=HO,XO=`${WO}/${zO} (+https://npm.im/${WO})`,QO=["ECONNRESET","ECONNREFUSED","EADDRINUSE","ETIMEDOUT","ECONNECTIONTIMEOUT","EIDLETIMEOUT","ERESPONSETIMEOUT","ETRANSFERTIMEOUT"],eF=["request-timeout"];var tF=(e,t)=>{const n=ZO(e.url,t);e.headers.has("connection")||e.headers.set("connection",n?"keep-alive":"close"),e.headers.has("user-agent")||e.headers.set("user-agent",XO);const i={...t,agent:n,redirect:"manual"};return KO((async(n,r)=>{const s=new VO.Request(e,i);try{let e=await VO(s,i);if(i.integrity&&200===e.status){const t=YO.integrityStream({algorithms:i.algorithms,integrity:i.integrity,size:i.size}),n=new JO({events:["integrity","size"]},e.body,t);t.on("integrity",(e=>n.emit("integrity",e))),t.on("size",(e=>n.emit("size",e))),e=new VO.Response(n,e),e.body.hasIntegrityEmitter=!0}e.headers.set("x-fetch-attempts",r);const o=GO.isStream(s.body);return"POST"!==s.method&&!o&&([408,420,429].includes(e.status)||e.status>=500)?("function"==typeof t.onRetry&&t.onRetry(e),n(e)):e}catch(e){const i="EPROMISERETRY"===e.code?e.retried.code:e.code,r=e.retried instanceof VO.Response||QO.includes(i)&&eF.includes(e.type);if("POST"===s.method||r)throw e;return"function"==typeof t.onRetry&&t.onRetry(e),n(e)}}),t.retry).catch((e=>{if(e.status>=400&&"system"!==e.type)return e;throw e}))};const{Request:nF,Response:iF}=Am,{Minipass:rF}=bv,sF=nw,oF=MR,aF=p,cF=qR,uF=gv,lF=e=>{const t=new UR(e.url);return`make-fetch-happen:request-cache:${HR(t,WR)}`},hF=tF,pF=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),dF=["accept-charset","accept-encoding","accept-language","accept","cache-control"],fF=["cache-control","content-encoding","content-language","content-type","date","etag","expires","last-modified","link","location","pragma","vary"],mF=(e,t,n)=>{const i={time:Date.now(),url:e.url,reqHeaders:{},resHeaders:{},options:{compress:null!=n.compress?n.compress:e.compress}};200!==t.status&&304!==t.status&&(i.status=t.status);for(const t of dF)e.headers.has(t)&&(i.reqHeaders[t]=e.headers.get(t));const r=e.headers.get("host"),s=new aF.URL(e.url);if(r&&s.host!==r&&(i.reqHeaders.host=r),t.headers.has("vary")){const n=t.headers.get("vary");if("*"!==n){const t=n.trim().toLowerCase().split(/\s*,\s*/);for(const n of t)e.headers.has(n)&&(i.reqHeaders[n]=e.headers.get(n))}}for(const e of fF)t.headers.has(e)&&(i.resHeaders[e]=t.headers.get(e));for(const e of n.cacheAdditionalHeaders)t.headers.has(e)&&(i.resHeaders[e]=t.headers.get(e));return i},gF=Symbol("request"),yF=Symbol("response"),bF=Symbol("policy");const{NotCachedError:vF}=yv,wF=class e{constructor({entry:e,request:t,response:n,options:i}){e?(this.key=e.key,this.entry=e,this.entry.metadata.time=this.entry.metadata.time||this.entry.time):this.key=lF(t),this.options=i,this[gF]=t,this[yF]=n,this[bF]=null}static async find(t,n){try{var i=await oF.index.compact(n.cachePath,lF(t),((t,i)=>{const r=new e({entry:t,options:n}),s=new e({entry:i,options:n});return r.policy.satisfies(s.request)}),{validateEntry:e=>!(e.metadata&&e.metadata.resHeaders&&null===e.metadata.resHeaders["content-encoding"]||null===e.integrity&&(!e.metadata||!e.metadata.status))})}catch{return}if("reload"===n.cache)return;let r;for(const s of i){const i=new e({entry:s,options:n});if(i.policy.satisfies(t)){r=i;break}}return r}static async invalidate(e,t){const n=lF(e);try{await oF.rm.entry(t.cachePath,n,{removeFully:!0})}catch{}}get request(){return this[gF]||(this[gF]=new nF(this.entry.metadata.url,{method:"GET",headers:this.entry.metadata.reqHeaders,...this.entry.metadata.options})),this[gF]}get response(){return this[yF]||(this[yF]=new iF(null,{url:this.entry.metadata.url,counter:this.options.counter,status:this.entry.metadata.status||200,headers:{...this.entry.metadata.resHeaders,"content-length":this.entry.size}})),this[yF]}get policy(){return this[bF]||(this[bF]=new uF({entry:this.entry,request:this.request,response:this.response,options:this.options})),this[bF]}async store(e){if("GET"!==this.request.method||![200,301,308].includes(this.response.status)||!this.policy.storable())return this.response.headers.set("x-local-cache-status","skip"),this.response;const t=this.response.headers.get("content-length"),n={algorithms:this.options.algorithms,metadata:mF(this.request,this.response,this.options),size:t,integrity:this.options.integrity,integrityEmitter:this.response.body.hasIntegrityEmitter&&this.response.body};let i=null;if(200===this.response.status){let e,t;const r=new Promise(((n,i)=>{e=n,t=i}));i=new cF({events:["integrity","size"]},new sF({flush:()=>r})),i.hasIntegrityEmitter=!0;const s=()=>{const r=new rF,s=oF.put.stream(this.options.cachePath,this.key,n);s.on("integrity",(e=>i.emit("integrity",e))),s.on("size",(e=>i.emit("size",e))),r.pipe(s),s.promise().then(e,t),i.unshift(r),i.unshift(this.response.body)};i.once("resume",s),i.once("end",(()=>i.removeListener("resume",s)))}else await oF.index.insert(this.options.cachePath,this.key,null,n);return this.response.headers.set("x-local-cache",encodeURIComponent(this.options.cachePath)),this.response.headers.set("x-local-cache-key",encodeURIComponent(this.key)),this.response.headers.set("x-local-cache-mode","stream"),this.response.headers.set("x-local-cache-status",e),this.response.headers.set("x-local-cache-time",(new Date).toISOString()),new iF(i,{url:this.response.url,status:this.response.status,headers:this.response.headers,counter:this.options.counter})}async respond(t,n,i){let r;if("HEAD"===t||[301,308].includes(this.response.status))r=this.response;else{const t=new rF,i={...this.policy.responseHeaders()},s=()=>{const n=oF.get.stream.byDigest(this.options.cachePath,this.entry.integrity,{memoize:this.options.memoize});n.on("error",(async i=>{n.pause(),"EINTEGRITY"===i.code&&await oF.rm.content(this.options.cachePath,this.entry.integrity,{memoize:this.options.memoize}),("ENOENT"===i.code||"EINTEGRITY"===i.code)&&await e.invalidate(this.request,this.options),t.emit("error",i),n.resume()})),t.emit("integrity",this.entry.integrity),t.emit("size",Number(i["content-length"])),n.pipe(t)};t.once("resume",s),t.once("end",(()=>t.removeListener("resume",s))),r=new iF(t,{url:this.entry.metadata.url,counter:n.counter,status:200,headers:i})}return r.headers.set("x-local-cache",encodeURIComponent(this.options.cachePath)),r.headers.set("x-local-cache-hash",encodeURIComponent(this.entry.integrity)),r.headers.set("x-local-cache-key",encodeURIComponent(this.key)),r.headers.set("x-local-cache-mode","stream"),r.headers.set("x-local-cache-status",i),r.headers.set("x-local-cache-time",new Date(this.entry.metadata.time).toUTCString()),r}async revalidate(t,n){const i=new nF(t,{headers:this.policy.revalidationHeaders(t)});try{var r=await hF(i,{...n,headers:void 0})}catch(e){if(!this.policy.mustRevalidate)return this.respond(t.method,n,"stale");throw e}if(this.policy.revalidated(i,r)){const e=mF(t,r,n);for(const t of fF)!pF(e.resHeaders,t)&&pF(this.entry.metadata.resHeaders,t)&&(e.resHeaders[t]=this.entry.metadata.resHeaders[t]);for(const t of n.cacheAdditionalHeaders){const n=pF(e.resHeaders,t),i=pF(this.entry.metadata.resHeaders,t),r=pF(this.policy.response.headers,t);!n&&i&&(e.resHeaders[t]=this.entry.metadata.resHeaders[t]),!r&&n&&(this.policy.response.headers[t]=e.resHeaders[t])}try{await oF.index.insert(n.cachePath,this.key,this.entry.integrity,{size:this.entry.size,metadata:e})}catch{}return this.respond(t.method,n,"revalidated")}return new e({request:t,response:r,options:n}).store("updated")}},_F=tF,SF=async(e,t)=>{const n=await wF.find(e,t);if(!n){if("only-if-cached"===t.cache)throw new vF(e.url);const n=await _F(e,t);return new wF({request:e,response:n,options:t}).store("miss")}if("no-cache"===t.cache)return n.revalidate(e,t);const i=n.policy.needsRevalidation(e);return"force-cache"!==t.cache&&"only-if-cached"!==t.cache&&i?n.revalidate(e,t):n.respond(e.method,t,i?"stale":"hit")};SF.invalidate=async(e,t)=>{if(t.cachePath)return wF.invalidate(e,t)};var EF=SF;const{FetchError:xF,Request:DF,isRedirect:CF}=Am,kF=p,RF=gv,AF=EF,TF=tF,OF=async(e,t)=>{const n=RF.storable(e,t)?await AF(e,t):await TF(e,t);if(!["GET","HEAD"].includes(e.method)&&n.status>=200&&n.status<=399&&await AF.invalidate(e,t),!((e,t,n)=>{if(!CF(t.status)||"manual"===n.redirect)return!1;if("error"===n.redirect)throw new xF(`redirect mode is set to error: ${e.url}`,"no-redirect",{code:"ENOREDIRECT"});if(!t.headers.has("location"))throw new xF(`redirect location header missing for: ${e.url}`,"no-location",{code:"EINVALIDREDIRECT"});if(e.counter>=e.follow)throw new xF(`maximum redirect reached at: ${e.url}`,"max-redirect",{code:"EMAXREDIRECT"});return!0})(e,n,t))return n;const i=((e,t,n)=>{const i={...n},r=t.headers.get("location"),s=new kF.URL(r,/^https?:/.test(r)?void 0:e.url);return new kF.URL(e.url).hostname!==s.hostname&&(e.headers.delete("authorization"),e.headers.delete("cookie")),(303===t.status||"POST"===e.method&&[301,302].includes(t.status))&&(i.method="GET",i.body=null,e.headers.delete("content-length")),i.headers={},e.headers.forEach(((e,t)=>{i.headers[t]=e})),i.counter=++e.counter,{request:new DF(kF.format(s),i),options:i}})(e,n,t);return OF(i.request,i.options)};var FF=OF;const{FetchError:PF,Headers:IF,Request:LF,Response:NF}=Am,BF=e=>{const{strictSSL:t,...n}={...e};if(n.method=n.method?n.method.toUpperCase():"GET",n.rejectUnauthorized=!1!==t,n.retry)if("string"==typeof n.retry){const e=parseInt(n.retry,10);isFinite(e)?n.retry={retries:e}:n.retry={retries:0}}else"number"==typeof n.retry?n.retry={retries:n.retry}:n.retry={retries:0,...n.retry};else n.retry={retries:0};return n.dns={ttl:3e5,lookup:ty.lookup,...n.dns},n.cache=n.cache||"default","default"===n.cache&&Object.keys(n.headers||{}).some((e=>ny.includes(e.toLowerCase())))&&(n.cache="no-store"),n.cacheAdditionalHeaders=n.cacheAdditionalHeaders||[],n.cacheManager&&!n.cachePath&&(n.cachePath=n.cacheManager),n},jF=FF,MF=(e,t)=>{const n=BF(t),i=new LF(e,n);return jF(i,n)};MF.defaults=(e,t={},n=MF)=>{"object"==typeof e&&(t=e,e=null);const i=(i,r={})=>{const s=i||e,o={...t,...r,headers:{...t.headers,...r.headers}};return n(s,o)};return i.defaults=(e,t={})=>MF.defaults(e,t,i),i},ey.exports=MF,ey.exports.FetchError=PF,ey.exports.Headers=IF,ey.exports.Request=LF,ey.exports.Response=NF;var $F=ey.exports,qF={},UF=qF.LEFT_BRACE=1,HF=qF.RIGHT_BRACE=2,WF=qF.LEFT_BRACKET=3,zF=qF.RIGHT_BRACKET=4,GF=qF.COLON=5,VF=qF.COMMA=6,KF=qF.TRUE=7,YF=qF.FALSE=8,JF=qF.NULL=9,ZF=qF.STRING=10,XF=qF.NUMBER=11,QF=qF.START=17,eP=qF.STOP=18,tP=qF.TRUE1=33,nP=qF.TRUE2=34,iP=qF.TRUE3=35,rP=qF.FALSE1=49,sP=qF.FALSE2=50,oP=qF.FALSE3=51,aP=qF.FALSE4=52,cP=qF.NULL1=65,uP=qF.NULL2=66,lP=qF.NULL3=67,hP=qF.NUMBER1=81,pP=qF.NUMBER3=83,dP=qF.STRING1=97,fP=qF.STRING2=98,mP=qF.STRING3=99,gP=qF.STRING4=100,yP=qF.STRING5=101,bP=qF.STRING6=102,vP=qF.VALUE=113,wP=qF.KEY=114,_P=qF.OBJECT=129,SP=qF.ARRAY=130,EP=65536;function xP(e){return Buffer.alloc?Buffer.alloc(e):new Buffer(e)}function DP(e){return Buffer.from?Buffer.from(e):new Buffer(e)}function CP(){this.tState=QF,this.value=void 0,this.string=void 0,this.stringBuffer=xP(EP),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=vP,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:xP(2),3:xP(3),4:xP(4)},this.offset=-1}CP.toknam=function(e){for(var t=Object.keys(qF),n=0,i=t.length;n<i;n++){var r=t[n];if(qF[r]===e)return r}return e&&"0x"+e.toString(16)};var kP=CP.prototype;kP.onError=function(e){throw e},kP.charError=function(e,t){this.tState=eP,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+CP.toknam(this.tState)))},kP.appendStringChar=function(e){this.stringBufferOffset>=EP&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},kP.appendStringBuf=function(e,t,n){var i=e.length;"number"==typeof t&&(i="number"==typeof n?n<0?e.length-t+n:n-t:e.length-t),i<0&&(i=0),this.stringBufferOffset+i>EP&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,n),this.stringBufferOffset+=i},kP.write=function(e){"string"==typeof e&&(e=DP(e));for(var t,n=0,i=e.length;n<i;n++)if(this.tState===QF){if(t=e[n],this.offset++,123===t)this.onToken(UF,"{");else if(125===t)this.onToken(HF,"}");else if(91===t)this.onToken(WF,"[");else if(93===t)this.onToken(zF,"]");else if(58===t)this.onToken(GF,":");else if(44===t)this.onToken(VF,",");else if(116===t)this.tState=tP;else if(102===t)this.tState=rP;else if(110===t)this.tState=cP;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=dP;else if(45===t)this.string="-",this.tState=hP;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=pP;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,n)}else if(this.tState===dP)if(t=e[n],this.bytes_remaining>0){for(var r=0;r<this.bytes_remaining;r++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+r]=e[r];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,n=n+r-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+n+" in state "+CP.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+n>e.length){for(var s=0;s<=e.length-1-n;s++)this.temp_buffs[this.bytes_in_sequence][s]=e[n+s];this.bytes_remaining=n+this.bytes_in_sequence-e.length,n=e.length-1}else this.appendStringBuf(e,n,n+this.bytes_in_sequence),n=n+this.bytes_in_sequence-1}else if(34===t)this.tState=QF,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(ZF,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=fP;else{if(!(t>=32))return this.charError(e,n);this.appendStringChar(t)}else if(this.tState===fP)if(34===(t=e[n]))this.appendStringChar(t),this.tState=dP;else if(92===t)this.appendStringChar(92),this.tState=dP;else if(47===t)this.appendStringChar(47),this.tState=dP;else if(98===t)this.appendStringChar(8),this.tState=dP;else if(102===t)this.appendStringChar(12),this.tState=dP;else if(110===t)this.appendStringChar(10),this.tState=dP;else if(114===t)this.appendStringChar(13),this.tState=dP;else if(116===t)this.appendStringChar(9),this.tState=dP;else{if(117!==t)return this.charError(e,n);this.unicode="",this.tState=mP}else if(this.tState===mP||this.tState===gP||this.tState===yP||this.tState===bP){if(!((t=e[n])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,n);if(this.unicode+=String.fromCharCode(t),this.tState++===bP){var o=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&o>=56320&&o<57344?(this.appendStringBuf(DP(String.fromCharCode(this.highSurrogate,o))),this.highSurrogate=void 0):void 0===this.highSurrogate&&o>=55296&&o<56320?this.highSurrogate=o:(void 0!==this.highSurrogate&&(this.appendStringBuf(DP(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(DP(String.fromCharCode(o)))),this.tState=dP}}else if(this.tState===hP||this.tState===pP)switch(t=e[n],t){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=pP;break;default:this.tState=QF;var a=this.numberReviver(this.string);if(a)return a;this.offset+=this.string.length-1,this.string=void 0,n--}else if(this.tState===tP){if(114!==e[n])return this.charError(e,n);this.tState=nP}else if(this.tState===nP){if(117!==e[n])return this.charError(e,n);this.tState=iP}else if(this.tState===iP){if(101!==e[n])return this.charError(e,n);this.tState=QF,this.onToken(KF,!0),this.offset+=3}else if(this.tState===rP){if(97!==e[n])return this.charError(e,n);this.tState=sP}else if(this.tState===sP){if(108!==e[n])return this.charError(e,n);this.tState=oP}else if(this.tState===oP){if(115!==e[n])return this.charError(e,n);this.tState=aP}else if(this.tState===aP){if(101!==e[n])return this.charError(e,n);this.tState=QF,this.onToken(YF,!1),this.offset+=4}else if(this.tState===cP){if(117!==e[n])return this.charError(e,n);this.tState=uP}else if(this.tState===uP){if(108!==e[n])return this.charError(e,n);this.tState=lP}else if(this.tState===lP){if(108!==e[n])return this.charError(e,n);this.tState=QF,this.onToken(JF,null),this.offset+=3}},kP.onToken=function(e,t){},kP.parseError=function(e,t){this.tState=eP,this.onError(new Error("Unexpected "+CP.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+CP.toknam(this.state)))},kP.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},kP.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=vP)},kP.emit=function(e){this.mode&&(this.state=VF),this.onValue(e)},kP.onValue=function(e){},kP.onToken=function(e,t){if(this.state===vP)if(e===ZF||e===XF||e===KF||e===YF||e===JF)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===UF)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=wP,this.mode=_P;else if(e===WF)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=SP,this.state=vP;else if(e===HF){if(this.mode!==_P)return this.parseError(e,t);this.pop()}else{if(e!==zF)return this.parseError(e,t);if(this.mode!==SP)return this.parseError(e,t);this.pop()}else if(this.state===wP)if(e===ZF)this.key=t,this.state=GF;else{if(e!==HF)return this.parseError(e,t);this.pop()}else if(this.state===GF){if(e!==GF)return this.parseError(e,t);this.state=vP}else{if(this.state!==VF)return this.parseError(e,t);if(e===VF)this.mode===SP?(this.key++,this.state=vP):this.mode===_P&&(this.state=wP);else{if(!(e===zF&&this.mode===SP||e===HF&&this.mode===_P))return this.parseError(e,t);this.pop()}}},kP.numberReviver=function(e){var t=Number(e);if(isNaN(t))return this.charError(buffer,i);e.match(/[0-9]+/)==e&&t.toString()!=e?this.onToken(ZF,e):this.onToken(XF,t)},CP.C=qF;const RP=CP,{Minipass:AP}=bv;class TP extends Error{constructor(e,t){super(e.message),Error.captureStackTrace(this,t||this.constructor)}get name(){return"JSONStreamError"}}const OP=(e,t)=>"string"==typeof e?String(t)===e:e&&"function"==typeof e.test?e.test(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t);class FP extends AP{#e=0;#t=!1;#n=null;#i=null;#r=null;#s;#o;#a=null;#c=null;constructor(e){super({...e,objectMode:!0});const t=this.#o=new RP;t.onValue=e=>this.#p(e),this.#s=t.onToken,t.onToken=(e,t)=>this.#h(e,t),t.onError=e=>this.#l(e),this.#a="string"==typeof e.path?e.path.split(".").map((e=>"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e))):Array.isArray(e.path)&&e.path.length?e.path:null,"function"==typeof e.map&&(this.#r=e.map)}#u(e,t){!1!==this.#i&&(this.#i=this.#i||{},this.#i[e]=t),!1!==this.#n&&!1===this.#i&&(this.#n=this.#n||{},this.#n[e]=t)}#l(e){const t=this.#t?this.end:this.write;return this.#t=!1,this.emit("error",new TP(e,t))}#h(e,t){const n=this.#o;if(this.#s.call(this.#o,e,t),0===n.stack.length&&this.#c){const e=this.#c;this.#a||super.write(e),this.#c=null,this.#e=0}}#p(e){const t=this.#o;if(this.#c=e,!this.#a)return;let n=0,i=0,r=!1;for(;n<this.#a.length;){const s=this.#a[n];if(i++,s&&!s.recurse){const o=i===t.stack.length?t:t.stack[i];if(!o)return;if(!OP(s,o.key))return void this.#u(o.key,e);r=!!s.emitKey,n++}else{if(n++,n>=this.#a.length)return;const r=this.#a[n];if(!r)return;for(;;){const s=i===t.stack.length?t:t.stack[i];if(!s)return;if(OP(r,s.key)){n++,Object.isFrozen(t.stack[i])||(t.stack[i].value=null);break}this.#u(s.key,e),i++}}}if(this.#i){const e=this.#i;this.#i=!1,this.emit("header",e)}if(i!==t.stack.length)return;this.#e++;const s=t.stack.slice(1).map((e=>e.key)).concat([t.key]);if(null!=e){const n=this.#r?this.#r(e,s):e;if(null!=n){const e=r?{value:n}:n;r&&(e.key=t.key),super.write(e)}}t.value&&delete t.value[t.key];for(const e of t.stack)e.value=null}write(e,t){if("string"==typeof e)e=Buffer.from(e,t);else if(!Buffer.isBuffer(e))return this.emit("error",new TypeError("Can only parse JSON from string or buffer input"));return this.#o.write(e),this.flowing}end(e,t){this.#t=!0,e&&this.write(e,t);const n=this.#i;this.#i=null;const i=this.#n;return this.#n=null,n&&this.emit("header",n),i&&this.emit("footer",i),super.end()}static get JSONStreamError(){return TP}static parse(e,t){return new FP({path:e,map:t})}}var PP=FP;!function(e){const{HttpErrorAuthOTP:t}=Yl,n=hg,i=Qg,r=$F,s=PP,o=Wg,a=C,c=p,u=Jl,{Minipass:l}=bv,h=Fm;function d(e,s={}){const o={...h,...s},p=(e=>{try{return!!new c.URL(e)}catch{return!1}})(e);let g=o.registry||h.registry;p||(g=o.registry=o.spec&&f(o.spec,o)||o.registry||g,e=`${g.trim().replace(/\/?$/g,"")}/${e.trim().replace(/^\//,"")}`,new c.URL(e));const y=o.method||"GET",b=Date.now(),v=i(e,o),w=function(e,t,n){const i=Object.assign({"user-agent":n.userAgent},n.headers||{});return n.authType&&(i["npm-auth-type"]=n.authType),n.scope&&(i["npm-scope"]=n.scope),n.npmSession&&(i["npm-session"]=n.npmSession),n.npmCommand&&(i["npm-command"]=n.npmCommand),t.token?i.authorization=`Bearer ${t.token}`:t.auth&&(i.authorization=`Basic ${t.auth}`),n.otp&&(i["npm-otp"]=n.otp),i}(0,v,o);let _=o.body;const S=l.isStream(_),E=_&&"object"==typeof _&&"function"==typeof _.then;if(!_||S||E||"string"==typeof _||Buffer.isBuffer(_)?_&&!w["content-type"]&&(w["content-type"]="application/octet-stream"):(w["content-type"]=w["content-type"]||"application/json",_=JSON.stringify(_)),o.gzip)if(w["content-encoding"]="gzip",S){const e=new u.Gzip;_.on("error",(t=>e.emit("error",t))),_=_.pipe(e)}else E||(_=(new u.Gzip).end(_).concat());const x=new c.URL(e);if(o.query){const t="string"==typeof o.query?a.parse(o.query):o.query;Object.keys(t).forEach((e=>{void 0!==t[e]&&x.searchParams.set(e,t[e])})),e=c.format(x)}return"true"===x.searchParams.get("write")&&"GET"===y&&(o.offline=!1,o.preferOffline=!1,o.preferOnline=!0),Promise.resolve(_).then((async i=>{const s=r(e,{agent:o.agent,algorithms:o.algorithms,body:i,cache:m(o),cachePath:o.cache,ca:o.ca,cert:v.cert||o.cert,headers:w,integrity:o.integrity,key:v.key||o.key,localAddress:o.localAddress,maxSockets:o.maxSockets,memoize:o.memoize,method:y,noProxy:o.noProxy,proxy:o.httpsProxy||o.proxy,retry:o.retry?o.retry:{retries:o.fetchRetries,factor:o.fetchRetryFactor,minTimeout:o.fetchRetryMintimeout,maxTimeout:o.fetchRetryMaxtimeout},strictSSL:o.strictSSL,timeout:o.timeout||3e4}).then((t=>n({method:y,uri:e,res:t,registry:g,startTime:b,auth:v,opts:o})));return"function"==typeof o.otpPrompt?s.catch((async n=>{if(n instanceof t){let t;try{t=await o.otpPrompt()}catch{}if(!t)throw n;return d(e,{...o,otp:t})}throw n})):s}))}function f(e,t={}){let n=(e=o(e)).scope&&t[e.scope.replace(/^@?/,"@")+":registry"];return!n&&t.scope&&(n=t[t.scope.replace(/^@?/,"@")+":registry"]),n||(n=t.registry||h.registry),n}function m(e){return e.offline?"only-if-cached":e.preferOffline?"force-cache":e.preferOnline?"no-cache":"default"}e.exports=d,e.exports.getAuth=i,e.exports.json=function(e,t){return d(e,t).then((e=>e.json()))},e.exports.json.stream=function(e,t,n={}){const i={...h,...n},r=s.parse(t,i.mapJSON);return d(e,i).then((e=>e.body.on("error",(e=>r.emit("error",e))).pipe(r))).catch((e=>r.emit("error",e))),r},e.exports.pickRegistry=f}(Gl);const IP=T(Gl.exports),LP=u.homedir(),NP=T((e=>{if("string"!=typeof e)throw new TypeError("Expected a string, got "+typeof e);return LP?e.replace(/^~(?=$|\/|\\)/,LP):e})),BP={name:"npm-check-updates",version:"17.1.0",author:"Tomas Junnonen <tomas1@gmail.com>",license:"Apache-2.0",contributors:["Raine Revere (https://github.com/raineorshine)","Imamuzzaki Abu Salam <imamuzzaki@gmail.com>"],description:"Find newer versions of dependencies than what your package.json allows",keywords:["dependencies","npm","package.json","update","upgrade","versions"],engines:{node:"^18.18.0 || >=20.0.0",npm:">=8.12.1"},main:"build/index.js",types:"build/index.d.ts",scripts:{build:"rimraf build && npm run build:options && vite build","build:options":"vite-node src/scripts/build-options.ts","build:analyze":"rimraf build && npm run build:options && ANALYZER=true vite build",lint:"cross-env FORCE_COLOR=1 npm-run-all --parallel --aggregate-output lint:*","lint:lockfile":"lockfile-lint","lint:markdown":'markdownlint "**/*.md" --ignore "**/node_modules/**/*.md" --ignore build --config .markdownlint.js',"lint:src":"eslint --cache --cache-location node_modules/.cache/.eslintcache --ignore-path .gitignore --report-unused-disable-directives .",prepare:"src/scripts/install-hooks",prepublishOnly:"npm run build",prettier:"prettier . --check",test:"npm run test:unit && npm run test:e2e","test:bun":"test/bun-install.sh && mocha test/bun","test:unit":"mocha test test/package-managers/*","test:e2e":"./test/e2e.sh",ncu:"node build/cli.js"},bin:{"npm-check-updates":"build/cli.js",ncu:"build/cli.js"},repository:{type:"git",url:"git+https://github.com/raineorshine/npm-check-updates.git"},homepage:"https://github.com/raineorshine/npm-check-updates",bugs:{url:"https://github.com/raineorshine/npm-check-updates/issues"},overrides:{ip:"2.0.1",jsonparse:"https://github.com/ARitz-Cracker/jsonparse/tree/patch-1","@yarnpkg/parsers":"2.6.0"},devDependencies:{"@trivago/prettier-plugin-sort-imports":"^4.3.0","@types/chai":"^4.3.16","@types/chai-as-promised":"^7.1.8","@types/chai-string":"^1.4.5","@types/cli-table":"^0.3.4","@types/hosted-git-info":"^3.0.5","@types/ini":"^4.1.1","@types/js-yaml":"^4.0.9","@types/json-parse-helpfulerror":"^1.0.3","@types/jsonlines":"^0.1.5","@types/lodash":"^4.17.7","@types/mocha":"^10.0.7","@types/node":"^22.0.0","@types/npm-registry-fetch":"^8.0.7","@types/parse-github-url":"^1.0.3","@types/picomatch":"^3.0.0","@types/progress":"^2.0.7","@types/prompts":"^2.4.9","@types/remote-git-tags":"^4.0.2","@types/semver":"^7.5.8","@types/semver-utils":"^1.1.3","@types/sinon":"^17.0.3","@types/update-notifier":"^6.0.8","@typescript-eslint/eslint-plugin":"^7.18.0","@typescript-eslint/parser":"^7.18.0",camelcase:"^6.3.0",chai:"^4.3.10","chai-as-promised":"^7.1.2","chai-string":"^1.5.0",chalk:"^5.3.0","cli-table3":"^0.6.5",commander:"^12.1.0","cross-env":"^7.0.3",dequal:"^2.0.3",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-config-raine":"^0.5.0","eslint-config-standard":"^17.1.0","eslint-plugin-import":"^2.29.1","eslint-plugin-jsdoc":"^48.10.2","eslint-plugin-n":"^16.6.2","eslint-plugin-promise":"^6.6.0","fast-glob":"^3.3.2","fast-memoize":"^2.5.2","find-up":"5.0.0","fp-and-or":"^1.0.2","hosted-git-info":"^7.0.2",ini:"^4.1.3","js-yaml":"^4.1.0","json-parse-helpfulerror":"^1.0.3",jsonlines:"^0.1.1","lockfile-lint":"^4.14.0",lodash:"^4.17.21","markdownlint-cli":"^0.41.0",mocha:"^10.7.0","npm-registry-fetch":"^17.1.0","npm-run-all":"^4.1.5","p-map":"^4.0.0","parse-github-url":"^1.0.3",picomatch:"^4.0.2",prettier:"^3.3.3",progress:"^2.0.3","prompts-ncu":"^3.0.0","rc-config-loader":"^4.1.3","remote-git-tags":"^3.0.0",rfdc:"^1.4.1",rimraf:"^6.0.1","rollup-plugin-node-externals":"^7.1.2",semver:"^7.6.3","semver-utils":"^1.1.4",should:"^13.2.3",sinon:"^18.0.0","source-map-support":"^0.5.21","spawn-please":"^3.0.0","strip-ansi":"^7.1.0","strip-json-comments":"^5.0.1","ts-node":"^10.9.2",typescript:"^5.5.4","typescript-json-schema":"^0.64.0",untildify:"^4.0.0","update-notifier":"^7.2.0",verdaccio:"^5.32.0",vite:"^5.3.5","vite-bundle-analyzer":"^0.10.3","vite-node":"^2.0.5","vite-plugin-dts":"^3.9.1",yarn:"^1.22.22"},files:["build","!**/test/**"],"lockfile-lint":{"allowed-schemes":["https:","git+ssh:"],"allowed-hosts":["npm","github.com"],"empty-hostname":!1,type:"npm ",path:"package-lock.json"},mocha:{"check-leaks":!0,extension:["test.ts"],require:["source-map-support/register","ts-node/register"],timeout:6e4,"trace-deprecation":!0,"trace-warnings":!0,use_strict:!0}};var jP={exports:{}},MP={exports:{}};class $P{constructor(e){this.value=e,this.next=void 0}}const qP=class{constructor(){this.clear()}enqueue(e){const t=new $P(e);this._head?(this._tail.next=t,this._tail=t):(this._head=t,this._tail=t),this._size++}dequeue(){const e=this._head;if(e)return this._head=this._head.next,this._size--,e.value}clear(){this._head=void 0,this._tail=void 0,this._size=0}get size(){return this._size}*[Symbol.iterator](){let e=this._head;for(;e;)yield e.value,e=e.next}};const UP=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))throw new TypeError("Expected `concurrency` to be a number from 1 and up");const t=new qP;let n=0;const i=async(e,i,...r)=>{n++;const s=(async()=>e(...r))();i(s);try{await s}catch{}n--,t.size>0&&t.dequeue()()},r=(r,...s)=>new Promise((o=>{((r,s,...o)=>{t.enqueue(i.bind(null,r,s,...o)),(async()=>{await Promise.resolve(),n<e&&t.size>0&&t.dequeue()()})()})(r,o,...s)}));return Object.defineProperties(r,{activeCount:{get:()=>n},pendingCount:{get:()=>t.size},clearQueue:{value:()=>{t.clear()}}}),r};class HP extends Error{constructor(e){super(),this.value=e}}const WP=async(e,t)=>t(await e),zP=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new HP(t[0]);return!1};const GP=r,VP=c,{promisify:KP}=l,YP=async(e,t,n)=>{n={concurrency:1/0,preserveOrder:!0,...n};const i=UP(n.concurrency),r=[...e].map((e=>[e,i(WP,e,t)])),s=UP(n.preserveOrder?1:1/0);try{await Promise.all(r.map((e=>s(zP,e))))}catch(e){if(e instanceof HP)return e.value;throw e}},JP=KP(VP.stat),ZP=KP(VP.lstat),XP={directory:"isDirectory",file:"isFile"};function QP({type:e}){if(!(e in XP))throw new Error(`Invalid type specified: ${e}`)}const eI=(e,t)=>void 0===e||t[XP[e]]();MP.exports=async(e,t)=>{QP(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const n=t.allowSymlinks?JP:ZP;return YP(e,(async e=>{try{const i=await n(GP.resolve(t.cwd,e));return eI(t.type,i)}catch{return!1}}),t)},MP.exports.sync=(e,t)=>{QP(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const n=t.allowSymlinks?VP.statSync:VP.lstatSync;for(const i of e)try{const e=n(GP.resolve(t.cwd,i));if(eI(t.type,e))return i}catch{}};var tI=MP.exports,nI={exports:{}};const iI=c,{promisify:rI}=l,sI=rI(iI.access);nI.exports=async e=>{try{return await sI(e),!0}catch{return!1}},nI.exports.sync=e=>{try{return iI.accessSync(e),!0}catch{return!1}};var oI=nI.exports;!function(e){const t=r,n=tI,i=oI,s=Symbol("findUp.stop");e.exports=async(e,i={})=>{let r=t.resolve(i.cwd||"");const{root:o}=t.parse(r),a=[].concat(e),c=async t=>{if("function"!=typeof e)return n(a,t);const i=await e(t.cwd);return"string"==typeof i?n([i],t):i};for(;;){const e=await c({...i,cwd:r});if(e===s)return;if(e)return t.resolve(r,e);if(r===o)return;r=t.dirname(r)}},e.exports.sync=(e,i={})=>{let r=t.resolve(i.cwd||"");const{root:o}=t.parse(r),a=[].concat(e),c=t=>{if("function"!=typeof e)return n.sync(a,t);const i=e(t.cwd);return"string"==typeof i?n.sync([i],t):i};for(;;){const e=c({...i,cwd:r});if(e===s)return;if(e)return t.resolve(r,e);if(r===o)return;r=t.dirname(r)}},e.exports.exists=i,e.exports.sync.exists=i.sync,e.exports.stop=s}(jP);const aI=T(jP.exports);class cI{constructor(e,t,n){this.__specs=e||{},this.__opts=t||{},this.__providers=dI(n.filter((e=>null!=e&&"object"==typeof e))),this.__isFiggyPudding=!0}get(e){return uI(this,e)}toJSON(){const e={};return this.forEach(((t,n)=>{e[n]=t})),e}forEach(e,t=this){for(let[n,i]of this.entries())e.call(t,i,n,this)}*entries(e){for(let e of Object.keys(this.__specs))yield[e,this.get(e)];const t=e||this.__opts.other;if(t){const e=new Set;for(let n of this.__providers){const i=n.entries?n.entries(t):fI(n);for(let[n,r]of i)t(n)&&!e.has(n)&&(e.add(n),yield[n,r])}}}concat(...e){return new Proxy(new cI(this.__specs,this.__opts,dI(this.__providers).concat(e)),hI)}}function uI(e,t,n){let i,r=e.__specs[t];r||(r={});for(let n of e.__providers)if(i=lI(t,n),void 0!==i)break;return void 0===i&&void 0!==r.default?"function"==typeof r.default?r.default(e):r.default:i}function lI(e,t){let n;return n=t.__isFiggyPudding?uI(t,e):t[e],n}const hI={get:(e,t)=>"symbol"==typeof t||"__"===t.slice(0,2)||t in cI.prototype?e[t]:e.get(t)};function pI(e,t){return function(...n){return new Proxy(new cI(e,t,n),hI)}}function dI(e){const t=[];return e.forEach((e=>t.unshift(e))),t}function fI(e){return Object.keys(e).map((t=>[t,e[t]]))}const mI=pI({},{other:()=>!0}),gI=pI({cache:{default:r.join(process.env.HOME||u.homedir(),".npm")},configNames:{default:["npmrc",".npmrc"]},envPrefix:{default:/^npm_config_/i},cwd:{default:()=>process.cwd()},globalconfig:{default:()=>r.join(function(){if(process.env.PREFIX)return process.env.PREFIX;if("win32"===process.platform)return r.dirname(process.execPath);{let e=r.dirname(r.dirname(process.execPath));return process.env.DESTDIR&&(e=r.join(process.env.DESTDIR,e)),e}}(),"etc","npmrc")},userconfig:{default:r.join(process.env.HOME||u.homedir(),".npmrc")}});function yI(e,t){const n=gI(t),i={};Object.keys(process.env).forEach((e=>{if(!e.match(n.envPrefix))return;const t=e.toLowerCase().replace(n.envPrefix,"").replace(/(?!^)_/g,"-");i[t]=process.env[e]}));const s=mI(e),o=n.userconfig||s.userconfig||i.userconfig,a=o&&bI(o),c=n.globalconfig||s.globalconfig||i.globalconfig,u=c&&bI(c),l=aI.sync(n.configNames,{cwd:n.cwd});let h={};l&&l!==o&&(h=bI(l));const p=mI(n,u,a,h,i,s);return p.cache?p.concat({cache:r.resolve(s.cache||i.cache?n.cwd:h.cache?r.dirname(l):a.cache?r.dirname(o):u.cache?r.dirname(c):r.dirname(o),p.cache)}):p}function bI(e){let t;try{t=c.readFileSync(e,"utf8")}catch(e){if("ENOENT"===e.code)return"";throw e}return zl.parse(t)}function vI(e,t){if(!t)return!0;const n=pu.minVersion(t)?.version;if(!n)return!0;const i=e?.engines?.node;return!i||pu.satisfies(n,i)}function wI(e){const t=[t=>function(e,t){return t.deprecated||!e.deprecated}(t,e),t=>function(e,t){return!!t.pre||!e.version||!Pu(e.version)}(t,e),e.enginesNode?t=>vI(t,e.nodeEngineVersion):null,e.peerDependencies?t=>function(e,t){return!t||Object.values(t).every((t=>void 0===t[e.name]||pu.satisfies(e.version,t[e.name])))}(t,e.peerDependencies):null];return e=>t.every((t=>!t||t(e)))}const _I=new Set(["-","||","&&","<","<=",">",">="]),SI=e=>e&&(!pu.validRange(e)||Cu(e)),EI=async(e,t,n,i={},r)=>{const s=IP.pickRegistry(e,i),o={"user-agent":i.userAgent||`npm-check-updates/${BP.version} node/${process.version}`,"ncu-version":BP.version,"ncu-pkg-id":`registry:${e}`,accept:i.fullMetadata?"application/json":"application/vnd.npm.install-v1+json; q=1.0, application/json; q=0.8, */*",...i.headers},a=new URL(encodeURIComponent(e),s.endsWith("/")?s:`${s}/`);r&&(a.pathname+=`/${r}`);const c={...i,headers:o,spec:e};try{if(i.fullMetadata)return IP.json(a.href,c);{n=n||"latest";const i=IP.json.stream(a.href,"$*",c),r={name:e};for await(const{key:e,value:n}of i)if(t.includes(e)&&(r[e]=n,Object.keys(r).length===t.length+1))break;return r}}catch(s){if("E404"!==s.code||i.fullMetadata)throw s;return EI(e,t,n,{...i,fullMetadata:!0},r)}},xI=(e,t)=>{const n={cafile:e=>{if(!e)return;const n=c.readFileSync(r.resolve(t||"",NP(e)),"utf8"),i="-----END CERTIFICATE-----";return{ca:n.split(i).filter((e=>!!e.trim())).map((e=>`${e.trimStart()}${i}`))}},maxsockets:"maxSockets","strict-ssl":"strictSSL"},i={all:"boolean",allowsameversion:"boolean",audit:"boolean",binlinks:"boolean",color:"boolean",commithooks:"boolean",description:"boolean",dev:"boolean",diffignoreallspace:"boolean",diffnameonly:"boolean",diffnoprefix:"boolean",difftext:"boolean",dryrun:"boolean",enginestrict:"boolean",force:"boolean",foregroundscripts:"boolean",formatpackagelock:"boolean",fund:"boolean",gittagversion:"boolean",global:"boolean",globalstyle:"boolean",ifpresent:"boolean",ignorescripts:"boolean",includestaged:"boolean",includeworkspaceroot:"boolean",installlinks:"boolean",json:"boolean",legacybundling:"boolean",legacypeerdeps:"boolean",link:"boolean",long:"boolean",offline:"boolean",omitlockfileregistryresolved:"boolean",packagelock:"boolean",packagelockonly:"boolean",parseable:"boolean",preferoffline:"boolean",preferonline:"boolean",progress:"boolean",readonly:"boolean",rebuildbundle:"boolean",save:"boolean",savebundle:"boolean",savedev:"boolean",saveexact:"boolean",saveoptional:"boolean",savepeer:"boolean",saveprod:"boolean",shrinkwrap:"boolean",signgitcommit:"boolean",signgittag:"boolean",strictpeerdeps:"boolean",strictssl:"boolean",timing:"boolean",unicode:"boolean",updatenotifier:"boolean",usage:"boolean",version:"boolean",versions:"boolean",workspacesupdate:"boolean",diffunified:"number",fetchretries:"number",fetchretryfactor:"number",fetchretrymaxtimeout:"number",fetchretrymintimeout:"number",fetchtimeout:"number",logsmax:"number",maxsockets:"number",searchlimit:"number",searchstaleness:"number",ssopollfrequency:"number",timeout:"number"};return br(e,((e,t)=>{const r="string"!=typeof t?t:"boolean"===i[e.replace(/-/g,"").toLowerCase()]?(e=>!!e&&"false"!==e&&"0"!==e)(t):"number"===i[e.replace(/-/g,"").toLowerCase()]?(e=>parseInt(e)||0)(t):t.replace(/\${([^}]+)}/,((e,t)=>process.env[t])),{[e]:s}=n;return"string"==typeof s?{[s]:r}:"function"==typeof s?{...s(r.toString())}:{[e.match(/^[a-z]/i)?Rl(e):e]:r}}))},DI=Bl((e=>{let t;if(e)try{t=zl.parse(c.readFileSync(e,"utf-8"))}catch(e){if("ENOENT"===e.code)return null;throw e}else t={...yI(null,{userconfig:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG}).toJSON(),cache:!1};return xI(t,e)})),CI=DI();function kI(e,t){let n;try{n=JSON.parse(e)}catch{throw new Error(`Expected JSON from "${t.command}".${t.packageName?` There could be problems with the ${t.packageName} package.`:""} ${e?"Instead received: "+e:"Received empty response."}`)}return n}async function RI(e,t,n,i={},r){const s=await EI(e,["versions"],null,{...r,...CI,fullMetadata:!0,...i.registry?{registry:i.registry,silent:!0}:null});if(s.versions){const e=Object.keys(s.versions),i=pu.minSatisfying(e,t),r=pu.maxSatisfying(e,n);if(i&&r&&s.versions[i]._npmUser&&s.versions[r]._npmUser){const e=s.versions[i]._npmUser?.name,t=s.versions[r]._npmUser?.name;return e!==t}}return!1}const AI=e=>!(!e||!(e.name||e.engines||e.version||e.versions)),TI=e=>(t,n,i,r)=>{const s="function"==typeof e?e(r)?.[t]:"string"==typeof e||AI(e)?e:e[t],o=AI(s)?s.version:s;if(!o)throw new Error(`fetchUpgradedPackument is mocked, but no mock version was supplied for ${t}. Make sure that all dependencies are mocked. `);const a=AI(s)&&s.time?.[o]||(new Date).toISOString(),c={name:t,"dist-tags":{[r.distTag||"latest"]:o},engines:{node:""},time:{[o]:a},version:o,versions:{},...AI(s)?s:null},{versions:u,...l}=c;return Promise.resolve({...c,versions:{...AI(s)&&s.versions||{[o]:l}}})},OI=Bl((({npmConfigLocal:e,npmConfigUser:t,npmConfigWorkspaceProject:n},i)=>{const s=i.packageFile?r.join(i.packageFile,"../.npmrc"):null,o=i.packageFile?DI(s||void 0):null,a=i.cwd?r.join(i.cwd,".npmrc"):null,c=i.cwd?DI(a):null;if(n&&Object.keys(n).length>0){Ku(i,"\nnpm config (workspace project):","verbose");const{cache:e,...t}=n;Ju(i,t,"verbose")}if(t&&Object.keys(t).length>0){Ku(i,"\nnpm config (user):","verbose");const{cache:e,...n}=t;Ju(i,n,"verbose")}if(e&&Object.keys(e).length>0){Ku(i,"\nnpm config (local override):","verbose");const{cache:t,...n}=e;Ju(i,n,"verbose")}if(o&&Object.keys(o).length>0){Ku(i,`\nnpm config (project: ${s}):`,"verbose");const{cache:e,...t}=o;Ju(i,t,"verbose")}if(c&&Object.keys(c).length>0){Ku(i,`\nnpm config (cwd: ${a}):`,"verbose");const{cache:e,...t}=c;Ju(i,t,"verbose")}const u={...n,...t,...e,...o,...c,...i.registry?{registry:i.registry,silent:!0}:null,...i.timeout?{timeout:i.timeout}:null};if(n||e||o||c){Ku(i,"\nmerged npm config:","verbose");const{cache:e,...t}=u;Ju(i,t,"verbose")}return u})),FI=Bl((async function e(t,n,i,r,s=0,o,a){if(process.env.STUB_VERSIONS){const e=JSON.parse(process.env.STUB_VERSIONS);return TI(e)(t,n,i,r)}if(SI(i))return Promise.resolve({});const c=r.format?.includes("time")&&!n.includes("time")?[...n,"time"]:n,u=c.includes("time"),l=OI({npmConfigUser:{...CI,fullMetadata:u},npmConfigLocal:o,npmConfigWorkspaceProject:a},r);let h;try{const e=r.distTag||"latest";h=await EI(t,Array.from(new Set(["dist-tags",...n,...r.deprecated?[]:["deprecated","versions"],...r.enginesNode?["engines","versions"]:[]])),u?null:e,l)}catch(n){if(r.retry&&++s<=r.retry)return e(t,c,i,r,s,o);throw n}return h}),{serializer:([e,t,n,i,r,s,o])=>{const{packageFile:a,...c}=i;return JSON.stringify([e,t,SI(n),c,r,s,o])}});async function PI(e,t={},n={},i={}){const r="win32"===process.platform?"npm.cmd":"npm",s=[...t.global?["--global"]:[],...t.prefix?[`--prefix=${t.prefix}`]:[],"--json",...Array.isArray(e)?e:[e]],{stdout:o}=await Xn(r,s,n,i);return o}async function II(e){if(e.prefix)return Promise.resolve(e.prefix);const t="win32"===process.platform?"npm.cmd":"npm";let n;try{const{stdout:e}=await Xn(t,["config","get","prefix"]);n=e}catch(t){Ku(e,"Error executing `npm config get prefix`. Caught and ignored. Unsolved: https://github.com/raineorshine/npm-check-updates/issues/703. ERROR: "+(t.message||t||"").toString(),"verbose","error")}return e.global&&n?.match("Cellar")?"/usr/local":"win32"===process.platform&&e.global&&!process.env.prefix?n?n.trim():`${process.env.AppData}\\npm`:void 0}const LI=async(e,t,n={},i,r)=>{const s=(await FI(e,["versions"],t,n,0,i,r))?.versions;return{version:Object.values(s||{}).filter(wI(n)).map((e=>e.version)).sort(Ou).at(-1)||null}},NI=async(e,t)=>{const n=["view",`${e}@${t}`,"peerDependencies"],i=await PI(n,{},{rejectOnError:!1});return i?kI(i,{command:[...n,"--json"].join(" ")}):{}},BI=async(e,t,n={},i)=>(await EI(e,["engines"],null,{...i,...CI,...n.registry?{registry:n.registry,silent:!0}:null},t)).engines||{},jI=async(e={})=>br(kI(await PI(["ls","--depth=0"],{...e.global?{global:!0}:null,...e.prefix?{prefix:e.prefix}:null},{rejectOnError:!1},{...e.cwd?{cwd:e.cwd}:null}),{command:`npm${"win32"===process.platform?".cmd":""} ls --json${e.global?" --global":""}`}).dependencies,((e,t)=>({[e]:t.version||t.required?.version}))),MI=async(e,t,n={},i,r)=>{const s=await FI(e,["dist-tags"],t,n,0,i,r),o=s?.["dist-tags"]?.[n.distTag||"latest"],a=s?.versions?s.versions?.[o]:{name:e,version:o};return a&&wI(n)(a)?{version:a.version,...s?.time?.[o]?{time:s.time[o]}:null}:n.distTag&&"latest"!==n.distTag?{}:LI(e,t,n,i,r)},$I=async(e,t,n={},i,r)=>MI(e,t,{...n,distTag:"latest"},i,r),qI=async(e,t,n={},i,r)=>{const s=await FI(e,["time","versions"],t,n,0,i,r),o=br(s?.versions||{},((e,t)=>vI(t,n.nodeEngineVersion)?{[t.version]:!0}:null)),a=Dr(s?.time||{},(e=>o[e]&&(!1!==n.pre||!Pu(e))));return{version:gu(Object.entries(a),(e=>e[1])).map((([e])=>e)).at(-1)}},UI=async(e,t,n={},i,r)=>{const s=(await FI(e,["versions"],t,n,0,i,r))?.versions;return{version:Fu(Object.values(s||{}).filter(wI(n)).map((e=>e.version)),t,"minor")}},HI=async(e,t,n={},i,r)=>{const s=(await FI(e,["versions"],t,n,0,i,r))?.versions;return{version:Fu(Object.values(s||{}).filter(wI(n)).map((e=>e.version)),t,"patch")}},WI=async(e,t,n={},i,r)=>{const s=(await FI(e,["versions"],t,n,0,i,r))?.versions;if((e=>du(e).some((e=>_I.has(e.operator||""))))(t))return{version:null};const o=Object.values(s||{}).filter(wI(n)).map((e=>e.version));return{version:pu.maxSatisfying(o,t)}},zI=Object.freeze(Object.defineProperty({__proto__:null,default:PI,defaultPrefix:II,distTag:MI,fetchUpgradedPackumentMemo:FI,getEngines:BI,getPeerDependencies:NI,greatest:LI,latest:$I,list:jI,minor:UI,mockFetchUpgradedPackument:TI,newest:qI,normalizeNpmConfig:xI,packageAuthorChanged:RI,patch:HI,semver:WI},Symbol.toStringTag,{value:"Module"}));async function GI(e,t={},n={},i={}){const r=[...t.global?["--global"]:[],...t.prefix?[`--prefix=${t.prefix}`]:[],...Array.isArray(e)?e:[e]];return Xn("bun",r,n,i)}const VI=LI,KI=$I,YI=UI,JI=qI,ZI=HI,XI=WI,QI=Object.freeze(Object.defineProperty({__proto__:null,default:GI,defaultPrefix:async e=>e.global?e.prefix||process.env.BUN_INSTALL||r.dirname((await Xn("bun",["pm","-g","bin"])).stdout):void 0,getEngines:BI,getPeerDependencies:NI,greatest:VI,latest:KI,list:async(e={})=>{const{default:t}=await Promise.resolve().then((()=>n(65766))),{stdout:i}=await GI(["pm","ls"],{...e.global?{global:!0}:null,...e.prefix?{prefix:e.prefix}:null},{rejectOnError:!1},{env:{...process.env,NO_COLOR:"1"},...e.cwd?{cwd:e.cwd}:null});return br(t(i).split("\n"),(e=>{const t=e.match(/.* (.*?)@(.+)/);if(t){const[,e,n]=t;return{[e]:n}}return null}))},minor:YI,newest:JI,packageAuthorChanged:RI,patch:ZI,semver:XI},Symbol.toStringTag,{value:"Module"})),eL=Bl((async e=>{const t=await aI("pnpm-workspace.yaml");if(!t)return{};const n=r.dirname(t),i=r.join(n,".npmrc");let s;try{s=await h.readFile(i,"utf-8")}catch{return{}}Ku(e,`\nUsing pnpm workspace config at ${i}:`,"verbose");const o=xI(zl.parse(s),n);return Ku(e,o,"verbose"),o})),tL=e=>async(t,n,i={})=>e(t,n,i,{},await eL(i)),nL=tL(MI),iL=tL(LI),rL=tL($I),sL=tL(UI),oL=tL(qI),aL=tL(HI),cL=tL(WI);async function uL(e,t={},n,i){const r="win32"===process.platform?"pnpm.cmd":"pnpm",s=[...t.global?"global":[],...Array.isArray(e)?e:[e],...t.prefix?`--prefix=${t.prefix}`:[]],{stdout:o}=await Xn(r,s,i,n);return o}const lL=Object.freeze(Object.defineProperty({__proto__:null,default:uL,defaultPrefix:II,distTag:nL,getEngines:BI,getPeerDependencies:NI,greatest:iL,latest:rL,list:async(e={})=>{if(!e.global)return jI(e);const t="win32"===process.platform?"pnpm.cmd":"pnpm",{stdout:n}=await Xn(t,["ls","-g","--json"]);return br(JSON.parse(n)[0].dependencies||{},((e,{version:t})=>({[e]:t})))},minor:sL,newest:oL,packageAuthorChanged:RI,patch:aL,semver:cL},Symbol.toStringTag,{value:"Module"}));var hL,pL,dL,fL,mL,gL,yL,bL,vL,wL,_L,SL,EL,xL,DL,CL,kL,RL,AL,TL,OL,FL,PL,IL,LL,NL,BL,jL,ML,$L,qL,UL,HL,WL,zL,GL,VL,KL,YL,JL,ZL,XL,QL,eN,tN={},nN={},iN={};function rN(){if(hL)return iN;function e(e){return typeof e>"u"||null===e}return hL=1,iN.isNothing=e,iN.isObject=function(e){return"object"==typeof e&&null!==e},iN.toArray=function(t){return Array.isArray(t)?t:e(t)?[]:[t]},iN.repeat=function(e,t){var n,i="";for(n=0;n<t;n+=1)i+=e;return i},iN.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},iN.extend=function(e,t){var n,i,r,s;if(t)for(n=0,i=(s=Object.keys(t)).length;n<i;n+=1)e[r=s[n]]=t[r];return e},iN}function sN(){if(dL)return pL;function e(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+="\n\n"+e.mark.snippet),i+" "+n):i}function t(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=e(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}return dL=1,t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t.prototype.toString=function(t){return this.name+": "+e(this,t)},pL=t}function oN(){if(yL)return gL;yL=1;var e=sN(),t=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],n=["scalar","sequence","mapping"];return gL=function(i,r){if(r=r||{},Object.keys(r).forEach((function(n){if(-1===t.indexOf(n))throw new e('Unknown option "'+n+'" is met in definition of "'+i+'" YAML type.')})),this.options=r,this.tag=i,this.kind=r.kind||null,this.resolve=r.resolve||function(){return!0},this.construct=r.construct||function(e){return e},this.instanceOf=r.instanceOf||null,this.predicate=r.predicate||null,this.represent=r.represent||null,this.representName=r.representName||null,this.defaultStyle=r.defaultStyle||null,this.multi=r.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(n){e[n].forEach((function(e){t[String(e)]=n}))})),t}(r.styleAliases||null),-1===n.indexOf(this.kind))throw new e('Unknown kind "'+this.kind+'" is specified for "'+i+'" YAML type.')}}function aN(){if(vL)return bL;vL=1;var e=sN(),t=oN();function n(e,t){var n=[];return e[t].forEach((function(e){var t=n.length;n.forEach((function(n,i){n.tag===e.tag&&n.kind===e.kind&&n.multi===e.multi&&(t=i)})),n[t]=e})),n}function i(e){return this.extend(e)}return i.prototype.extend=function(r){var s=[],o=[];if(r instanceof t)o.push(r);else if(Array.isArray(r))o=o.concat(r);else{if(!r||!Array.isArray(r.implicit)&&!Array.isArray(r.explicit))throw new e("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.implicit&&(s=s.concat(r.implicit)),r.explicit&&(o=o.concat(r.explicit))}s.forEach((function(n){if(!(n instanceof t))throw new e("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(n.loadKind&&"scalar"!==n.loadKind)throw new e("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(n.multi)throw new e("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),o.forEach((function(n){if(!(n instanceof t))throw new e("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var a=Object.create(i.prototype);return a.implicit=(this.implicit||[]).concat(s),a.explicit=(this.explicit||[]).concat(o),a.compiledImplicit=n(a,"implicit"),a.compiledExplicit=n(a,"explicit"),a.compiledTypeMap=function(){var e,t,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function i(e){e.multi?(n.multi[e.kind].push(e),n.multi.fallback.push(e)):n[e.kind][e.tag]=n.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(i);return n}(a.compiledImplicit,a.compiledExplicit),a},bL=i}function cN(){if(_L)return wL;_L=1;var e=oN();return wL=new e("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})}function uN(){if(EL)return SL;EL=1;var e=oN();return SL=new e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})}function lN(){if(DL)return xL;DL=1;var e=oN();return xL=new e("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})}function hN(){if(kL)return CL;kL=1;var e=aN();return CL=new e({explicit:[cN(),uN(),lN()]})}function pN(){if(AL)return RL;AL=1;var e=oN();return RL=new e("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})}function dN(){if(OL)return TL;OL=1;var e=oN();return TL=new e("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})}function fN(){if(PL)return FL;PL=1;var e=rN(),t=oN();function n(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function i(e){return 48<=e&&e<=55}function r(e){return 48<=e&&e<=57}return FL=new t("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,s=e.length,o=0,a=!1;if(!s)return!1;if(("-"===(t=e[o])||"+"===t)&&(t=e[++o]),"0"===t){if(o+1===s)return!0;if("b"===(t=e[++o])){for(o++;o<s;o++)if("_"!==(t=e[o])){if("0"!==t&&"1"!==t)return!1;a=!0}return a&&"_"!==t}if("x"===t){for(o++;o<s;o++)if("_"!==(t=e[o])){if(!n(e.charCodeAt(o)))return!1;a=!0}return a&&"_"!==t}if("o"===t){for(o++;o<s;o++)if("_"!==(t=e[o])){if(!i(e.charCodeAt(o)))return!1;a=!0}return a&&"_"!==t}}if("_"===t)return!1;for(;o<s;o++)if("_"!==(t=e[o])){if(!r(e.charCodeAt(o)))return!1;a=!0}return!(!a||"_"===t)},construct:function(e){var t,n=e,i=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),("-"===(t=n[0])||"+"===t)&&("-"===t&&(i=-1),t=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===t){if("b"===n[1])return i*parseInt(n.slice(2),2);if("x"===n[1])return i*parseInt(n.slice(2),16);if("o"===n[1])return i*parseInt(n.slice(2),8)}return i*parseInt(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!e.isNegativeZero(t)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})}function mN(){if(LL)return IL;LL=1;var e=rN(),t=oN(),n=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),i=/^[-+]?[0-9]+e/;return IL=new t("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return!(null===e||!n.test(e)||"_"===e[e.length-1])},construct:function(e){var t,n;return n="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:n*parseFloat(t,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||e.isNegativeZero(t))},represent:function(t,n){var r;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(e.isNegativeZero(t))return"-0.0";return r=t.toString(10),i.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"})}function gN(){return BL||(BL=1,NL=hN().extend({implicit:[pN(),dN(),fN(),mN()]})),NL}function yN(){return ML||(ML=1,jL=gN()),jL}function bN(){if(qL)return $L;qL=1;var e=oN(),t=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),n=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");return $L=new e("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==t.exec(e)||null!==n.exec(e))},construct:function(e){var i,r,s,o,a,c,u,l,h=0,p=null;if(null===(i=t.exec(e))&&(i=n.exec(e)),null===i)throw new Error("Date resolve error");if(r=+i[1],s=+i[2]-1,o=+i[3],!i[4])return new Date(Date.UTC(r,s,o));if(a=+i[4],c=+i[5],u=+i[6],i[7]){for(h=i[7].slice(0,3);h.length<3;)h+="0";h=+h}return i[9]&&(p=6e4*(60*+i[10]+ +(i[11]||0)),"-"===i[9]&&(p=-p)),l=new Date(Date.UTC(r,s,o,a,c,u,h)),p&&l.setTime(l.getTime()-p),l},instanceOf:Date,represent:function(e){return e.toISOString()}})}function vN(){if(HL)return UL;HL=1;var e=oN();return UL=new e("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})}function wN(){if(zL)return WL;zL=1;var e=oN(),t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";return WL=new e("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var n,i,r=0,s=e.length,o=t;for(i=0;i<s;i++)if(!((n=o.indexOf(e.charAt(i)))>64)){if(n<0)return!1;r+=6}return r%8==0},construct:function(e){var n,i,r=e.replace(/[\r\n=]/g,""),s=r.length,o=t,a=0,c=[];for(n=0;n<s;n++)n%4==0&&n&&(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)),a=a<<6|o.indexOf(r.charAt(n));return 0==(i=s%4*6)?(c.push(a>>16&255),c.push(a>>8&255),c.push(255&a)):18===i?(c.push(a>>10&255),c.push(a>>2&255)):12===i&&c.push(a>>4&255),new Uint8Array(c)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var n,i,r="",s=0,o=e.length,a=t;for(n=0;n<o;n++)n%3==0&&n&&(r+=a[s>>18&63],r+=a[s>>12&63],r+=a[s>>6&63],r+=a[63&s]),s=(s<<8)+e[n];return 0==(i=o%3)?(r+=a[s>>18&63],r+=a[s>>12&63],r+=a[s>>6&63],r+=a[63&s]):2===i?(r+=a[s>>10&63],r+=a[s>>4&63],r+=a[s<<2&63],r+=a[64]):1===i&&(r+=a[s>>2&63],r+=a[s<<4&63],r+=a[64],r+=a[64]),r}})}function _N(){if(VL)return GL;VL=1;var e=oN(),t=Object.prototype.hasOwnProperty,n=Object.prototype.toString;return GL=new e("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var i,r,s,o,a,c=[],u=e;for(i=0,r=u.length;i<r;i+=1){if(s=u[i],a=!1,"[object Object]"!==n.call(s))return!1;for(o in s)if(t.call(s,o)){if(a)return!1;a=!0}if(!a)return!1;if(-1!==c.indexOf(o))return!1;c.push(o)}return!0},construct:function(e){return null!==e?e:[]}})}function SN(){if(YL)return KL;YL=1;var e=oN(),t=Object.prototype.toString;return KL=new e("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var n,i,r,s,o,a=e;for(o=new Array(a.length),n=0,i=a.length;n<i;n+=1){if(r=a[n],"[object Object]"!==t.call(r)||1!==(s=Object.keys(r)).length)return!1;o[n]=[s[0],r[s[0]]]}return!0},construct:function(e){if(null===e)return[];var t,n,i,r,s,o=e;for(s=new Array(o.length),t=0,n=o.length;t<n;t+=1)i=o[t],r=Object.keys(i),s[t]=[r[0],i[r[0]]];return s}})}function EN(){if(ZL)return JL;ZL=1;var e=oN(),t=Object.prototype.hasOwnProperty;return JL=new e("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var n,i=e;for(n in i)if(t.call(i,n)&&null!==i[n])return!1;return!0},construct:function(e){return null!==e?e:{}}})}function xN(){return QL||(QL=1,XL=yN().extend({implicit:[bN(),vN()],explicit:[wN(),_N(),SN(),EN()]})),XL}var DN,CN,kN={};function RN(){if(DN)return kN;DN=1;var e=rN(),t=sN(),n=xN(),i=Object.prototype.toString,r=Object.prototype.hasOwnProperty,s=65279,o=9,a=10,c=13,u=32,l=33,h=34,p=35,d=37,f=38,m=39,g=42,y=44,b=45,v=58,w=61,_=62,S=63,E=64,x=91,D=93,C=96,k=123,R=124,A=125,T={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},O=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],F=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function P(n){var i,r,s;if(i=n.toString(16).toUpperCase(),n<=255)r="x",s=2;else if(n<=65535)r="u",s=4;else{if(!(n<=4294967295))throw new t("code point within a string may not be greater than 0xFFFFFFFF");r="U",s=8}return"\\"+r+e.repeat("0",s-i.length)+i}var I=2;function L(t){this.schema=t.schema||n,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=e.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(e,t){var n,i,s,o,a,c,u;if(null===t)return{};for(n={},s=0,o=(i=Object.keys(t)).length;s<o;s+=1)a=i[s],c=String(t[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),(u=e.compiledTypeMap.fallback[a])&&r.call(u.styleAliases,c)&&(c=u.styleAliases[c]),n[a]=c;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?I:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function N(t,n){for(var i,r=e.repeat(" ",n),s=0,o=-1,a="",c=t.length;s<c;)-1===(o=t.indexOf("\n",s))?(i=t.slice(s),s=c):(i=t.slice(s,o+1),s=o+1),i.length&&"\n"!==i&&(a+=r),a+=i;return a}function B(t,n){return"\n"+e.repeat(" ",t.indent*n)}function j(e){return e===u||e===o}function M(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==s||65536<=e&&e<=1114111}function $(e){return M(e)&&e!==s&&e!==c&&e!==a}function q(e,t,n){var i=$(e),r=i&&!j(e);return(n?i:i&&e!==y&&e!==x&&e!==D&&e!==k&&e!==A)&&e!==p&&!(t===v&&!r)||$(t)&&!j(t)&&e===p||t===v&&r}function U(e,t){var n,i=e.charCodeAt(t);return i>=55296&&i<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1))>=56320&&n<=57343?1024*(i-55296)+n-56320+65536:i}function H(e){return/^\n* /.test(e)}var W=1,z=2,G=3,V=4,K=5;function Y(e,n,i,r,o){e.dump=function(){if(0===n.length)return e.quotingType===I?'""':"''";if(!e.noCompatMode&&(-1!==O.indexOf(n)||F.test(n)))return e.quotingType===I?'"'+n+'"':"'"+n+"'";var c=e.indent*Math.max(1,i),u=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-c),L=r||e.flowLevel>-1&&i>=e.flowLevel;switch(function(e,t,n,i,r,o,c,u){var T,O=0,F=null,P=!1,L=!1,N=-1!==i,B=-1,$=function(e){return M(e)&&e!==s&&!j(e)&&e!==b&&e!==S&&e!==v&&e!==y&&e!==x&&e!==D&&e!==k&&e!==A&&e!==p&&e!==f&&e!==g&&e!==l&&e!==R&&e!==w&&e!==_&&e!==m&&e!==h&&e!==d&&e!==E&&e!==C}(U(e,0))&&function(e){return!j(e)&&e!==v}(U(e,e.length-1));if(t||c)for(T=0;T<e.length;O>=65536?T+=2:T++){if(!M(O=U(e,T)))return K;$=$&&q(O,F,u),F=O}else{for(T=0;T<e.length;O>=65536?T+=2:T++){if((O=U(e,T))===a)P=!0,N&&(L=L||T-B-1>i&&" "!==e[B+1],B=T);else if(!M(O))return K;$=$&&q(O,F,u),F=O}L=L||N&&T-B-1>i&&" "!==e[B+1]}return P||L?n>9&&H(e)?K:c?o===I?K:z:L?V:G:!$||c||r(e)?o===I?K:z:W}(n,L,e.indent,u,(function(t){return function(e,t){var n,i;for(n=0,i=e.implicitTypes.length;n<i;n+=1)if(e.implicitTypes[n].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!r,o)){case W:return n;case z:return"'"+n.replace(/'/g,"''")+"'";case G:return"|"+J(n,e.indent)+Z(N(n,c));case V:return">"+J(n,e.indent)+Z(N(function(e,t){for(var n,i,r=/(\n+)([^\n]*)/g,s=(u=void 0,u=-1!==(u=e.indexOf("\n"))?u:e.length,r.lastIndex=u,X(e.slice(0,u),t)),o="\n"===e[0]||" "===e[0];i=r.exec(e);){var a=i[1],c=i[2];n=" "===c[0],s+=a+(o||n||""===c?"":"\n")+X(c,t),o=n}var u;return s}(n,u),c));case K:return'"'+function(e){for(var t,n="",i=0,r=0;r<e.length;i>=65536?r+=2:r++)i=U(e,r),!(t=T[i])&&M(i)?(n+=e[r],i>=65536&&(n+=e[r+1])):n+=t||P(i);return n}(n)+'"';default:throw new t("impossible error: invalid scalar style")}}()}function J(e,t){var n=H(e)?String(t):"",i="\n"===e[e.length-1];return n+(!i||"\n"!==e[e.length-2]&&"\n"!==e?i?"":"-":"+")+"\n"}function Z(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function X(e,t){if(""===e||" "===e[0])return e;for(var n,i,r=/ [^ ]/g,s=0,o=0,a=0,c="";n=r.exec(e);)(a=n.index)-s>t&&(i=o>s?o:a,c+="\n"+e.slice(s,i),s=i+1),o=a;return c+="\n",e.length-s>t&&o>s?c+=e.slice(s,o)+"\n"+e.slice(o+1):c+=e.slice(s),c.slice(1)}function Q(e,t,n,i){var r,s,o,c="",u=e.tag;for(r=0,s=n.length;r<s;r+=1)o=n[r],e.replacer&&(o=e.replacer.call(n,String(r),o)),(te(e,t+1,o,!0,!0,!1,!0)||typeof o>"u"&&te(e,t+1,null,!0,!0,!1,!0))&&((!i||""!==c)&&(c+=B(e,t)),e.dump&&a===e.dump.charCodeAt(0)?c+="-":c+="- ",c+=e.dump);e.tag=u,e.dump=c||"[]"}function ee(e,n,s){var o,a,c,u,l,h;for(c=0,u=(a=s?e.explicitTypes:e.implicitTypes).length;c<u;c+=1)if(((l=a[c]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof n&&n instanceof l.instanceOf)&&(!l.predicate||l.predicate(n))){if(s?l.multi&&l.representName?e.tag=l.representName(n):e.tag=l.tag:e.tag="?",l.represent){if(h=e.styleMap[l.tag]||l.defaultStyle,"[object Function]"===i.call(l.represent))o=l.represent(n,h);else{if(!r.call(l.represent,h))throw new t("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');o=l.represent[h](n,h)}e.dump=o}return!0}return!1}function te(e,n,r,s,o,c,u){e.tag=null,e.dump=r,ee(e,r,!1)||ee(e,r,!0);var l,h=i.call(e.dump),p=s;s&&(s=e.flowLevel<0||e.flowLevel>n);var d,f,m="[object Object]"===h||"[object Array]"===h;if(m&&(f=-1!==(d=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||f||2!==e.indent&&n>0)&&(o=!1),f&&e.usedDuplicates[d])e.dump="*ref_"+d;else{if(m&&f&&!e.usedDuplicates[d]&&(e.usedDuplicates[d]=!0),"[object Object]"===h)s&&0!==Object.keys(e.dump).length?(function(e,n,i,r){var s,o,c,u,l,h,p="",d=e.tag,f=Object.keys(i);if(!0===e.sortKeys)f.sort();else if("function"==typeof e.sortKeys)f.sort(e.sortKeys);else if(e.sortKeys)throw new t("sortKeys must be a boolean or a function");for(s=0,o=f.length;s<o;s+=1)h="",(!r||""!==p)&&(h+=B(e,n)),u=i[c=f[s]],e.replacer&&(u=e.replacer.call(i,c,u)),te(e,n+1,c,!0,!0,!0)&&((l=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&a===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,l&&(h+=B(e,n)),te(e,n+1,u,!0,l)&&(e.dump&&a===e.dump.charCodeAt(0)?h+=":":h+=": ",p+=h+=e.dump));e.tag=d,e.dump=p||"{}"}(e,n,e.dump,o),f&&(e.dump="&ref_"+d+e.dump)):(function(e,t,n){var i,r,s,o,a,c="",u=e.tag,l=Object.keys(n);for(i=0,r=l.length;i<r;i+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=n[s=l[i]],e.replacer&&(o=e.replacer.call(n,s,o)),te(e,t,s,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),te(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=u,e.dump="{"+c+"}"}(e,n,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else if("[object Array]"===h)s&&0!==e.dump.length?(e.noArrayIndent&&!u&&n>0?Q(e,n-1,e.dump,o):Q(e,n,e.dump,o),f&&(e.dump="&ref_"+d+e.dump)):(function(e,t,n){var i,r,s,o="",a=e.tag;for(i=0,r=n.length;i<r;i+=1)s=n[i],e.replacer&&(s=e.replacer.call(n,String(i),s)),(te(e,t,s,!1,!1)||typeof s>"u"&&te(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,n,e.dump),f&&(e.dump="&ref_"+d+" "+e.dump));else{if("[object String]"!==h){if("[object Undefined]"===h)return!1;if(e.skipInvalid)return!1;throw new t("unacceptable kind of an object to dump "+h)}"?"!==e.tag&&Y(e,e.dump,n,c,p)}null!==e.tag&&"?"!==e.tag&&(l=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),l="!"===e.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",e.dump=l+" "+e.dump)}return!0}function ne(e,t){var n,i,r=[],s=[];for(ie(e,r,s),n=0,i=s.length;n<i;n+=1)t.duplicates.push(r[s[n]]);t.usedDuplicates=new Array(i)}function ie(e,t,n){var i,r,s;if(null!==e&&"object"==typeof e)if(-1!==(r=t.indexOf(e)))-1===n.indexOf(r)&&n.push(r);else if(t.push(e),Array.isArray(e))for(r=0,s=e.length;r<s;r+=1)ie(e[r],t,n);else for(r=0,s=(i=Object.keys(e)).length;r<s;r+=1)ie(e[i[r]],t,n)}return kN.dump=function(e,t){var n=new L(t=t||{});n.noRefs||ne(e,n);var i=e;return n.replacer&&(i=n.replacer.call({"":i},"",i)),te(n,0,i,!0,!0)?n.dump+"\n":""},kN}function AN(){if(CN)return tN;CN=1;var e=function(){if(eN)return nN;eN=1;var e=rN(),t=sN(),n=function(){if(mL)return fL;mL=1;var e=rN();function t(e,t,n,i,r){var s="",o="",a=Math.floor(r/2)-1;return i-t>a&&(t=i-a+(s=" ... ").length),n-i>a&&(n=i+a-(o=" ...").length),{str:s+e.slice(t,n).replace(/\t/g,"")+o,pos:i-t+s.length}}function n(t,n){return e.repeat(" ",n-t.length)+t}return fL=function(i,r){if(r=Object.create(r||null),!i.buffer)return null;r.maxLength||(r.maxLength=79),"number"!=typeof r.indent&&(r.indent=1),"number"!=typeof r.linesBefore&&(r.linesBefore=3),"number"!=typeof r.linesAfter&&(r.linesAfter=2);for(var s,o=/\r?\n|\r|\0/g,a=[0],c=[],u=-1;s=o.exec(i.buffer);)c.push(s.index),a.push(s.index+s[0].length),i.position<=s.index&&u<0&&(u=a.length-2);u<0&&(u=a.length-1);var l,h,p="",d=Math.min(i.line+r.linesAfter,c.length).toString().length,f=r.maxLength-(r.indent+d+3);for(l=1;l<=r.linesBefore&&!(u-l<0);l++)h=t(i.buffer,a[u-l],c[u-l],i.position-(a[u]-a[u-l]),f),p=e.repeat(" ",r.indent)+n((i.line-l+1).toString(),d)+" | "+h.str+"\n"+p;for(h=t(i.buffer,a[u],c[u],i.position,f),p+=e.repeat(" ",r.indent)+n((i.line+1).toString(),d)+" | "+h.str+"\n",p+=e.repeat("-",r.indent+d+3+h.pos)+"^\n",l=1;l<=r.linesAfter&&!(u+l>=c.length);l++)h=t(i.buffer,a[u+l],c[u+l],i.position-(a[u]-a[u+l]),f),p+=e.repeat(" ",r.indent)+n((i.line+l+1).toString(),d)+" | "+h.str+"\n";return p.replace(/\n$/,"")}}(),i=xN(),r=Object.prototype.hasOwnProperty,s=1,o=2,a=3,c=4,u=1,l=2,h=3,p=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,d=/[\x85\u2028\u2029]/,f=/[,\[\]\{\}]/,m=/^(?:!|!!|![a-z\-]+!)$/i,g=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function y(e){return Object.prototype.toString.call(e)}function b(e){return 10===e||13===e}function v(e){return 9===e||32===e}function w(e){return 9===e||32===e||10===e||13===e}function _(e){return 44===e||91===e||93===e||123===e||125===e}function S(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function E(e){return 120===e?2:117===e?4:85===e?8:0}function x(e){return 48<=e&&e<=57?e-48:-1}function D(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?"":76===e?"\u2028":80===e?"\u2029":""}function C(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var k=new Array(256),R=new Array(256),A=0;A<256;A++)k[A]=D(A)?1:0,R[A]=D(A);function T(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||i,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function O(e,i){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=n(r),new t(i,r)}function F(e,t){throw O(e,t)}function P(e,t){e.onWarning&&e.onWarning.call(null,O(e,t))}var I={YAML:function(e,t,n){var i,r,s;null!==e.version&&F(e,"duplication of %YAML directive"),1!==n.length&&F(e,"YAML directive accepts exactly one argument"),null===(i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&F(e,"ill-formed argument of the YAML directive"),r=parseInt(i[1],10),s=parseInt(i[2],10),1!==r&&F(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=s<2,1!==s&&2!==s&&P(e,"unsupported YAML version of the document")},TAG:function(e,t,n){var i,s;2!==n.length&&F(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],m.test(i)||F(e,"ill-formed tag handle (first argument) of the TAG directive"),r.call(e.tagMap,i)&&F(e,'there is a previously declared suffix for "'+i+'" tag handle'),g.test(s)||F(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{F(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function L(e,t,n,i){var r,s,o,a;if(t<n){if(a=e.input.slice(t,n),i)for(r=0,s=a.length;r<s;r+=1)9===(o=a.charCodeAt(r))||32<=o&&o<=1114111||F(e,"expected valid JSON character");else p.test(a)&&F(e,"the stream contains non-printable characters");e.result+=a}}function N(t,n,i,s){var o,a,c,u;for(e.isObject(i)||F(t,"cannot merge mappings; the provided source object is unacceptable"),c=0,u=(o=Object.keys(i)).length;c<u;c+=1)a=o[c],r.call(n,a)||(n[a]=i[a],s[a]=!0)}function B(e,t,n,i,s,o,a,c,u){var l,h;if(Array.isArray(s))for(l=0,h=(s=Array.prototype.slice.call(s)).length;l<h;l+=1)Array.isArray(s[l])&&F(e,"nested arrays are not supported inside keys"),"object"==typeof s&&"[object Object]"===y(s[l])&&(s[l]="[object Object]");if("object"==typeof s&&"[object Object]"===y(s)&&(s="[object Object]"),s=String(s),null===t&&(t={}),"tag:yaml.org,2002:merge"===i)if(Array.isArray(o))for(l=0,h=o.length;l<h;l+=1)N(e,t,o[l],n);else N(e,t,o,n);else!e.json&&!r.call(n,s)&&r.call(t,s)&&(e.line=a||e.line,e.lineStart=c||e.lineStart,e.position=u||e.position,F(e,"duplicated mapping key")),"__proto__"===s?Object.defineProperty(t,s,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[s]=o,delete n[s];return t}function j(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):F(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function M(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);0!==r;){for(;v(r);)9===r&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&35===r)do{r=e.input.charCodeAt(++e.position)}while(10!==r&&13!==r&&0!==r);if(!b(r))break;for(j(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;32===r;)e.lineIndent++,r=e.input.charCodeAt(++e.position)}return-1!==n&&0!==i&&e.lineIndent<n&&P(e,"deficient indentation"),i}function $(e){var t,n=e.position;return!(45!==(t=e.input.charCodeAt(n))&&46!==t||t!==e.input.charCodeAt(n+1)||t!==e.input.charCodeAt(n+2)||(n+=3,t=e.input.charCodeAt(n),0!==t&&!w(t)))}function q(t,n){1===n?t.result+=" ":n>1&&(t.result+=e.repeat("\n",n-1))}function U(e,t){var n,i,r=e.tag,s=e.anchor,o=[],c=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),i=e.input.charCodeAt(e.position);0!==i&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,F(e,"tab characters must not be used in indentation")),45===i&&w(e.input.charCodeAt(e.position+1)));)if(c=!0,e.position++,M(e,!0,-1)&&e.lineIndent<=t)o.push(null),i=e.input.charCodeAt(e.position);else if(n=e.line,z(e,t,a,!1,!0),o.push(e.result),M(e,!0,-1),i=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&0!==i)F(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!c&&(e.tag=r,e.anchor=s,e.kind="sequence",e.result=o,!0)}function H(e){var t,n,i,s,o=!1,a=!1;if(33!==(s=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&F(e,"duplication of a tag property"),60===(s=e.input.charCodeAt(++e.position))?(o=!0,s=e.input.charCodeAt(++e.position)):33===s?(a=!0,n="!!",s=e.input.charCodeAt(++e.position)):n="!",t=e.position,o){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&62!==s);e.position<e.length?(i=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):F(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==s&&!w(s);)33===s&&(a?F(e,"tag suffix cannot contain exclamation marks"):(n=e.input.slice(t-1,e.position+1),m.test(n)||F(e,"named tag handle cannot contain such characters"),a=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);i=e.input.slice(t,e.position),f.test(i)&&F(e,"tag suffix cannot contain flow indicator characters")}i&&!g.test(i)&&F(e,"tag name cannot contain such characters: "+i);try{i=decodeURIComponent(i)}catch{F(e,"tag name is malformed: "+i)}return o?e.tag=i:r.call(e.tagMap,n)?e.tag=e.tagMap[n]+i:"!"===n?e.tag="!"+i:"!!"===n?e.tag="tag:yaml.org,2002:"+i:F(e,'undeclared tag handle "'+n+'"'),!0}function W(e){var t,n;if(38!==(n=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&F(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!w(n)&&!_(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&F(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function z(t,n,i,p,d){var f,m,g,y,D,A,T,O,P,I=1,N=!1,G=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,f=m=g=c===i||a===i,p&&M(t,!0,-1)&&(N=!0,t.lineIndent>n?I=1:t.lineIndent===n?I=0:t.lineIndent<n&&(I=-1)),1===I)for(;H(t)||W(t);)M(t,!0,-1)?(N=!0,g=f,t.lineIndent>n?I=1:t.lineIndent===n?I=0:t.lineIndent<n&&(I=-1)):g=!1;if(g&&(g=N||d),(1===I||c===i)&&(O=s===i||o===i?n:n+1,P=t.position-t.lineStart,1===I?g&&(U(t,P)||function(e,t,n){var i,r,s,a,u,l,h,p=e.tag,d=e.anchor,f={},m=Object.create(null),g=null,y=null,b=null,_=!1,S=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=f),h=e.input.charCodeAt(e.position);0!==h;){if(!_&&-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,F(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,63!==h&&58!==h||!w(i)){if(a=e.line,u=e.lineStart,l=e.position,!z(e,n,o,!1,!0))break;if(e.line===s){for(h=e.input.charCodeAt(e.position);v(h);)h=e.input.charCodeAt(++e.position);if(58===h)w(h=e.input.charCodeAt(++e.position))||F(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(B(e,f,m,g,y,null,a,u,l),g=y=b=null),S=!0,_=!1,r=!1,g=e.tag,y=e.result;else{if(!S)return e.tag=p,e.anchor=d,!0;F(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!S)return e.tag=p,e.anchor=d,!0;F(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===h?(_&&(B(e,f,m,g,y,null,a,u,l),g=y=b=null),S=!0,_=!0,r=!0):_?(_=!1,r=!0):F(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,h=i;if((e.line===s||e.lineIndent>t)&&(_&&(a=e.line,u=e.lineStart,l=e.position),z(e,t,c,!0,r)&&(_?y=e.result:b=e.result),_||(B(e,f,m,g,y,b,a,u,l),g=y=b=null),M(e,!0,-1),h=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&0!==h)F(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return _&&B(e,f,m,g,y,null,a,u,l),S&&(e.tag=p,e.anchor=d,e.kind="mapping",e.result=f),S}(t,P,O))||function(e,t){var n,i,r,o,a,c,u,l,h,p,d,f,m=!0,g=e.tag,y=e.anchor,b=Object.create(null);if(91===(f=e.input.charCodeAt(e.position)))a=93,l=!1,o=[];else{if(123!==f)return!1;a=125,l=!0,o={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),f=e.input.charCodeAt(++e.position);0!==f;){if(M(e,!0,t),(f=e.input.charCodeAt(e.position))===a)return e.position++,e.tag=g,e.anchor=y,e.kind=l?"mapping":"sequence",e.result=o,!0;m?44===f&&F(e,"expected the node content, but found ','"):F(e,"missed comma between flow collection entries"),d=null,c=u=!1,63===f&&w(e.input.charCodeAt(e.position+1))&&(c=u=!0,e.position++,M(e,!0,t)),n=e.line,i=e.lineStart,r=e.position,z(e,t,s,!1,!0),p=e.tag,h=e.result,M(e,!0,t),f=e.input.charCodeAt(e.position),(u||e.line===n)&&58===f&&(c=!0,f=e.input.charCodeAt(++e.position),M(e,!0,t),z(e,t,s,!1,!0),d=e.result),l?B(e,o,b,p,h,d,n,i,r):c?o.push(B(e,null,b,p,h,d,n,i,r)):o.push(h),M(e,!0,t),44===(f=e.input.charCodeAt(e.position))?(m=!0,f=e.input.charCodeAt(++e.position)):m=!1}F(e,"unexpected end of the stream within a flow collection")}(t,O)?G=!0:(m&&function(t,n){var i,r,s,o,a=u,c=!1,p=!1,d=n,f=0,m=!1;if(124===(o=t.input.charCodeAt(t.position)))r=!1;else{if(62!==o)return!1;r=!0}for(t.kind="scalar",t.result="";0!==o;)if(43===(o=t.input.charCodeAt(++t.position))||45===o)u===a?a=43===o?h:l:F(t,"repeat of a chomping mode identifier");else{if(!((s=x(o))>=0))break;0===s?F(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):p?F(t,"repeat of an indentation width identifier"):(d=n+s-1,p=!0)}if(v(o)){do{o=t.input.charCodeAt(++t.position)}while(v(o));if(35===o)do{o=t.input.charCodeAt(++t.position)}while(!b(o)&&0!==o)}for(;0!==o;){for(j(t),t.lineIndent=0,o=t.input.charCodeAt(t.position);(!p||t.lineIndent<d)&&32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position);if(!p&&t.lineIndent>d&&(d=t.lineIndent),b(o))f++;else{if(t.lineIndent<d){a===h?t.result+=e.repeat("\n",c?1+f:f):a===u&&c&&(t.result+="\n");break}for(r?v(o)?(m=!0,t.result+=e.repeat("\n",c?1+f:f)):m?(m=!1,t.result+=e.repeat("\n",f+1)):0===f?c&&(t.result+=" "):t.result+=e.repeat("\n",f):t.result+=e.repeat("\n",c?1+f:f),c=!0,p=!0,f=0,i=t.position;!b(o)&&0!==o;)o=t.input.charCodeAt(++t.position);L(t,i,t.position,!1)}}return!0}(t,O)||function(e,t){var n,i,r;if(39!==(n=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;0!==(n=e.input.charCodeAt(e.position));)if(39===n){if(L(e,i,e.position,!0),39!==(n=e.input.charCodeAt(++e.position)))return!0;i=e.position,e.position++,r=e.position}else b(n)?(L(e,i,r,!0),q(e,M(e,!1,t)),i=r=e.position):e.position===e.lineStart&&$(e)?F(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);F(e,"unexpected end of the stream within a single quoted scalar")}(t,O)||function(e,t){var n,i,r,s,o,a;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return L(e,n,e.position,!0),e.position++,!0;if(92===a){if(L(e,n,e.position,!0),b(a=e.input.charCodeAt(++e.position)))M(e,!1,t);else if(a<256&&k[a])e.result+=R[a],e.position++;else if((o=E(a))>0){for(r=o,s=0;r>0;r--)(o=S(a=e.input.charCodeAt(++e.position)))>=0?s=(s<<4)+o:F(e,"expected hexadecimal character");e.result+=C(s),e.position++}else F(e,"unknown escape sequence");n=i=e.position}else b(a)?(L(e,n,i,!0),q(e,M(e,!1,t)),n=i=e.position):e.position===e.lineStart&&$(e)?F(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}F(e,"unexpected end of the stream within a double quoted scalar")}(t,O)?G=!0:function(e){var t,n,i;if(42!==(i=e.input.charCodeAt(e.position)))return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;0!==i&&!w(i)&&!_(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&F(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),r.call(e.anchorMap,n)||F(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],M(e,!0,-1),!0}(t)?(G=!0,(null!==t.tag||null!==t.anchor)&&F(t,"alias node should not have any properties")):function(e,t,n){var i,r,s,o,a,c,u,l,h=e.kind,p=e.result;if(w(l=e.input.charCodeAt(e.position))||_(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l||(63===l||45===l)&&(w(i=e.input.charCodeAt(e.position+1))||n&&_(i)))return!1;for(e.kind="scalar",e.result="",r=s=e.position,o=!1;0!==l;){if(58===l){if(w(i=e.input.charCodeAt(e.position+1))||n&&_(i))break}else if(35===l){if(w(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&$(e)||n&&_(l))break;if(b(l)){if(a=e.line,c=e.lineStart,u=e.lineIndent,M(e,!1,-1),e.lineIndent>=t){o=!0,l=e.input.charCodeAt(e.position);continue}e.position=s,e.line=a,e.lineStart=c,e.lineIndent=u;break}}o&&(L(e,r,s,!1),q(e,e.line-a),r=s=e.position,o=!1),v(l)||(s=e.position+1),l=e.input.charCodeAt(++e.position)}return L(e,r,s,!1),!!e.result||(e.kind=h,e.result=p,!1)}(t,O,s===i)&&(G=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===I&&(G=g&&U(t,P))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&F(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),y=0,D=t.implicitTypes.length;y<D;y+=1)if((T=t.implicitTypes[y]).resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(r.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,y=0,D=(A=t.typeMap.multi[t.kind||"fallback"]).length;y<D;y+=1)if(t.tag.slice(0,A[y].tag.length)===A[y].tag){T=A[y];break}T||F(t,"unknown tag !<"+t.tag+">"),null!==t.result&&T.kind!==t.kind&&F(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):F(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||G}function G(e){var t,n,i,s,o=e.position,a=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(s=e.input.charCodeAt(e.position))&&(M(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==s));){for(a=!0,s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!w(s);)s=e.input.charCodeAt(++e.position);for(i=[],(n=e.input.slice(t,e.position)).length<1&&F(e,"directive name must not be less than one character in length");0!==s;){for(;v(s);)s=e.input.charCodeAt(++e.position);if(35===s){do{s=e.input.charCodeAt(++e.position)}while(0!==s&&!b(s));break}if(b(s))break;for(t=e.position;0!==s&&!w(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(t,e.position))}0!==s&&j(e),r.call(I,n)?I[n](e,n,i):P(e,'unknown document directive "'+n+'"')}M(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,M(e,!0,-1)):a&&F(e,"directives end mark is expected"),z(e,e.lineIndent-1,c,!1,!0),M(e,!0,-1),e.checkLineBreaks&&d.test(e.input.slice(o,e.position))&&P(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&$(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,M(e,!0,-1)):e.position<e.length-1&&F(e,"end of the stream or a document separator is expected")}function V(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var n=new T(e,t),i=e.indexOf("\0");for(-1!==i&&(n.position=i,F(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)G(n);return n.documents}return nN.loadAll=function(e,t,n){null!==t&&"object"==typeof t&&typeof n>"u"&&(n=t,t=null);var i=V(e,n);if("function"!=typeof t)return i;for(var r=0,s=i.length;r<s;r+=1)t(i[r])},nN.load=function(e,n){var i=V(e,n);if(0!==i.length){if(1===i.length)return i[0];throw new t("expected a single document in the stream, but found more")}},nN}(),t=RN();function n(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}return tN.Type=oN(),tN.Schema=aN(),tN.FAILSAFE_SCHEMA=hN(),tN.JSON_SCHEMA=gN(),tN.CORE_SCHEMA=yN(),tN.DEFAULT_SCHEMA=xN(),tN.load=e.load,tN.loadAll=e.loadAll,tN.dump=t.dump,tN.YAMLException=sN(),tN.types={binary:wN(),float:mN(),map:lN(),null:pN(),pairs:SN(),set:EN(),timestamp:bN(),bool:dN(),int:fN(),merge:vN(),omap:_N(),seq:uN(),str:cN()},tN.safeLoad=n("safeLoad","load"),tN.safeLoadAll=n("safeLoadAll","loadAll"),tN.safeDump=n("safeDump","dump"),tN}const TN=T(AN());var ON={},FN=b.Transform;function PN(e){if(!(this instanceof PN))throw new TypeError("Cannot call a class as a function");e=e||{},FN.call(this,{objectMode:!0}),this._memory="",this._emitInvalidLines=e.emitInvalidLines||!1}PN.prototype=Object.create(FN.prototype),PN.prototype._handleLines=function(e,t){for(var n=0;n<e.length;n++)if(""!==e[n]){var i=null,r=null;try{r=JSON.parse(e[n])}catch(t){t.source=e[n],i=t}if(i){if(!this._emitInvalidLines)return t(i);this.emit("invalid-line",i)}else this.push(r)}t(null)},PN.prototype._transform=function(e,t,n){var i=(this._memory+e.toString()).split("\n");this._memory=i.pop(),this._handleLines(i,n)},PN.prototype._flush=function(e){if(!this._memory)return e(null);var t=this._memory;this._memory="",this._handleLines([t],e)};var IN=PN,LN=b.Transform;function NN(){if(!(this instanceof NN))throw new TypeError("Cannot call a class as a function");LN.call(this,{objectMode:!0})}NN.prototype=Object.create(LN.prototype),NN.prototype._transform=function(e,t,n){var i;try{i=JSON.stringify(e)}catch(t){return t.source=e,n(t)}n(null,i+"\n")};var BN=IN,jN=NN;ON.parse=function(e){return new BN(e)},ON.stringify=function(){return new jN};var MN=function(e){return e};const $N=T(MN);var qN=Vs(us,"WeakMap"),UN=qN&&new qN,HN=UN,WN=HN?function(e,t){return HN.set(e,t),e}:MN,zN=WN,GN=As,VN=Object.create,KN=function(){function e(){}return function(t){if(!GN(t))return{};if(VN)return VN(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),YN=KN,JN=YN,ZN=As,XN=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=JN(e.prototype),i=e.apply(n,t);return ZN(i)?i:n}},QN=XN,eB=us,tB=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},nB=Math.max,iB=function(e,t,n,i){for(var r=-1,s=e.length,o=n.length,a=-1,c=t.length,u=nB(s-o,0),l=Array(c+u),h=!i;++a<c;)l[a]=t[a];for(;++r<o;)(h||r<s)&&(l[n[r]]=e[r]);for(;u--;)l[a++]=e[r++];return l},rB=Math.max,sB=function(e,t,n,i){for(var r=-1,s=e.length,o=-1,a=n.length,c=-1,u=t.length,l=rB(s-a,0),h=Array(l+u),p=!i;++r<l;)h[r]=e[r];for(var d=r;++c<u;)h[d+c]=t[c];for(;++o<a;)(p||r<s)&&(h[d+n[o]]=e[r++]);return h},oB=function(){},aB=YN,cB=oB;function uB(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}uB.prototype=aB(cB.prototype),uB.prototype.constructor=uB;var lB=uB,hB=UN,pB=hB?function(e){return hB.get(e)}:function(){},dB=pB,fB={},mB=Object.prototype.hasOwnProperty,gB=function(e){for(var t=e.name+"",n=fB[t],i=mB.call(fB,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t},yB=YN,bB=oB;function vB(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}vB.prototype=yB(bB.prototype),vB.prototype.constructor=vB;var wB=vB,_B=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},SB=lB,EB=wB,xB=_B,DB=lB,CB=wB,kB=oB,RB=os,AB=_s,TB=function(e){if(e instanceof SB)return e.clone();var t=new EB(e.__wrapped__,e.__chain__);return t.__actions__=xB(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},OB=Object.prototype.hasOwnProperty;function FB(e){if(AB(e)&&!RB(e)&&!(e instanceof DB)){if(e instanceof CB)return e;if(OB.call(e,"__wrapped__"))return TB(e)}return new CB(e)}FB.prototype=kB.prototype,FB.prototype.constructor=FB;var PB=lB,IB=dB,LB=gB,NB=FB,BB=function(e){var t=LB(e),n=NB[t];if("function"!=typeof n||!(t in PB.prototype))return!1;if(e===n)return!0;var i=IB(n);return!!i&&e===i[0]},jB=Date.now,MB=function(e){var t=0,n=0;return function(){var i=jB(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},$B=MB(zN),qB=/\{\n\/\* \[wrapped with (.+)\] \*/,UB=/,? & /,HB=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,WB=Vs,zB=function(){try{var e=WB(Object,"defineProperty");return e({},"",{}),e}catch{}}(),GB=function(e){return function(){return e}},VB=zB,KB=VB?function(e,t){return VB(e,"toString",{configurable:!0,enumerable:!1,value:GB(t),writable:!0})}:MN,YB=MB(KB),JB=function(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1},ZB=function(e){return e!=e},XB=function(e,t,n){for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1},QB=function(e,t,n){return t==t?XB(e,t,n):JB(e,ZB,n)},ej=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e},tj=function(e,t){return!(null==e||!e.length)&&QB(e,t,0)>-1},nj=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],ij=function(e){var t=e.match(qB);return t?t[1].split(UB):[]},rj=function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(HB,"{\n/* [wrapped with "+t+"] */\n")},sj=YB,oj=function(e,t){return ej(nj,(function(n){var i="_."+n[0];t&n[1]&&!tj(e,i)&&e.push(i)})),e.sort()},aj=function(e,t,n){var i=t+"";return sj(e,rj(i,oj(ij(i),n)))},cj=BB,uj=$B,lj=aj,hj=function(e,t,n,i,r,s,o,a,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var h=[e,t,r,l?s:void 0,l?o:void 0,l?void 0:s,l?void 0:o,a,c,u],p=n.apply(void 0,h);return cj(e)&&uj(p,h),p.placeholder=i,lj(p,e,t)},pj=function(e){return e.placeholder},dj=/^(?:0|[1-9]\d*)$/,fj=_B,mj=function(e,t){var n=typeof e;return!!(t=t??9007199254740991)&&("number"==n||"symbol"!=n&&dj.test(e))&&e>-1&&e%1==0&&e<t},gj=Math.min,yj="__lodash_placeholder__",bj=function(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n];(o===t||o===yj)&&(e[n]=yj,s[r++]=n)}return s},vj=iB,wj=sB,_j=function(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i},Sj=XN,Ej=hj,xj=pj,Dj=function(e,t){for(var n=e.length,i=gj(t.length,n),r=fj(e);i--;){var s=t[i];e[i]=mj(s,n)?r[s]:void 0}return e},Cj=bj,kj=us,Rj=function e(t,n,i,r,s,o,a,c,u,l){var h=128&n,p=1&n,d=2&n,f=24&n,m=512&n,g=d?void 0:Sj(t);return function y(){for(var b=arguments.length,v=Array(b),w=b;w--;)v[w]=arguments[w];if(f)var _=xj(y),S=_j(v,_);if(r&&(v=vj(v,r,s,f)),o&&(v=wj(v,o,a,f)),b-=S,f&&b<l){var E=Cj(v,_);return Ej(t,n,e,y.placeholder,i,v,E,c,u,l-b)}var x=p?i:this,D=d?x[t]:t;return b=v.length,c?v=Dj(v,c):m&&b>1&&v.reverse(),h&&u<b&&(v.length=u),this&&this!==kj&&this instanceof y&&(D=g||Sj(D)),D.apply(x,v)}},Aj=tB,Tj=XN,Oj=Rj,Fj=hj,Pj=pj,Ij=bj,Lj=us,Nj=tB,Bj=XN,jj=us,Mj=iB,$j=sB,qj=bj,Uj="__lodash_placeholder__",Hj=Math.min,Wj=/\s/,zj=function(e){for(var t=e.length;t--&&Wj.test(e.charAt(t)););return t},Gj=/^\s+/,Vj=function(e){return e&&e.slice(0,zj(e)+1).replace(Gj,"")},Kj=As,Yj=xs,Jj=/^[-+]0x[0-9a-f]+$/i,Zj=/^0b[01]+$/i,Xj=/^0o[0-7]+$/i,Qj=parseInt,eM=function(e){if("number"==typeof e)return e;if(Yj(e))return NaN;if(Kj(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Kj(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Vj(e);var n=Zj.test(e);return n||Xj.test(e)?Qj(e.slice(2),n?2:8):Jj.test(e)?NaN:+e},tM=1/0,nM=function(e){return e?(e=eM(e))===tM||e===-tM?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},iM=zN,rM=function(e,t,n){var i=1&t,r=QN(e);return function t(){return(this&&this!==eB&&this instanceof t?r:e).apply(i?n:this,arguments)}},sM=function(e,t,n){var i=Tj(e);return function r(){for(var s=arguments.length,o=Array(s),a=s,c=Pj(r);a--;)o[a]=arguments[a];var u=s<3&&o[0]!==c&&o[s-1]!==c?[]:Ij(o,c);return(s-=u.length)<n?Fj(e,t,Oj,r.placeholder,void 0,o,u,void 0,void 0,n-s):Aj(this&&this!==Lj&&this instanceof r?i:e,this,o)}},oM=Rj,aM=function(e,t,n,i){var r=1&t,s=Bj(e);return function t(){for(var o=-1,a=arguments.length,c=-1,u=i.length,l=Array(u+a),h=this&&this!==jj&&this instanceof t?s:e;++c<u;)l[c]=i[c];for(;a--;)l[c++]=arguments[++o];return Nj(h,r?n:this,l)}},cM=dB,uM=function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,o=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!o)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var a=t[3];if(a){var c=e[3];e[3]=c?Mj(c,a,t[4]):a,e[4]=c?qj(e[3],Uj):t[4]}return(a=t[5])&&(c=e[5],e[5]=c?$j(c,a,t[6]):a,e[6]=c?qj(e[5],Uj):t[6]),(a=t[7])&&(e[7]=a),128&i&&(e[8]=null==e[8]?t[8]:Hj(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e},lM=$B,hM=aj,pM=function(e){var t=nM(e),n=t%1;return t==t?n?t-n:t:0},dM=Math.max,fM=function(e,t,n,i,r,s,o,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=i?i.length:0;if(u||(t&=-97,i=r=void 0),o=void 0===o?o:dM(pM(o),0),a=void 0===a?a:pM(a),u-=r?r.length:0,64&t){var l=i,h=r;i=r=void 0}var p=c?void 0:cM(e),d=[e,t,n,i,r,l,h,s,o,a];if(p&&uM(d,p),e=d[0],t=d[1],n=d[2],i=d[3],r=d[4],!(a=d[9]=void 0===d[9]?c?0:e.length:dM(d[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)f=8==t||16==t?sM(e,t,a):32!=t&&33!=t||r.length?oM.apply(void 0,d):aM(e,t,n,i);else var f=rM(e,t,n);return hM((p?iM:lM)(f,d),e,t)};function mM(e,t,n){var i=fM(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return i.placeholder=mM.placeholder,i}mM.placeholder={};const gM=T(mM),yM=(e,t)=>e.replace(/\$\{([^:-]+)(?:(:)?-([^}]*))?\}/g,((e,n,i,r,s)=>t[n]||(r?s:""))),bM=gM(((e,t,n)=>{if(n.npmAuthToken){const i=n.npmRegistryServer||e[`@${t}:registry`];if(i){let e=i.replace(/^https?:/,"");return e.endsWith("/")&&(e=e.slice(0,-1)),{[`${e}/:_authToken`]:yM(n.npmAuthToken,process.env)}}}return null})),vM=(e,t)=>t.npmRegistryServer?{[`@${e}:registry`]:yM(t.npmRegistryServer,process.env)}:null;async function wM(e,t=h.readdir){if(e.global)return;const n=(await ml(e,t))?.directoryPath;return n?r.join(n,".yarnrc.yml"):void 0}const _M=Bl((async e=>{const t=await wM(e),n=r.join(u.homedir(),".yarnrc.yml"),i="string"==typeof t&&await Cr(t),s=await Cr(n),o=i?await h.readFile(t,"utf-8"):"",a=s?await h.readFile(n,"utf-8"):"",c=TN.load(o),l=TN.load(a);let p={...br(l?.npmScopes||{},vM),...br(c?.npmScopes||{},vM)};return p={...p,...br(l?.npmScopes||{},bM(p)),...br(c?.npmScopes||{},bM(p))},i&&(Ku(e,`\nUsing local yarn config at ${t}:`,"verbose"),Ku(e,c,"verbose")),s&&(Ku(e,`\nUsing user yarn config at ${n}:`,"verbose"),Ku(e,c,"verbose")),Object.keys(p)&&(Ku(e,"\nMerged yarn config in npm format:","verbose"),Ku(e,p,"verbose")),p}));async function SM(e,t={},n={},i={}){const r="win32"===process.platform?"yarn.cmd":"yarn",s=[...t.global?["global"]:[],...t.prefix?[`--prefix=${t.prefix}`]:[],"--depth=0","--json","--no-progress",...Array.isArray(e)?e:[e]],{stdout:o}=await Xn(r,s,n,i);return o}const EM=e=>async(t,n,i={})=>e(t,n,i,await _M(i)),xM=EM(MI),DM=EM(LI),CM=EM($I),kM=EM(UI),RM=EM(qI),AM=EM(HI),TM=EM(WI),OM=Object.freeze(Object.defineProperty({__proto__:null,default:SM,defaultPrefix:async function(e){if(e.prefix)return Promise.resolve(e.prefix);const t="win32"===process.platform?"yarn.cmd":"yarn",{stdout:n}=await Xn(t,["global","dir"]).catch((()=>({stdout:null})));return e.global&&n&&n.match("Cellar")?"/usr/local":"win32"===process.platform&&e.global&&!process.env.prefix?n?n.trim():`${process.env.LOCALAPPDATA}\\Yarn\\Data\\global`:null},distTag:xM,getEngines:async(e,t,n={})=>BI(e,t,n,await _M(n)),getPathToLookForYarnrc:wM,getPeerDependencies:NI,greatest:DM,latest:CM,list:async(e={},t)=>{const n=await SM("list",e,{},{...e.cwd?{cwd:e.cwd}:{},...t}),i=await function(e){return new Promise(((t,n)=>{const i={},r=ON.parse();r.on("data",(e=>{if("info"!==e.type||e.data.match(/^Visit/))"error"===e.type&&n(new Error(e.data));else{const[,t,n]=e.data.match(/"(@?.*)@(.*)"/)||[];i[t]={version:n,from:t}}})),r.on("end",(()=>{t({dependencies:i})})),r.on("error",n),r.write(e),r.end()}))}(n);return br(i.dependencies,((e,t)=>({[e]:t.version||t.required?.version})))},minor:kM,newest:RM,npmAuthTokenKeyValue:bM,packageAuthorChanged:async(e,t,n,i={})=>RI(e,t,n,i,await _M(i)),patch:AM,semver:TM},Symbol.toStringTag,{value:"Module"}));function FM(e,t,{color:n=!0}={}){if(!e.cli)throw new Error(t);Ku(e,n?xr.red(t):t,null,"error"),process.exit(1)}const PM=async(e,t)=>{let n,i;try{i=await h.readFile(t,"utf-8"),n=JSON.parse(i)}catch{FM(e,`Missing or invalid ${t}`)}return{name:void 0,pkg:n,pkgFile:i,filepath:t}},IM={dev:"devDependencies",peer:"peerDependencies",prod:"dependencies",optional:"optionalDependencies"},LM=e=>(e?"string"==typeof e?e.split(","):e:dl.dep.default).map((e=>IM[e]||e));async function NM(e,t,n,i){const r=[...LM(i.dep),"overrides"],s=new RegExp(`"(${r.join("|")})"s*:[^}]*`,"g");let o=e.replace(s,(e=>(Object.keys(n).forEach((i=>{const r=`"${i}"\\s*:\\s*("|{\\s*"."\\s*:\\s*")(${function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}(t[i])})"`,s=new RegExp(r,"g");e=e.replace(s,((e,t)=>`"${i}${t?`": ${t}`:": "}${n[i]}"`))})),e)));if(r.includes("packageManager")){const t=JSON.parse(e);if(t.packageManager){const[e]=t.packageManager.split("@");n[e]&&(o=o.replace(/"packageManager"\s*:\s*".*?@[^"]*"/,`"packageManager": "${e}@${n[e]}"`))}}return o}const BM=(e,t,n,{spawnOptions:i,spawnPleaseOptions:r}={})=>{n&&console.log(xr.blue([t.packageManager,...e].join(" ")));const s={cwd:t.cwd||process.cwd(),env:{...process.env,..."pnpm"!==t.packageManager?{CI:"1"}:null,FORCE_COLOR:"1",...i?.env},...i},o={...t.global?{global:!0}:null,...t.prefix?{prefix:t.prefix}:null};return("pnpm"===t.packageManager?uL:"yarn"===t.packageManager?SM:"bun"===t.packageManager?GI:PI)(e,o,r,s)},jM=async(e,t)=>{await Sr();const n="yarn"===t.packageManager?"yarn.lock":"pnpm"===t.packageManager?"pnpm-lock.yaml":"bun"===t.packageManager?"bun.lockb":"package-lock.json",{pkg:i,pkgFile:r}=await(async e=>{let t;(e.packageData||e.packageFile)&&(console.error('--packageData and --packageFile are not allowed with --doctor. You must execute "ncu --doctor" in a directory with a package file so it can install dependencies and test them.'),process.exit(1));try{t=await PM(e,"package.json")}catch{console.error("Missing or invalid package.json"),process.exit(1)}return!e.doctorTest&&!t.pkg.scripts?.test&&(console.error('No npm "test" script defined. You must define a "test" script in the "scripts" section of your package.json to use --doctor.'),process.exit(1)),t})(t),s={...i.dependencies,...i.devDependencies,...i.optionalDependencies},o=async()=>{if(t.doctorInstall){const[e,...n]=t.doctorInstall.split(" ");console.log(xr.blue(t.doctorInstall)),await Xn(e,n)}else await BM(["install"],{packageManager:t.packageManager},!0)},a=async()=>{const e={stderr:e=>{console.error(xr.red(e.toString()))},stdout:e=>{process.stdout.write(e.toString())}};if(t.doctorTest){const n=/"(.+?)"|'(.+?)'|[^ ]+/g,i=t.doctorTest.matchAll(n);let r=[];for(const e of i)r=[...r,e[2]||e[1]||e[0]];const[s,...o]=r;console.log(xr.blue(t.doctorTest)),await Xn(s,o,e)}else await BM(["run","test"],{packageManager:t.packageManager},!0,{spawnPleaseOptions:e})};console.log("Running tests before upgrading"),await o();let c="";try{c=await h.readFile(n,"utf-8")}catch{}try{await a()}catch{console.error("Tests failed before we even got started!"),process.exit(1)}t.interactive||console.log("Upgrading all dependencies and re-running tests"),console.log(xr.blue("ncu "+process.argv.slice(2).filter((e=>"--doctor"!==e)).join(" "))),process.env.NCU_DOCTOR="1";const u=await e({...t,silent:!0,doctor:!1});if(0===Object.keys(u||{}).length)return void console.log("All dependencies are up-to-date "+xr.green.bold(":)"));let l=!1;try{await o(),l=!0,await a(),console.log(`${xr.green("")} Tests pass`),await el(t,{current:s,upgraded:u,total:Object.keys(u||{}).length}),console.log(`\n${t.interactive?"Chosen":"All"} dependencies upgraded and installed ${xr.green(":)")}`)}catch{console.error(xr.red(l?"Tests failed":"Install failed")),console.log("Identifying broken dependencies"),await h.writeFile("package.json",r),c?await h.writeFile(n,c):await h.rm(n,{recursive:!0,force:!0});let e,p,d=r;if(l)try{await o()}catch{const e=(t.packageManager||"npm")+" install";throw new Error(`Error: Doctor mode was about to test individual upgrades, but ${xr.cyan(e)} failed after rolling back to your existing package and lock files. This is unexpected since the initial install before any upgrades succeeded. Either npm failed to revert a partial install, or failed anomalously on the second run. Please check your internet connection and retry. If doctor mode fails consistently, report a bug with your complete list of dependency versions at https://github.com/raineorshine/npm-check-updates/issues.`)}for([e,p]of Object.entries(u))try{if(await BM([..."yarn"===t.packageManager||"pnpm"===t.packageManager||"bun"===t.packageManager?["add"]:["install","--no-save"],`${e}@${p}`],{packageManager:t.packageManager},!0),i.scripts?.prepare)try{await BM(["run","prepare"],{packageManager:t.packageManager},!0)}catch(e){throw console.error(xr.red("Prepare script failed")),e}await a(),console.log(`  ${xr.green("")} ${e} ${s[e]}  ${p}`),d=await NM(d,{[e]:s[e]},{[e]:p},t),c=await h.readFile(n,"utf-8")}catch(i){console.error(`  ${xr.red("")} ${e} ${s[e]}  ${p}\n`),console.error(xr.red(i)),await h.writeFile(n,c),("yarn"===t.packageManager||"pnpm"===t.packageManager||"bun"===t.packageManager)&&await h.writeFile("package.json",d)}d!==r&&(console.log("Saving partially upgraded package.json"),await h.writeFile("package.json",d)),await o()}};async function MM(e){let t,n=null;const i=e.packageFile||"package.json";function s(t,n){if(null!=t){const n=r.resolve(t);Ku(e,`${e.upgrade?"Upgrading":"Checking"} ${n}`)}else FM(e,`${xr.red(`No ${n}`)}\n\nPlease add a ${n} to the current directory, specify the ${xr.cyan("--packageFile")} or ${xr.cyan("--packageData")} options, or pipe a ${n} to stdin and specify ${xr.cyan("--stdin")}.`,{color:!1});return h.readFile(t,"utf-8").catch((t=>{FM(e,t)}))}if(Ku(e,"Running in local mode","verbose"),Ku(e,"Finding package file data","verbose"),e.packageData)n=null,t=Promise.resolve(e.packageData);else if(e.packageFile)n=e.packageFile,t=s(n,i);else if(e.stdin){Ku(e,"Waiting for package data on stdin","verbose");const r=await k.text(process.stdin),o=r.trim().length>0?r:null;n=o||!i?null:await aI(i),t=o||s(await n,i)}else n=i?await aI(e.packageFile||"deno"!==e.packageManager?i:["deno.json","deno.jsonc"],{cwd:e.cwd||process.cwd()}):null,t=s(n,i);return{pkgData:await t,pkgFile:n||null,pkgPath:i}}var $M={},qM={},UM={};Object.defineProperty(UM,"__esModule",{value:!0}),UM.splitWhen=UM.flatten=void 0,UM.flatten=function(e){return e.reduce(((e,t)=>[].concat(e,t)),[])},UM.splitWhen=function(e,t){const n=[[]];let i=0;for(const r of e)t(r)?(i++,n[i]=[]):n[i].push(r);return n};var HM={};Object.defineProperty(HM,"__esModule",{value:!0}),HM.isEnoentCodeError=void 0,HM.isEnoentCodeError=function(e){return"ENOENT"===e.code};var WM={};Object.defineProperty(WM,"__esModule",{value:!0}),WM.createDirentFromStats=void 0;let zM=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};WM.createDirentFromStats=function(e,t){return new zM(e,t)};var GM={};Object.defineProperty(GM,"__esModule",{value:!0}),GM.convertPosixPathToPattern=GM.convertWindowsPathToPattern=GM.convertPathToPattern=GM.escapePosixPath=GM.escapeWindowsPath=GM.escape=GM.removeLeadingDotSegment=GM.makeAbsolute=GM.unixify=void 0;const VM=r,KM="win32"===u.platform(),YM=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,JM=/(\\?)([()[\]{}]|^!|[!+@](?=\())/g,ZM=/^\\\\([.?])/,XM=/\\(?![!()+@[\]{}])/g;function QM(e){return e.replace(JM,"\\$2")}function e$(e){return e.replace(YM,"\\$2")}function t$(e){return QM(e).replace(ZM,"//$1").replace(XM,"/")}function n$(e){return e$(e)}GM.unixify=function(e){return e.replace(/\\/g,"/")},GM.makeAbsolute=function(e,t){return VM.resolve(e,t)},GM.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){const t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e},GM.escape=KM?QM:e$,GM.escapeWindowsPath=QM,GM.escapePosixPath=e$,GM.convertPathToPattern=KM?t$:n$,GM.convertWindowsPathToPattern=t$,GM.convertPosixPathToPattern=n$;var i$={},r$={"{":"}","(":")","[":"]"},s$=function(e){if("!"===e[0])return!0;for(var t=0,n=-2,i=-2,r=-2,s=-2,o=-2;t<e.length;){if("*"===e[t]||"?"===e[t+1]&&/[\].+)]/.test(e[t])||-1!==i&&"["===e[t]&&"]"!==e[t+1]&&(i<t&&(i=e.indexOf("]",t)),i>t&&(-1===o||o>i||-1===(o=e.indexOf("\\",t))||o>i))||-1!==r&&"{"===e[t]&&"}"!==e[t+1]&&(r=e.indexOf("}",t))>t&&(-1===(o=e.indexOf("\\",t))||o>r)||-1!==s&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(s=e.indexOf(")",t))>t&&(-1===(o=e.indexOf("\\",t))||o>s)||-1!==n&&"("===e[t]&&"|"!==e[t+1]&&(n<t&&(n=e.indexOf("|",t)),-1!==n&&")"!==e[n+1]&&(s=e.indexOf(")",n))>n&&(-1===(o=e.indexOf("\\",n))||o>s)))return!0;if("\\"===e[t]){var a=e[t+1];t+=2;var c=r$[a];if(c){var u=e.indexOf(c,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},o$=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var n=e[t+1];t+=2;var i=r$[n];if(i){var r=e.indexOf(i,t);-1!==r&&(t=r+1)}if("!"===e[t])return!0}else t++}return!1},a$=function(e,t){if("string"!=typeof e||""===e)return!1;if(function(e){if("string"!=typeof e||""===e)return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}(e))return!0;var n=s$;return t&&!1===t.strict&&(n=o$),n(e)},c$=r.posix.dirname,u$="win32"===u.platform(),l$=/\\/g,h$=/[\{\[].*[\}\]]$/,p$=/(^|[^\\])([\{\[]|\([^\)]+$)/,d$=/\\([\!\*\?\|\[\]\(\)\{\}])/g,f$={};!function(e){e.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),e.find=(e,t)=>e.nodes.find((e=>e.type===t)),e.exceedsLimit=(t,n,i=1,r)=>!(!1===r||!e.isInteger(t)||!e.isInteger(n))&&(Number(n)-Number(t))/Number(i)>=r,e.escapeNode=(e,t=0,n)=>{let i=e.nodes[t];i&&(n&&i.type===n||"open"===i.type||"close"===i.type)&&!0!==i.escaped&&(i.value="\\"+i.value,i.escaped=!0)},e.encloseBrace=e=>!("brace"!==e.type||e.commas>>0+e.ranges||(e.invalid=!0,0)),e.isInvalidBrace=e=>!("brace"!==e.type||!0!==e.invalid&&!e.dollar&&(e.commas>>0+e.ranges&&!0===e.open&&!0===e.close||(e.invalid=!0,0))),e.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,e.reduce=e=>e.reduce(((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e)),[]),e.flatten=(...e)=>{const t=[],n=e=>{for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?n(r):void 0!==r&&t.push(r)}return t};return n(e),t}}(f$);const m$=f$;var g$=(e,t={})=>{let n=(e,i={})=>{let r=t.escapeInvalid&&m$.isInvalidBrace(i),s=!0===e.invalid&&!0===t.escapeInvalid,o="";if(e.value)return(r||s)&&m$.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)o+=n(t);return o};return n(e)};const y$=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))},b$=(e,t,n)=>{if(!1===y$(e))throw new TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===y$(t))throw new TypeError("toRegexRange: expected the second argument to be a number.");let i={relaxZeros:!0,...n};"boolean"==typeof i.strictZeros&&(i.relaxZeros=!1===i.strictZeros);let r=e+":"+t+"="+String(i.relaxZeros)+String(i.shorthand)+String(i.capture)+String(i.wrap);if(b$.cache.hasOwnProperty(r))return b$.cache[r].result;let s=Math.min(e,t),o=Math.max(e,t);if(1===Math.abs(s-o)){let n=e+"|"+t;return i.capture?`(${n})`:!1===i.wrap?n:`(?:${n})`}let a=R$(e)||R$(t),c={min:e,max:t,a:s,b:o},u=[],l=[];return a&&(c.isPadded=a,c.maxLen=String(c.max).length),s<0&&(l=w$(o<0?Math.abs(o):1,Math.abs(s),c,i),s=c.a=0),o>=0&&(u=w$(s,o,c,i)),c.negatives=l,c.positives=u,c.result=function(e,t){let n=_$(e,t,"-",!1)||[],i=_$(t,e,"",!1)||[],r=_$(e,t,"-?",!0)||[];return n.concat(r).concat(i).join("|")}(l,u),!0===i.capture?c.result=`(${c.result})`:!1!==i.wrap&&u.length+l.length>1&&(c.result=`(?:${c.result})`),b$.cache[r]=c,c.result};function v$(e,t,n){if(e===t)return{pattern:e,count:[],digits:0};let i=function(e,t){let n=[];for(let i=0;i<e.length;i++)n.push([e[i],t[i]]);return n}(e,t),r=i.length,s="",o=0;for(let e=0;e<r;e++){let[t,n]=i[e];t===n?s+=t:"0"!==t||"9"!==n?s+=k$(t,n):o++}return o&&(s+=!0===n.shorthand?"\\d":"[0-9]"),{pattern:s,count:[o],digits:r}}function w$(e,t,n,i){let r,s=function(e,t){let n=1,i=1,r=x$(e,n),s=new Set([t]);for(;e<=r&&r<=t;)s.add(r),n+=1,r=x$(e,n);for(r=D$(t+1,i)-1;e<r&&r<=t;)s.add(r),i+=1,r=D$(t+1,i)-1;return s=[...s],s.sort(S$),s}(e,t),o=[],a=e;for(let e=0;e<s.length;e++){let t=s[e],c=v$(String(a),String(t),i),u="";n.isPadded||!r||r.pattern!==c.pattern?(n.isPadded&&(u=A$(t,n,i)),c.string=u+c.pattern+C$(c.count),o.push(c),a=t+1,r=c):(r.count.length>1&&r.count.pop(),r.count.push(c.count[0]),r.string=r.pattern+C$(r.count),a=t+1)}return o}function _$(e,t,n,i,r){let s=[];for(let r of e){let{string:e}=r;!i&&!E$(t,"string",e)&&s.push(n+e),i&&E$(t,"string",e)&&s.push(n+e)}return s}function S$(e,t){return e>t?1:t>e?-1:0}function E$(e,t,n){return e.some((e=>e[t]===n))}function x$(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function D$(e,t){return e-e%Math.pow(10,t)}function C$(e){let[t=0,n=""]=e;return n||t>1?`{${t+(n?","+n:"")}}`:""}function k$(e,t,n){return`[${e}${t-e==1?"":"-"}${t}]`}function R$(e){return/^-?(0+)\d/.test(e)}function A$(e,t,n){if(!t.isPadded)return e;let i=Math.abs(t.maxLen-String(e).length),r=!1!==n.relaxZeros;switch(i){case 0:return"";case 1:return r?"0?":"0";case 2:return r?"0{0,2}":"00";default:return r?`0{0,${i}}`:`0{${i}}`}}b$.cache={},b$.clearCache=()=>b$.cache={};const T$=l,O$=b$,F$=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),P$=e=>"number"==typeof e||"string"==typeof e&&""!==e,I$=e=>Number.isInteger(+e),L$=e=>{let t=`${e}`,n=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++n];);return n>0},N$=(e,t,n)=>{if(t>0){let n="-"===e[0]?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return!1===n?String(e):e},B$=(e,t)=>{let n="-"===e[0]?"-":"";for(n&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return n?"-"+e:e},j$=(e,t,n,i)=>{if(n)return O$(e,t,{wrap:!1,...i});let r=String.fromCharCode(e);return e===t?r:`[${r}-${String.fromCharCode(t)}]`},M$=(e,t,n)=>{if(Array.isArray(e)){let t=!0===n.wrap,i=n.capture?"":"?:";return t?`(${i}${e.join("|")})`:e.join("|")}return O$(e,t,n)},$$=(...e)=>new RangeError("Invalid range arguments: "+T$.inspect(...e)),q$=(e,t,n)=>{if(!0===n.strictRanges)throw $$([e,t]);return[]},U$=(e,t,n,i={})=>{if(null==t&&P$(e))return[e];if(!P$(e)||!P$(t))return q$(e,t,i);if("function"==typeof n)return U$(e,t,1,{transform:n});if(F$(n))return U$(e,t,0,n);let r={...i};return!0===r.capture&&(r.wrap=!0),n=n||r.step||1,I$(n)?I$(e)&&I$(t)?((e,t,n=1,i={})=>{let r=Number(e),s=Number(t);if(!Number.isInteger(r)||!Number.isInteger(s)){if(!0===i.strictRanges)throw $$([e,t]);return[]}0===r&&(r=0),0===s&&(s=0);let o=r>s,a=String(e),c=String(t),u=String(n);n=Math.max(Math.abs(n),1);let l=L$(a)||L$(c)||L$(u),h=l?Math.max(a.length,c.length,u.length):0,p=!1===l&&!1===((e,t,n)=>"string"==typeof e||"string"==typeof t||!0===n.stringify)(e,t,i),d=i.transform||(e=>t=>!0===e?Number(t):String(t))(p);if(i.toRegex&&1===n)return j$(B$(e,h),B$(t,h),!0,i);let f={negatives:[],positives:[]},m=[],g=0;for(;o?r>=s:r<=s;)!0===i.toRegex&&n>1?f[(y=r)<0?"negatives":"positives"].push(Math.abs(y)):m.push(N$(d(r,g),h,p)),r=o?r-n:r+n,g++;var y;return!0===i.toRegex?n>1?((e,t)=>{e.negatives.sort(((e,t)=>e<t?-1:e>t?1:0)),e.positives.sort(((e,t)=>e<t?-1:e>t?1:0));let n,i=t.capture?"":"?:",r="",s="";return e.positives.length&&(r=e.positives.join("|")),e.negatives.length&&(s=`-(${i}${e.negatives.join("|")})`),n=r&&s?`${r}|${s}`:r||s,t.wrap?`(${i}${n})`:n})(f,i):M$(m,null,{wrap:!1,...i}):m})(e,t,n,r):((e,t,n=1,i={})=>{if(!I$(e)&&e.length>1||!I$(t)&&t.length>1)return q$(e,t,i);let r=i.transform||(e=>String.fromCharCode(e)),s=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),a=s>o,c=Math.min(s,o),u=Math.max(s,o);if(i.toRegex&&1===n)return j$(c,u,!1,i);let l=[],h=0;for(;a?s>=o:s<=o;)l.push(r(s,h)),s=a?s-n:s+n,h++;return!0===i.toRegex?M$(l,null,{wrap:!1,options:i}):l})(e,t,Math.max(Math.abs(n),1),r):null==n||F$(n)?U$(e,t,1,n):((e,t)=>{if(!0===t.strictRanges)throw new TypeError(`Expected step "${e}" to be a number`);return[]})(n,r)},H$=U$,W$=f$;const z$=U$,G$=g$,V$=f$,K$=(e="",t="",n=!1)=>{let i=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return n?V$.flatten(t).map((e=>`{${e}}`)):t;for(let r of e)if(Array.isArray(r))for(let e of r)i.push(K$(e,t,n));else for(let e of t)!0===n&&"string"==typeof e&&(e=`{${e}}`),i.push(Array.isArray(e)?K$(r,e,n):r+e);return V$.flatten(i)};const Y$=g$,{MAX_LENGTH:J$,CHAR_BACKSLASH:Z$,CHAR_BACKTICK:X$,CHAR_COMMA:Q$,CHAR_DOT:eq,CHAR_LEFT_PARENTHESES:tq,CHAR_RIGHT_PARENTHESES:nq,CHAR_LEFT_CURLY_BRACE:iq,CHAR_RIGHT_CURLY_BRACE:rq,CHAR_LEFT_SQUARE_BRACKET:sq,CHAR_RIGHT_SQUARE_BRACKET:oq,CHAR_DOUBLE_QUOTE:aq,CHAR_SINGLE_QUOTE:cq,CHAR_NO_BREAK_SPACE:uq,CHAR_ZERO_WIDTH_NOBREAK_SPACE:lq}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"\t",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\ufeff"};const hq=g$,pq=(e,t={})=>{let n=(e,i={})=>{let r=W$.isInvalidBrace(i),s=!0===e.invalid&&!0===t.escapeInvalid,o=!0===r||!0===s,a=!0===t.escapeInvalid?"\\":"",c="";if(!0===e.isOpen||!0===e.isClose)return a+e.value;if("open"===e.type)return o?a+e.value:"(";if("close"===e.type)return o?a+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":o?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let n=W$.reduce(e.nodes),i=H$(...n,{...t,wrap:!1,toRegex:!0});if(0!==i.length)return n.length>1&&i.length>1?`(${i})`:i}if(e.nodes)for(let t of e.nodes)c+=n(t,e);return c};return n(e)},dq=(e,t={})=>{let n=void 0===t.rangeLimit?1e3:t.rangeLimit,i=(e,r={})=>{e.queue=[];let s=r,o=r.queue;for(;"brace"!==s.type&&"root"!==s.type&&s.parent;)s=s.parent,o=s.queue;if(e.invalid||e.dollar)return void o.push(K$(o.pop(),G$(e,t)));if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length)return void o.push(K$(o.pop(),["{}"]));if(e.nodes&&e.ranges>0){let i=V$.reduce(e.nodes);if(V$.exceedsLimit(...i,t.step,n))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let r=z$(...i,t);return 0===r.length&&(r=G$(e,t)),o.push(K$(o.pop(),r)),void(e.nodes=[])}let a=V$.encloseBrace(e),c=e.queue,u=e;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)u=u.parent,c=u.queue;for(let t=0;t<e.nodes.length;t++){let n=e.nodes[t];"comma"!==n.type||"brace"!==e.type?"close"!==n.type?n.value&&"open"!==n.type?c.push(K$(c.pop(),n.value)):n.nodes&&i(n,e):o.push(K$(o.pop(),c,a)):(1===t&&c.push(""),c.push(""))}return c};return V$.flatten(i(e))},fq=(e,t={})=>{if("string"!=typeof e)throw new TypeError("Expected a string");let n=t||{},i="number"==typeof n.maxLength?Math.min(J$,n.maxLength):J$;if(e.length>i)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${i})`);let r,s={type:"root",input:e,nodes:[]},o=[s],a=s,c=s,u=0,l=e.length,h=0,p=0;const d=()=>e[h++],f=e=>{if("text"===e.type&&"dot"===c.type&&(c.type="text"),!c||"text"!==c.type||"text"!==e.type)return a.nodes.push(e),e.parent=a,e.prev=c,c=e,e;c.value+=e.value};for(f({type:"bos"});h<l;)if(a=o[o.length-1],r=d(),r!==lq&&r!==uq){if(r===Z$){f({type:"text",value:(t.keepEscaping?r:"")+d()});continue}if(r===oq){f({type:"text",value:"\\"+r});continue}if(r===sq){let e;for(u++;h<l&&(e=d());)if(r+=e,e!==sq)if(e!==Z$){if(e===oq&&(u--,0===u))break}else r+=d();else u++;f({type:"text",value:r});continue}if(r===tq){a=f({type:"paren",nodes:[]}),o.push(a),f({type:"text",value:r});continue}if(r===nq){if("paren"!==a.type){f({type:"text",value:r});continue}a=o.pop(),f({type:"text",value:r}),a=o[o.length-1];continue}if(r===aq||r===cq||r===X$){let e,n=r;for(!0!==t.keepQuotes&&(r="");h<l&&(e=d());)if(e!==Z$){if(e===n){!0===t.keepQuotes&&(r+=e);break}r+=e}else r+=e+d();f({type:"text",value:r});continue}if(r===iq){p++;let e={type:"brace",open:!0,close:!1,dollar:c.value&&"$"===c.value.slice(-1)||!0===a.dollar,depth:p,commas:0,ranges:0,nodes:[]};a=f(e),o.push(a),f({type:"open",value:r});continue}if(r===rq){if("brace"!==a.type){f({type:"text",value:r});continue}let e="close";a=o.pop(),a.close=!0,f({type:e,value:r}),p--,a=o[o.length-1];continue}if(r===Q$&&p>0){if(a.ranges>0){a.ranges=0;let e=a.nodes.shift();a.nodes=[e,{type:"text",value:Y$(a)}]}f({type:"comma",value:r}),a.commas++;continue}if(r===eq&&p>0&&0===a.commas){let e=a.nodes;if(0===p||0===e.length){f({type:"text",value:r});continue}if("dot"===c.type){if(a.range=[],c.value+=r,c.type="range",3!==a.nodes.length&&5!==a.nodes.length){a.invalid=!0,a.ranges=0,c.type="text";continue}a.ranges++,a.args=[];continue}if("range"===c.type){e.pop();let t=e[e.length-1];t.value+=c.value+r,c=t,a.ranges--;continue}f({type:"dot",value:r});continue}f({type:"text",value:r})}do{if(a=o.pop(),"root"!==a.type){a.nodes.forEach((e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)}));let e=o[o.length-1],t=e.nodes.indexOf(a);e.nodes.splice(t,1,...a.nodes)}}while(o.length>0);return f({type:"eos"}),s},mq=(e,t={})=>{let n=[];if(Array.isArray(e))for(let i of e){let e=mq.create(i,t);Array.isArray(e)?n.push(...e):n.push(e)}else n=[].concat(mq.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(n=[...new Set(n)]),n};mq.parse=(e,t={})=>fq(e,t),mq.stringify=(e,t={})=>hq("string"==typeof e?mq.parse(e,t):e,t),mq.compile=(e,t={})=>("string"==typeof e&&(e=mq.parse(e,t)),pq(e,t)),mq.expand=(e,t={})=>{"string"==typeof e&&(e=mq.parse(e,t));let n=dq(e,t);return!0===t.noempty&&(n=n.filter(Boolean)),!0===t.nodupes&&(n=[...new Set(n)]),n},mq.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?mq.compile(e,t):mq.expand(e,t);var gq=mq,yq={};const bq=r,vq="\\\\/",wq=`[^${vq}]`,_q="\\.",Sq="\\/",Eq="[^/]",xq=`(?:${Sq}|$)`,Dq=`(?:^|${Sq})`,Cq=`${_q}{1,2}${xq}`,kq={DOT_LITERAL:_q,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:Sq,ONE_CHAR:"(?=.)",QMARK:Eq,END_ANCHOR:xq,DOTS_SLASH:Cq,NO_DOT:`(?!${_q})`,NO_DOTS:`(?!${Dq}${Cq})`,NO_DOT_SLASH:`(?!${_q}{0,1}${xq})`,NO_DOTS_SLASH:`(?!${Cq})`,QMARK_NO_DOT:`[^.${Sq}]`,STAR:`${Eq}*?`,START_ANCHOR:Dq},Rq={...kq,SLASH_LITERAL:`[${vq}]`,QMARK:wq,STAR:`${wq}*?`,DOTS_SLASH:`${_q}{1,2}(?:[${vq}]|$)`,NO_DOT:`(?!${_q})`,NO_DOTS:`(?!(?:^|[${vq}])${_q}{1,2}(?:[${vq}]|$))`,NO_DOT_SLASH:`(?!${_q}{0,1}(?:[${vq}]|$))`,NO_DOTS_SLASH:`(?!${_q}{1,2}(?:[${vq}]|$))`,QMARK_NO_DOT:`[^.${vq}]`,START_ANCHOR:`(?:^|[${vq}])`,END_ANCHOR:`(?:[${vq}]|$)`};var Aq={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:bq.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?Rq:kq};!function(e){const t=r,n="win32"===process.platform,{REGEX_BACKSLASH:i,REGEX_REMOVE_BACKSLASH:s,REGEX_SPECIAL_CHARS:o,REGEX_SPECIAL_CHARS_GLOBAL:a}=Aq;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>o.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(a,"\\$1"),e.toPosixSlashes=e=>e.replace(i,"/"),e.removeBackslashes=e=>e.replace(s,(e=>"\\"===e?"":e)),e.supportsLookbehinds=()=>{const e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===n||"\\"===t.sep,e.escapeLast=(t,n,i)=>{const r=t.lastIndexOf(n,i);return-1===r?t:"\\"===t[r-1]?e.escapeLast(t,n,r-1):`${t.slice(0,r)}\\${t.slice(r)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let i=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(i=`(?:^(?!${i}).*$)`),i}}(yq);const Tq=yq,{CHAR_ASTERISK:Oq,CHAR_AT:Fq,CHAR_BACKWARD_SLASH:Pq,CHAR_COMMA:Iq,CHAR_DOT:Lq,CHAR_EXCLAMATION_MARK:Nq,CHAR_FORWARD_SLASH:Bq,CHAR_LEFT_CURLY_BRACE:jq,CHAR_LEFT_PARENTHESES:Mq,CHAR_LEFT_SQUARE_BRACKET:$q,CHAR_PLUS:qq,CHAR_QUESTION_MARK:Uq,CHAR_RIGHT_CURLY_BRACE:Hq,CHAR_RIGHT_PARENTHESES:Wq,CHAR_RIGHT_SQUARE_BRACKET:zq}=Aq,Gq=e=>e===Bq||e===Pq,Vq=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};const Kq=Aq,Yq=yq,{MAX_LENGTH:Jq,POSIX_REGEX_SOURCE:Zq,REGEX_NON_SPECIAL_CHARS:Xq,REGEX_SPECIAL_CHARS_BACKREF:Qq,REPLACEMENTS:eU}=Kq,tU=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map((e=>Yq.escapeRegex(e))).join("..")}return n},nU=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,iU=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=eU[e]||e;const n={...t},i="number"==typeof n.maxLength?Math.min(Jq,n.maxLength):Jq;let r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],a=n.capture?"":"?:",c=Yq.isWindows(t),u=Kq.globChars(c),l=Kq.extglobChars(u),{DOT_LITERAL:h,PLUS_LITERAL:p,SLASH_LITERAL:d,ONE_CHAR:f,DOTS_SLASH:m,NO_DOT:g,NO_DOT_SLASH:y,NO_DOTS_SLASH:b,QMARK:v,QMARK_NO_DOT:w,STAR:_,START_ANCHOR:S}=u,E=e=>`(${a}(?:(?!${S}${e.dot?m:h}).)*?)`,x=n.dot?"":g,D=n.dot?v:w;let C=!0===n.bash?E(n):_;n.capture&&(C=`(${C})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const k={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=Yq.removePrefix(e,k),r=e.length;const R=[],A=[],T=[];let O,F=s;const P=()=>k.index===r-1,I=k.peek=(t=1)=>e[k.index+t],L=k.advance=()=>e[++k.index]||"",N=()=>e.slice(k.index+1),B=(e="",t=0)=>{k.consumed+=e,k.index+=t},j=e=>{k.output+=null!=e.output?e.output:e.value,B(e.value)},M=()=>{let e=1;for(;"!"===I()&&("("!==I(2)||"?"===I(3));)L(),k.start++,e++;return e%2!=0&&(k.negated=!0,k.start++,!0)},$=e=>{k[e]++,T.push(e)},q=e=>{k[e]--,T.pop()},U=e=>{if("globstar"===F.type){const t=k.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||R.length&&("pipe"===e.type||"paren"===e.type);"slash"!==e.type&&"paren"!==e.type&&!t&&!n&&(k.output=k.output.slice(0,-F.output.length),F.type="star",F.value="*",F.output=C,k.output+=F.output)}if(R.length&&"paren"!==e.type&&(R[R.length-1].inner+=e.value),(e.value||e.output)&&j(e),F&&"text"===F.type&&"text"===e.type)return F.value+=e.value,void(F.output=(F.output||"")+e.value);e.prev=F,o.push(e),F=e},H=(e,t)=>{const i={...l[t],conditions:1,inner:""};i.prev=F,i.parens=k.parens,i.output=k.output;const r=(n.capture?"(":"")+i.open;$("parens"),U({type:e,value:t,output:k.output?"":f}),U({type:"paren",extglob:!0,value:L(),output:r}),R.push(i)},W=e=>{let i,r=e.close+(n.capture?")":"");if("negate"===e.type){let s=C;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=E(n)),(s!==C||P()||/^\)+$/.test(N()))&&(r=e.close=`)$))${s}`),e.inner.includes("*")&&(i=N())&&/^\.[^\\/.]+$/.test(i)){const n=iU(i,{...t,fastpaths:!1}).output;r=e.close=`)${n})${s})`}"bos"===e.prev.type&&(k.negatedExtglob=!0)}U({type:"paren",extglob:!0,value:O,output:r}),q("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let i=!1,r=e.replace(Qq,((e,t,n,r,s,o)=>"\\"===r?(i=!0,e):"?"===r?t?t+r+(s?v.repeat(s.length):""):0===o?D+(s?v.repeat(s.length):""):v.repeat(n.length):"."===r?h.repeat(n.length):"*"===r?t?t+r+(s?C:""):C:t?e:`\\${e}`));return!0===i&&(r=!0===n.unescape?r.replace(/\\/g,""):r.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),r===e&&!0===n.contains?(k.output=e,k):(k.output=Yq.wrapOutput(r,k,t),k)}for(;!P();){if(O=L(),"\0"===O)continue;if("\\"===O){const e=I();if("/"===e&&!0!==n.bash||"."===e||";"===e)continue;if(!e){O+="\\",U({type:"text",value:O});continue}const t=/^\\+/.exec(N());let i=0;if(t&&t[0].length>2&&(i=t[0].length,k.index+=i,i%2!=0&&(O+="\\")),!0===n.unescape?O=L():O+=L(),0===k.brackets){U({type:"text",value:O});continue}}if(k.brackets>0&&("]"!==O||"["===F.value||"[^"===F.value)){if(!1!==n.posix&&":"===O){const e=F.value.slice(1);if(e.includes("[")&&(F.posix=!0,e.includes(":"))){const e=F.value.lastIndexOf("["),t=F.value.slice(0,e),n=F.value.slice(e+2),i=Zq[n];if(i){F.value=t+i,k.backtrack=!0,L(),!s.output&&1===o.indexOf(F)&&(s.output=f);continue}}}("["===O&&":"!==I()||"-"===O&&"]"===I())&&(O=`\\${O}`),"]"===O&&("["===F.value||"[^"===F.value)&&(O=`\\${O}`),!0===n.posix&&"!"===O&&"["===F.value&&(O="^"),F.value+=O,j({value:O});continue}if(1===k.quotes&&'"'!==O){O=Yq.escapeRegex(O),F.value+=O,j({value:O});continue}if('"'===O){k.quotes=1===k.quotes?0:1,!0===n.keepQuotes&&U({type:"text",value:O});continue}if("("===O){$("parens"),U({type:"paren",value:O});continue}if(")"===O){if(0===k.parens&&!0===n.strictBrackets)throw new SyntaxError(nU("opening","("));const e=R[R.length-1];if(e&&k.parens===e.parens+1){W(R.pop());continue}U({type:"paren",value:O,output:k.parens?")":"\\)"}),q("parens");continue}if("["===O){if(!0!==n.nobracket&&N().includes("]"))$("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(nU("closing","]"));O=`\\${O}`}U({type:"bracket",value:O});continue}if("]"===O){if(!0===n.nobracket||F&&"bracket"===F.type&&1===F.value.length){U({type:"text",value:O,output:`\\${O}`});continue}if(0===k.brackets){if(!0===n.strictBrackets)throw new SyntaxError(nU("opening","["));U({type:"text",value:O,output:`\\${O}`});continue}q("brackets");const e=F.value.slice(1);if(!0!==F.posix&&"^"===e[0]&&!e.includes("/")&&(O=`/${O}`),F.value+=O,j({value:O}),!1===n.literalBrackets||Yq.hasRegexChars(e))continue;const t=Yq.escapeRegex(F.value);if(k.output=k.output.slice(0,-F.value.length),!0===n.literalBrackets){k.output+=t,F.value=t;continue}F.value=`(${a}${t}|${F.value})`,k.output+=F.value;continue}if("{"===O&&!0!==n.nobrace){$("braces");const e={type:"brace",value:O,output:"(",outputIndex:k.output.length,tokensIndex:k.tokens.length};A.push(e),U(e);continue}if("}"===O){const e=A[A.length-1];if(!0===n.nobrace||!e){U({type:"text",value:O,output:O});continue}let t=")";if(!0===e.dots){const e=o.slice(),i=[];for(let t=e.length-1;t>=0&&(o.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&i.unshift(e[t].value);t=tU(i,n),k.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=k.output.slice(0,e.outputIndex),i=k.tokens.slice(e.tokensIndex);e.value=e.output="\\{",O=t="\\}",k.output=n;for(const e of i)k.output+=e.output||e.value}U({type:"brace",value:O,output:t}),q("braces"),A.pop();continue}if("|"===O){R.length>0&&R[R.length-1].conditions++,U({type:"text",value:O});continue}if(","===O){let e=O;const t=A[A.length-1];t&&"braces"===T[T.length-1]&&(t.comma=!0,e="|"),U({type:"comma",value:O,output:e});continue}if("/"===O){if("dot"===F.type&&k.index===k.start+1){k.start=k.index+1,k.consumed="",k.output="",o.pop(),F=s;continue}U({type:"slash",value:O,output:d});continue}if("."===O){if(k.braces>0&&"dot"===F.type){"."===F.value&&(F.output=h);const e=A[A.length-1];F.type="dots",F.output+=O,F.value+=O,e.dots=!0;continue}if(k.braces+k.parens===0&&"bos"!==F.type&&"slash"!==F.type){U({type:"text",value:O,output:h});continue}U({type:"dot",value:O,output:h});continue}if("?"===O){if((!F||"("!==F.value)&&!0!==n.noextglob&&"("===I()&&"?"!==I(2)){H("qmark",O);continue}if(F&&"paren"===F.type){const e=I();let t=O;if("<"===e&&!Yq.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");("("===F.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(N()))&&(t=`\\${O}`),U({type:"text",value:O,output:t});continue}if(!0!==n.dot&&("slash"===F.type||"bos"===F.type)){U({type:"qmark",value:O,output:w});continue}U({type:"qmark",value:O,output:v});continue}if("!"===O){if(!0!==n.noextglob&&"("===I()&&("?"!==I(2)||!/[!=<:]/.test(I(3)))){H("negate",O);continue}if(!0!==n.nonegate&&0===k.index){M();continue}}if("+"===O){if(!0!==n.noextglob&&"("===I()&&"?"!==I(2)){H("plus",O);continue}if(F&&"("===F.value||!1===n.regex){U({type:"plus",value:O,output:p});continue}if(F&&("bracket"===F.type||"paren"===F.type||"brace"===F.type)||k.parens>0){U({type:"plus",value:O});continue}U({type:"plus",value:p});continue}if("@"===O){if(!0!==n.noextglob&&"("===I()&&"?"!==I(2)){U({type:"at",extglob:!0,value:O,output:""});continue}U({type:"text",value:O});continue}if("*"!==O){("$"===O||"^"===O)&&(O=`\\${O}`);const e=Xq.exec(N());e&&(O+=e[0],k.index+=e[0].length),U({type:"text",value:O});continue}if(F&&("globstar"===F.type||!0===F.star)){F.type="star",F.star=!0,F.value+=O,F.output=C,k.backtrack=!0,k.globstar=!0,B(O);continue}let t=N();if(!0!==n.noextglob&&/^\([^?]/.test(t)){H("star",O);continue}if("star"===F.type){if(!0===n.noglobstar){B(O);continue}const i=F.prev,r=i.prev,s="slash"===i.type||"bos"===i.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!s||t[0]&&"/"!==t[0])){U({type:"star",value:O,output:""});continue}const a=k.braces>0&&("comma"===i.type||"brace"===i.type),c=R.length&&("pipe"===i.type||"paren"===i.type);if(!s&&"paren"!==i.type&&!a&&!c){U({type:"star",value:O,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[k.index+4];if(n&&"/"!==n)break;t=t.slice(3),B("/**",3)}if("bos"===i.type&&P()){F.type="globstar",F.value+=O,F.output=E(n),k.output=F.output,k.globstar=!0,B(O);continue}if("slash"===i.type&&"bos"!==i.prev.type&&!o&&P()){k.output=k.output.slice(0,-(i.output+F.output).length),i.output=`(?:${i.output}`,F.type="globstar",F.output=E(n)+(n.strictSlashes?")":"|$)"),F.value+=O,k.globstar=!0,k.output+=i.output+F.output,B(O);continue}if("slash"===i.type&&"bos"!==i.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";k.output=k.output.slice(0,-(i.output+F.output).length),i.output=`(?:${i.output}`,F.type="globstar",F.output=`${E(n)}${d}|${d}${e})`,F.value+=O,k.output+=i.output+F.output,k.globstar=!0,B(O+L()),U({type:"slash",value:"/",output:""});continue}if("bos"===i.type&&"/"===t[0]){F.type="globstar",F.value+=O,F.output=`(?:^|${d}|${E(n)}${d})`,k.output=F.output,k.globstar=!0,B(O+L()),U({type:"slash",value:"/",output:""});continue}k.output=k.output.slice(0,-F.output.length),F.type="globstar",F.output=E(n),F.value+=O,k.output+=F.output,k.globstar=!0,B(O);continue}const i={type:"star",value:O,output:C};!0!==n.bash?!F||"bracket"!==F.type&&"paren"!==F.type||!0!==n.regex?((k.index===k.start||"slash"===F.type||"dot"===F.type)&&("dot"===F.type?(k.output+=y,F.output+=y):!0===n.dot?(k.output+=b,F.output+=b):(k.output+=x,F.output+=x),"*"!==I()&&(k.output+=f,F.output+=f)),U(i)):(i.output=O,U(i)):(i.output=".*?",("bos"===F.type||"slash"===F.type)&&(i.output=x+i.output),U(i))}for(;k.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(nU("closing","]"));k.output=Yq.escapeLast(k.output,"["),q("brackets")}for(;k.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(nU("closing",")"));k.output=Yq.escapeLast(k.output,"("),q("parens")}for(;k.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(nU("closing","}"));k.output=Yq.escapeLast(k.output,"{"),q("braces")}if(!0!==n.strictSlashes&&("star"===F.type||"bracket"===F.type)&&U({type:"maybe_slash",value:"",output:`${d}?`}),!0===k.backtrack){k.output="";for(const e of k.tokens)k.output+=null!=e.output?e.output:e.value,e.suffix&&(k.output+=e.suffix)}return k};iU.fastpaths=(e,t)=>{const n={...t},i="number"==typeof n.maxLength?Math.min(Jq,n.maxLength):Jq,r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);e=eU[e]||e;const s=Yq.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:h,NO_DOTS_SLASH:p,STAR:d,START_ANCHOR:f}=Kq.globChars(s),m=n.dot?h:l,g=n.dot?p:l,y=n.capture?"":"?:";let b=!0===n.bash?".*?":d;n.capture&&(b=`(${b})`);const v=e=>!0===e.noglobstar?b:`(${y}(?:(?!${f}${e.dot?u:o}).)*?)`,w=e=>{switch(e){case"*":return`${m}${c}${b}`;case".*":return`${o}${c}${b}`;case"*.*":return`${m}${b}${o}${c}${b}`;case"*/*":return`${m}${b}${a}${c}${g}${b}`;case"**":return m+v(n);case"**/*":return`(?:${m}${v(n)}${a})?${g}${c}${b}`;case"**/*.*":return`(?:${m}${v(n)}${a})?${g}${b}${o}${c}${b}`;case"**/.*":return`(?:${m}${v(n)}${a})?${o}${c}${b}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=w(t[1]);return n?n+o+t[2]:void 0}}},_=Yq.removePrefix(e,{negated:!1,prefix:""});let S=w(_);return S&&!0!==n.strictSlashes&&(S+=`${a}?`),S};const rU=r,sU=(e,t)=>{const n=t||{},i=e.length-1,r=!0===n.parts||!0===n.scanToEnd,s=[],o=[],a=[];let c,u,l=e,h=-1,p=0,d=0,f=!1,m=!1,g=!1,y=!1,b=!1,v=!1,w=!1,_=!1,S=!1,E=!1,x=0,D={value:"",depth:0,isGlob:!1};const C=()=>h>=i,k=()=>(c=u,l.charCodeAt(++h));for(;h<i;){let e;if(u=k(),u!==Pq){if(!0===v||u===jq){for(x++;!0!==C()&&(u=k());)if(u!==Pq)if(u!==jq){if(!0!==v&&u===Lq&&(u=k())===Lq){if(f=D.isBrace=!0,g=D.isGlob=!0,E=!0,!0===r)continue;break}if(!0!==v&&u===Iq){if(f=D.isBrace=!0,g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===Hq&&(x--,0===x)){v=!1,f=D.isBrace=!0,E=!0;break}}else x++;else w=D.backslashes=!0,k();if(!0===r)continue;break}if(u!==Bq){if(!0!==n.noext&&1==(u===qq||u===Fq||u===Oq||u===Uq||u===Nq)&&l.charCodeAt(h+1)===Mq){if(g=D.isGlob=!0,y=D.isExtglob=!0,E=!0,u===Nq&&h===p&&(S=!0),!0===r){for(;!0!==C()&&(u=k());)if(u!==Pq){if(u===Wq){g=D.isGlob=!0,E=!0;break}}else w=D.backslashes=!0,u=k();continue}break}if(u===Oq){if(c===Oq&&(b=D.isGlobstar=!0),g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===Uq){if(g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===$q){for(;!0!==C()&&(e=k());)if(e!==Pq){if(e===zq){m=D.isBracket=!0,g=D.isGlob=!0,E=!0;break}}else w=D.backslashes=!0,k();if(!0===r)continue;break}if(!0===n.nonegate||u!==Nq||h!==p){if(!0!==n.noparen&&u===Mq){if(g=D.isGlob=!0,!0===r){for(;!0!==C()&&(u=k());)if(u!==Mq){if(u===Wq){E=!0;break}}else w=D.backslashes=!0,u=k();continue}break}if(!0===g){if(E=!0,!0===r)continue;break}}else _=D.negated=!0,p++}else{if(s.push(h),o.push(D),D={value:"",depth:0,isGlob:!1},!0===E)continue;if(c===Lq&&h===p+1){p+=2;continue}d=h+1}}else w=D.backslashes=!0,u=k(),u===jq&&(v=!0)}!0===n.noext&&(y=!1,g=!1);let R=l,A="",T="";p>0&&(A=l.slice(0,p),l=l.slice(p),d-=p),R&&!0===g&&d>0?(R=l.slice(0,d),T=l.slice(d)):!0===g?(R="",T=l):R=l,R&&""!==R&&"/"!==R&&R!==l&&Gq(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),!0===n.unescape&&(T&&(T=Tq.removeBackslashes(T)),R&&!0===w&&(R=Tq.removeBackslashes(R)));const O={prefix:A,input:e,start:p,base:R,glob:T,isBrace:f,isBracket:m,isGlob:g,isExtglob:y,isGlobstar:b,negated:_,negatedExtglob:S};if(!0===n.tokens&&(O.maxDepth=0,Gq(u)||o.push(D),O.tokens=o),!0===n.parts||!0===n.tokens){let t;for(let i=0;i<s.length;i++){const r=t?t+1:p,c=s[i],u=e.slice(r,c);n.tokens&&(0===i&&0!==p?(o[i].isPrefix=!0,o[i].value=A):o[i].value=u,Vq(o[i]),O.maxDepth+=o[i].depth),(0!==i||""!==u)&&a.push(u),t=c}if(t&&t+1<e.length){const i=e.slice(t+1);a.push(i),n.tokens&&(o[o.length-1].value=i,Vq(o[o.length-1]),O.maxDepth+=o[o.length-1].depth)}O.slashes=s,O.parts=a}return O},oU=iU,aU=yq,cU=Aq,uU=(e,t,n=!1)=>{if(Array.isArray(e)){const i=e.map((e=>uU(e,t,n)));return e=>{for(const t of i){const n=t(e);if(n)return n}return!1}}const i=(e=>e&&"object"==typeof e&&!Array.isArray(e))(e)&&e.tokens&&e.input;if(""===e||"string"!=typeof e&&!i)throw new TypeError("Expected pattern to be a non-empty string");const r=t||{},s=aU.isWindows(t),o=i?uU.compileRe(e,t):uU.makeRe(e,t,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(r.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};c=uU(r.ignore,e,n)}const u=(n,i=!1)=>{const{isMatch:u,match:l,output:h}=uU.test(n,o,t,{glob:e,posix:s}),p={glob:e,state:a,regex:o,posix:s,input:n,output:h,match:l,isMatch:u};return"function"==typeof r.onResult&&r.onResult(p),!1===u?(p.isMatch=!1,!!i&&p):c(n)?("function"==typeof r.onIgnore&&r.onIgnore(p),p.isMatch=!1,!!i&&p):("function"==typeof r.onMatch&&r.onMatch(p),!i||p)};return n&&(u.state=a),u};uU.test=(e,t,n,{glob:i,posix:r}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=n||{},o=s.format||(r?aU.toPosixSlashes:null);let a=e===i,c=a&&o?o(e):e;return!1===a&&(c=o?o(e):e,a=c===i),(!1===a||!0===s.capture)&&(a=!0===s.matchBase||!0===s.basename?uU.matchBase(e,t,n,r):t.exec(c)),{isMatch:!!a,match:a,output:c}},uU.matchBase=(e,t,n,i=aU.isWindows(n))=>(t instanceof RegExp?t:uU.makeRe(t,n)).test(rU.basename(e)),uU.isMatch=(e,t,n)=>uU(t,n)(e),uU.parse=(e,t)=>Array.isArray(e)?e.map((e=>uU.parse(e,t))):oU(e,{...t,fastpaths:!1}),uU.scan=(e,t)=>sU(e,t),uU.compileRe=(e,t,n=!1,i=!1)=>{if(!0===n)return e.output;const r=t||{},s=r.contains?"":"^",o=r.contains?"":"$";let a=`${s}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const c=uU.toRegex(a,t);return!0===i&&(c.state=e),c},uU.makeRe=(e,t={},n=!1,i=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return!1!==t.fastpaths&&("."===e[0]||"*"===e[0])&&(r.output=oU.fastpaths(e,t)),r.output||(r=oU(e,t)),uU.compileRe(r,t,n,i)},uU.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},uU.constants=cU;const lU=l,hU=gq,pU=uU,dU=yq,fU=e=>""===e||"./"===e,mU=(e,t,n)=>{t=[].concat(t),e=[].concat(e);let i=new Set,r=new Set,s=new Set,o=0,a=e=>{s.add(e.output),n&&n.onResult&&n.onResult(e)};for(let s=0;s<t.length;s++){let c=pU(String(t[s]),{...n,onResult:a},!0),u=c.state.negated||c.state.negatedExtglob;u&&o++;for(let t of e){let e=c(t,!0);(u?!e.isMatch:e.isMatch)&&(u?i.add(e.output):(i.delete(e.output),r.add(e.output)))}}let c=(o===t.length?[...s]:[...r]).filter((e=>!i.has(e)));if(n&&0===c.length){if(!0===n.failglob)throw new Error(`No matches found for "${t.join(", ")}"`);if(!0===n.nonull||!0===n.nullglob)return n.unescape?t.map((e=>e.replace(/\\/g,""))):t}return c};mU.match=mU,mU.matcher=(e,t)=>pU(e,t),mU.isMatch=(e,t,n)=>pU(t,n)(e),mU.any=mU.isMatch,mU.not=(e,t,n={})=>{t=[].concat(t).map(String);let i=new Set,r=[],s=new Set(mU(e,t,{...n,onResult:e=>{n.onResult&&n.onResult(e),r.push(e.output)}}));for(let e of r)s.has(e)||i.add(e);return[...i]},mU.contains=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${lU.inspect(e)}"`);if(Array.isArray(t))return t.some((t=>mU.contains(e,t,n)));if("string"==typeof t){if(fU(e)||fU(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return mU.isMatch(e,t,{...n,contains:!0})},mU.matchKeys=(e,t,n)=>{if(!dU.isObject(e))throw new TypeError("Expected the first argument to be an object");let i=mU(Object.keys(e),t,n),r={};for(let t of i)r[t]=e[t];return r},mU.some=(e,t,n)=>{let i=[].concat(e);for(let e of[].concat(t)){let t=pU(String(e),n);if(i.some((e=>t(e))))return!0}return!1},mU.every=(e,t,n)=>{let i=[].concat(e);for(let e of[].concat(t)){let t=pU(String(e),n);if(!i.every((e=>t(e))))return!1}return!0},mU.all=(e,t,n)=>{if("string"!=typeof e)throw new TypeError(`Expected a string: "${lU.inspect(e)}"`);return[].concat(t).every((t=>pU(t,n)(e)))},mU.capture=(e,t,n)=>{let i=dU.isWindows(n),r=pU.makeRe(String(e),{...n,capture:!0}).exec(i?dU.toPosixSlashes(t):t);if(r)return r.slice(1).map((e=>void 0===e?"":e))},mU.makeRe=(...e)=>pU.makeRe(...e),mU.scan=(...e)=>pU.scan(...e),mU.parse=(e,t)=>{let n=[];for(let i of[].concat(e||[]))for(let e of hU(String(i),t))n.push(pU.parse(e,t));return n},mU.braces=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:hU(e,t)},mU.braceExpand=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");return mU.braces(e,{...t,expand:!0})};var gU=mU;Object.defineProperty(i$,"__esModule",{value:!0}),i$.removeDuplicateSlashes=i$.matchAny=i$.convertPatternsToRe=i$.makeRe=i$.getPatternParts=i$.expandBraceExpansion=i$.expandPatternsWithBraceExpansion=i$.isAffectDepthOfReadingPattern=i$.endsWithSlashGlobStar=i$.hasGlobStar=i$.getBaseDirectory=i$.isPatternRelatedToParentDirectory=i$.getPatternsOutsideCurrentDirectory=i$.getPatternsInsideCurrentDirectory=i$.getPositivePatterns=i$.getNegativePatterns=i$.isPositivePattern=i$.isNegativePattern=i$.convertToNegativePattern=i$.convertToPositivePattern=i$.isDynamicPattern=i$.isStaticPattern=void 0;const yU=r,bU=gU,vU="\\",wU=/[*?]|^!/,_U=/\[[^[]*]/,SU=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,EU=/[!*+?@]\([^(]*\)/,xU=/,|\.\./,DU=/(?!^)\/{2,}/g;function CU(e,t={}){return!kU(e,t)}function kU(e,t={}){return""!==e&&!!(!1===t.caseSensitiveMatch||e.includes(vU)||wU.test(e)||_U.test(e)||SU.test(e)||!1!==t.extglob&&EU.test(e)||!1!==t.braceExpansion&&function(e){const t=e.indexOf("{");if(-1===t)return!1;const n=e.indexOf("}",t+1);if(-1===n)return!1;const i=e.slice(t,n);return xU.test(i)}(e))}function RU(e){return e.startsWith("!")&&"("!==e[1]}function AU(e){return!RU(e)}function TU(e){return e.startsWith("..")||e.startsWith("./..")}function OU(e){return e.endsWith("/**")}function FU(e){const t=bU.braces(e,{expand:!0,nodupes:!0,keepEscaping:!0});return t.sort(((e,t)=>e.length-t.length)),t.filter((e=>""!==e))}function PU(e,t){return bU.makeRe(e,t)}i$.isStaticPattern=CU,i$.isDynamicPattern=kU,i$.convertToPositivePattern=function(e){return RU(e)?e.slice(1):e},i$.convertToNegativePattern=function(e){return"!"+e},i$.isNegativePattern=RU,i$.isPositivePattern=AU,i$.getNegativePatterns=function(e){return e.filter(RU)},i$.getPositivePatterns=function(e){return e.filter(AU)},i$.getPatternsInsideCurrentDirectory=function(e){return e.filter((e=>!TU(e)))},i$.getPatternsOutsideCurrentDirectory=function(e){return e.filter(TU)},i$.isPatternRelatedToParentDirectory=TU,i$.getBaseDirectory=function(e){return function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&u$&&e.indexOf("/")<0&&(e=e.replace(l$,"/")),h$.test(e)&&(e+="/"),e+="a";do{e=c$(e)}while(a$(e)||p$.test(e));return e.replace(d$,"$1")}(e,{flipBackslashes:!1})},i$.hasGlobStar=function(e){return e.includes("**")},i$.endsWithSlashGlobStar=OU,i$.isAffectDepthOfReadingPattern=function(e){const t=yU.basename(e);return OU(e)||CU(t)},i$.expandPatternsWithBraceExpansion=function(e){return e.reduce(((e,t)=>e.concat(FU(t))),[])},i$.expandBraceExpansion=FU,i$.getPatternParts=function(e,t){let{parts:n}=bU.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===n.length&&(n=[e]),n[0].startsWith("/")&&(n[0]=n[0].slice(1),n.unshift("")),n},i$.makeRe=PU,i$.convertPatternsToRe=function(e,t){return e.map((e=>PU(e,t)))},i$.matchAny=function(e,t){return t.some((t=>t.test(e)))},i$.removeDuplicateSlashes=function(e){return e.replace(DU,"/")};var IU={};const LU=b.PassThrough,NU=Array.prototype.slice;function BU(e,t){if(Array.isArray(e))for(let n=0,i=e.length;n<i;n++)e[n]=BU(e[n],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(LU(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}Object.defineProperty(IU,"__esModule",{value:!0}),IU.merge=void 0;const jU=function(){const e=[],t=NU.call(arguments);let n=!1,i=t[t.length-1];i&&!Array.isArray(i)&&null==i.pipe?t.pop():i={};const r=!1!==i.end,s=!0===i.pipeError;null==i.objectMode&&(i.objectMode=!0),null==i.highWaterMark&&(i.highWaterMark=65536);const o=LU(i);function a(){for(let t=0,n=arguments.length;t<n;t++)e.push(BU(arguments[t],i));return c(),this}function c(){if(n)return;n=!0;let t=e.shift();if(!t)return void process.nextTick(u);Array.isArray(t)||(t=[t]);let i=t.length+1;function r(){--i>0||(n=!1,c())}function a(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),s&&e.removeListener("error",n),r()}function n(e){o.emit("error",e)}if(e._readableState.endEmitted)return r();e.on("merge2UnpipeEnd",t),e.on("end",t),s&&e.on("error",n),e.pipe(o,{end:!1}),e.resume()}for(let e=0;e<t.length;e++)a(t[e]);r()}function u(){n=!1,o.emit("queueDrain"),r&&o.end()}return o.setMaxListeners(0),o.add=a,o.on("unpipe",(function(e){e.emit("merge2UnpipeEnd")})),t.length&&a.apply(null,t),o};function MU(e){e.forEach((e=>e.emit("close")))}IU.merge=function(e){const t=jU(e);return e.forEach((e=>{e.once("error",(e=>t.emit("error",e)))})),t.once("close",(()=>MU(e))),t.once("end",(()=>MU(e))),t};var $U={};Object.defineProperty($U,"__esModule",{value:!0}),$U.isEmpty=$U.isString=void 0,$U.isString=function(e){return"string"==typeof e},$U.isEmpty=function(e){return""===e},Object.defineProperty(qM,"__esModule",{value:!0}),qM.string=qM.stream=qM.pattern=qM.path=qM.fs=qM.errno=qM.array=void 0;const qU=UM;qM.array=qU;const UU=HM;qM.errno=UU;const HU=WM;qM.fs=HU;const WU=GM;qM.path=WU;const zU=i$;qM.pattern=zU;const GU=IU;qM.stream=GU;const VU=$U;qM.string=VU,Object.defineProperty($M,"__esModule",{value:!0}),$M.convertPatternGroupToTask=$M.convertPatternGroupsToTasks=$M.groupPatternsByBaseDirectory=$M.getNegativePatternsAsPositive=$M.getPositivePatterns=$M.convertPatternsToTasks=$M.generate=void 0;const KU=qM;function YU(e,t){let n=e;return t.braceExpansion&&(n=KU.pattern.expandPatternsWithBraceExpansion(n)),t.baseNameMatch&&(n=n.map((e=>e.includes("/")?e:`**/${e}`))),n.map((e=>KU.pattern.removeDuplicateSlashes(e)))}function JU(e,t,n){const i=[],r=KU.pattern.getPatternsOutsideCurrentDirectory(e),s=KU.pattern.getPatternsInsideCurrentDirectory(e),o=QU(r),a=QU(s);return i.push(...eH(o,t,n)),"."in a?i.push(tH(".",s,t,n)):i.push(...eH(a,t,n)),i}function ZU(e){return KU.pattern.getPositivePatterns(e)}function XU(e,t){return KU.pattern.getNegativePatterns(e).concat(t).map(KU.pattern.convertToPositivePattern)}function QU(e){return e.reduce(((e,t)=>{const n=KU.pattern.getBaseDirectory(t);return n in e?e[n].push(t):e[n]=[t],e}),{})}function eH(e,t,n){return Object.keys(e).map((i=>tH(i,e[i],t,n)))}function tH(e,t,n,i){return{dynamic:i,positive:t,negative:n,base:e,patterns:[].concat(t,n.map(KU.pattern.convertToNegativePattern))}}$M.generate=function(e,t){const n=YU(e,t),i=YU(t.ignore,t),r=ZU(n),s=XU(n,i),o=r.filter((e=>KU.pattern.isStaticPattern(e,t))),a=r.filter((e=>KU.pattern.isDynamicPattern(e,t))),c=JU(o,s,!1),u=JU(a,s,!0);return c.concat(u)},$M.convertPatternsToTasks=JU,$M.getPositivePatterns=ZU,$M.getNegativePatternsAsPositive=XU,$M.groupPatternsByBaseDirectory=QU,$M.convertPatternGroupsToTasks=eH,$M.convertPatternGroupToTask=tH;var nH={},iH={},rH={},sH={},oH={},aH={},cH={},uH={},lH={};function hH(e,t){e(t)}function pH(e,t){e(null,t)}Object.defineProperty(lH,"__esModule",{value:!0}),lH.read=void 0,lH.read=function(e,t,n){t.fs.lstat(e,((i,r)=>{null===i?r.isSymbolicLink()&&t.followSymbolicLink?t.fs.stat(e,((e,i)=>{if(null!==e)return t.throwErrorOnBrokenSymbolicLink?void hH(n,e):void pH(n,r);t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),pH(n,i)})):pH(n,r):hH(n,i)}))};var dH={};Object.defineProperty(dH,"__esModule",{value:!0}),dH.read=void 0,dH.read=function(e,t){const n=t.fs.lstatSync(e);if(!n.isSymbolicLink()||!t.followSymbolicLink)return n;try{const n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return n;throw e}};var fH={},mH={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=c;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}(mH),Object.defineProperty(fH,"__esModule",{value:!0});const gH=mH;fH.default=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=gH.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return e??t}},Object.defineProperty(uH,"__esModule",{value:!0}),uH.statSync=uH.stat=uH.Settings=void 0;const yH=lH,bH=dH,vH=fH;function wH(e={}){return e instanceof vH.default?e:new vH.default(e)}let _H;uH.Settings=vH.default,uH.stat=function(e,t,n){"function"!=typeof t?yH.read(e,wH(t),n):yH.read(e,wH(),t)},uH.statSync=function(e,t){const n=wH(t);return bH.read(e,n)};var SH="function"==typeof queueMicrotask?queueMicrotask.bind(typeof window<"u"?window:A):e=>(_H||(_H=Promise.resolve())).then(e).catch((e=>setTimeout((()=>{throw e}),0)));const EH=SH;var xH={};Object.defineProperty(xH,"__esModule",{value:!0}),xH.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const DH=process.versions.node.split(".");if(void 0===DH[0]||void 0===DH[1])throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const CH=Number.parseInt(DH[0],10),kH=Number.parseInt(DH[1],10),RH=CH>10,AH=10===CH&&kH>=10;xH.IS_SUPPORT_READDIR_WITH_FILE_TYPES=RH||AH;var TH={},OH={};Object.defineProperty(OH,"__esModule",{value:!0}),OH.createDirentFromStats=void 0;class FH{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}OH.createDirentFromStats=function(e,t){return new FH(e,t)},Object.defineProperty(TH,"__esModule",{value:!0}),TH.fs=void 0;const PH=OH;TH.fs=PH;var IH={};Object.defineProperty(IH,"__esModule",{value:!0}),IH.joinPathSegments=void 0,IH.joinPathSegments=function(e,t,n){return e.endsWith(n)?e+t:e+n+t},Object.defineProperty(cH,"__esModule",{value:!0}),cH.readdir=cH.readdirWithFileTypes=cH.read=void 0;const LH=uH,NH=function(e,t){let n,i,r,s=!0;function o(e){function i(){t&&t(e,n),t=null}s?EH(i):i()}function a(e,t,r){n[e]=r,(0==--i||t)&&o(t)}Array.isArray(e)?(n=[],i=e.length):(r=Object.keys(e),n={},i=r.length),i?r?r.forEach((function(t){e[t]((function(e,n){a(t,e,n)}))})):e.forEach((function(e,t){e((function(e,n){a(t,e,n)}))})):o(null),s=!1},BH=xH,jH=TH,MH=IH;function $H(e,t,n){t.fs.readdir(e,{withFileTypes:!0},((i,r)=>{if(null!==i)return void UH(n,i);const s=r.map((n=>({dirent:n,name:n.name,path:MH.joinPathSegments(e,n.name,t.pathSegmentSeparator)})));if(!t.followSymbolicLinks)return void HH(n,s);const o=s.map((e=>function(e,t){return n=>{e.dirent.isSymbolicLink()?t.fs.stat(e.path,((i,r)=>{if(null!==i)return t.throwErrorOnBrokenSymbolicLink?void n(i):void n(null,e);e.dirent=jH.fs.createDirentFromStats(e.name,r),n(null,e)})):n(null,e)}}(e,t)));NH(o,((e,t)=>{null===e?HH(n,t):UH(n,e)}))}))}function qH(e,t,n){t.fs.readdir(e,((i,r)=>{if(null!==i)return void UH(n,i);const s=r.map((n=>{const i=MH.joinPathSegments(e,n,t.pathSegmentSeparator);return e=>{LH.stat(i,t.fsStatSettings,((r,s)=>{if(null!==r)return void e(r);const o={name:n,path:i,dirent:jH.fs.createDirentFromStats(n,s)};t.stats&&(o.stats=s),e(null,o)}))}}));NH(s,((e,t)=>{null===e?HH(n,t):UH(n,e)}))}))}function UH(e,t){e(t)}function HH(e,t){e(null,t)}cH.read=function(e,t,n){t.stats||!BH.IS_SUPPORT_READDIR_WITH_FILE_TYPES?qH(e,t,n):$H(e,t,n)},cH.readdirWithFileTypes=$H,cH.readdir=qH;var WH={};Object.defineProperty(WH,"__esModule",{value:!0}),WH.readdir=WH.readdirWithFileTypes=WH.read=void 0;const zH=uH,GH=xH,VH=TH,KH=IH;function YH(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map((n=>{const i={dirent:n,name:n.name,path:KH.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{const e=t.fs.statSync(i.path);i.dirent=VH.fs.createDirentFromStats(i.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return i}))}function JH(e,t){return t.fs.readdirSync(e).map((n=>{const i=KH.joinPathSegments(e,n,t.pathSegmentSeparator),r=zH.statSync(i,t.fsStatSettings),s={name:n,path:i,dirent:VH.fs.createDirentFromStats(n,r)};return t.stats&&(s.stats=r),s}))}WH.read=function(e,t){return!t.stats&&GH.IS_SUPPORT_READDIR_WITH_FILE_TYPES?YH(e,t):JH(e,t)},WH.readdirWithFileTypes=YH,WH.readdir=JH;var ZH={},XH={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createFileSystemAdapter=e.FILE_SYSTEM_ADAPTER=void 0;const t=c;e.FILE_SYSTEM_ADAPTER={lstat:t.lstat,stat:t.stat,lstatSync:t.lstatSync,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync},e.createFileSystemAdapter=function(t){return void 0===t?e.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},e.FILE_SYSTEM_ADAPTER),t)}}(XH),Object.defineProperty(ZH,"__esModule",{value:!0});const QH=r,eW=uH,tW=XH;ZH.default=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=tW.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,QH.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new eW.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}},Object.defineProperty(aH,"__esModule",{value:!0}),aH.Settings=aH.scandirSync=aH.scandir=void 0;const nW=cH,iW=WH,rW=ZH;function sW(e={}){return e instanceof rW.default?e:new rW.default(e)}aH.Settings=rW.default,aH.scandir=function(e,t,n){"function"!=typeof t?nW.read(e,sW(t),n):nW.read(e,sW(),t)},aH.scandirSync=function(e,t){const n=sW(t);return iW.read(e,n)};var oW={exports:{}},aW=function(e){var t=new e,n=t;return{get:function(){var i=t;return i.next?t=i.next:(t=new e,n=t),i.next=null,i},release:function(e){n.next=e,n=e}}};function cW(e,t,n){if("function"==typeof e&&(n=t,t=e,e=null),n<1)throw new Error("fastqueue concurrency must be greater than 1");var i=aW(lW),r=null,s=null,o=0,a=null,c={push:function(n,l){var h=i.get();h.context=e,h.release=u,h.value=n,h.callback=l||uW,h.errorHandler=a,o===c.concurrency||c.paused?s?(s.next=h,s=h):(r=h,s=h,c.saturated()):(o++,t.call(e,h.value,h.worked))},drain:uW,saturated:uW,pause:function(){c.paused=!0},paused:!1,concurrency:n,running:function(){return o},resume:function(){if(c.paused){c.paused=!1;for(var e=0;e<c.concurrency;e++)o++,u()}},idle:function(){return 0===o&&0===c.length()},length:function(){for(var e=r,t=0;e;)e=e.next,t++;return t},getQueue:function(){for(var e=r,t=[];e;)t.push(e.value),e=e.next;return t},unshift:function(n,a){var l=i.get();l.context=e,l.release=u,l.value=n,l.callback=a||uW,o===c.concurrency||c.paused?r?(l.next=r,r=l):(r=l,s=l,c.saturated()):(o++,t.call(e,l.value,l.worked))},empty:uW,kill:function(){r=null,s=null,c.drain=uW},killAndDrain:function(){r=null,s=null,c.drain(),c.drain=uW},error:function(e){a=e}};return c;function u(n){n&&i.release(n);var a=r;a?c.paused?o--:(s===r&&(s=null),r=a.next,a.next=null,t.call(e,a.value,a.worked),null===s&&c.empty()):0==--o&&c.drain()}}function uW(){}function lW(){this.value=null,this.callback=uW,this.next=null,this.release=uW,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,n){var i=e.callback,r=e.errorHandler,s=e.value;e.value=null,e.callback=uW,e.errorHandler&&r(t,s),i.call(e.context,t,n),e.release(e)}}oW.exports=cW,oW.exports.promise=function(e,t,n){"function"==typeof e&&(n=t,t=e,e=null);var i=cW(e,(function(e,n){t.call(this,e).then((function(e){n(null,e)}),n)}),n),r=i.push,s=i.unshift;return i.push=function(e){var t=new Promise((function(t,n){r(e,(function(e,i){e?n(e):t(i)}))}));return t.catch(uW),t},i.unshift=function(e){var t=new Promise((function(t,n){s(e,(function(e,i){e?n(e):t(i)}))}));return t.catch(uW),t},i.drained=function(){if(i.idle())return new Promise((function(e){e()}));var e=i.drain;return new Promise((function(t){i.drain=function(){e(),t()}}))},i};var hW=oW.exports,pW={};Object.defineProperty(pW,"__esModule",{value:!0}),pW.joinPathSegments=pW.replacePathSegmentSeparator=pW.isAppliedFilter=pW.isFatalError=void 0,pW.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},pW.isAppliedFilter=function(e,t){return null===e||e(t)},pW.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},pW.joinPathSegments=function(e,t,n){return""===e?t:e.endsWith(n)?e+t:e+n+t};var dW={};Object.defineProperty(dW,"__esModule",{value:!0});const fW=pW;dW.default=class{constructor(e,t){this._root=e,this._settings=t,this._root=fW.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}},Object.defineProperty(oH,"__esModule",{value:!0});const mW=o,gW=aH,yW=hW,bW=pW,vW=dW;class wW extends vW.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=gW.scandir,this._emitter=new mW.EventEmitter,this._queue=yW(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate((()=>{this._pushToQueue(this._root,this._settings.basePath)})),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){const n={directory:e,base:t};this._queue.push(n,(e=>{null!==e&&this._handleError(e)}))}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,((n,i)=>{if(null===n){for(const t of i)this._handleEntry(t,e.base);t(null,void 0)}else t(n,void 0)}))}_handleError(e){this._isDestroyed||!bW.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;const n=e.path;void 0!==t&&(e.path=bW.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),bW.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&bW.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}oH.default=wW,Object.defineProperty(sH,"__esModule",{value:!0});const _W=oH;sH.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new _W.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError((t=>{!function(e,t){e(t)}(e,t)})),this._reader.onEntry((e=>{this._storage.push(e)})),this._reader.onEnd((()=>{!function(e,t){e(null,t)}(e,this._storage)})),this._reader.read()}};var SW={};Object.defineProperty(SW,"__esModule",{value:!0});const EW=b,xW=oH;SW.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new xW.default(this._root,this._settings),this._stream=new EW.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError((e=>{this._stream.emit("error",e)})),this._reader.onEntry((e=>{this._stream.push(e)})),this._reader.onEnd((()=>{this._stream.push(null)})),this._reader.read(),this._stream}};var DW={},CW={};Object.defineProperty(CW,"__esModule",{value:!0});const kW=aH,RW=pW,AW=dW;class TW extends AW.default{constructor(){super(...arguments),this._scandir=kW.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(const e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{const n=this._scandir(e,this._settings.fsScandirSettings);for(const e of n)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(RW.isFatalError(this._settings,e))throw e}_handleEntry(e,t){const n=e.path;void 0!==t&&(e.path=RW.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),RW.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&RW.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}CW.default=TW,Object.defineProperty(DW,"__esModule",{value:!0});const OW=CW;DW.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new OW.default(this._root,this._settings)}read(){return this._reader.read()}};var FW={};Object.defineProperty(FW,"__esModule",{value:!0});const PW=r,IW=aH;FW.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,PW.sep),this.fsScandirSettings=new IW.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return e??t}},Object.defineProperty(rH,"__esModule",{value:!0}),rH.Settings=rH.walkStream=rH.walkSync=rH.walk=void 0;const LW=sH,NW=SW,BW=DW,jW=FW;function MW(e={}){return e instanceof jW.default?e:new jW.default(e)}rH.Settings=jW.default,rH.walk=function(e,t,n){"function"!=typeof t?new LW.default(e,MW(t)).read(n):new LW.default(e,MW()).read(t)},rH.walkSync=function(e,t){const n=MW(t);return new BW.default(e,n).read()},rH.walkStream=function(e,t){const n=MW(t);return new NW.default(e,n).read()};var $W={};Object.defineProperty($W,"__esModule",{value:!0});const qW=r,UW=uH,HW=qM;$W.default=class{constructor(e){this._settings=e,this._fsStatSettings=new UW.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return qW.resolve(this._settings.cwd,e)}_makeEntry(e,t){const n={name:t,path:t,dirent:HW.fs.createDirentFromStats(t,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!HW.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};var WW={};Object.defineProperty(WW,"__esModule",{value:!0});const zW=b,GW=uH,VW=rH,KW=$W;class YW extends KW.default{constructor(){super(...arguments),this._walkStream=VW.walkStream,this._stat=GW.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){const n=e.map(this._getFullEntryPath,this),i=new zW.PassThrough({objectMode:!0});i._write=(r,s,o)=>this._getEntry(n[r],e[r],t).then((e=>{null!==e&&t.entryFilter(e)&&i.push(e),r===n.length-1&&i.end(),o()})).catch(o);for(let e=0;e<n.length;e++)i.write(e);return i}_getEntry(e,t,n){return this._getStat(e).then((e=>this._makeEntry(e,t))).catch((e=>{if(n.errorFilter(e))return null;throw e}))}_getStat(e){return new Promise(((t,n)=>{this._stat(e,this._fsStatSettings,((e,i)=>null===e?t(i):n(e)))}))}}WW.default=YW,Object.defineProperty(iH,"__esModule",{value:!0});const JW=rH,ZW=$W,XW=WW;class QW extends ZW.default{constructor(){super(...arguments),this._walkAsync=JW.walk,this._readerStream=new XW.default(this._settings)}dynamic(e,t){return new Promise(((n,i)=>{this._walkAsync(e,t,((e,t)=>{null===e?n(t):i(e)}))}))}async static(e,t){const n=[],i=this._readerStream.static(e,t);return new Promise(((e,t)=>{i.once("error",t),i.on("data",(e=>n.push(e))),i.once("end",(()=>e(n)))}))}}iH.default=QW;var ez={},tz={},nz={},iz={};Object.defineProperty(iz,"__esModule",{value:!0});const rz=qM;iz.default=class{constructor(e,t,n){this._patterns=e,this._settings=t,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){for(const e of this._patterns){const t=this._getPatternSegments(e),n=this._splitSegmentsIntoSections(t);this._storage.push({complete:n.length<=1,pattern:e,segments:t,sections:n})}}_getPatternSegments(e){return rz.pattern.getPatternParts(e,this._micromatchOptions).map((e=>rz.pattern.isDynamicPattern(e,this._settings)?{dynamic:!0,pattern:e,patternRe:rz.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}))}_splitSegmentsIntoSections(e){return rz.array.splitWhen(e,(e=>e.dynamic&&rz.pattern.hasGlobStar(e.pattern)))}},Object.defineProperty(nz,"__esModule",{value:!0});const sz=iz;class oz extends sz.default{match(e){const t=e.split("/"),n=t.length,i=this._storage.filter((e=>!e.complete||e.segments.length>n));for(const e of i){const i=e.sections[0];if(!e.complete&&n>i.length||t.every(((t,n)=>{const i=e.segments[n];return!!(i.dynamic&&i.patternRe.test(t)||!i.dynamic&&i.pattern===t)})))return!0}return!1}}nz.default=oz,Object.defineProperty(tz,"__esModule",{value:!0});const az=qM,cz=nz;tz.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,n){const i=this._getMatcher(t),r=this._getNegativePatternsRe(n);return t=>this._filter(e,t,i,r)}_getMatcher(e){return new cz.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){const t=e.filter(az.pattern.isAffectDepthOfReadingPattern);return az.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,n,i){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;const r=az.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(r,n)&&this._isSkippedByNegativePatterns(r,i)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){const n=t.split("/").length;return""===e?n:n-e.split("/").length}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!az.pattern.matchAny(e,t)}};var uz={};Object.defineProperty(uz,"__esModule",{value:!0});const lz=qM;uz.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){const n=lz.pattern.convertPatternsToRe(e,this._micromatchOptions),i=lz.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return e=>this._filter(e,n,i)}_filter(e,t,n){const i=lz.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(i)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(i,n))return!1;const r=e.dirent.isDirectory(),s=this._isMatchToPatterns(i,t,r)&&!this._isMatchToPatterns(i,n,r);return this._settings.unique&&s&&this._createIndexRecord(i),s}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;const n=lz.path.makeAbsolute(this._settings.cwd,e);return lz.pattern.matchAny(n,t)}_isMatchToPatterns(e,t,n){const i=lz.pattern.matchAny(e,t);return!i&&n?lz.pattern.matchAny(e+"/",t):i}};var hz={};Object.defineProperty(hz,"__esModule",{value:!0});const pz=qM;hz.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return pz.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};var dz={};Object.defineProperty(dz,"__esModule",{value:!0});const fz=qM;dz.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return this._settings.absolute&&(t=fz.path.makeAbsolute(this._settings.cwd,t),t=fz.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:t}):t}},Object.defineProperty(ez,"__esModule",{value:!0});const mz=r,gz=tz,yz=uz,bz=hz,vz=dz;ez.default=class{constructor(e){this._settings=e,this.errorFilter=new bz.default(this._settings),this.entryFilter=new yz.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new gz.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new vz.default(this._settings)}_getRootDirectory(e){return mz.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){const t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}},Object.defineProperty(nH,"__esModule",{value:!0});const wz=iH,_z=ez;class Sz extends _z.default{constructor(){super(...arguments),this._reader=new wz.default(this._settings)}async read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(t,e,n)).map((e=>n.transform(e)))}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}nH.default=Sz;var Ez={};Object.defineProperty(Ez,"__esModule",{value:!0});const xz=b,Dz=WW,Cz=ez;class kz extends Cz.default{constructor(){super(...arguments),this._reader=new Dz.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e),i=this.api(t,e,n),r=new xz.Readable({objectMode:!0,read:()=>{}});return i.once("error",(e=>r.emit("error",e))).on("data",(e=>r.emit("data",n.transform(e)))).once("end",(()=>r.emit("end"))),r.once("close",(()=>i.destroy())),r}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}Ez.default=kz;var Rz={},Az={};Object.defineProperty(Az,"__esModule",{value:!0});const Tz=uH,Oz=rH,Fz=$W;class Pz extends Fz.default{constructor(){super(...arguments),this._walkSync=Oz.walkSync,this._statSync=Tz.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){const n=[];for(const i of e){const e=this._getFullEntryPath(i),r=this._getEntry(e,i,t);null===r||!t.entryFilter(r)||n.push(r)}return n}_getEntry(e,t,n){try{const n=this._getStat(e);return this._makeEntry(n,t)}catch(e){if(n.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}Az.default=Pz,Object.defineProperty(Rz,"__esModule",{value:!0});const Iz=Az,Lz=ez;class Nz extends Lz.default{constructor(){super(...arguments),this._reader=new Iz.default(this._settings)}read(e){const t=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(t,e,n).map(n.transform)}api(e,t,n){return t.dynamic?this._reader.dynamic(e,n):this._reader.static(t.patterns,n)}}Rz.default=Nz;var Bz={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;const t=c,n=Math.max(u.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:t.lstat,lstatSync:t.lstatSync,stat:t.stat,statSync:t.statSync,readdir:t.readdir,readdirSync:t.readdirSync},e.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,n),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}}(Bz);const jz=$M,Mz=nH,$z=Ez,qz=Rz,Uz=Bz,Hz=qM;async function Wz(e,t){Gz(e);const n=zz(e,Mz.default,t),i=await Promise.all(n);return Hz.array.flatten(i)}function zz(e,t,n){const i=[].concat(e),r=new Uz.default(n),s=jz.generate(i,r),o=new t(r);return s.map(o.read,o)}function Gz(e){if(![].concat(e).every((e=>Hz.string.isString(e)&&!Hz.string.isEmpty(e))))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){function t(e,t){Gz(e);const n=zz(e,qz.default,t);return Hz.array.flatten(n)}function n(e,t){Gz(e);const n=zz(e,$z.default,t);return Hz.stream.merge(n)}var i;e.glob=e,e.globSync=t,e.globStream=n,e.async=e,e.sync=t,e.stream=n,e.generateTasks=function(e,t){Gz(e);const n=[].concat(e),i=new Uz.default(t);return jz.generate(n,i)},e.isDynamicPattern=function(e,t){Gz(e);const n=new Uz.default(t);return Hz.pattern.isDynamicPattern(e,n)},e.escapePath=function(e){return Gz(e),Hz.path.escape(e)},e.convertPathToPattern=function(e){return Gz(e),Hz.path.convertPathToPattern(e)},(i=e.posix||(e.posix={})).escapePath=function(e){return Gz(e),Hz.path.escapePosixPath(e)},i.convertPathToPattern=function(e){return Gz(e),Hz.path.convertPosixPathToPattern(e)},function(e){e.escapePath=function(e){return Gz(e),Hz.path.escapeWindowsPath(e)},e.convertPathToPattern=function(e){return Gz(e),Hz.path.convertWindowsPathToPattern(e)}}(e.win32||(e.win32={}))}(Wz||(Wz={}));const Vz=T(Wz),Kz={ignore:["**/node_modules/**"]},Yz=async e=>{const t=r.join(r.dirname(e),"pnpm-workspace.yaml");let n;try{n=await h.readFile(t,"utf-8")}catch{return null}return TN.load(n)};var Jz={},Zz={exports:{}};!function(e){var t=R,n=r;e.exports=function(i,r,s){if("object"==typeof r&&(s=r,r=void 0),r=r||"",(s=s||{}).appendPaths=s.appendPaths||[],s.prependPaths=s.prependPaths||[],"string"!=typeof i)throw new Error("code must be a string, not "+typeof i);var o=t._nodeModulePaths(n.dirname(r)),a=e.parent,c=new t(r,a);c.filename=r,c.paths=[].concat(s.prependPaths).concat(o).concat(s.appendPaths),c._compile(i,r);var u=c.exports;return a&&a.children&&a.children.splice(a.children.indexOf(c),1),u}}(Zz);var Xz=Zz.exports,Qz={Space_Separator:/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,ID_Start:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ID_Continue:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/},eG=e=>"string"==typeof e&&Qz.Space_Separator.test(e),tG=e=>"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||"$"===e||"_"===e||Qz.ID_Start.test(e)),nG=e=>"string"==typeof e&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||"$"===e||"_"===e||""===e||""===e||Qz.ID_Continue.test(e)),iG=e=>"string"==typeof e&&/[0-9]/.test(e),rG=e=>"string"==typeof e&&/[0-9A-Fa-f]/.test(e);let sG,oG,aG,cG,uG,lG,hG,pG,dG,fG,mG,gG,yG,bG;function vG(e,t,n){const i=e[t];if(null!=i&&"object"==typeof i)if(Array.isArray(i))for(let e=0;e<i.length;e++){const t=String(e),r=vG(i,t,n);void 0===r?delete i[t]:Object.defineProperty(i,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}else for(const e in i){const t=vG(i,e,n);void 0===t?delete i[e]:Object.defineProperty(i,e,{value:t,writable:!0,enumerable:!0,configurable:!0})}return n.call(e,t,i)}function wG(){for(fG="default",mG="",gG=!1,yG=1;;){bG=_G();const e=EG[fG]();if(e)return e}}function _G(){if(sG[cG])return String.fromCodePoint(sG.codePointAt(cG))}function SG(){const e=_G();return"\n"===e?(uG++,lG=0):e?lG+=e.length:lG++,e&&(cG+=e.length),e}const EG={default(){switch(bG){case"\t":case"\v":case"\f":case" ":case"":case"\ufeff":case"\n":case"\r":case"\u2028":case"\u2029":return void SG();case"/":return SG(),void(fG="comment");case void 0:return SG(),xG("eof")}if(!eG(bG))return EG[oG]();SG()},comment(){switch(bG){case"*":return SG(),void(fG="multiLineComment");case"/":return SG(),void(fG="singleLineComment")}throw TG(SG())},multiLineComment(){switch(bG){case"*":return SG(),void(fG="multiLineCommentAsterisk");case void 0:throw TG(SG())}SG()},multiLineCommentAsterisk(){switch(bG){case"*":return void SG();case"/":return SG(),void(fG="default");case void 0:throw TG(SG())}SG(),fG="multiLineComment"},singleLineComment(){switch(bG){case"\n":case"\r":case"\u2028":case"\u2029":return SG(),void(fG="default");case void 0:return SG(),xG("eof")}SG()},value(){switch(bG){case"{":case"[":return xG("punctuator",SG());case"n":return SG(),DG("ull"),xG("null",null);case"t":return SG(),DG("rue"),xG("boolean",!0);case"f":return SG(),DG("alse"),xG("boolean",!1);case"-":case"+":return"-"===SG()&&(yG=-1),void(fG="sign");case".":return mG=SG(),void(fG="decimalPointLeading");case"0":return mG=SG(),void(fG="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return mG=SG(),void(fG="decimalInteger");case"I":return SG(),DG("nfinity"),xG("numeric",1/0);case"N":return SG(),DG("aN"),xG("numeric",NaN);case'"':case"'":return gG='"'===SG(),mG="",void(fG="string")}throw TG(SG())},identifierNameStartEscape(){if("u"!==bG)throw TG(SG());SG();const e=CG();switch(e){case"$":case"_":break;default:if(!tG(e))throw FG()}mG+=e,fG="identifierName"},identifierName(){switch(bG){case"$":case"_":case"":case"":return void(mG+=SG());case"\\":return SG(),void(fG="identifierNameEscape")}if(!nG(bG))return xG("identifier",mG);mG+=SG()},identifierNameEscape(){if("u"!==bG)throw TG(SG());SG();const e=CG();switch(e){case"$":case"_":case"":case"":break;default:if(!nG(e))throw FG()}mG+=e,fG="identifierName"},sign(){switch(bG){case".":return mG=SG(),void(fG="decimalPointLeading");case"0":return mG=SG(),void(fG="zero");case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return mG=SG(),void(fG="decimalInteger");case"I":return SG(),DG("nfinity"),xG("numeric",yG*(1/0));case"N":return SG(),DG("aN"),xG("numeric",NaN)}throw TG(SG())},zero(){switch(bG){case".":return mG+=SG(),void(fG="decimalPoint");case"e":case"E":return mG+=SG(),void(fG="decimalExponent");case"x":case"X":return mG+=SG(),void(fG="hexadecimal")}return xG("numeric",0*yG)},decimalInteger(){switch(bG){case".":return mG+=SG(),void(fG="decimalPoint");case"e":case"E":return mG+=SG(),void(fG="decimalExponent")}if(!iG(bG))return xG("numeric",yG*Number(mG));mG+=SG()},decimalPointLeading(){if(iG(bG))return mG+=SG(),void(fG="decimalFraction");throw TG(SG())},decimalPoint(){switch(bG){case"e":case"E":return mG+=SG(),void(fG="decimalExponent")}return iG(bG)?(mG+=SG(),void(fG="decimalFraction")):xG("numeric",yG*Number(mG))},decimalFraction(){switch(bG){case"e":case"E":return mG+=SG(),void(fG="decimalExponent")}if(!iG(bG))return xG("numeric",yG*Number(mG));mG+=SG()},decimalExponent(){switch(bG){case"+":case"-":return mG+=SG(),void(fG="decimalExponentSign")}if(iG(bG))return mG+=SG(),void(fG="decimalExponentInteger");throw TG(SG())},decimalExponentSign(){if(iG(bG))return mG+=SG(),void(fG="decimalExponentInteger");throw TG(SG())},decimalExponentInteger(){if(!iG(bG))return xG("numeric",yG*Number(mG));mG+=SG()},hexadecimal(){if(rG(bG))return mG+=SG(),void(fG="hexadecimalInteger");throw TG(SG())},hexadecimalInteger(){if(!rG(bG))return xG("numeric",yG*Number(mG));mG+=SG()},string(){switch(bG){case"\\":return SG(),void(mG+=function(){switch(_G()){case"b":return SG(),"\b";case"f":return SG(),"\f";case"n":return SG(),"\n";case"r":return SG(),"\r";case"t":return SG(),"\t";case"v":return SG(),"\v";case"0":if(SG(),iG(_G()))throw TG(SG());return"\0";case"x":return SG(),function(){let e="",t=_G();if(!rG(t)||(e+=SG(),t=_G(),!rG(t)))throw TG(SG());return e+=SG(),String.fromCodePoint(parseInt(e,16))}();case"u":return SG(),CG();case"\n":case"\u2028":case"\u2029":return SG(),"";case"\r":return SG(),"\n"===_G()&&SG(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case void 0:throw TG(SG())}return SG()}());case'"':return gG?(SG(),xG("string",mG)):void(mG+=SG());case"'":return gG?void(mG+=SG()):(SG(),xG("string",mG));case"\n":case"\r":throw TG(SG());case"\u2028":case"\u2029":!function(e){console.warn(`JSON5: '${PG(e)}' in strings is not valid ECMAScript; consider escaping`)}(bG);break;case void 0:throw TG(SG())}mG+=SG()},start(){switch(bG){case"{":case"[":return xG("punctuator",SG())}fG="value"},beforePropertyName(){switch(bG){case"$":case"_":return mG=SG(),void(fG="identifierName");case"\\":return SG(),void(fG="identifierNameStartEscape");case"}":return xG("punctuator",SG());case'"':case"'":return gG='"'===SG(),void(fG="string")}if(tG(bG))return mG+=SG(),void(fG="identifierName");throw TG(SG())},afterPropertyName(){if(":"===bG)return xG("punctuator",SG());throw TG(SG())},beforePropertyValue(){fG="value"},afterPropertyValue(){switch(bG){case",":case"}":return xG("punctuator",SG())}throw TG(SG())},beforeArrayValue(){if("]"===bG)return xG("punctuator",SG());fG="value"},afterArrayValue(){switch(bG){case",":case"]":return xG("punctuator",SG())}throw TG(SG())},end(){throw TG(SG())}};function xG(e,t){return{type:e,value:t,line:uG,column:lG}}function DG(e){for(const t of e){if(_G()!==t)throw TG(SG());SG()}}function CG(){let e="",t=4;for(;t-- >0;){const t=_G();if(!rG(t))throw TG(SG());e+=SG()}return String.fromCodePoint(parseInt(e,16))}const kG={start(){if("eof"===hG.type)throw OG();RG()},beforePropertyName(){switch(hG.type){case"identifier":case"string":return pG=hG.value,void(oG="afterPropertyName");case"punctuator":return void AG();case"eof":throw OG()}},afterPropertyName(){if("eof"===hG.type)throw OG();oG="beforePropertyValue"},beforePropertyValue(){if("eof"===hG.type)throw OG();RG()},beforeArrayValue(){if("eof"===hG.type)throw OG();"punctuator"!==hG.type||"]"!==hG.value?RG():AG()},afterPropertyValue(){if("eof"===hG.type)throw OG();switch(hG.value){case",":return void(oG="beforePropertyName");case"}":AG()}},afterArrayValue(){if("eof"===hG.type)throw OG();switch(hG.value){case",":return void(oG="beforeArrayValue");case"]":AG()}},end(){}};function RG(){let e;switch(hG.type){case"punctuator":switch(hG.value){case"{":e={};break;case"[":e=[]}break;case"null":case"boolean":case"numeric":case"string":e=hG.value}if(void 0===dG)dG=e;else{const t=aG[aG.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,pG,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(null!==e&&"object"==typeof e)aG.push(e),oG=Array.isArray(e)?"beforeArrayValue":"beforePropertyName";else{const e=aG[aG.length-1];oG=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}}function AG(){aG.pop();const e=aG[aG.length-1];oG=null==e?"end":Array.isArray(e)?"afterArrayValue":"afterPropertyValue"}function TG(e){return IG(void 0===e?`JSON5: invalid end of input at ${uG}:${lG}`:`JSON5: invalid character '${PG(e)}' at ${uG}:${lG}`)}function OG(){return IG(`JSON5: invalid end of input at ${uG}:${lG}`)}function FG(){return lG-=5,IG(`JSON5: invalid identifier character at ${uG}:${lG}`)}function PG(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const t=e.charCodeAt(0).toString(16);return"\\x"+("00"+t).substring(t.length)}return e}function IG(e){const t=new SyntaxError(e);return t.lineNumber=uG,t.columnNumber=lG,t}var LG={parse:function(e,t){sG=String(e),oG="start",aG=[],cG=0,uG=1,lG=0,hG=void 0,pG=void 0,dG=void 0;do{hG=wG(),kG[oG]()}while("eof"!==hG.type);return"function"==typeof t?vG({"":dG},"",t):dG},stringify:function(e,t,n){const i=[];let r,s,o,a="",c="";if(null!=t&&"object"==typeof t&&!Array.isArray(t)&&(n=t.space,o=t.quote,t=t.replacer),"function"==typeof t)s=t;else if(Array.isArray(t)){r=[];for(const e of t){let t;"string"==typeof e?t=e:("number"==typeof e||e instanceof String||e instanceof Number)&&(t=String(e)),void 0!==t&&r.indexOf(t)<0&&r.push(t)}}return n instanceof Number?n=Number(n):n instanceof String&&(n=String(n)),"number"==typeof n?n>0&&(n=Math.min(10,Math.floor(n)),c="          ".substr(0,n)):"string"==typeof n&&(c=n.substr(0,10)),function e(t,n){let o=n[t];switch(null!=o&&("function"==typeof o.toJSON5?o=o.toJSON5(t):"function"==typeof o.toJSON&&(o=o.toJSON(t))),s&&(o=s.call(n,t,o)),o instanceof Number?o=Number(o):o instanceof String?o=String(o):o instanceof Boolean&&(o=o.valueOf()),o){case null:return"null";case!0:return"true";case!1:return"false"}return"string"==typeof o?u(o):"number"==typeof o?String(o):"object"==typeof o?Array.isArray(o)?function(t){if(i.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");i.push(t);let n=a;a+=c;let r,s=[];for(let n=0;n<t.length;n++){const i=e(String(n),t);s.push(void 0!==i?i:"null")}if(0===s.length)r="[]";else if(""===c)r="["+s.join(",")+"]";else{let e=",\n"+a,t=s.join(e);r="[\n"+a+t+",\n"+n+"]"}return i.pop(),a=n,r}(o):function(t){if(i.indexOf(t)>=0)throw TypeError("Converting circular structure to JSON5");i.push(t);let n=a;a+=c;let s,o=r||Object.keys(t),u=[];for(const n of o){const i=e(n,t);if(void 0!==i){let e=l(n)+":";""!==c&&(e+=" "),e+=i,u.push(e)}}if(0===u.length)s="{}";else{let e;if(""===c)e=u.join(","),s="{"+e+"}";else{let t=",\n"+a;e=u.join(t),s="{\n"+a+e+",\n"+n+"}"}}return i.pop(),a=n,s}(o):void 0}("",{"":e});function u(e){const t={"'":.1,'"':.2},n={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let i="";for(let r=0;r<e.length;r++){const s=e[r];switch(s){case"'":case'"':t[s]++,i+=s;continue;case"\0":if(iG(e[r+1])){i+="\\x00";continue}}if(n[s])i+=n[s];else if(s<" "){let e=s.charCodeAt(0).toString(16);i+="\\x"+("00"+e).substring(e.length)}else i+=s}const r=o||Object.keys(t).reduce(((e,n)=>t[e]<t[n]?e:n));return i=i.replace(new RegExp(r,"g"),n[r]),r+i+r}function l(e){if(0===e.length)return u(e);const t=String.fromCodePoint(e.codePointAt(0));if(!tG(t))return u(e);for(let n=t.length;n<e.length;n++)if(!nG(String.fromCodePoint(e.codePointAt(n))))return u(e);return e}}};const NG=function(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})})),n}(Object.freeze(Object.defineProperty({__proto__:null,default:LG},Symbol.toStringTag,{value:"Module"})));var BG=A&&A.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jz,"__esModule",{value:!0});var jG=Jz.rcFile=void 0;const MG=BG(r),$G=BG(c),qG=BG(Xz),UG=BG(NG),HG=PA("rc-config-loader"),WG={".cjs":YG,".js":YG,".json":function(e,t){HG(`Loading JSON config file: ${e}`);try{return UG.default.parse(JG(e))}catch(n){if(HG(`Error reading JSON file: ${e}`),!t)throw n.message=`Cannot read config file: ${e}\nError: ${n.message}`,n}},".yaml":ZG,".yml":ZG},zG={packageJSON:!1,defaultExtension:[".json",".yaml",".yml",".js",".cjs"],cwd:process.cwd()},GG=(e,t)=>{if(!zG.defaultExtension.includes(t))throw new Error(`${t} is not supported.`);return e[t]};function VG({parts:e,loaderByExt:t,loadersByOrder:n,configFileName:i,packageJSON:r,packageJSONFieldName:s}){const o=Object.keys(t);for(;o.length;){const r=o.shift(),s=KG(e,i+r);if(!$G.default.existsSync(s))continue;const a=r?t[r]:n;if(!Array.isArray(a)){const e=a(s,!1);if(!e)continue;return{config:e,filePath:s}}for(let e=0;e<a.length;e++){const t=(0,a[e])(s,!0);if(t)return{config:t,filePath:s}}}if(r){const t=KG(e,"package.json");if($G.default.existsSync(t)){const e=UG.default.parse(JG(t));if(e[s])return{config:e[s],filePath:t}}}if(e.pop())return VG({parts:e,loaderByExt:t,loadersByOrder:n,configFileName:i,packageJSON:r,packageJSONFieldName:s})}function KG(e,t){return MG.default.resolve(e.join(MG.default.sep)+MG.default.sep,t)}function YG(e,t){HG(`Loading JavaScript config file: ${e}`);try{const t=$G.default.readFileSync(e,"utf-8");return(0,qG.default)(t,e)}catch(n){if(HG(`Error reading JavaScript file: ${e}`),!t)throw n.message=`Cannot read config file: ${e}\nError: ${n.message}`,n}}function JG(e){return $G.default.readFileSync(e,"utf8")}function ZG(e,t){HG(`Loading YAML config file: ${e}`);const n=AN();try{return n.load(JG(e))||{}}catch(n){if(HG(`Error reading YAML file: ${e}`),!t)throw n.message=`Cannot read config file: ${e}\nError: ${n.message}`,n}}async function XG({configFileName:e,configFilePath:t,packageFile:i,global:s,options:o}){const{default:a,Chalk:c}=await Promise.resolve().then((()=>n(6796))),l=o?.color?new c({level:1}):a,h=jG("ncurc",{configFileName:e||".ncurc",defaultExtension:[".json",".yml",".js"],cwd:t||(s?u.homedir():i?r.dirname(i):void 0)});e&&!h?.filePath&&FM(o,`Config file ${e} not found in ${t||process.cwd()}`);const{$schema:p,...d}=h?.config||{},f={filePath:h?.filePath,config:d},m=Object.keys(f?.config||{}).filter((e=>!dl[e]));m.length>0&&(console.error(l.red(`Unknown option${1===m.length?"":"s"} found in config file:`),l.gray(m.join(", "))),console.info("Using config file "+f.filePath),console.info(`You can change the config file path with ${l.blue("--configFilePath")}`));const g=f?Object.entries(f.config).flatMap((([e,t])=>!0===t||"boolean"===dl[e]?.type&&t?[`--${e}`]:!1===t||"boolean"===dl[e]?.type&&!t?[]:[`--${e}`,t])):[];return f?{...f,args:g}:null}jG=Jz.rcFile=function(e,t={}){const n=t.configFileName||`.${e}rc`,i=t.defaultExtension||zG.defaultExtension,r=t.cwd||zG.cwd,s=t.packageJSON||zG.packageJSON,o="object"==typeof s?s.fieldName:e,a=function(e){return MG.default.resolve(e||"").split(MG.default.sep)}(r),c=Array.isArray(i)?i.map((e=>GG(WG,e))):GG(WG,i);return VG({parts:a,loaderByExt:Object.assign(Object.assign({},WG),{"":c}),loadersByOrder:c,configFileName:n,packageJSON:s,packageJSONFieldName:o})};var QG=Object.prototype.hasOwnProperty;function eV(e,t,n){for(n of e.keys())if(tV(n,t))return n}function tV(e,t){var n,i,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&tV(e[i],t[i]););return-1===i}if(n===Set){if(e.size!==t.size)return!1;for(i of e)if((r=i)&&"object"==typeof r&&!(r=eV(t,r))||!t.has(r))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(i of e)if((r=i[0])&&"object"==typeof r&&!(r=eV(t,r))||!tV(i[1],t.get(r)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((i=e.byteLength)===t.byteLength)for(;i--&&e.getInt8(i)===t.getInt8(i););return-1===i}if(ArrayBuffer.isView(e)){if((i=e.byteLength)===t.byteLength)for(;i--&&e[i]===t[i];);return-1===i}if(!n||"object"==typeof e){for(n in i=0,e)if(QG.call(e,n)&&++i&&!QG.call(t,n)||!(n in t)||!tV(e[n],t[n]))return!1;return Object.keys(t).length===i}}return e!=e&&t!=t}const{promisify:nV}=l,iV=nV(a.execFile),rV=T((async e=>{const{stdout:t}=await iV("git",["ls-remote","--tags",e]),n=new Map;for(const e of t.trim().split("\n")){const[t,i]=e.split("\t"),r=i.replace(/^refs\/tags\//,"").replace(/\^\{\}$/,"");n.set(r,t)}return n})),sV=async(e,t,n)=>{t=t.replace(/^github:/,"");const{auth:i,protocol:r,host:s,path:o}=ha(t);let a=new Map,c=Promise.resolve(a);c=null!=r?c.then((()=>rV(`${r?r.replace("git+",""):"https:"}//${i?i+"@":""}${s}/${o?.replace(/^:/,"")}`))):c.then((()=>rV(`ssh://git@${s}/${o?.replace(/^:/,"")}`))).catch((()=>rV(`https://${i?i+"@":""}${s}/${o}`)));try{a=await c}catch{return Ku(n||{},`Invalid, private repo, or no tags for ${e}: ${t}`,"verbose"),null}return Array.from(a.keys()).map(Nu).filter((e=>hu.valid(e))).sort(Ou)},oV=async(e,t,n)=>{const i=await sV(e,t,n);if(!i)return{version:null};const r=i[i.length-1];return{version:r?zu(t,r):null}},aV=e=>async(t,n,i={})=>{const r=decodeURIComponent(ha(n).branch).replace(/^semver:/,""),s=await sV(t,n,i);if(!s)return{version:null};const o=Fu(s.map((e=>e.replace(/^v/,""))),r,e);return{version:o?zu(n,o):null}},cV=aV("minor"),uV=aV("patch"),lV=oV,hV=Object.freeze(Object.defineProperty({__proto__:null,greatest:oV,greatestLevel:aV,latest:async(e,t,n)=>{const i=await sV(e,t,n);if(!i)return{version:null};const r=n?.pre?i:i.filter((e=>!Pu(e))),s=r[r.length-1];return{version:s?zu(t,s):null}},minor:cV,newest:lV,patch:uV,semver:async(e,t,n)=>({version:null})},Symbol.toStringTag,{value:"Module"})),pV=Bl((async e=>{const t=e.registry;let n;if((e=>e&&e.startsWith("http://")||e.startsWith("https://"))(t))n=await(await fetch(t)).text();else try{n=await h.readFile(t,"utf8")}catch{FM(e,`\nThe specified static registry file does not exist: ${e.registry}`)}return JSON.parse(n)})),dV=Object.freeze(Object.defineProperty({__proto__:null,latest:async(e,t,n)=>({version:(await pV(n||{}))[e]||null})},Symbol.toStringTag,{value:"Module"})),fV={npm:zI,pnpm:lL,yarn:OM,bun:QI,gitTags:hV,staticRegistry:dV};function mV(e){if("string"==typeof e)return e.trim();if(!Array.isArray(e)||0!==e.length&&"string"!=typeof e[0])return e;{const t=e.map((e=>"string"==typeof e?e.trim():e)).filter((e=>e));return t.length>0?t:void 0}}const gV=e=>"function"==typeof e?e:()=>e,yV=(...e)=>(...t)=>0===e.length||!!gV(e[0])(...t)&&yV(...e.slice(1))(...t),bV=(...e)=>(...t)=>e.length>0&&(!!gV(e[0])(...t)||bV(...e.slice(1))(...t));var vV={and:yV,or:bV},wV={};const _V="\\\\/",SV=`[^${_V}]`,EV="\\.",xV="\\/",DV="[^/]",CV=`(?:${xV}|$)`,kV=`(?:^|${xV})`,RV=`${EV}{1,2}${CV}`,AV={DOT_LITERAL:EV,PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:xV,ONE_CHAR:"(?=.)",QMARK:DV,END_ANCHOR:CV,DOTS_SLASH:RV,NO_DOT:`(?!${EV})`,NO_DOTS:`(?!${kV}${RV})`,NO_DOT_SLASH:`(?!${EV}{0,1}${CV})`,NO_DOTS_SLASH:`(?!${RV})`,QMARK_NO_DOT:`[^.${xV}]`,STAR:`${DV}*?`,START_ANCHOR:kV,SEP:"/"},TV={...AV,SLASH_LITERAL:`[${_V}]`,QMARK:SV,STAR:`${SV}*?`,DOTS_SLASH:`${EV}{1,2}(?:[${_V}]|$)`,NO_DOT:`(?!${EV})`,NO_DOTS:`(?!(?:^|[${_V}])${EV}{1,2}(?:[${_V}]|$))`,NO_DOT_SLASH:`(?!${EV}{0,1}(?:[${_V}]|$))`,NO_DOTS_SLASH:`(?!${EV}{1,2}(?:[${_V}]|$))`,QMARK_NO_DOT:`[^.${_V}]`,START_ANCHOR:`(?:^|[${_V}])`,END_ANCHOR:`(?:[${_V}]|$)`,SEP:"\\"};var OV={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?TV:AV};!function(e){const{REGEX_BACKSLASH:t,REGEX_REMOVE_BACKSLASH:n,REGEX_SPECIAL_CHARS:i,REGEX_SPECIAL_CHARS_GLOBAL:r}=OV;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>i.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(r,"\\$1"),e.toPosixSlashes=e=>e.replace(t,"/"),e.isWindows=()=>{if(typeof navigator<"u"&&navigator.platform){const e=navigator.platform.toLowerCase();return"win32"===e||"windows"===e}return!!(typeof process<"u"&&process.platform)&&"win32"===process.platform},e.removeBackslashes=e=>e.replace(n,(e=>"\\"===e?"":e)),e.escapeLast=(t,n,i)=>{const r=t.lastIndexOf(n,i);return-1===r?t:"\\"===t[r-1]?e.escapeLast(t,n,r-1):`${t.slice(0,r)}\\${t.slice(r)}`},e.removePrefix=(e,t={})=>{let n=e;return n.startsWith("./")&&(n=n.slice(2),t.prefix="./"),n},e.wrapOutput=(e,t={},n={})=>{let i=`${n.contains?"":"^"}(?:${e})${n.contains?"":"$"}`;return!0===t.negated&&(i=`(?:^(?!${i}).*$)`),i},e.basename=(e,{windows:t}={})=>{const n=e.split(t?/[\\/]/:"/"),i=n[n.length-1];return""===i?n[n.length-2]:i}}(wV);const FV=wV,{CHAR_ASTERISK:PV,CHAR_AT:IV,CHAR_BACKWARD_SLASH:LV,CHAR_COMMA:NV,CHAR_DOT:BV,CHAR_EXCLAMATION_MARK:jV,CHAR_FORWARD_SLASH:MV,CHAR_LEFT_CURLY_BRACE:$V,CHAR_LEFT_PARENTHESES:qV,CHAR_LEFT_SQUARE_BRACKET:UV,CHAR_PLUS:HV,CHAR_QUESTION_MARK:WV,CHAR_RIGHT_CURLY_BRACE:zV,CHAR_RIGHT_PARENTHESES:GV,CHAR_RIGHT_SQUARE_BRACKET:VV}=OV,KV=e=>e===MV||e===LV,YV=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)};const JV=OV,ZV=wV,{MAX_LENGTH:XV,POSIX_REGEX_SOURCE:QV,REGEX_NON_SPECIAL_CHARS:eK,REGEX_SPECIAL_CHARS_BACKREF:tK,REPLACEMENTS:nK}=JV,iK=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();const n=`[${e.join("-")}]`;try{new RegExp(n)}catch{return e.map((e=>ZV.escapeRegex(e))).join("..")}return n},rK=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,sK=(e,t)=>{if("string"!=typeof e)throw new TypeError("Expected a string");e=nK[e]||e;const n={...t},i="number"==typeof n.maxLength?Math.min(XV,n.maxLength):XV;let r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);const s={type:"bos",value:"",output:n.prepend||""},o=[s],a=n.capture?"":"?:",c=JV.globChars(n.windows),u=JV.extglobChars(c),{DOT_LITERAL:l,PLUS_LITERAL:h,SLASH_LITERAL:p,ONE_CHAR:d,DOTS_SLASH:f,NO_DOT:m,NO_DOT_SLASH:g,NO_DOTS_SLASH:y,QMARK:b,QMARK_NO_DOT:v,STAR:w,START_ANCHOR:_}=c,S=e=>`(${a}(?:(?!${_}${e.dot?f:l}).)*?)`,E=n.dot?"":m,x=n.dot?b:v;let D=!0===n.bash?S(n):w;n.capture&&(D=`(${D})`),"boolean"==typeof n.noext&&(n.noextglob=n.noext);const C={input:e,index:-1,start:0,dot:!0===n.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:o};e=ZV.removePrefix(e,C),r=e.length;const k=[],R=[],A=[];let T,O=s;const F=()=>C.index===r-1,P=C.peek=(t=1)=>e[C.index+t],I=C.advance=()=>e[++C.index]||"",L=()=>e.slice(C.index+1),N=(e="",t=0)=>{C.consumed+=e,C.index+=t},B=e=>{C.output+=null!=e.output?e.output:e.value,N(e.value)},j=()=>{let e=1;for(;"!"===P()&&("("!==P(2)||"?"===P(3));)I(),C.start++,e++;return e%2!=0&&(C.negated=!0,C.start++,!0)},M=e=>{C[e]++,A.push(e)},$=e=>{C[e]--,A.pop()},q=e=>{if("globstar"===O.type){const t=C.braces>0&&("comma"===e.type||"brace"===e.type),n=!0===e.extglob||k.length&&("pipe"===e.type||"paren"===e.type);"slash"!==e.type&&"paren"!==e.type&&!t&&!n&&(C.output=C.output.slice(0,-O.output.length),O.type="star",O.value="*",O.output=D,C.output+=O.output)}if(k.length&&"paren"!==e.type&&(k[k.length-1].inner+=e.value),(e.value||e.output)&&B(e),O&&"text"===O.type&&"text"===e.type)return O.output=(O.output||O.value)+e.value,void(O.value+=e.value);e.prev=O,o.push(e),O=e},U=(e,t)=>{const i={...u[t],conditions:1,inner:""};i.prev=O,i.parens=C.parens,i.output=C.output;const r=(n.capture?"(":"")+i.open;M("parens"),q({type:e,value:t,output:C.output?"":d}),q({type:"paren",extglob:!0,value:I(),output:r}),k.push(i)},H=e=>{let i,r=e.close+(n.capture?")":"");if("negate"===e.type){let s=D;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(s=S(n)),(s!==D||F()||/^\)+$/.test(L()))&&(r=e.close=`)$))${s}`),e.inner.includes("*")&&(i=L())&&/^\.[^\\/.]+$/.test(i)){const n=sK(i,{...t,fastpaths:!1}).output;r=e.close=`)${n})${s})`}"bos"===e.prev.type&&(C.negatedExtglob=!0)}q({type:"paren",extglob:!0,value:T,output:r}),$("parens")};if(!1!==n.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let i=!1,r=e.replace(tK,((e,t,n,r,s,o)=>"\\"===r?(i=!0,e):"?"===r?t?t+r+(s?b.repeat(s.length):""):0===o?x+(s?b.repeat(s.length):""):b.repeat(n.length):"."===r?l.repeat(n.length):"*"===r?t?t+r+(s?D:""):D:t?e:`\\${e}`));return!0===i&&(r=!0===n.unescape?r.replace(/\\/g,""):r.replace(/\\+/g,(e=>e.length%2==0?"\\\\":e?"\\":""))),r===e&&!0===n.contains?(C.output=e,C):(C.output=ZV.wrapOutput(r,C,t),C)}for(;!F();){if(T=I(),"\0"===T)continue;if("\\"===T){const e=P();if("/"===e&&!0!==n.bash||"."===e||";"===e)continue;if(!e){T+="\\",q({type:"text",value:T});continue}const t=/^\\+/.exec(L());let i=0;if(t&&t[0].length>2&&(i=t[0].length,C.index+=i,i%2!=0&&(T+="\\")),!0===n.unescape?T=I():T+=I(),0===C.brackets){q({type:"text",value:T});continue}}if(C.brackets>0&&("]"!==T||"["===O.value||"[^"===O.value)){if(!1!==n.posix&&":"===T){const e=O.value.slice(1);if(e.includes("[")&&(O.posix=!0,e.includes(":"))){const e=O.value.lastIndexOf("["),t=O.value.slice(0,e),n=O.value.slice(e+2),i=QV[n];if(i){O.value=t+i,C.backtrack=!0,I(),!s.output&&1===o.indexOf(O)&&(s.output=d);continue}}}("["===T&&":"!==P()||"-"===T&&"]"===P())&&(T=`\\${T}`),"]"===T&&("["===O.value||"[^"===O.value)&&(T=`\\${T}`),!0===n.posix&&"!"===T&&"["===O.value&&(T="^"),O.value+=T,B({value:T});continue}if(1===C.quotes&&'"'!==T){T=ZV.escapeRegex(T),O.value+=T,B({value:T});continue}if('"'===T){C.quotes=1===C.quotes?0:1,!0===n.keepQuotes&&q({type:"text",value:T});continue}if("("===T){M("parens"),q({type:"paren",value:T});continue}if(")"===T){if(0===C.parens&&!0===n.strictBrackets)throw new SyntaxError(rK("opening","("));const e=k[k.length-1];if(e&&C.parens===e.parens+1){H(k.pop());continue}q({type:"paren",value:T,output:C.parens?")":"\\)"}),$("parens");continue}if("["===T){if(!0!==n.nobracket&&L().includes("]"))M("brackets");else{if(!0!==n.nobracket&&!0===n.strictBrackets)throw new SyntaxError(rK("closing","]"));T=`\\${T}`}q({type:"bracket",value:T});continue}if("]"===T){if(!0===n.nobracket||O&&"bracket"===O.type&&1===O.value.length){q({type:"text",value:T,output:`\\${T}`});continue}if(0===C.brackets){if(!0===n.strictBrackets)throw new SyntaxError(rK("opening","["));q({type:"text",value:T,output:`\\${T}`});continue}$("brackets");const e=O.value.slice(1);if(!0!==O.posix&&"^"===e[0]&&!e.includes("/")&&(T=`/${T}`),O.value+=T,B({value:T}),!1===n.literalBrackets||ZV.hasRegexChars(e))continue;const t=ZV.escapeRegex(O.value);if(C.output=C.output.slice(0,-O.value.length),!0===n.literalBrackets){C.output+=t,O.value=t;continue}O.value=`(${a}${t}|${O.value})`,C.output+=O.value;continue}if("{"===T&&!0!==n.nobrace){M("braces");const e={type:"brace",value:T,output:"(",outputIndex:C.output.length,tokensIndex:C.tokens.length};R.push(e),q(e);continue}if("}"===T){const e=R[R.length-1];if(!0===n.nobrace||!e){q({type:"text",value:T,output:T});continue}let t=")";if(!0===e.dots){const e=o.slice(),i=[];for(let t=e.length-1;t>=0&&(o.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&i.unshift(e[t].value);t=iK(i,n),C.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){const n=C.output.slice(0,e.outputIndex),i=C.tokens.slice(e.tokensIndex);e.value=e.output="\\{",T=t="\\}",C.output=n;for(const e of i)C.output+=e.output||e.value}q({type:"brace",value:T,output:t}),$("braces"),R.pop();continue}if("|"===T){k.length>0&&k[k.length-1].conditions++,q({type:"text",value:T});continue}if(","===T){let e=T;const t=R[R.length-1];t&&"braces"===A[A.length-1]&&(t.comma=!0,e="|"),q({type:"comma",value:T,output:e});continue}if("/"===T){if("dot"===O.type&&C.index===C.start+1){C.start=C.index+1,C.consumed="",C.output="",o.pop(),O=s;continue}q({type:"slash",value:T,output:p});continue}if("."===T){if(C.braces>0&&"dot"===O.type){"."===O.value&&(O.output=l);const e=R[R.length-1];O.type="dots",O.output+=T,O.value+=T,e.dots=!0;continue}if(C.braces+C.parens===0&&"bos"!==O.type&&"slash"!==O.type){q({type:"text",value:T,output:l});continue}q({type:"dot",value:T,output:l});continue}if("?"===T){if((!O||"("!==O.value)&&!0!==n.noextglob&&"("===P()&&"?"!==P(2)){U("qmark",T);continue}if(O&&"paren"===O.type){const e=P();let t=T;("("===O.value&&!/[!=<:]/.test(e)||"<"===e&&!/<([!=]|\w+>)/.test(L()))&&(t=`\\${T}`),q({type:"text",value:T,output:t});continue}if(!0!==n.dot&&("slash"===O.type||"bos"===O.type)){q({type:"qmark",value:T,output:v});continue}q({type:"qmark",value:T,output:b});continue}if("!"===T){if(!0!==n.noextglob&&"("===P()&&("?"!==P(2)||!/[!=<:]/.test(P(3)))){U("negate",T);continue}if(!0!==n.nonegate&&0===C.index){j();continue}}if("+"===T){if(!0!==n.noextglob&&"("===P()&&"?"!==P(2)){U("plus",T);continue}if(O&&"("===O.value||!1===n.regex){q({type:"plus",value:T,output:h});continue}if(O&&("bracket"===O.type||"paren"===O.type||"brace"===O.type)||C.parens>0){q({type:"plus",value:T});continue}q({type:"plus",value:h});continue}if("@"===T){if(!0!==n.noextglob&&"("===P()&&"?"!==P(2)){q({type:"at",extglob:!0,value:T,output:""});continue}q({type:"text",value:T});continue}if("*"!==T){("$"===T||"^"===T)&&(T=`\\${T}`);const e=eK.exec(L());e&&(T+=e[0],C.index+=e[0].length),q({type:"text",value:T});continue}if(O&&("globstar"===O.type||!0===O.star)){O.type="star",O.star=!0,O.value+=T,O.output=D,C.backtrack=!0,C.globstar=!0,N(T);continue}let t=L();if(!0!==n.noextglob&&/^\([^?]/.test(t)){U("star",T);continue}if("star"===O.type){if(!0===n.noglobstar){N(T);continue}const i=O.prev,r=i.prev,s="slash"===i.type||"bos"===i.type,o=r&&("star"===r.type||"globstar"===r.type);if(!0===n.bash&&(!s||t[0]&&"/"!==t[0])){q({type:"star",value:T,output:""});continue}const a=C.braces>0&&("comma"===i.type||"brace"===i.type),c=k.length&&("pipe"===i.type||"paren"===i.type);if(!s&&"paren"!==i.type&&!a&&!c){q({type:"star",value:T,output:""});continue}for(;"/**"===t.slice(0,3);){const n=e[C.index+4];if(n&&"/"!==n)break;t=t.slice(3),N("/**",3)}if("bos"===i.type&&F()){O.type="globstar",O.value+=T,O.output=S(n),C.output=O.output,C.globstar=!0,N(T);continue}if("slash"===i.type&&"bos"!==i.prev.type&&!o&&F()){C.output=C.output.slice(0,-(i.output+O.output).length),i.output=`(?:${i.output}`,O.type="globstar",O.output=S(n)+(n.strictSlashes?")":"|$)"),O.value+=T,C.globstar=!0,C.output+=i.output+O.output,N(T);continue}if("slash"===i.type&&"bos"!==i.prev.type&&"/"===t[0]){const e=void 0!==t[1]?"|$":"";C.output=C.output.slice(0,-(i.output+O.output).length),i.output=`(?:${i.output}`,O.type="globstar",O.output=`${S(n)}${p}|${p}${e})`,O.value+=T,C.output+=i.output+O.output,C.globstar=!0,N(T+I()),q({type:"slash",value:"/",output:""});continue}if("bos"===i.type&&"/"===t[0]){O.type="globstar",O.value+=T,O.output=`(?:^|${p}|${S(n)}${p})`,C.output=O.output,C.globstar=!0,N(T+I()),q({type:"slash",value:"/",output:""});continue}C.output=C.output.slice(0,-O.output.length),O.type="globstar",O.output=S(n),O.value+=T,C.output+=O.output,C.globstar=!0,N(T);continue}const i={type:"star",value:T,output:D};!0!==n.bash?!O||"bracket"!==O.type&&"paren"!==O.type||!0!==n.regex?((C.index===C.start||"slash"===O.type||"dot"===O.type)&&("dot"===O.type?(C.output+=g,O.output+=g):!0===n.dot?(C.output+=y,O.output+=y):(C.output+=E,O.output+=E),"*"!==P()&&(C.output+=d,O.output+=d)),q(i)):(i.output=T,q(i)):(i.output=".*?",("bos"===O.type||"slash"===O.type)&&(i.output=E+i.output),q(i))}for(;C.brackets>0;){if(!0===n.strictBrackets)throw new SyntaxError(rK("closing","]"));C.output=ZV.escapeLast(C.output,"["),$("brackets")}for(;C.parens>0;){if(!0===n.strictBrackets)throw new SyntaxError(rK("closing",")"));C.output=ZV.escapeLast(C.output,"("),$("parens")}for(;C.braces>0;){if(!0===n.strictBrackets)throw new SyntaxError(rK("closing","}"));C.output=ZV.escapeLast(C.output,"{"),$("braces")}if(!0!==n.strictSlashes&&("star"===O.type||"bracket"===O.type)&&q({type:"maybe_slash",value:"",output:`${p}?`}),!0===C.backtrack){C.output="";for(const e of C.tokens)C.output+=null!=e.output?e.output:e.value,e.suffix&&(C.output+=e.suffix)}return C};sK.fastpaths=(e,t)=>{const n={...t},i="number"==typeof n.maxLength?Math.min(XV,n.maxLength):XV,r=e.length;if(r>i)throw new SyntaxError(`Input length: ${r}, exceeds maximum allowed length: ${i}`);e=nK[e]||e;const{DOT_LITERAL:s,SLASH_LITERAL:o,ONE_CHAR:a,DOTS_SLASH:c,NO_DOT:u,NO_DOTS:l,NO_DOTS_SLASH:h,STAR:p,START_ANCHOR:d}=JV.globChars(n.windows),f=n.dot?l:u,m=n.dot?h:u,g=n.capture?"":"?:";let y=!0===n.bash?".*?":p;n.capture&&(y=`(${y})`);const b=e=>!0===e.noglobstar?y:`(${g}(?:(?!${d}${e.dot?c:s}).)*?)`,v=e=>{switch(e){case"*":return`${f}${a}${y}`;case".*":return`${s}${a}${y}`;case"*.*":return`${f}${y}${s}${a}${y}`;case"*/*":return`${f}${y}${o}${a}${m}${y}`;case"**":return f+b(n);case"**/*":return`(?:${f}${b(n)}${o})?${m}${a}${y}`;case"**/*.*":return`(?:${f}${b(n)}${o})?${m}${y}${s}${a}${y}`;case"**/.*":return`(?:${f}${b(n)}${o})?${s}${a}${y}`;default:{const t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;const n=v(t[1]);return n?n+s+t[2]:void 0}}},w=ZV.removePrefix(e,{negated:!1,prefix:""});let _=v(w);return _&&!0!==n.strictSlashes&&(_+=`${o}?`),_};const oK=(e,t)=>{const n=t||{},i=e.length-1,r=!0===n.parts||!0===n.scanToEnd,s=[],o=[],a=[];let c,u,l=e,h=-1,p=0,d=0,f=!1,m=!1,g=!1,y=!1,b=!1,v=!1,w=!1,_=!1,S=!1,E=!1,x=0,D={value:"",depth:0,isGlob:!1};const C=()=>h>=i,k=()=>(c=u,l.charCodeAt(++h));for(;h<i;){let e;if(u=k(),u!==LV){if(!0===v||u===$V){for(x++;!0!==C()&&(u=k());)if(u!==LV)if(u!==$V){if(!0!==v&&u===BV&&(u=k())===BV){if(f=D.isBrace=!0,g=D.isGlob=!0,E=!0,!0===r)continue;break}if(!0!==v&&u===NV){if(f=D.isBrace=!0,g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===zV&&(x--,0===x)){v=!1,f=D.isBrace=!0,E=!0;break}}else x++;else w=D.backslashes=!0,k();if(!0===r)continue;break}if(u!==MV){if(!0!==n.noext&&1==(u===HV||u===IV||u===PV||u===WV||u===jV)&&l.charCodeAt(h+1)===qV){if(g=D.isGlob=!0,y=D.isExtglob=!0,E=!0,u===jV&&h===p&&(S=!0),!0===r){for(;!0!==C()&&(u=k());)if(u!==LV){if(u===GV){g=D.isGlob=!0,E=!0;break}}else w=D.backslashes=!0,u=k();continue}break}if(u===PV){if(c===PV&&(b=D.isGlobstar=!0),g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===WV){if(g=D.isGlob=!0,E=!0,!0===r)continue;break}if(u===UV){for(;!0!==C()&&(e=k());)if(e!==LV){if(e===VV){m=D.isBracket=!0,g=D.isGlob=!0,E=!0;break}}else w=D.backslashes=!0,k();if(!0===r)continue;break}if(!0===n.nonegate||u!==jV||h!==p){if(!0!==n.noparen&&u===qV){if(g=D.isGlob=!0,!0===r){for(;!0!==C()&&(u=k());)if(u!==qV){if(u===GV){E=!0;break}}else w=D.backslashes=!0,u=k();continue}break}if(!0===g){if(E=!0,!0===r)continue;break}}else _=D.negated=!0,p++}else{if(s.push(h),o.push(D),D={value:"",depth:0,isGlob:!1},!0===E)continue;if(c===BV&&h===p+1){p+=2;continue}d=h+1}}else w=D.backslashes=!0,u=k(),u===$V&&(v=!0)}!0===n.noext&&(y=!1,g=!1);let R=l,A="",T="";p>0&&(A=l.slice(0,p),l=l.slice(p),d-=p),R&&!0===g&&d>0?(R=l.slice(0,d),T=l.slice(d)):!0===g?(R="",T=l):R=l,R&&""!==R&&"/"!==R&&R!==l&&KV(R.charCodeAt(R.length-1))&&(R=R.slice(0,-1)),!0===n.unescape&&(T&&(T=FV.removeBackslashes(T)),R&&!0===w&&(R=FV.removeBackslashes(R)));const O={prefix:A,input:e,start:p,base:R,glob:T,isBrace:f,isBracket:m,isGlob:g,isExtglob:y,isGlobstar:b,negated:_,negatedExtglob:S};if(!0===n.tokens&&(O.maxDepth=0,KV(u)||o.push(D),O.tokens=o),!0===n.parts||!0===n.tokens){let t;for(let i=0;i<s.length;i++){const r=t?t+1:p,c=s[i],u=e.slice(r,c);n.tokens&&(0===i&&0!==p?(o[i].isPrefix=!0,o[i].value=A):o[i].value=u,YV(o[i]),O.maxDepth+=o[i].depth),(0!==i||""!==u)&&a.push(u),t=c}if(t&&t+1<e.length){const i=e.slice(t+1);a.push(i),n.tokens&&(o[o.length-1].value=i,YV(o[o.length-1]),O.maxDepth+=o[o.length-1].depth)}O.slashes=s,O.parts=a}return O},aK=sK,cK=wV,uK=OV,lK=(e,t,n=!1)=>{if(Array.isArray(e)){const i=e.map((e=>lK(e,t,n)));return e=>{for(const t of i){const n=t(e);if(n)return n}return!1}}const i=(e=>e&&"object"==typeof e&&!Array.isArray(e))(e)&&e.tokens&&e.input;if(""===e||"string"!=typeof e&&!i)throw new TypeError("Expected pattern to be a non-empty string");const r=t||{},s=r.windows,o=i?lK.compileRe(e,t):lK.makeRe(e,t,!1,!0),a=o.state;delete o.state;let c=()=>!1;if(r.ignore){const e={...t,ignore:null,onMatch:null,onResult:null};c=lK(r.ignore,e,n)}const u=(n,i=!1)=>{const{isMatch:u,match:l,output:h}=lK.test(n,o,t,{glob:e,posix:s}),p={glob:e,state:a,regex:o,posix:s,input:n,output:h,match:l,isMatch:u};return"function"==typeof r.onResult&&r.onResult(p),!1===u?(p.isMatch=!1,!!i&&p):c(n)?("function"==typeof r.onIgnore&&r.onIgnore(p),p.isMatch=!1,!!i&&p):("function"==typeof r.onMatch&&r.onMatch(p),!i||p)};return n&&(u.state=a),u};lK.test=(e,t,n,{glob:i,posix:r}={})=>{if("string"!=typeof e)throw new TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};const s=n||{},o=s.format||(r?cK.toPosixSlashes:null);let a=e===i,c=a&&o?o(e):e;return!1===a&&(c=o?o(e):e,a=c===i),(!1===a||!0===s.capture)&&(a=!0===s.matchBase||!0===s.basename?lK.matchBase(e,t,n,r):t.exec(c)),{isMatch:!!a,match:a,output:c}},lK.matchBase=(e,t,n)=>(t instanceof RegExp?t:lK.makeRe(t,n)).test(cK.basename(e)),lK.isMatch=(e,t,n)=>lK(t,n)(e),lK.parse=(e,t)=>Array.isArray(e)?e.map((e=>lK.parse(e,t))):aK(e,{...t,fastpaths:!1}),lK.scan=(e,t)=>oK(e,t),lK.compileRe=(e,t,n=!1,i=!1)=>{if(!0===n)return e.output;const r=t||{},s=r.contains?"":"^",o=r.contains?"":"$";let a=`${s}(?:${e.output})${o}`;e&&!0===e.negated&&(a=`^(?!${a}).*$`);const c=lK.toRegex(a,t);return!0===i&&(c.state=e),c},lK.makeRe=(e,t={},n=!1,i=!1)=>{if(!e||"string"!=typeof e)throw new TypeError("Expected a non-empty string");let r={negated:!1,fastpaths:!0};return!1!==t.fastpaths&&("."===e[0]||"*"===e[0])&&(r.output=aK.fastpaths(e,t)),r.output||(r=aK(e,t)),lK.compileRe(r,t,n,i)},lK.toRegex=(e,t)=>{try{const n=t||{};return new RegExp(e,n.flags||(n.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},lK.constants=uK;const hK=lK,pK=wV;function dK(e,t,n=!1){return t&&(null===t.windows||void 0===t.windows)&&(t={...t,windows:pK.isWindows()}),hK(e,t,n)}Object.assign(dK,hK);const fK=T(dK);function mK(e){let t;if(e)if("string"==typeof e)if("/"===e[0]&&"/"===e.at(-1)){const n=new RegExp(e.slice(1,-1));t=e=>n.test(e)}else{const n=e.split(/[\s,]+/);t=e=>n.some(vV.or((t=>fK(t)(e)),(t=>!t.includes("/")&&e.includes("/")&&fK(t)(e.replace(/\//g,"_")))))}else if(Array.isArray(e))t=(t,n)=>e.some((e=>mK(e)(t,n)));else if(e instanceof RegExp)t=t=>e.test(t);else{if("function"!=typeof e)throw new TypeError("Invalid filter. Must be a RegExp, array, or comma-or-space-delimited list.");t=(t,n)=>e(t,du(n??t))}else t=$N;return t}function gK(e,t,n,i){return vV.and(((n,i)=>vV.and(!e||mK(e),!t||((...e)=>!mK(t)(...e)))(n,i)),((e,t)=>vV.and(!n||mK(n),!i||((...e)=>!mK(i)(...e)))(t)))}function yK(e,t){return t&&"deno"!==t?"json"===e.registryType?fV.staticRegistry:(fV[t]||FM(e,`Invalid package manager: ${t}`),fV[t]):fV.npm}var bK={exports:{}};!function(e){function t(e,t){if(this.stream=t.stream||process.stderr,"number"==typeof t){var n=t;(t={}).total=n}else{if(t=t||{},"string"!=typeof e)throw new Error("format required");if("number"!=typeof t.total)throw new Error("total required")}this.fmt=e,this.curr=t.curr||0,this.total=t.total,this.width=t.width||this.total,this.clear=t.clear,this.chars={complete:t.complete||"=",incomplete:t.incomplete||"-",head:t.head||t.complete||"="},this.renderThrottle=0!==t.renderThrottle?t.renderThrottle||16:0,this.lastRender=-1/0,this.callback=t.callback||function(){},this.tokens={},this.lastDraw=""}e.exports=t,t.prototype.tick=function(e,t){if(0!==e&&(e=e||1),"object"==typeof e&&(t=e,e=1),t&&(this.tokens=t),0==this.curr&&(this.start=new Date),this.curr+=e,this.render(),this.curr>=this.total)return this.render(void 0,!0),this.complete=!0,this.terminate(),void this.callback(this)},t.prototype.render=function(e,t){if(t=void 0!==t&&t,e&&(this.tokens=e),this.stream.isTTY){var n=Date.now(),i=n-this.lastRender;if(t||!(i<this.renderThrottle)){this.lastRender=n;var r=this.curr/this.total;r=Math.min(Math.max(r,0),1);var s,o,a,c=Math.floor(100*r),u=new Date-this.start,l=100==c?0:u*(this.total/this.curr-1),h=this.curr/(u/1e3),p=this.fmt.replace(":current",this.curr).replace(":total",this.total).replace(":elapsed",isNaN(u)?"0.0":(u/1e3).toFixed(1)).replace(":eta",isNaN(l)||!isFinite(l)?"0.0":(l/1e3).toFixed(1)).replace(":percent",c.toFixed(0)+"%").replace(":rate",Math.round(h)),d=Math.max(0,this.stream.columns-p.replace(":bar","").length);d&&"win32"===process.platform&&(d-=1);var f=Math.min(this.width,d);if(a=Math.round(f*r),o=Array(Math.max(0,a+1)).join(this.chars.complete),s=Array(Math.max(0,f-a+1)).join(this.chars.incomplete),a>0&&(o=o.slice(0,-1)+this.chars.head),p=p.replace(":bar",o+s),this.tokens)for(var m in this.tokens)p=p.replace(":"+m,this.tokens[m]);this.lastDraw!==p&&(this.stream.cursorTo(0),this.stream.write(p),this.stream.clearLine(1),this.lastDraw=p)}}},t.prototype.update=function(e,t){var n=Math.floor(e*this.total)-this.curr;this.tick(n,t)},t.prototype.interrupt=function(e){this.stream.clearLine(),this.stream.cursorTo(0),this.stream.write(e),this.stream.write("\n"),this.stream.write(this.lastDraw)},t.prototype.terminate=function(){this.clear?this.stream.clearLine&&(this.stream.clearLine(),this.stream.cursorTo(0)):this.stream.write("\n")}}(bK);const vK=T(bK.exports);async function wK(e,t){const n=yK(t,t.packageManager);if(!n.getPeerDependencies)return{};const i=Object.keys(e).length;let r;return!t.json&&"silent"!==t.loglevel&&"verbose"!==t.loglevel&&i>0&&(r=new vK("[:bar] :current/:total :percent",{total:i,width:20}),r.render()),Object.entries(e).reduce((async(e,[t,i])=>{const s=await n.getPeerDependencies(t,i);r&&r.tick();const o={...await e,[t]:s},a=function(e,t){let n=[[t]];for(;n.length>0;){const t=[];for(const i of n){const n=Object.keys(e[i[0]]??{});for(const e of n){if(e===i.at(-1))return{isCircular:!0,offendingPackage:i[0]};t.push([e,...i])}}n=t}return{isCircular:!1}}(o,t);return a.isCircular&&delete o[t][a.offendingPackage],o}),Promise.resolve({}))}function _K(e,t){const n={};for(const[i,r]of Object.entries(e??{})){const e=i;t(r,e)&&(n[e]=r)}return n}const SK=["latest","newest","greatest","minor","patch","semver"];var EK=ws,xK=_s,DK=function(e){return xK(e)&&"[object Arguments]"==EK(e)},CK=_s,kK=Object.prototype,RK=kK.hasOwnProperty,AK=kK.propertyIsEnumerable,TK=DK(function(){return arguments}())?DK:function(e){return CK(e)&&RK.call(e,"callee")&&!AK.call(e,"callee")},OK=TK,FK=os,PK=ls?ls.isConcatSpreadable:void 0,IK=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e},LK=function(e){return FK(e)||OK(e)||!!(PK&&e&&e[PK])},NK=function e(t,n,i,r,s){var o=-1,a=t.length;for(i||(i=LK),s||(s=[]);++o<a;){var c=t[o];n>0&&i(c)?n>1?e(c,n-1,i,r,s):IK(s,c):r||(s[s.length]=c)}return s},BK=tB,jK=Math.max,MK=function(e){return null!=e&&e.length?NK(e,1):[]},$K=function(e,t,n){return t=jK(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,s=jK(i.length-t,0),o=Array(s);++r<s;)o[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(o),BK(e,this,a)}},qK=YB,UK=wB,HK=function(e){return qK($K(e,void 0,MK),e+"")},WK=dB,zK=gB,GK=os,VK=BB;const KK=T(function(e){return HK((function(t){var n=t.length,i=n,r=UK.prototype.thru;for(e&&t.reverse();i--;){var s=t[i];if("function"!=typeof s)throw new TypeError("Expected a function");if(r&&!o&&"wrapper"==zK(s))var o=new UK([],!0)}for(i=o?i:n;++i<n;){s=t[i];var a=zK(s),c="wrapper"==a?WK(s):void 0;o=c&&VK(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?o[zK(c[0])].apply(o,c[3]):1==s.length&&VK(s)?o[a]():o.thru(s)}return function(){var e=arguments,i=e[0];if(o&&1==e.length&&GK(i))return o.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}());function YK(e,t,n={}){const i=n.target||"latest",r=function(e){if(0===Object.keys(e).length)return null;const t=Object.values(e).reduce(((e,t)=>{const n=Su.find((e=>t&&t.includes(e)));return void 0!==n&&(e[n]||=[],e[n].push(t)),e}),{}),n=gu(Object.entries(t).map((([e,t])=>({wildcard:e,instances:t}))),(e=>-e.instances.length));return n.length>0?n[0].wildcard:null}(e=Dr(e,((e,t)=>!!t)))||_u;return KK([e=>_K(e,((e,n)=>n in t)),e=>Object.entries(e).reduce(((e,[n,i])=>{const r=t[n];let s=null,o=null;if($u(i)&&(s=Mu(i)[1]),$u(r)&&(o=Mu(r)[1]),Uu(i)){const e=Hu(i),[t]=du(e);s=Du(t)}if(Uu(r)){const e=Hu(r),[t]=du(e);o=Du(t)}return e[n]={current:i,currentParsed:s,latest:r,latestParsed:o},e}),{}),e=>_K(e,(({current:e,currentParsed:t,latest:n,latestParsed:r},s)=>function(e,t,{downgrade:n}={}){if(!hu.validRange(e)||Cu(e))return!1;const[i]=mu.parseRange(e);if(!i)throw new Error(`"${e}" could not be parsed by semver-utils. This is probably a bug. Please file an issue at https://github.com/raineorshine/npm-check-updates.`);const r=Nu(t),s=Du(i),o=!!hu.validRange(s),a=!!hu.valid(r);return o&&a&&(!function(e,t){const n=Tu(e),i=Tu(t);return"string"!=typeof n||"string"!=typeof i||n===i}(r,s)||!hu.satisfies(r,"<"===i.operator?e:s)&&(n||!hu.ltr(r,s)))}(t||e,r||n,{downgrade:Pu(e)&&("string"==typeof i?i:i(s,du(e))).startsWith("@")}))),e=>Object.entries(e).reduce(((e,[t,{current:i,currentParsed:s,latest:o,latestParsed:a}])=>{const c=((e,t)=>Wu(e,t,{wildcard:r,removeRange:n.removeRange}))(s||i,a||o);return e[t]=$u(i)?qu(i,c):Uu(i)?zu(i,c):c,e}),{})])(e)}async function JK(e,t){const i=await async function(e,t={}){const{default:i,Chalk:r}=await Promise.resolve().then((()=>n(6796))),s=t.color?new r({level:1}):i,o=Object.keys(e),a=yK(t,t.packageManager);let c;!t.json&&"silent"!==t.loglevel&&"verbose"!==t.loglevel&&o.length>0&&(c=new vK("[:bar] :current/:total :percent",{total:o.length,width:20}),c.render());const u=await pR(o,(async function(n){const i=Mu(e[n]),[r,o]=i||[n,e[n]],u=t.target||"latest",l="string"==typeof u?u:u(r,du(o)),[h,p]=l.startsWith("@")?["distTag",l.slice(1)]:[l,"latest"],d=t.cacher?.get(r,h);if(d)return c?.tick(),{version:d};let f;const m=Uu(e[n]),g=m?fV.gitTags:a,y=m?"github urls":t.packageManager||"npm",b=g[h];if(!b){const e=SK.filter((e=>e in g));FM(t,s.red(`\nUnsupported target "${h}" using ${y}`)+"\nSupported version targets are: "+e.join(", ")+(m?"":", and tags (e.g. @next)"),{color:!1})}try{f=await b(r,o,{...t,distTag:p,pre:null!=t.pre?t.pre:l.startsWith("@")||Pu(o),retry:t.retry??2}),f.version=!m&&i&&f?.version?ju(r,f.version):f?.version??null}catch(e){const n=e?(e.message||e).toString():"";if(n.match(/E404|ENOTFOUND|404 Not Found/i))return{error:`${n.replace(/ - Not found$/i,"")}. All ${t.retry} retry attempts failed. Either your internet connection is down, the registry is inaccessible, the authentication credentials are invalid, or the package does not exist.`};throw!process.env.NCU_TESTS&&/(Response|network) timeout/i.test(n)&&console.error("\n\n"+s.red("FetchError: Request Timeout. npm-registry-fetch defaults to 30000 (30 seconds). Try setting the --timeout option (in milliseconds) to override this.")+"\n"),e}return c?.tick(),f.version&&t.cacher?.set(r,h,f.version),f}),{concurrency:t.concurrency});return await(t.cacher?.save()),t.cacher?.log(),br(u,((e,t)=>e.version||e.error?{[o[t]]:e}:null))}(e,t),r=br(i,((n,i)=>!i?.version||t.filterResults&&!t.filterResults(n,{currentVersion:e[n],currentVersionSemver:du(e[n]),upgradedVersion:i.version,upgradedVersionSemver:fu(i.version)})?null:{[n]:i.version})),s=_K(YK(e,r,t),((n,i)=>!t.jsonUpgraded||!t.minimal||!hu.satisfies(r[i],e[i]))),o=_K(r,((e,t)=>s[t]));if(t.peer&&Object.keys(o).length>0){const n=await wK(o,t),r={...t.peerDependencies,...n};if(!tV(t.peerDependencies,r)){const[n,o,a]=await JK({...e,...s},{...t,peerDependencies:r,loglevel:"silent"});return[{...s,...n},{...i,...o},a]}}return[s,i,t.peerDependencies]}var ZK,XK,QK={},eY={exports:{}},tY={exports:{}},nY={exports:{}};function iY(){return ZK||(ZK=1,function(e){var t=e.exports;e.exports.isWhiteSpace=function(e){return" "===e||""===e||"\ufeff"===e||e>="\t"&&e<="\r"||""===e||e>=""&&e<=""||"\u2028"===e||"\u2029"===e||""===e||""===e||""===e},e.exports.isWhiteSpaceJSON=function(e){return" "===e||"\t"===e||"\n"===e||"\r"===e},e.exports.isLineTerminator=function(e){return"\n"===e||"\r"===e||"\u2028"===e||"\u2029"===e},e.exports.isLineTerminatorJSON=function(e){return"\n"===e||"\r"===e},e.exports.isIdentifierStart=function(e){return"$"===e||"_"===e||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>=""&&t.NonAsciiIdentifierStart.test(e)},e.exports.isIdentifierPart=function(e){return"$"===e||"_"===e||e>="A"&&e<="Z"||e>="a"&&e<="z"||e>="0"&&e<="9"||e>=""&&t.NonAsciiIdentifierPart.test(e)},e.exports.NonAsciiIdentifierStart=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,e.exports.NonAsciiIdentifierPart=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0\u08A2-\u08AC\u08E4-\u08FE\u0900-\u0963\u0966-\u096F\u0971-\u0977\u0979-\u097F\u0981-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C01-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58\u0C59\u0C60-\u0C63\u0C66-\u0C6F\u0C82\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D02\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D60-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191C\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1D00-\u1DE6\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA697\uA69F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7B\uAA80-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE26\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/}(nY)),nY.exports}function rY(){return XK||(XK=1,function(e){var t=iY();function n(e){return e>="0"&&e<="9"||e>="A"&&e<="F"||e>="a"&&e<="f"}function i(e){return e>="0"&&e<="7"}function r(e){return e>="0"&&e<="9"}var s={"'":"'",'"':'"',"\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",v:"\v","/":"/"};e.exports.parse=function(e,o){if("function"==typeof o&&(o={reviver:o}),void 0!==e){"string"!=typeof e&&(e=String(e)),null==o&&(o={}),null==o.reserved_keys&&(o.reserved_keys="ignore"),("throw"===o.reserved_keys||"ignore"===o.reserved_keys)&&null==o.null_prototype&&(o.null_prototype=!0);try{return function(e,o){var a=!1,c=!1;o.legacy||"json"===o.mode||("cjson"===o.mode?c=!0:(o.mode,a=!0));var u,l=a?t.isLineTerminator:t.isLineTerminatorJSON,h=a?t.isWhiteSpace:t.isWhiteSpaceJSON,p=e.length,d=0,f=0,m=0,g=[],y=function(){},b=function(e){return e};function v(n){var i=m-f;if(!n)if(m<p){var r="'"+JSON.stringify(e[m]).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";n||(n="Unexpected token "+r)}else n||(n="Unexpected end of input");var s=SyntaxError(function(e,n,i,r,s,o){var a=n+" at "+(r+1)+":"+(s+1),c=i-s-1,u="",l="",h=o?t.isLineTerminator:t.isLineTerminatorJSON;for(c<i-70&&(c=i-70);;){var p=e[++c];if(h(p)||c===e.length){i>=c&&(l+="^");break}if(u+=p,i===c?l+="^":i>c&&(l+="\t"===e[c]?"\t":" "),u.length>78)break}return a+"\n"+u+"\n"+l}(e,n,m,d,i,a));throw s.row=d+1,s.column=i+1,s}function w(t){"\r"===t&&"\n"===e[m]&&m++,f=m,d++}function _(){for(;m<p;){y();var t=e[m++];return'"'===t||"'"===t&&a?b(T(t),"literal"):"{"===t?(b(void 0,"separator"),C()):"["===t?(b(void 0,"separator"),k()):"-"===t||"."===t||r(t)||a&&("+"===t||"I"===t||"N"===t)?b(R(),"literal"):"n"===t?(D("null"),b(null,"literal")):"t"===t?(D("true"),b(!0,"literal")):"f"===t?(D("false"),b(!1,"literal")):(m--,b(void 0))}}function S(){for(;m<p;){y();var n=e[m++];if('"'===n||"'"===n&&a)return b(T(n),"key");if("{"===n)return b(void 0,"separator"),C();if("["===n)return b(void 0,"separator"),k();if("."===n||r(n))return b(R(),"key");if(a&&t.isIdentifierStart(n)||"\\"===n&&"u"===e[m]){var i,s=m-1;return void 0===(i=A())?(m=s,b(void 0)):b(i,"key")}return m--,b(void 0)}}function E(){for(y();m<p;){var t=e[m++];if(l(t))m--,b(void 0,"whitespace"),y(),m++,w(t),b(void 0,"newline"),y();else if(!h(t)){if("/"!==t||!a&&!c||"/"!==e[m]&&"*"!==e[m]){m--;break}m--,b(void 0,"whitespace"),y(),m++,x("*"===e[m++]),b(void 0,"comment"),y()}}return b(void 0,"whitespace")}function x(t){for(;m<p;){var n=e[m++];if(l(n)){if(!t)return void m--;w(n)}else if("*"===n&&t&&"/"===e[m])return void m++}t&&v("Unclosed multiline comment")}function D(t){for(var n=m,i=t.length,r=1;r<i;r++)(m>=p||t[r]!=e[m])&&(m=n-1,v()),m++}function C(){for(var t=o.null_prototype?Object.create(null):{},n={},i=!1;m<p;){E();var r=S();E(),y();var s=e[m++];if(b(void 0,"separator"),"}"===s&&void 0===r)return!a&&i&&(m--,v("Trailing comma in object")),t;if(":"===s&&void 0!==r){E(),g.push(r);var c=_();if(g.pop(),void 0===c&&v("No value found for key "+r),"string"!=typeof r&&(!a||"number"!=typeof r)&&v("Wrong key type: "+r),!(r in n)&&null==n[r]||"replace"===o.reserved_keys?("function"==typeof o.reviver&&(c=o.reviver.call(null,r,c)),void 0!==c&&(i=!0,Object.defineProperty(t,r,{value:c,enumerable:!0,configurable:!0,writable:!0}))):"throw"===o.reserved_keys&&v("Reserved key: "+r),E(),y(),s=e[m++],b(void 0,"separator"),","===s)continue;if("}"===s)return t;v()}else m--,v()}v()}function k(){for(var t=[];m<p;){E(),g.push(t.length);var n=_();g.pop(),E(),y();var i=e[m++];if(b(void 0,"separator"),void 0!==n&&("function"==typeof o.reviver&&(n=o.reviver.call(null,String(t.length),n)),void 0===n?(t.length++,n=!0):t.push(n)),","===i)void 0===n&&v("Elisions are not supported");else{if("]"===i)return!a&&void 0===n&&t.length&&(m--,v("Trailing comma in array")),t;m--,v()}}}function R(){var t=--m,s=e[m++],o=function(n){var i=e.substr(t,m-t);if(n)var r=parseInt(i.replace(/^0o?/,""),8);else r=Number(i);if(Number.isNaN(r))m--,v('Bad numeric literal - "'+e.substr(t,m-t+1)+'"');else{if(a||i.match(/^-?(0|[1-9][0-9]*)(\.[0-9]+)?(e[+-]?[0-9]+)?$/i))return r;m--,v('Non-json numeric literal - "'+e.substr(t,m-t+1)+'"')}};if(("-"===s||"+"===s&&a)&&(s=e[m++]),"N"===s&&a)return D("NaN"),NaN;if("I"===s&&a)return D("Infinity"),o();if(s>="1"&&s<="9"){for(;m<p&&r(e[m]);)m++;s=e[m++]}if("0"===s){var c="o"===(s=e[m++])||"O"===s||i(s),u="x"===s||"X"===s;if(a&&(c||u)){for(;m<p&&(u?n:i)(e[m]);)m++;var l=1;return"-"===e[t]?(l=-1,t++):"+"===e[t]&&t++,l*o(c)}}if("."===s){for(;m<p&&r(e[m]);)m++;s=e[m++]}if("e"===s||"E"===s){for(("-"===(s=e[m++])||"+"===s)&&m++;m<p&&r(e[m]);)m++;s=e[m++]}return m--,o()}function A(){m--;for(var i="";m<p;){var r=e[m++];if("\\"===r&&"u"===e[m]&&n(e[m+1])&&n(e[m+2])&&n(e[m+3])&&n(e[m+4])&&(r=String.fromCharCode(parseInt(e.substr(m+1,4),16)),m+=5),i.length){if(!t.isIdentifierPart(r))return m--,i;i+=r}else{if(!t.isIdentifierStart(r))return;i+=r}}v()}function T(t){for(var r="";m<p;){var o=e[m++];if(o===t)return r;if("\\"===o)if(m>=p&&v(),o=e[m++],s[o]&&(a||"v"!=o&&"'"!=o))r+=s[o];else if(a&&l(o))w(o);else if("u"===o||"x"===o&&a){for(var c="u"===o?4:2,u=0;u<c;u++)m>=p&&v(),n(e[m])||v("Bad escape sequence"),m++;r+=String.fromCharCode(parseInt(e.substr(m-c,c),16))}else if(a&&i(o)){if(o<"4"&&i(e[m])&&i(e[m+1]))var h=3;else h=i(e[m])?2:1;m+=h-1,r+=String.fromCharCode(parseInt(e.substr(m-h,h),8))}else a?r+=o:(m--,v());else l(o)?v():(!a&&o.charCodeAt(0)<32&&(m--,v("Unexpected control character")),r+=o)}v()}o._tokenize&&(u=null,y=function(){if(null!==u)throw Error("internal error, token overlap");u=m},b=function(t,n){if(u!=m){var i={raw:e.substr(u,m-u),type:n,stack:g.slice(0)};void 0!==t&&(i.value=t),o._tokenize.call(null,i)}return u=null,t}),E();var O=_();if(void 0!==O||m<p){if(E(),m>=p)return"function"==typeof o.reviver&&(O=o.reviver.call(null,"",O)),O;v()}else v(m?"No data, only a whitespace":"No data, empty input")}(e,o)}catch(e){if(e instanceof SyntaxError&&null!=e.row&&null!=e.column){var a=e;(e=SyntaxError(a.message)).column=a.column,e.row=a.row}throw e}}},e.exports.tokenize=function(t,n){null==n&&(n={}),n._tokenize=function(e){n._addstack&&e.stack.unshift.apply(e.stack,n._addstack),i.push(e)};var i=[];return i.data=e.exports.parse(t,n),i}}(tY)),tY.exports}var sY,oY={};function aY(){if(sY)return oY;sY=1;var e=iY();(function(){}).name||Object.defineProperty(function(){}.constructor.prototype,"name",{get:function(){var e=this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1];return Object.defineProperty(this,"name",{value:e}),e}});var t={0:"\\0",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",92:"\\\\"},n=Object.prototype.hasOwnProperty,i=/[\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;function r(s,o,a,c){var u,l="json5"===o.mode||!o.mode;function h(e,t){var n=o._prefix?o._prefix:"";if(!o.indent)return n+e;for(var i="",r=a+(t||0),s=0;s<r;s++)i+=o.indent;return n+i+e+(t?"\n":"")}function p(t){if(o.quote_keys)return d(t);if(String(Number(t))==t&&"-"!=t[0])return t;if(""==t)return d(t);for(var n="",r=0;r<t.length;r++){if(r>0){if(!e.isIdentifierPart(t[r]))return d(t)}else if(!e.isIdentifierStart(t[r]))return d(t);var s=t.charCodeAt(r);o.ascii?n+=s<128?t[r]:"\\u"+("0000"+s.toString(16)).slice(-4):i.exec(t[r])?n+="\\u"+("0000"+s.toString(16)).slice(-4):n+=t[r]}return n}function d(n){for(var r=o.quote,s=r.charCodeAt(0),a="",c=0;c<n.length;c++){var u=n.charCodeAt(c);if(u<16)a+=0===u&&l?"\\0":u>=8&&u<=13&&(l||11!==u)?t[u]:l?"\\x0"+u.toString(16):"\\u000"+u.toString(16);else if(u<32)a+=l?"\\x"+u.toString(16):"\\u00"+u.toString(16);else if(u>=32&&u<128)47===u&&c&&"<"===n[c-1]?a+="\\"+n[c]:a+=92===u?"\\\\":u===s?"\\"+r:n[c];else if(o.ascii||e.isLineTerminator(n[c])||i.exec(n[c]))if(u<256)a+=l?"\\x"+u.toString(16):"\\u00"+u.toString(16);else if(u<4096)a+="\\u0"+u.toString(16);else{if(!(u<65536))throw Error("weird codepoint");a+="\\u"+u.toString(16)}else a+=n[c]}return r+a+r}function f(e){switch("function"==typeof o.replacer&&(e=o.replacer.call(null,c,e)),typeof e){case"string":return d(e);case"number":return 0===e&&1/e<0?"-0":l||Number.isFinite(e)?e.toString():"null";case"boolean":return e.toString();case"undefined":return;default:return JSON.stringify(e)}}return o._stringify_key?p(s):"object"==typeof s?null===s?"null":(("function"==typeof(u=s.toJSON5)&&"json"!==o.mode||"function"==typeof(u=s.toJSON))&&(s=u.call(s,c)),null===s?"null":"object"!=typeof s?f(s):s.constructor===Number||s.constructor===Boolean||s.constructor===String?f(s=s.valueOf()):s.constructor===Date?f(s.toISOString()):"function"==typeof o.replacer&&"object"!=typeof(s=o.replacer.call(null,c,s))?f(s):function(){if(null===s)return"null";var e,t=[],i=0;if(Array.isArray(s)){e="[]";for(var c=0;c<s.length;c++){var u=r(s[c],o,a+1,String(c));void 0===u&&(u="null"),i+=u.length+2,t.push(u+",")}}else{e="{}";var l=function(e){var n=r(s[e],o,a+1,e);void 0!==n&&(n=p(e)+":"+(o.indent?" ":"")+n+",",i+=n.length+1,t.push(n))};if(Array.isArray(o.replacer))for(c=0;c<o.replacer.length;c++)n.call(s,o.replacer[c])&&l(o.replacer[c]);else{var d=Object.keys(s);o.sort_keys&&(d=d.sort("function"==typeof o.sort_keys?o.sort_keys:void 0)),d.forEach(l)}}if(i-=2,o.indent&&(i>o._splitMax-a*o.indent.length||i>o._splitMin)){o.no_trailing_comma&&t.length&&(t[t.length-1]=t[t.length-1].substring(0,t[t.length-1].length-1));var f=t.map((function(e){return h(e,1)})).join("");return e[0]+(o.indent?"\n":"")+f+h(e[1])}return t.length&&(t[t.length-1]=t[t.length-1].substring(0,t[t.length-1].length-1)),f=t.join(o.indent?" ":""),e[0]+f+e[1]}()):f(s)}return oY.stringify=function(e,t,n){return"function"==typeof t||Array.isArray(t)?t={replacer:t}:"object"==typeof t&&null!==t||(t={}),null!=n&&(t.indent=n),null==t.indent&&(t.indent="\t"),null==t.quote&&(t.quote="'"),null==t.ascii&&(t.ascii=!1),null==t.mode&&(t.mode="json5"),("json"===t.mode||"cjson"===t.mode)&&(t.quote='"',t.no_trailing_comma=!0,t.quote_keys=!0),"object"==typeof t.indent&&(t.indent.constructor===Number||t.indent.constructor===Boolean||t.indent.constructor===String)&&(t.indent=t.indent.valueOf()),"number"==typeof t.indent?t.indent>=0?t.indent=Array(Math.min(~~t.indent,10)+1).join(" "):t.indent=!1:"string"==typeof t.indent&&(t.indent=t.indent.substr(0,10)),null==t._splitMin&&(t._splitMin=50),null==t._splitMax&&(t._splitMax=70),r(e,t,0,"")},oY}var cY,uY,lY={},hY={};function pY(){if(cY)return hY;cY=1;var e=rY().tokenize;return hY.analyze=function(t,n){null==n&&(n={}),Array.isArray(t)||(t=e(t,n));for(var i={has_whitespace:!1,has_comments:!1,has_newlines:!1,has_trailing_comma:!1,indent:"",newline:"\n",quote:'"',quote_keys:!0},r={indent:{},newline:{},quote:{}},s=0;s<t.length;s++){if("newline"===t[s].type){if(t[s+1]&&"whitespace"===t[s+1].type&&("\t"===t[s+1].raw[0]&&(r.indent["\t"]=(r.indent["\t"]||0)+1),t[s+1].raw.match(/^\x20+$/))){var o=t[s+1].raw.length,a=t[s+1].stack.length+1;if(o%a==0){var c=Array(o/a+1).join(" ");r.indent[c]=(r.indent[c]||0)+1}}r.newline[t[s].raw]=(r.newline[t[s].raw]||0)+1}if("newline"===t[s].type&&(i.has_newlines=!0),"whitespace"===t[s].type&&(i.has_whitespace=!0),"comment"===t[s].type&&(i.has_comments=!0),"key"===t[s].type&&'"'!==t[s].raw[0]&&"'"!==t[s].raw[0]&&(i.quote_keys=!1),("key"===t[s].type||"literal"===t[s].type)&&('"'===t[s].raw[0]||"'"===t[s].raw[0])&&(r.quote[t[s].raw[0]]=(r.quote[t[s].raw[0]]||0)+1),"separator"===t[s].type&&","===t[s].raw)for(var u=s+1;u<t.length&&"literal"!==t[u].type&&"key"!==t[u].type;u++)"separator"===t[u].type&&(i.has_trailing_comma=!0)}for(var l in r)Object.keys(r[l]).length&&(i[l]=Object.keys(r[l]).reduce((function(e,t){return r[l][e]>r[l][t]?e:t})));return i},hY}function dY(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fY,mY,gY={};var yY=function e(){return mY||(mY=1,function(t){t.exports.__defineGetter__("parse",(function(){return rY().parse})),t.exports.__defineGetter__("stringify",(function(){return aY().stringify})),t.exports.__defineGetter__("tokenize",(function(){return rY().tokenize})),t.exports.__defineGetter__("update",(function(){return function(){if(uY)return lY;uY=1;var e=m,t=rY().tokenize,n=aY().stringify,i=pY().analyze;function r(e){return"object"==typeof e&&null!==e}function s(e,i,r,s,o){(r=Object.create(r))._stringify_key=!!s,o&&(r._prefix=o.prefix.map((function(e){return e.raw})).join("")),null==r._splitMin&&(r._splitMin=0),null==r._splitMax&&(r._splitMax=0);var a=n(e,r);if(s)return[{raw:a,type:"key",stack:i,value:e}];r._addstack=i;var c=t(a,{_addstack:i});return c.data=null,c}function o(e){if("number"==typeof e&&(e=String(e)),""===e&&(e=[]),"string"==typeof e&&(e=e.split(".")),!Array.isArray(e))throw Error("Invalid path type, string or array expected");return e}function a(e,t,n,i,r){for(;n[i].stack[t]!=e;)if(i++>=r)return!1;for(;n[r].stack[t]!=e;)if(r--<i)return!1;return[i,r]}function c(e){return"whitespace"===e||"newline"===e||"comment"===e}function u(e,t,n){for(;c(e[t].type);)if(t++>=n)return!1;return t}function l(e,t,n){for(;c(e[n].type);)if(n--<t)return!1;return n}function h(t,n,i,r,s){var o={sep1:[],sep2:[],suffix:[],prefix:[],newline:[]};if("separator"===t[r].type&&t[r].stack.length!==s+1&&","!==t[r].raw||("separator"===t[r].type&&(r=l(t,i,r-1)),!1===r))return o;for(;t[r].stack.length>s;)r--;if(!n){for(;c(t[r].type);){if(r<i)return o;if("whitespace"!==t[r].type)return o;o.sep2.unshift(t[r]),r--}for(e.equal(t[r].type,"separator"),e.equal(t[r].raw,":");c(t[--r].type);){if(r<i)return o;if("whitespace"!==t[r].type)return o;o.sep1.unshift(t[r])}e.equal(t[r].type,"key"),r--}for(;c(t[r].type);){if(r<i)return o;if("whitespace"!==t[r].type)return"newline"===t[r].type&&o.newline.unshift(t[r]),o;o.prefix.unshift(t[r]),r--}return o}function p(e,n){var r=Object.create(p.prototype);null==n&&(n={});var s=r._tokens=t(e,n);r._data=s.data,s.data=null,r._options=n;var o=i(e,n);return null==n.indent&&(n.indent=o.indent),null==n.quote&&(n.quote=o.quote),null==n.quote_keys&&(n.quote_keys=o.quote_keys),null==n.no_trailing_comma&&(n.no_trailing_comma=!o.has_trailing_comma),r}function d(e,t,n){function i(t){return Error("You can't "+(n?"unset":"set")+" key '"+e+"'"+t)}if(!r(t))throw i(" of an non-object");if(Array.isArray(t)){if(String(e).match(/^\d+$/)){if(e=Number(String(e)),t.length<e||n&&t.length===e)throw i(", out of bounds");if(n&&t.length!==e+1)throw i(" in the middle of an array");return!0}throw i(" of an array")}return!0}return p.prototype.set=function(t,n){if(0===(t=o(t)).length){if(void 0===n)throw Error("can't remove root document");this._data=n;var i=!1}else{for(var r=this._data,c=0;c<t.length-1;c++)d(t[c],r,!1),r=r[t[c]];c===t.length-1&&d(t[c],r,void 0===n),i=!(t[c]in r),void 0===n?Array.isArray(r)?r.pop():delete r[t[c]]:r[t[c]]=n}this._tokens.length||(this._tokens=[{raw:"",type:"literal",stack:[],value:void 0}]);var p=[u(this._tokens,0,this._tokens.length-1),l(this._tokens,0,this._tokens.length-1)];for(c=0;c<t.length-1;c++)if(0==(p=a(t[c],c,this._tokens,p[0],p[1])))throw Error("internal error, please report this");if(0===t.length)var f=s(n,t,this._options);else if(i){var m=t.slice(0,c),g=l(this._tokens,p[0]+1,p[1]-1);e(!1!==g);var y=!1!==g?h(this._tokens,Array.isArray(r),p[0]+1,g,c):{},b=(f=s(n,t,this._options,!1,y),[]);y.newline&&y.newline.length&&(b=b.concat(y.newline)),y.prefix&&y.prefix.length&&(b=b.concat(y.prefix)),Array.isArray(r)||(b=b.concat(s(t[t.length-1],m,this._options,!0)),y.sep1&&y.sep1.length&&(b=b.concat(y.sep1)),b.push({raw:":",type:"separator",stack:m}),y.sep2&&y.sep2.length&&(b=b.concat(y.sep2))),f.unshift.apply(f,b),"separator"===this._tokens[g].type&&this._tokens[g].stack.length===t.length-1?","===this._tokens[g].raw&&f.push({raw:",",type:"separator",stack:m}):f.unshift({raw:",",type:"separator",stack:m}),y.suffix&&y.suffix.length&&f.push.apply(f,y.suffix),e.equal(this._tokens[p[1]].type,"separator"),p[0]=g+1,p[1]=g}else{var v=p;p=a(t[c],c,this._tokens,p[0],p[1]),void 0===n&&!1!==p?(f=[],Array.isArray(r)||(g=l(this._tokens,v[0],p[0]-1),e.equal(this._tokens[g].type,"separator"),e.equal(this._tokens[g].raw,":"),p[0]=g,g=l(this._tokens,v[0],p[0]-1),e.equal(this._tokens[g].type,"key"),e.equal(this._tokens[g].value,t[t.length-1]),p[0]=g),g=l(this._tokens,v[0],p[0]-1),e.equal(this._tokens[g].type,"separator"),","===this._tokens[g].raw?p[0]=g:(g=u(this._tokens,p[1]+1,v[1]),e.equal(this._tokens[g].type,"separator"),","===this._tokens[g].raw&&(p[1]=g))):(y=!1!==g?h(this._tokens,Array.isArray(r),v[0],p[1]-1,c):{},f=s(n,t,this._options,!1,y))}return f.unshift(p[1]-p[0]+1),f.unshift(p[0]),this._tokens.splice.apply(this._tokens,f),this},p.prototype.unset=function(e){return this.set(e,void 0)},p.prototype.get=function(e){e=o(e);for(var t=this._data,n=0;n<e.length;n++){if(!r(t))return;t=t[e[n]]}return t},p.prototype.has=function(e){e=o(e);for(var t=this._data,n=0;n<e.length;n++){if(!r(t))return!1;t=t[e[n]]}return void 0!==t},p.prototype.update=function(e){var t=this;return function e(n,i,s){if(r(s)&&r(i))if(Array.isArray(s)!=Array.isArray(i))t.set(n,s);else if(Array.isArray(s))if(s.length>i.length)for(var o=0;o<s.length;o++)n.push(String(o)),e(n,i[o],s[o]),n.pop();else for(o=i.length-1;o>=0;o--)n.push(String(o)),e(n,i[o],s[o]),n.pop();else{for(var o in s)n.push(String(o)),e(n,i[o],s[o]),n.pop();for(var o in i)o in s||(n.push(String(o)),e(n,i[o],s[o]),n.pop())}else s!==i&&t.set(n,s)}([],t._data,e),t},p.prototype.toString=function(){return this._tokens.map((function(e){return e.raw})).join("")},lY.Document=p,lY.update=function(e,t,n){return p(e,n).update(t).toString()},lY}().update})),t.exports.__defineGetter__("analyze",(function(){return pY().analyze})),t.exports.__defineGetter__("utils",(function(){return function(){if(fY)return gY;fY=1;var t=c,n=e();return gY.register=function(){dY.extensions[".json5"]=function(e,i){e.exports=n.parse(t.readFileSync(i,"utf8"))}},gY.patch_JSON_parse=function(){var t=JSON.parse;JSON.parse=function(n,i){try{return t(n,i)}catch(t){throw e().parse(n,{mode:"json",legacy:!0,reviver:i,reserved_keys:"replace",null_prototype:!1}),t}}},gY.middleware=function(){return function(e,t,n){throw Error("this function is removed, use express-json5 instead")}},gY}()}))}(eY)),eY.exports}();QK.parse=function(e,t){try{return JSON.parse(e,t)}catch(n){throw yY.parse(e,{mode:"json",reviver:t}),n}};const bY=(e,t)=>hu.validRange(e)&&hu.validRange(t)&&hu.gt(hu.minVersion(e),hu.minVersion(t)),vY=e=>{if(!e.packageManager)return{};const[t,n]=e.packageManager.split("@");return{[t]:n}},wY=(e,t)=>!e||hu.satisfies(t,e);const _Y="\n  /: Select a package\n  Space: Toggle selection\n  a: Toggle all\n  Enter: Upgrade",SY=async(e,t,n,i)=>{let r=[];const s=br((await Qu({from:e,to:t,format:i.format,pkgFile:n||void 0})).toString().split("\n"),(e=>({[e.trim().split(" ")[0]]:e.trim()})));if(Object.keys(t).length>0)if(Ku(i,""),i.format?.includes("group")){const n=Ru(t,e,i).flatMap((({heading:e,groupName:t,packages:n})=>[{title:"\n"+e,heading:!0},...Object.keys(n).sort().map((e=>({title:s[e],value:e,selected:["patch","minor"].includes(t)})))]));r=(await cn({choices:[...n,{title:" ",heading:!0}],hint:_Y,instructions:!1,message:"Choose which packages to update",name:"value",optionsPerPage:50,type:"multiselect",onState:e=>{e.aborted&&process.nextTick((()=>process.exit(1)))}})).value}else{const e=Object.keys(t).sort().map((e=>({title:s[e],value:e,selected:!0})));r=(await cn({choices:[...e,{title:" ",heading:!0}],hint:_Y+"\n",instructions:!1,message:"Choose which packages to update",name:"value",optionsPerPage:50,type:"multiselect",onState:e=>{e.aborted&&process.nextTick((()=>process.exit(1)))}})).value}return br(r,(e=>({[e]:t[e]})))};async function EY(e,t,i){let r;Ku(e,"\nOptions:","verbose"),Ju(e,e,"verbose");try{if(t){const e=i?.endsWith(".jsonc")&&t?(await Promise.resolve().then((()=>n(48171)))).default(t):t;r=QK.parse(e)}else FM(e,"Missing package data")}catch(t){FM(e,`Invalid package file${i?`: ${i}`:" from stdin"}. Error details:\n${t.message}`)}const s=function(e={},t={}){const n=LM(t.dep).reduce(((t,n)=>({...t,..."packageManager"===n?vY(e):Dr(e[n]||{},((e,n)=>!bY(n,t[e])))})),{}),i=br(t.workspacePackages||[]);return Dr(Dr(n,(e=>!i[e])),gK(t.filter||null,t.reject||null,t.filterVersion||null,t.rejectVersion||null))}(r,e);Ku(e,"\nCurrent versions:","verbose"),Ku(e,s,"verbose"),e.enginesNode&&(e.nodeEngineVersion=r?.engines?.node),e.peer&&(e.peerDependencies=await wK(Object.fromEntries(Object.entries(s).map((([e,t])=>[e,pu.validRange(t)?pu.minVersion(t)?.version??t:t]))),e));const[o,a,c]=await JK(s,e),u=br(a,((e,t)=>t.version?{[e]:t.version}:null)),l=br(a,((e,t)=>t.error?{[e]:t.error}:null)),p=br(a,((e,t)=>t.time?{[e]:t.time}:null));e.peer&&(Ku(e,"\nupgradedPeerDependencies:","verbose"),Ku(e,c,"verbose")),Ku(e,`\n${"string"==typeof e.target?`${e.target[0].toUpperCase()}${e.target.slice(1)}`:"Fetched"} versions:`,"verbose"),Ku(e,u,"verbose"),Ku(e,"\nUpgraded versions:","verbose"),Ku(e,o,"verbose");const d=e.minimal?br(o,((e,t)=>pu.satisfies(u[e],s[e])?null:{[e]:t})):o,f=(e.format||[]).includes("ownerChanged")?await async function(e,t,n){const i=yK(n,n.packageManager);return await Object.keys(t).reduce((async(r,s)=>{const o=e[s]||null,a=t[s]||null,c=await i.packageAuthorChanged(s,o,a,n);return{...await r,[s]:c}}),{})}(s,d,e):void 0,m=e.interactive?await SY(s,d,i,e):d;if(!e.json||e.deep){if(await el(e.interactive?{...e,format:(e.format||[]).filter((e=>"group"!==e))}:e,{current:s,upgraded:m,total:Object.keys(o).length,latest:a,ownersChangedDeps:f,pkgFile:i||void 0,errors:l,time:p}),e.peer){const t=await async function(e,t,n,i={}){const[r,s]=await JK(e,{...i,peer:!1,peerDependencies:void 0,loglevel:"silent"});return Object.entries(r).filter((([e,n])=>t[e]!==n)).reduce(((t,[i,r])=>({...t,[i]:{from:e[i],to:r,reason:Object.entries(n).filter((([,e])=>void 0!==e[i]&&s[i]?.version&&!hu.satisfies(s[i].version,e[i]))).reduce(((e,[t,n])=>({...e,[t]:n[i]})),{})}})),{})}(s,o,c,e);Object.keys(t).length>0&&function(e,t){Ku(e,"\nIgnored incompatible updates (peer dependencies):\n"),Ku(e,Zu(Object.entries(t).map((([e,{from:t,to:n,reason:i}])=>{const r="reason: "+Object.entries(i).map((([e,t])=>e+" requires "+t)).join(", ");return[e,t,"",Au(t,n),r]}))))}(e,t)}if(e.enginesNode){const t=await async function(e,t,n={}){if(!n.nodeEngineVersion)return{};const i=hu.minVersion(n.nodeEngineVersion)?.version;if(!i)return{};const[r,s]=await JK(e,{...n,enginesNode:!1,nodeEngineVersion:void 0,loglevel:"silent"}),o=br(s,((e,t)=>r[e]&&t?.version?{[e]:t.version}:null)),a=await async function(e,t){const n=yK(t,t.packageManager);if(!n.getEngines)return{};const i=Object.keys(e).length;let r;return!t.json&&"silent"!==t.loglevel&&"verbose"!==t.loglevel&&i>0&&(r=new vK("[:bar] :current/:total :percent",{total:i,width:20}),r.render()),Object.entries(e).reduce((async(e,[i,s])=>{const o=(await n.getEngines(i,s,t)).node;return r&&r.tick(),{...await e,[i]:o}}),Promise.resolve({}))}(o,n);return Object.entries(r).filter((([e,n])=>t[e]!==n&&!wY(a[e],i))).reduce(((t,[n,i])=>({...t,[n]:{from:e[n],to:i,enginesNode:a[n]}})),{})}(s,o,e);Object.keys(t).length>0&&function(e,t){Ku(e,"\nIgnored incompatible updates (engines node):\n"),Ku(e,Zu(Object.entries(t).map((([e,{from:t,to:n,enginesNode:i}])=>[e,t,"",Au(t,n),`reason: requires node ${i}`]))))}(e,t)}}const g=await NM(t,s,m,e),y=e.jsonAll?QK.parse(g):e.jsonDeps?function(e,t){const n={};for(const i of t)n[i]=e[i];return n}(QK.parse(g),LM(e.dep)):m;let b=Promise.resolve();if(e.json&&!e.deep&&Yu(e,y),Object.keys(d).length>0&&i)if(e.upgrade)b=h.writeFile(i,g);else{const t="npx"===process.env.npm_lifecycle_event?"npx npm-check-updates":"ncu",n=process.argv.slice(2).map((e=>e.includes(" ")?`"${e}"`:e)).join(" "),i=n&&" "+n;Ku(e,`\nRun ${xr.cyan(`${t}${i} -u`)} to upgrade ${e.packageFile||"package.json"}`)}return await b,y}process.env.INJECT_PROMPTS&&cn.inject(JSON.parse(process.env.INJECT_PROMPTS)),process.on("unhandledRejection",(e=>{console.error(e)}));const xY=async(e,t)=>{if("staticRegistry"===e.packageManager)yl({...e,packageManager:void 0});else if("npm"!==e.packageManager)return e.packageManager;const n=e.cwd??t?`${t}/..`:process.cwd();return await Cr(r.join(n,"pnpm-lock.yaml"))?"pnpm":"npm"},DY=(e,t)=>{const n=1===e.length?{[e[0]]:t}:t;return Object.values(n).some((e=>Object.keys(e).length>0))},CY=async(e,t,n)=>{if("never"===n.install)return void Ku(n,"");if(!DY(e,t))return;const i=await xY(n,e[0]),s=`Run ${xr.cyan(i+" install")}${e.length>1&&!n.workspace&&!n.workspaces?" in each project directory":""} to install new versions`,o=n.interactive&&(process.env.NCU_TESTS||!process.env.NCU_DOCTOR);let a;o&&"prompt"===n.install&&(Ku(n,""),a=await cn({type:"confirm",name:"value",message:`${s}?`,initial:!0,onState:e=>{e.aborted&&process.nextTick((()=>process.exit(1)))}})),"always"===n.install||o&&a.value?("always"===n.install&&Ku(n,""),Ku(n,"Installing dependencies..."),(n.workspaces||n.workspace?.length?["package.json"]:e).forEach((async e=>{const t=await xY(n,e),i=t+("win32"===process.platform?".cmd":""),s=n.cwd||r.resolve(e,"..");let o="";try{await Xn(i,["install"],{stdout:e=>{o+=e},stderr:e=>{console.error(xr.red(e.toString()))}},{cwd:s,env:{...process.env,...!1!==n.color?{FORCE_COLOR:!0}:null,..."pnpm"===t?{npm_config_strict_peer_dependencies:!1}:null}}),Ku(n,o),Ku(n,"Done")}catch(e){throw new Error(e?.message||e||o)}}))):o||Ku(n,`\n${s}.`)};async function kY(e,t){const[n,i]=await async function(e){const t=e.packageFile||"package.json",n=e.cwd?NP(e.cwd):"./",i=e.packageFile||(e.cwd?r.join(n,"package.json"):"package.json"),s=!0===e.workspaces||void 0!==e.workspace&&0!==e.workspace.length;let o=[];if(!s||!0===e.root){const t=i.replace(/\\/g,"/"),n=Vz.sync(t,Kz),r=[...await Promise.all(n.map((async t=>await PM(e,t))))];o=[...o,...r]}if(!s)return[o,[]];const[a,c]=await async function(e,t,n,i){const{pkgData:s,pkgPath:o}=await MM({...e,packageFile:n,loglevel:"silent"}),a=("string"==typeof s?JSON.parse(s):s).workspaces||await Yz(o||""),c=Array.isArray(a)?a:a?.packages;c||FM(e,`workspaces property missing from package.json. --workspace${e.workspaces?"s":""} only works when you specify a "workspaces" property in your package.json.`);const u=(c||[]).map((e=>r.join(i,e,"package.json").replace(/\\/g,"/"))),l=Vz.sync(u,Kz),h=[...await Promise.all(l.map((async t=>{const n=await PM(e,t);return n.name=n.pkg.name||t.split("/").slice(-2)[0],n})))],p=h.map((e=>e.name||""));return!0!==e.workspaces?[h.filter((n=>e.workspace?.some((e=>c?.some((s=>n.name===e||n.filepath===r.join(i,r.dirname(s),e,t).replace(/\\/g,"/"))))))),p]:[h,p]}(e,t,i,n);return o=[...o,...a],[o,c]}(e),s=n.map((e=>e.filepath)),o=e.workspaces||!!e.workspace?.length;let a;if(e.deep=e.deep||o||n.length>1,e.global){const n=await async function(e){Ku(e,"\nOptions:","verbose"),Ju(e,e,"verbose"),Ku(e,"\nGetting installed packages","verbose");let t={};try{const{cli:n,cwd:i,filter:r,filterVersion:s,global:o,packageManager:a,prefix:c,reject:u,rejectVersion:l}=e;t=await async function(e={}){const t=await(yK(e,e.packageManager).list?.({cwd:e.cwd,prefix:e.prefix,global:e.global}));t||FM(e,"Unable to retrieve package list");const n=gK(e.filter,e.reject,e.filterVersion,e.rejectVersion);return Dr(t,((e,t)=>!!t&&!ku(t)&&n(e,t)))}({cli:n,cwd:i,filter:r,filterVersion:s,global:o,packageManager:a,prefix:c,reject:u,rejectVersion:l})}catch(t){FM(e,t.message)}Ku(e,"globalPackages:","verbose"),Ku(e,t,"verbose"),Ku(e,"","verbose"),Ku(e,`Fetching ${e.target} versions`,"verbose");const[n,i]=await JK(t,e);Ku(e,i,"verbose");const r=br(i,((e,t)=>t.time?{[e]:t.time}:null)),s=Object.keys(n);await el(e,{current:t,upgraded:n,latest:i,total:s.length,time:r});const o=n?s.map((e=>e+"@"+n[e])).join(" "):"[package]";if(e.json)Yu(e,n);else if(o.length){const t="yarn"===e.packageManager?"yarn global upgrade":"pnpm"===e.packageManager?"pnpm -g add":"bun"===e.packageManager?"bun add -g":"npm -g install";Ku(e,"\n"+xr.cyan("ncu")+" itself cannot upgrade global packages. Run the following to upgrade all global packages: \n\n"+xr.cyan(`${t} `+o)+"\n")}return e.cli&&2===e.errorLevel&&s.length>0&&process.exit(1),n}(e);return clearTimeout(t),n}if(e.deep)a=await n.reduce((async(t,n)=>{const s=await t,o=await XG({packageFile:n.filepath,options:e});let a=o&&o.config?o.config:{};e.mergeConfig&&Object.keys(a).length&&(a=function(e,t){const n=e||{},i=t||{},r={...n,...i};return Object.keys(r).forEach((e=>{Array.isArray(n[e])&&Array.isArray(i[e])&&(r[e]=function(e,t){return Array.from(new Set([...e||[],...t||[]]))}(n[e],i[e]))})),r}(e,a));const c={...e,...a,packageFile:n.filepath,workspacePackages:i},{pkgData:u,pkgFile:l}=await MM(c);return{...s,[c.cwd?r.relative(r.resolve(c.cwd),l).replace(/\\/g,"/"):l]:await EY(c,u,l)}}),Promise.resolve({})),e.json&&Yu(e,a);else{1===n.length&&n[0].filepath!==(e.packageFile||"package.json")&&(e.packageFile=n[0].filepath);const{pkgData:t,pkgFile:i}=await MM(e);a=await EY(e,t,i)}return clearTimeout(t),2===e.errorLevel&&DY(s,a)&&FM(e,"\nDependencies not up-to-date"),e.upgrade&&("deno"===e.packageManager?Ku(e,""):await CY(s,a,e)),a}async function RY(e={},{cli:t}={}){const i=await async function(e,{cli:t}={}){const{default:i,Chalk:r}=await Promise.resolve().then((()=>n(6796))),s=e.color?new r({level:1}):i;t||(e={...fl.reduce(((e,t)=>({...e,...null!=t.default?{[t.long]:t.default}:null})),{}),jsonUpgraded:!0,silent:e.silent||void 0===e.loglevel&&!e.verbose,args:[],...e});const o={...e,...e.packageData&&"string"!=typeof e.packageData?{packageData:JSON.stringify(e.packageData,null,2)}:null,cli:t},a=o.silent||o.format?.includes("lines")?"silent":o.verbose?"verbose":o.loglevel,u=Object.keys(o).filter((e=>e.startsWith("json"))).some(aa(o));!u&&"silent"!==a&&o.rcConfigPath&&!o.doctor&&Ku(o,`Using config file ${o.rcConfigPath}`);const l=fl.filter((({long:e,deprecated:t})=>t&&o[e]||"packageManager"===e&&"staticRegistry"===o.packageManager));l.length>0&&(l.forEach((({long:e,description:t})=>{const n="packageManager"===e?"--packageManager staticRegistry is deprecated. Use --registryType json.":`--${e}: ${t}`;Ku(o,s.yellow(n),"warn")})),Ku(o,"","warn")),fl.forEach((({long:e,choices:t})=>{if(!t||0===t.length)return;const n=o[e],i=Array.isArray(n)?n:[n];0!==i.length&&i.every((e=>!t.includes(e)))&&FM(o,`Invalid option value: --${e} ${n}. Valid values are: ${t.join(", ")}.`)})),o.cwd&&!await Cr(o.cwd)&&FM(o,`No such directory: ${o.cwd}`);const h=mV(o.args),p=mV(o.filter),d=mV(o.filterVersion),f=mV(o.reject),m=mV(o.rejectVersion);o.filter&&h&&!tV(h.join(" "),Array.isArray(p)?p.join(" "):p)?FM(o,"Cannot specify a filter using both --filter and args. Did you forget to quote an argument?\nSee: https://github.com/raineorshine/npm-check-updates/issues/759#issuecomment-723587297"):o.packageFile&&o.deep?FM(o,"Cannot specify both --packageFile and --deep. --deep is an alias for --packageFile '**/package.json'"):o.format?.includes("lines")&&o.jsonUpgraded?FM(o,"Cannot specify both --format lines and --jsonUpgraded."):o.format?.includes("lines")&&o.jsonAll?FM(o,"Cannot specify both --format lines and --jsonAll."):o.format?.includes("lines")&&o.format.length>1?FM(o,"Cannot use --format lines with other formatting options."):o.workspace?.length&&o.workspaces?FM(o,"Cannot specify both --workspace and --workspaces."):o.deep&&(o.workspace?.length||o.workspaces)?FM(o,`Cannot specify both --deep and --workspace${o.workspaces?"s":""}.`):o.doctor&&(o.workspace?.length||o.workspaces)?FM(o,`Doctor mode is not currently supported with --workspace${o.workspaces?"s":""}.`):"staticRegistry"!==o.packageManager||o.registry?"json"===o.registryType&&!o.registry&&FM(o,'When --registryType json is specified, you must provide the path for the registry file with --registry. Run "ncu --help registryType" for details.'):FM(o,"When --package-manager staticRegistry is specified, you must provide the path for the registry file with --registry.");const g=o.target||"latest",y="newest"===g||"greatest"===g,b=await yl(o),v={...o,...o.deep?{packageFile:"**/package.json"}:null,..."deno"===b&&o.dep!==dl.dep.default?{dep:["imports"]}:null,...o.format&&o.format.length>0?{format:o.format}:null,filter:h||p,filterVersion:d,json:u,loglevel:a,minimal:void 0!==o.minimal&&o.minimal,...null!=o.pre||y?{pre:null!=o.pre?!!o.pre:y}:null,reject:f,rejectVersion:m,target:g,...o.interactive&&void 0===o.upgrade?{upgrade:!u}:null,packageManager:b,...o.prefix?{prefix:await(fV[b||""]?.defaultPrefix||fV.npm.defaultPrefix)(o)}:null,registryType:o.registryType||(o.registry?.endsWith(".json")?"json":"npm")};v.cacher=await async function(e){if(!e.cache||!e.cacheFile)return;const t=sl(e.cacheFile);let n={};const i={};try{n=JSON.parse(await c.promises.readFile(t,"utf-8")),function(e,t=10){return"number"==typeof e.timestamp&&e.timestamp+6e4*t<Date.now()}(n,e.cacheExpiration)&&(c.promises.rm(t,{force:!0}),n={})}catch{}return"number"!=typeof n.timestamp&&(n.timestamp=Date.now()),n.packages||(n.packages={}),{get:(e,t)=>{const r=`${e}${tl}${t}`;if(!r||!n.packages)return;const s=n.packages[r];if(s&&!r.includes(s)){const[e]=r.split(tl);i[e]=s}return s},set:(e,t,i)=>{const r=`${e}${tl}${t}`;!r||!n.packages||(n.packages[r]=i)},save:async()=>{await c.promises.writeFile(t,JSON.stringify(n))},log:()=>{const t=Object.keys(i).length;0!==t&&(Ku(e,`\nUsing ${t} cached package version${t>1?"s":""}`,"warn"),Ku(e,i,"verbose"))}}}(v);const w=br(v,((e,t)=>void 0!==t?{[e]:t}:null));return!o.packageManager&&"npm"!==b&&Ku(w,`Using ${b}`),w}(e,{cli:t});await Sr(i.color),(e=>{e.global&&(process.env.VOLTA_HOME||process.env.PATH?.includes("\\Volta"))&&(Ku(e,"It appears you are using Volta. `npm-check-updates --global` cannot be used with Volta because Volta has its own system for managing global packages which circumvents npm.\n\nIf you are still receiving this message after uninstalling Volta, ensure your PATH does not contain an entry for Volta and your shell profile does not define VOLTA_HOME. You may need to reboot for changes to your shell profile to take effect.","error"),process.exit(1))})(i),Ku(i,"Initializing","verbose"),i.cacheClear&&await async function(e){e.cacheFile&&await c.promises.rm(sl(e.cacheFile),{force:!0})}(i);let r,s=new Promise((()=>null));if(i.timeout){const e="string"==typeof i.timeout?Number.parseInt(i.timeout,10):i.timeout;s=new Promise(((t,n)=>{r=setTimeout((()=>{const t=`Exceeded global timeout of ${e}ms`;n(t);try{FM(i,t)}catch{}}),e)}))}if(!i.doctor)return Promise.race([s,kY(i,r)]);if(i.upgrade)return Promise.race([s,jM(RY,i)]);{const e="function"==typeof dl.doctor.help?dl.doctor.help({}):dl.doctor.help;Ku(i,`Usage: ncu --doctor\n\n${e}`,"warn")}}t.chalkInit=Sr,t.cliOptionsSorted=fl,t.commonjsGlobal=A,t.default=RY,t.getDefaultExportFromCjs=T,t.getNcuRc=XG,t.isFullwidthCodePointExports=oi,t.pickBy=_K,t.pkg=BP,t.renderExtendedHelp=(e,{markdown:t}={})=>{let n="";return!1!==e.cli&&(n=`Usage:\n\n    ncu --${e.long}${e.arg?` [${e.arg}]`:""}${"doctor"===e.long?" -u":""}\n`),"boolean"===e.type&&(n+=`    ncu --no-${e.long}\n`),e.short&&(n+=`    ncu -${e.short}${e.arg?` [${e.arg}]`:""}${"doctor"===e.long?"u":""}\n`),void 0!==e.default&&!(Array.isArray(e.default)&&0===e.default.length)&&(n+=`\nDefault: ${e.default}\n`),e.help?n+=`\n${("function"==typeof e.help?t?e.help({markdown:t}):hl(e.help({markdown:t})):e.help).trim()}\n\n`:e.description&&(n+=`\n${(t?e.description:hl(e.description)).replace(/`/g,"")}\n`),n.trim()},t.run=RY,t.semver=pu},57422:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=57422,e.exports=t},45228:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var s,o,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var u in s=Object(arguments[c]))n.call(s,u)&&(a[u]=s[u]);if(t){o=t(s);for(var l=0;l<o.length;l++)i.call(s,o[l])&&(a[o[l]]=s[o[l]])}}return a}},33225:e=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,n)}));case 4:return process.nextTick((function(){e.call(null,t,n,i)}));default:for(r=new Array(o-1),s=0;s<r.length;)r[s++]=arguments[s];return process.nextTick((function(){e.apply(null,r)}))}}}:e.exports=process},54422:e=>{e.exports=global.process},4111:(e,t,n)=>{e.exports="undefined"!=typeof process&&"function"==typeof process.nextTick?process.nextTick.bind(process):n(92133)},92133:e=>{e.exports="function"==typeof queueMicrotask?queueMicrotask:e=>Promise.resolve().then(e)},39792:(e,t,n)=>{var i=n(72017),r=n(24434).EventEmitter;function s(e){if(!(this instanceof s))return new s(e);r.call(this),e=e||{},this.concurrency=e.concurrency||1/0,this.timeout=e.timeout||0,this.autostart=e.autostart||!1,this.results=e.results||null,this.pending=0,this.session=0,this.running=!1,this.jobs=[],this.timers={}}function o(){for(var e in this.timers){var t=this.timers[e];delete this.timers[e],clearTimeout(t)}}function a(e){var t=this;function n(e){t.end(e)}this.on("error",n),this.on("end",(function i(r){t.removeListener("error",n),t.removeListener("end",i),e(r,this.results)}))}function c(e){this.session++,this.running=!1,this.emit("end",e)}e.exports=s,e.exports.default=s,i(s,r),["pop","shift","indexOf","lastIndexOf"].forEach((function(e){s.prototype[e]=function(){return Array.prototype[e].apply(this.jobs,arguments)}})),s.prototype.slice=function(e,t){return this.jobs=this.jobs.slice(e,t),this},s.prototype.reverse=function(){return this.jobs.reverse(),this},["push","unshift","splice"].forEach((function(e){s.prototype[e]=function(){var t=Array.prototype[e].apply(this.jobs,arguments);return this.autostart&&this.start(),t}})),Object.defineProperty(s.prototype,"length",{get:function(){return this.pending+this.jobs.length}}),s.prototype.start=function(e){if(e&&a.call(this,e),this.running=!0,!(this.pending>=this.concurrency))if(0!==this.jobs.length){var t=this,n=this.jobs.shift(),i=!0,r=this.session,s=null,o=!1,u=null,l=n.hasOwnProperty("timeout")?n.timeout:this.timeout;l&&(s=setTimeout((function(){o=!0,t.listeners("timeout").length>0?t.emit("timeout",p,n):p()}),l),this.timers[s]=s),this.results&&(u=this.results.length,this.results[u]=null),this.pending++,t.emit("start",n);var h=n(p);h&&h.then&&"function"==typeof h.then&&h.then((function(e){return p(null,e)})).catch((function(e){return p(e||!0)})),this.running&&this.jobs.length>0&&this.start()}else 0===this.pending&&c.call(this);function p(e,a){i&&t.session===r&&(i=!1,t.pending--,null!==s&&(delete t.timers[s],clearTimeout(s)),e?t.emit("error",e,n):!1===o&&(null!==u&&(t.results[u]=Array.prototype.slice.call(arguments,1)),t.emit("success",a,n)),t.session===r&&(0===t.pending&&0===t.jobs.length?c.call(t):t.running&&t.start()))}},s.prototype.stop=function(){this.running=!1},s.prototype.end=function(e){o.call(this),this.jobs.length=0,this.pending=0,c.call(this,e)}},4147:(e,t,n)=>{"use strict";const{SymbolDispose:i}=n(24134),{AbortError:r,codes:s}=n(76371),{isNodeStream:o,isWebStream:a,kControllerErrorFunction:c}=n(16115),u=n(86238),{ERR_INVALID_ARG_TYPE:l}=s;let h;e.exports.addAbortSignal=function(t,n){if((e=>{if("object"!=typeof e||!("aborted"in e))throw new l("signal","AbortSignal",e)})(t),!o(n)&&!a(n))throw new l("stream",["ReadableStream","WritableStream","Stream"],n);return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;const s=o(t)?()=>{t.destroy(new r(void 0,{cause:e.reason}))}:()=>{t[c](new r(void 0,{cause:e.reason}))};if(e.aborted)s();else{h=h||n(57760).addAbortListener;const r=h(e,s);u(t,r[i])}return t}},80345:(e,t,n)=>{"use strict";const{StringPrototypeSlice:i,SymbolIterator:r,TypedArrayPrototypeSet:s,Uint8Array:o}=n(24134),{Buffer:a}=n(20181),{inspect:c}=n(57760);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,n=""+t.data;for(;null!==(t=t.next);)n+=e+t.data;return n}concat(e){if(0===this.length)return a.alloc(0);const t=a.allocUnsafe(e>>>0);let n=this.head,i=0;for(;n;)s(t,n.data,i),i+=n.data.length,n=n.next;return t}consume(e,t){const n=this.head.data;if(e<n.length){const t=n.slice(0,e);return this.head.data=n.slice(e),t}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[r](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",n=this.head,r=0;do{const s=n.data;if(!(e>s.length)){e===s.length?(t+=s,++r,n.next?this.head=n.next:this.head=this.tail=null):(t+=i(s,0,e),this.head=n,n.data=i(s,e));break}t+=s,e-=s.length,++r}while(null!==(n=n.next));return this.length-=r,t}_getBuffer(e){const t=a.allocUnsafe(e),n=e;let i=this.head,r=0;do{const a=i.data;if(!(e>a.length)){e===a.length?(s(t,a,n-e),++r,i.next?this.head=i.next:this.head=this.tail=null):(s(t,new o(a.buffer,a.byteOffset,e),n-e),this.head=i,i.data=a.slice(e));break}s(t,a,n-e),e-=a.length,++r}while(null!==(i=i.next));return this.length-=r,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return c(this,{...t,depth:0,customInspect:!1})}}},47830:(e,t,n)=>{"use strict";const{pipeline:i}=n(57758),r=n(93370),{destroyer:s}=n(75896),{isNodeStream:o,isReadable:a,isWritable:c,isWebStream:u,isTransformStream:l,isWritableStream:h,isReadableStream:p}=n(16115),{AbortError:d,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:m}}=n(76371),g=n(86238);e.exports=function(...e){if(0===e.length)throw new m("streams");if(1===e.length)return r.from(e[0]);const t=[...e];if("function"==typeof e[0]&&(e[0]=r.from(e[0])),"function"==typeof e[e.length-1]){const t=e.length-1;e[t]=r.from(e[t])}for(let n=0;n<e.length;++n)if(o(e[n])||u(e[n])){if(n<e.length-1&&!(a(e[n])||p(e[n])||l(e[n])))throw new f(`streams[${n}]`,t[n],"must be readable");if(n>0&&!(c(e[n])||h(e[n])||l(e[n])))throw new f(`streams[${n}]`,t[n],"must be writable")}let n,y,b,v,w;const _=e[0],S=i(e,(function(e){const t=v;v=null,t?t(e):e?w.destroy(e):x||E||w.destroy()})),E=!!(c(_)||h(_)||l(_)),x=!!(a(S)||p(S)||l(S));if(w=new r({writableObjectMode:!(null==_||!_.writableObjectMode),readableObjectMode:!(null==S||!S.readableObjectMode),writable:E,readable:x}),E){if(o(_))w._write=function(e,t,i){_.write(e,t)?i():n=i},w._final=function(e){_.end(),y=e},_.on("drain",(function(){if(n){const e=n;n=null,e()}}));else if(u(_)){const e=(l(_)?_.writable:_).getWriter();w._write=async function(t,n,i){try{await e.ready,e.write(t).catch((()=>{})),i()}catch(e){i(e)}},w._final=async function(t){try{await e.ready,e.close().catch((()=>{})),y=t}catch(e){t(e)}}}const e=l(S)?S.readable:S;g(e,(()=>{if(y){const e=y;y=null,e()}}))}if(x)if(o(S))S.on("readable",(function(){if(b){const e=b;b=null,e()}})),S.on("end",(function(){w.push(null)})),w._read=function(){for(;;){const e=S.read();if(null===e)return void(b=w._read);if(!w.push(e))return}};else if(u(S)){const e=(l(S)?S.readable:S).getReader();w._read=async function(){for(;;)try{const{value:t,done:n}=await e.read();if(!w.push(t))return;if(n)return void w.push(null)}catch{return}}}return w._destroy=function(e,t){e||null===v||(e=new d),b=null,n=null,y=null,null===v?t(e):(v=t,o(S)&&s(S,e))},w}},75896:(e,t,n)=>{"use strict";const i=n(54422),{aggregateTwoErrors:r,codes:{ERR_MULTIPLE_CALLBACK:s},AbortError:o}=n(76371),{Symbol:a}=n(24134),{kIsDestroyed:c,isDestroyed:u,isFinished:l,isServerRequest:h}=n(16115),p=a("kDestroy"),d=a("kConstruct");function f(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function m(e,t,n){let r=!1;function s(t){if(r)return;r=!0;const s=e._readableState,o=e._writableState;f(t,o,s),o&&(o.closed=!0),s&&(s.closed=!0),"function"==typeof n&&n(t),t?i.nextTick(g,e,t):i.nextTick(y,e)}try{e._destroy(t||null,s)}catch(t){s(t)}}function g(e,t){b(e,t),y(e)}function y(e){const t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=n&&n.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function b(e,t){const n=e._readableState,i=e._writableState;null!=i&&i.errorEmitted||null!=n&&n.errorEmitted||(i&&(i.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function v(e,t,n){const r=e._readableState,s=e._writableState;if(null!=s&&s.destroyed||null!=r&&r.destroyed)return this;null!=r&&r.autoDestroy||null!=s&&s.autoDestroy?e.destroy(t):t&&(t.stack,s&&!s.errored&&(s.errored=t),r&&!r.errored&&(r.errored=t),n?i.nextTick(b,e,t):b(e,t))}function w(e){let t=!1;function n(n){if(t)return void v(e,null!=n?n:new s);t=!0;const r=e._readableState,o=e._writableState,a=o||r;r&&(r.constructed=!0),o&&(o.constructed=!0),a.destroyed?e.emit(p,n):n?v(e,n,!0):i.nextTick(_,e)}try{e._construct((e=>{i.nextTick(n,e)}))}catch(e){i.nextTick(n,e)}}function _(e){e.emit(d)}function S(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function E(e){e.emit("close")}function x(e,t){e.emit("error",t),i.nextTick(E,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;const n=e._readableState,r=e._writableState;n&&(n.constructed=!1),r&&(r.constructed=!1),e.once(d,t),e.listenerCount(d)>1||i.nextTick(w,e)},destroyer:function(e,t){e&&!u(e)&&(t||l(e)||(t=new o),h(e)?(e.socket=null,e.destroy(t)):S(e)?e.abort():S(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?i.nextTick(x,e,t):i.nextTick(E,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const n=this._readableState,i=this._writableState,s=i||n;return null!=i&&i.destroyed||null!=n&&n.destroyed?("function"==typeof t&&t(),this):(f(e,i,n),i&&(i.destroyed=!0),n&&(n.destroyed=!0),s.constructed?m(this,e,t):this.once(p,(function(n){m(this,r(n,e),t)})),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:v}},93370:(e,t,n)=>{"use strict";const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:r,ObjectKeys:s,ObjectSetPrototypeOf:o}=n(24134);e.exports=u;const a=n(57576),c=n(78584);o(u.prototype,a.prototype),o(u,a);{const e=s(c.prototype);for(let t=0;t<e.length;t++){const n=e[t];u.prototype[n]||(u.prototype[n]=c.prototype[n])}}function u(e){if(!(this instanceof u))return new u(e);a.call(this,e),c.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let l,h;function p(){return void 0===l&&(l={}),l}i(u.prototype,{writable:{__proto__:null,...r(c.prototype,"writable")},writableHighWaterMark:{__proto__:null,...r(c.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...r(c.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...r(c.prototype,"writableBuffer")},writableLength:{__proto__:null,...r(c.prototype,"writableLength")},writableFinished:{__proto__:null,...r(c.prototype,"writableFinished")},writableCorked:{__proto__:null,...r(c.prototype,"writableCorked")},writableEnded:{__proto__:null,...r(c.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...r(c.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return p().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return p().newReadableWritablePairFromDuplex(e)},u.from=function(e){return h||(h=n(46706)),h(e,"body")}},46706:(e,t,n)=>{const i=n(54422),r=n(20181),{isReadable:s,isWritable:o,isIterable:a,isNodeStream:c,isReadableNodeStream:u,isWritableNodeStream:l,isDuplexNodeStream:h,isReadableStream:p,isWritableStream:d}=n(16115),f=n(86238),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=n(76371),{destroyer:b}=n(75896),v=n(93370),w=n(57576),_=n(78584),{createDeferredPromise:S}=n(57760),E=n(96532),x=globalThis.Blob||r.Blob,D=void 0!==x?function(e){return e instanceof x}:function(e){return!1},C=globalThis.AbortController||n(66584).AbortController,{FunctionPrototypeCall:k}=n(24134);class R extends v{constructor(e){super(e),!1===(null==e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null==e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function A(e){const t=e.readable&&"function"!=typeof e.readable.read?w.wrap(e.readable):e.readable,n=e.writable;let i,r,a,c,u,l=!!s(t),h=!!o(n);function p(e){const t=c;c=null,t?t(e):e&&u.destroy(e)}return u=new R({readableObjectMode:!(null==t||!t.readableObjectMode),writableObjectMode:!(null==n||!n.writableObjectMode),readable:l,writable:h}),h&&(f(n,(e=>{h=!1,e&&b(t,e),p(e)})),u._write=function(e,t,r){n.write(e,t)?r():i=r},u._final=function(e){n.end(),r=e},n.on("drain",(function(){if(i){const e=i;i=null,e()}})),n.on("finish",(function(){if(r){const e=r;r=null,e()}}))),l&&(f(t,(e=>{l=!1,e&&b(t,e),p(e)})),t.on("readable",(function(){if(a){const e=a;a=null,e()}})),t.on("end",(function(){u.push(null)})),u._read=function(){for(;;){const e=t.read();if(null===e)return void(a=u._read);if(!u.push(e))return}}),u._destroy=function(e,s){e||null===c||(e=new m),a=null,i=null,r=null,null===c?s(e):(c=s,b(n,e),b(t,e))},u}e.exports=function e(t,n){if(h(t))return t;if(u(t))return A({readable:t});if(l(t))return A({writable:t});if(c(t))return A({writable:!1,readable:!1});if(p(t))return A({readable:w.fromWeb(t)});if(d(t))return A({writable:_.fromWeb(t)});if("function"==typeof t){const{value:e,write:r,final:s,destroy:o}=function(e){let{promise:t,resolve:n}=S();const r=new C,s=r.signal;return{value:e(async function*(){for(;;){const e=t;t=null;const{chunk:r,done:o,cb:a}=await e;if(i.nextTick(a),o)return;if(s.aborted)throw new m(void 0,{cause:s.reason});({promise:t,resolve:n}=S()),yield r}}(),{signal:s}),write(e,t,i){const r=n;n=null,r({chunk:e,done:!1,cb:i})},final(e){const t=n;n=null,t({done:!0,cb:e})},destroy(e,t){r.abort(),t(e)}}}(t);if(a(e))return E(R,e,{objectMode:!0,write:r,final:s,destroy:o});const c=null==e?void 0:e.then;if("function"==typeof c){let t;const n=k(c,e,(e=>{if(null!=e)throw new y("nully","body",e)}),(e=>{b(t,e)}));return t=new R({objectMode:!0,readable:!1,write:r,final(e){s((async()=>{try{await n,i.nextTick(e,null)}catch(t){i.nextTick(e,t)}}))},destroy:o})}throw new y("Iterable, AsyncIterable or AsyncFunction",n,e)}if(D(t))return e(t.arrayBuffer());if(a(t))return E(R,t,{objectMode:!0,writable:!1});if(p(null==t?void 0:t.readable)&&d(null==t?void 0:t.writable))return R.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return A({readable:null!=t&&t.readable?u(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?l(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});const r=null==t?void 0:t.then;if("function"==typeof r){let e;return k(r,t,(t=>{null!=t&&e.push(t),e.push(null)}),(t=>{b(e,t)})),e=new R({objectMode:!0,writable:!1,read(){}})}throw new g(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},86238:(e,t,n)=>{const i=n(54422),{AbortError:r,codes:s}=n(76371),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:a}=s,{kEmptyObject:c,once:u}=n(57760),{validateAbortSignal:l,validateFunction:h,validateObject:p,validateBoolean:d}=n(277),{Promise:f,PromisePrototypeThen:m,SymbolDispose:g}=n(24134),{isClosed:y,isReadable:b,isReadableNodeStream:v,isReadableStream:w,isReadableFinished:_,isReadableErrored:S,isWritable:E,isWritableNodeStream:x,isWritableStream:D,isWritableFinished:C,isWritableErrored:k,isNodeStream:R,willEmitClose:A,kIsClosedPromise:T}=n(16115);let O;const F=()=>{};function P(e,t,s){var d,f;if(2===arguments.length?(s=t,t=c):null==t?t=c:p(t,"options"),h(s,"callback"),l(t.signal,"options.signal"),s=u(s),w(e)||D(e))return function(e,t,s){let o=!1,a=F;if(t.signal)if(a=()=>{o=!0,s.call(e,new r(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(a);else{O=O||n(57760).addAbortListener;const i=O(t.signal,a),r=s;s=u(((...t)=>{i[g](),r.apply(e,t)}))}const c=(...t)=>{o||i.nextTick((()=>s.apply(e,t)))};return m(e[T].promise,c,c),F}(e,t,s);if(!R(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);const P=null!==(d=t.readable)&&void 0!==d?d:v(e),I=null!==(f=t.writable)&&void 0!==f?f:x(e),L=e._writableState,N=e._readableState,B=()=>{e.writable||$()};let j=A(e)&&v(e)===P&&x(e)===I,M=C(e,!1);const $=()=>{M=!0,e.destroyed&&(j=!1),(!j||e.readable&&!P)&&(P&&!q||s.call(e))};let q=_(e,!1);const U=()=>{q=!0,e.destroyed&&(j=!1),(!j||e.writable&&!I)&&(I&&!M||s.call(e))},H=t=>{s.call(e,t)};let W=y(e);const z=()=>{W=!0;const t=k(e)||S(e);return t&&"boolean"!=typeof t?s.call(e,t):P&&!q&&v(e,!0)&&!_(e,!1)?s.call(e,new a):!I||M||C(e,!1)?void s.call(e):s.call(e,new a)},G=()=>{W=!0;const t=k(e)||S(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},V=()=>{e.req.on("finish",$)};!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?I&&!L&&(e.on("end",B),e.on("close",B)):(e.on("complete",$),j||e.on("abort",z),e.req?V():e.on("request",V)),j||"boolean"!=typeof e.aborted||e.on("aborted",z),e.on("end",U),e.on("finish",$),!1!==t.error&&e.on("error",H),e.on("close",z),W?i.nextTick(z):null!=L&&L.errorEmitted||null!=N&&N.errorEmitted?j||i.nextTick(G):(P||j&&!b(e)||!M&&!1!==E(e))&&(I||j&&!E(e)||!q&&!1!==b(e))?N&&e.req&&e.aborted&&i.nextTick(G):i.nextTick(G);const K=()=>{s=F,e.removeListener("aborted",z),e.removeListener("complete",$),e.removeListener("abort",z),e.removeListener("request",V),e.req&&e.req.removeListener("finish",$),e.removeListener("end",B),e.removeListener("close",B),e.removeListener("finish",$),e.removeListener("end",U),e.removeListener("error",H),e.removeListener("close",z)};if(t.signal&&!W){const o=()=>{const n=s;K(),n.call(e,new r(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(o);else{O=O||n(57760).addAbortListener;const i=O(t.signal,o),r=s;s=u(((...t)=>{i[g](),r.apply(e,t)}))}}return K}e.exports=P,e.exports.finished=function(e,t){var n;let i=!1;return null===t&&(t=c),null!==(n=t)&&void 0!==n&&n.cleanup&&(d(t.cleanup,"cleanup"),i=t.cleanup),new f(((n,r)=>{const s=P(e,t,(e=>{i&&s(),e?r(e):n()}))}))}},96532:(e,t,n)=>{"use strict";const i=n(54422),{PromisePrototypeThen:r,SymbolAsyncIterator:s,SymbolIterator:o}=n(24134),{Buffer:a}=n(20181),{ERR_INVALID_ARG_TYPE:c,ERR_STREAM_NULL_VALUES:u}=n(76371).codes;e.exports=function(e,t,n){let l,h;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...n,read(){this.push(t),this.push(null)}});if(t&&t[s])h=!0,l=t[s]();else{if(!t||!t[o])throw new c("iterable",["Iterable"],t);h=!1,l=t[o]()}const p=new e({objectMode:!0,highWaterMark:1,...n});let d=!1;return p._read=function(){d||(d=!0,async function(){for(;;){try{const{value:e,done:t}=h?await l.next():l.next();if(t)p.push(null);else{const t=e&&"function"==typeof e.then?await e:e;if(null===t)throw d=!1,new u;if(p.push(t))continue;d=!1}}catch(e){p.destroy(e)}break}}())},p._destroy=function(e,t){r(async function(e){const t=null!=e,n="function"==typeof l.throw;if(t&&n){const{value:t,done:n}=await l.throw(e);if(await t,n)return}if("function"==typeof l.return){const{value:e}=await l.return();await e}}(e),(()=>i.nextTick(t,e)),(n=>i.nextTick(t,n||e)))},p}},94259:(e,t,n)=>{"use strict";const{ArrayIsArray:i,ObjectSetPrototypeOf:r}=n(24134),{EventEmitter:s}=n(24434);function o(e){s.call(this,e)}function a(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}r(o.prototype,s.prototype),r(o,s),o.prototype.pipe=function(e,t){const n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(n.on("end",c),n.on("close",u));let o=!1;function c(){o||(o=!0,e.end())}function u(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){h(),0===s.listenerCount(this,"error")&&this.emit("error",e)}function h(){n.removeListener("data",i),e.removeListener("drain",r),n.removeListener("end",c),n.removeListener("close",u),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",h),n.removeListener("close",h),e.removeListener("close",h)}return a(n,"error",l),a(e,"error",l),n.on("end",h),n.on("close",h),e.on("close",h),e.emit("pipe",n),e},e.exports={Stream:o,prependListener:a}},60823:(e,t,n)=>{"use strict";const i=globalThis.AbortController||n(66584).AbortController,{codes:{ERR_INVALID_ARG_VALUE:r,ERR_INVALID_ARG_TYPE:s,ERR_MISSING_ARGS:o,ERR_OUT_OF_RANGE:a},AbortError:c}=n(76371),{validateAbortSignal:u,validateInteger:l,validateObject:h}=n(277),p=n(24134).Symbol("kWeak"),d=n(24134).Symbol("kResistStopPropagation"),{finished:f}=n(86238),m=n(47830),{addAbortSignalNoValidate:g}=n(4147),{isWritable:y,isNodeStream:b}=n(16115),{deprecate:v}=n(57760),{ArrayPrototypePush:w,Boolean:_,MathFloor:S,Number:E,NumberIsNaN:x,Promise:D,PromiseReject:C,PromiseResolve:k,PromisePrototypeThen:R,Symbol:A}=n(24134),T=A("kEmpty"),O=A("kEof");function F(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal");let i=1;null!=(null==t?void 0:t.concurrency)&&(i=S(t.concurrency));let r=i-1;return null!=(null==t?void 0:t.highWaterMark)&&(r=S(t.highWaterMark)),l(i,"options.concurrency",1),l(r,"options.highWaterMark",0),r+=i,async function*(){const s=n(57760).AbortSignalAny([null==t?void 0:t.signal].filter(_)),o=this,a=[],u={signal:s};let l,h,p=!1,d=0;function f(){p=!0,m()}function m(){d-=1,g()}function g(){h&&!p&&d<i&&a.length<r&&(h(),h=null)}!async function(){try{for await(let t of o){if(p)return;if(s.aborted)throw new c;try{if(t=e(t,u),t===T)continue;t=k(t)}catch(e){t=C(e)}d+=1,R(t,m,f),a.push(t),l&&(l(),l=null),!p&&(a.length>=r||d>=i)&&await new D((e=>{h=e}))}a.push(O)}catch(e){const t=C(e);R(t,m,f),a.push(t)}finally{p=!0,l&&(l(),l=null)}}();try{for(;;){for(;a.length>0;){const e=await a[0];if(e===O)return;if(s.aborted)throw new c;e!==T&&(yield e),a.shift(),g()}await new D((e=>{l=e}))}}finally{p=!0,h&&(h(),h=null)}}.call(this)}async function P(e,t=void 0){for await(const n of I.call(this,e,t))return!0;return!1}function I(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return F.call(this,(async function(t,n){return await e(t,n)?t:T}),t)}class L extends o{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function N(e){if(e=E(e),x(e))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:v((function(e=void 0){return null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal"),async function*(){let t=0;for await(const i of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c({cause:e.signal.reason});yield[t++,i]}}.call(this)}),"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c;e--<=0&&(yield n)}}.call(this)},filter:I,flatMap:function(e,t){const n=F.call(this,e,t);return async function*(){for await(const e of n)yield*e}.call(this)},map:F,take:function(e,t=void 0){return null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),e=N(e),async function*(){var n;if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new c;for await(const n of this){var i;if(null!=t&&null!==(i=t.signal)&&void 0!==i&&i.aborted)throw new c;if(e-- >0&&(yield n),e<=0)return}}.call(this)},compose:function(e,t){if(null!=t&&h(t,"options"),null!=(null==t?void 0:t.signal)&&u(t.signal,"options.signal"),b(e)&&!y(e))throw new r("stream",e,"must be writable");const n=m(this,e);return null!=t&&t.signal&&g(t.signal,n),n}},e.exports.promiseReturningOperators={every:async function(e,t=void 0){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);return!await P.call(this,(async(...t)=>!await e(...t)),t)},forEach:async function(e,t){if("function"!=typeof e)throw new s("fn",["Function","AsyncFunction"],e);for await(const n of F.call(this,(async function(t,n){return await e(t,n),T}),t));},reduce:async function(e,t,n){var r;if("function"!=typeof e)throw new s("reducer",["Function","AsyncFunction"],e);null!=n&&h(n,"options"),null!=(null==n?void 0:n.signal)&&u(n.signal,"options.signal");let o=arguments.length>1;if(null!=n&&null!==(r=n.signal)&&void 0!==r&&r.aborted){const e=new c(void 0,{cause:n.signal.reason});throw this.once("error",(()=>{})),await f(this.destroy(e)),e}const a=new i,l=a.signal;if(null!=n&&n.signal){const e={once:!0,[p]:this,[d]:!0};n.signal.addEventListener("abort",(()=>a.abort()),e)}let m=!1;try{for await(const i of this){var g;if(m=!0,null!=n&&null!==(g=n.signal)&&void 0!==g&&g.aborted)throw new c;o?t=await e(t,i,{signal:l}):(t=i,o=!0)}if(!m&&!o)throw new L}finally{a.abort()}return t},toArray:async function(e){null!=e&&h(e,"options"),null!=(null==e?void 0:e.signal)&&u(e.signal,"options.signal");const t=[];for await(const i of this){var n;if(null!=e&&null!==(n=e.signal)&&void 0!==n&&n.aborted)throw new c(void 0,{cause:e.signal.reason});w(t,i)}return t},some:P,find:async function(e,t){for await(const n of I.call(this,e,t))return n}}},86524:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:i}=n(24134);e.exports=s;const r=n(17382);function s(e){if(!(this instanceof s))return new s(e);r.call(this,e)}i(s.prototype,r.prototype),i(s,r),s.prototype._transform=function(e,t,n){n(null,e)}},57758:(e,t,n)=>{const i=n(54422),{ArrayIsArray:r,Promise:s,SymbolAsyncIterator:o,SymbolDispose:a}=n(24134),c=n(86238),{once:u}=n(57760),l=n(75896),h=n(93370),{aggregateTwoErrors:p,codes:{ERR_INVALID_ARG_TYPE:d,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:y},AbortError:b}=n(76371),{validateFunction:v,validateAbortSignal:w}=n(277),{isIterable:_,isReadable:S,isReadableNodeStream:E,isNodeStream:x,isTransformStream:D,isWebStream:C,isReadableStream:k,isReadableFinished:R}=n(16115),A=globalThis.AbortController||n(66584).AbortController;let T,O,F;function P(e,t,n){let i=!1;return e.on("close",(()=>{i=!0})),{destroy:t=>{i||(i=!0,l.destroyer(e,t||new g("pipe")))},cleanup:c(e,{readable:t,writable:n},(e=>{i=!e}))}}function I(e){if(_(e))return e;if(E(e))return async function*(e){O||(O=n(57576)),yield*O.prototype[o].call(e)}(e);throw new d("val",["Readable","Iterable","AsyncIterable"],e)}async function L(e,t,n,{end:i}){let r,o=null;const a=e=>{if(e&&(r=e),o){const e=o;o=null,e()}},u=()=>new s(((e,t)=>{r?t(r):o=()=>{r?t(r):e()}}));t.on("drain",a);const l=c(t,{readable:!1},a);try{t.writableNeedDrain&&await u();for await(const n of e)t.write(n)||await u();i&&(t.end(),await u()),n()}catch(e){n(r!==e?p(r,e):e)}finally{l(),t.off("drain",a)}}async function N(e,t,n,{end:i}){D(t)&&(t=t.writable);const r=t.getWriter();try{for await(const t of e)await r.ready,r.write(t).catch((()=>{}));await r.ready,i&&await r.close(),n()}catch(e){try{await r.abort(e),n(e)}catch(e){n(e)}}}function B(e,t,s){if(1===e.length&&r(e[0])&&(e=e[0]),e.length<2)throw new m("streams");const o=new A,c=o.signal,u=null==s?void 0:s.signal,l=[];function p(){$(new b)}let g,y,v;w(u,"options.signal"),F=F||n(57760).addAbortListener,u&&(g=F(u,p));const R=[];let O,B=0;function M(e){$(e,0==--B)}function $(e,n){var r;if(!e||y&&"ERR_STREAM_PREMATURE_CLOSE"!==y.code||(y=e),y||n){for(;R.length;)R.shift()(y);null===(r=g)||void 0===r||r[a](),o.abort(),n&&(y||l.forEach((e=>e())),i.nextTick(t,y,v))}}for(let W=0;W<e.length;W++){const z=e[W],G=W<e.length-1,V=W>0,K=G||!1!==(null==s?void 0:s.end),Y=W===e.length-1;if(x(z)){if(K){const{destroy:J,cleanup:Z}=P(z,G,V);R.push(J),S(z)&&Y&&l.push(Z)}function q(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&M(e)}z.on("error",q),S(z)&&Y&&l.push((()=>{z.removeListener("error",q)}))}if(0===W)if("function"==typeof z){if(O=z({signal:c}),!_(O))throw new f("Iterable, AsyncIterable or Stream","source",O)}else O=_(z)||E(z)||D(z)?z:h.from(z);else if("function"==typeof z){var U;if(O=D(O)?I(null===(U=O)||void 0===U?void 0:U.readable):I(O),O=z(O,{signal:c}),G){if(!_(O,!0))throw new f("AsyncIterable",`transform[${W-1}]`,O)}else{var H;T||(T=n(86524));const X=new T({objectMode:!0}),Q=null===(H=O)||void 0===H?void 0:H.then;if("function"==typeof Q)B++,Q.call(O,(e=>{v=e,null!=e&&X.write(e),K&&X.end(),i.nextTick(M)}),(e=>{X.destroy(e),i.nextTick(M,e)}));else if(_(O,!0))B++,L(O,X,M,{end:K});else{if(!k(O)&&!D(O))throw new f("AsyncIterable or Promise","destination",O);{const ne=O.readable||O;B++,L(ne,X,M,{end:K})}}O=X;const{destroy:ee,cleanup:te}=P(O,!1,!0);R.push(ee),Y&&l.push(te)}}else if(x(z)){if(E(O)){B+=2;const ie=j(O,z,M,{end:K});S(z)&&Y&&l.push(ie)}else if(D(O)||k(O)){const re=O.readable||O;B++,L(re,z,M,{end:K})}else{if(!_(O))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],O);B++,L(O,z,M,{end:K})}O=z}else if(C(z)){if(E(O))B++,N(I(O),z,M,{end:K});else if(k(O)||_(O))B++,N(O,z,M,{end:K});else{if(!D(O))throw new d("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],O);B++,N(O.readable,z,M,{end:K})}O=z}else O=h.from(z)}return(null!=c&&c.aborted||null!=u&&u.aborted)&&i.nextTick(p),O}function j(e,t,n,{end:r}){let s=!1;if(t.on("close",(()=>{s||n(new y)})),e.pipe(t,{end:!1}),r){function o(){s=!0,t.end()}R(e)?i.nextTick(o):e.once("end",o)}else n();return c(e,{readable:!0,writable:!1},(t=>{const i=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&i&&i.ended&&!i.errored&&!i.errorEmitted?e.once("end",n).once("error",n):n(t)})),c(t,{readable:!1,writable:!0},n)}e.exports={pipelineImpl:B,pipeline:function(...e){return B(e,u(function(e){return v(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(e)))}}},57576:(e,t,n)=>{const i=n(54422),{ArrayPrototypeIndexOf:r,NumberIsInteger:s,NumberIsNaN:o,NumberParseInt:a,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:l,Promise:h,SafeSet:p,SymbolAsyncDispose:d,SymbolAsyncIterator:f,Symbol:m}=n(24134);e.exports=Y,Y.ReadableState=K;const{EventEmitter:g}=n(24434),{Stream:y,prependListener:b}=n(94259),{Buffer:v}=n(20181),{addAbortSignal:w}=n(4147),_=n(86238);let S=n(57760).debuglog("stream",(e=>{S=e}));const E=n(80345),x=n(75896),{getHighWaterMark:D,getDefaultHighWaterMark:C}=n(65291),{aggregateTwoErrors:k,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_OUT_OF_RANGE:T,ERR_STREAM_PUSH_AFTER_EOF:O,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:F},AbortError:P}=n(76371),{validateObject:I}=n(277),L=m("kPaused"),{StringDecoder:N}=n(13193),B=n(96532);l(Y.prototype,y.prototype),l(Y,y);const j=()=>{},{errorOrDestroy:M}=x,$=1,q=16,U=32,H=64,W=2048,z=4096,G=65536;function V(e){return{enumerable:!1,get(){return!!(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function K(e,t,i){"boolean"!=typeof i&&(i=t instanceof n(93370)),this.state=W|z|q|U,e&&e.objectMode&&(this.state|=$),i&&e&&e.readableObjectMode&&(this.state|=$),this.highWaterMark=e?D(this,e,"readableHighWaterMark",i):C(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=~W),e&&!1===e.autoDestroy&&(this.state&=~z),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new N(e.encoding),this.encoding=e.encoding)}function Y(e){if(!(this instanceof Y))return new Y(e);const t=this instanceof n(93370);this._readableState=new K(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&w(e.signal,this)),y.call(this,e),x.construct(this,(()=>{this._readableState.needReadable&&te(this,this._readableState)}))}function J(e,t,n,i){S("readableAddChunk",t);const r=e._readableState;let s;if(r.state&$||("string"==typeof t?(n=n||r.defaultEncoding,r.encoding!==n&&(i&&r.encoding?t=v.from(t,n).toString(r.encoding):(t=v.from(t,n),n=""))):t instanceof v?n="":y._isUint8Array(t)?(t=y._uint8ArrayToBuffer(t),n=""):null!=t&&(s=new R("chunk",["string","Buffer","Uint8Array"],t))),s)M(e,s);else if(null===t)r.state&=-9,function(e,t){if(S("onEofChunk"),!t.ended){if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?Q(e):(t.needReadable=!1,t.emittedReadable=!0,ee(e))}}(e,r);else if(r.state&$||t&&t.length>0)if(i)if(4&r.state)M(e,new F);else{if(r.destroyed||r.errored)return!1;Z(e,r,t,!0)}else if(r.ended)M(e,new O);else{if(r.destroyed||r.errored)return!1;r.state&=-9,r.decoder&&!n?(t=r.decoder.write(t),r.objectMode||0!==t.length?Z(e,r,t,!1):te(e,r)):Z(e,r,t,!1)}else i||(r.state&=-9,te(e,r));return!r.ended&&(r.length<r.highWaterMark||0===r.length)}function Z(e,t,n,i){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.state&G?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.state&H&&Q(e)),te(e,t)}function X(e,t){return e<=0||0===t.length&&t.ended?0:t.state&$?1:o(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function Q(e){const t=e._readableState;S("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(S("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(ee,e))}function ee(e){const t=e._readableState;S("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,oe(e)}function te(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(ne,e,t))}function ne(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const n=t.length;if(S("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function ie(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function re(e){S("readable nexttick read 0"),e.read(0)}function se(e,t){S("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),oe(e),t.flowing&&!t.reading&&e.read(0)}function oe(e){const t=e._readableState;for(S("flow",t.flowing);t.flowing&&null!==e.read(););}function ae(e,t){"function"!=typeof e.read&&(e=Y.wrap(e,{objectMode:!0}));const n=async function*(e,t){let n,i=j;function r(t){this===e?(i(),i=j):i=t}e.on("readable",r);const s=_(e,{writable:!1},(e=>{n=e?k(n,e):null,i(),i=j}));try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(n)throw n;if(null===n)return;await new h(r)}}}catch(e){throw n=k(n,e),n}finally{!n&&!1===(null==t?void 0:t.destroyOnReturn)||void 0!==n&&!e._readableState.autoDestroy?(e.off("readable",r),s()):x.destroyer(e,null)}}(e,t);return n.stream=e,n}function ce(e,t){if(0===t.length)return null;let n;return t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n}function ue(e){const t=e._readableState;S("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(le,t,e))}function le(e,t){if(S("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(he,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function he(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let pe;function de(){return void 0===pe&&(pe={}),pe}c(K.prototype,{objectMode:V($),ended:V(2),endEmitted:V(4),reading:V(8),constructed:V(q),sync:V(U),needReadable:V(H),emittedReadable:V(128),readableListening:V(256),resumeScheduled:V(512),errorEmitted:V(1024),emitClose:V(W),autoDestroy:V(z),destroyed:V(8192),closed:V(16384),closeEmitted:V(32768),multiAwaitDrain:V(G),readingMore:V(1<<17),dataEmitted:V(1<<18)}),Y.prototype.destroy=x.destroy,Y.prototype._undestroy=x.undestroy,Y.prototype._destroy=function(e,t){t(e)},Y.prototype[g.captureRejectionSymbol]=function(e){this.destroy(e)},Y.prototype[d]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new P,this.destroy(e)),new h(((t,n)=>_(this,(i=>i&&i!==e?n(i):t(null)))))},Y.prototype.push=function(e,t){return J(this,e,t,!1)},Y.prototype.unshift=function(e,t){return J(this,e,t,!0)},Y.prototype.isPaused=function(){const e=this._readableState;return!0===e[L]||!1===e.flowing},Y.prototype.setEncoding=function(e){const t=new N(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const n=this._readableState.buffer;let i="";for(const e of n)i+=t.write(e);return n.clear(),""!==i&&n.push(i),this._readableState.length=i.length,this},Y.prototype.read=function(e){S("read",e),void 0===e?e=NaN:s(e)||(e=a(e,10));const t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new T("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return S("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?ue(this):Q(this),null;if(0===(e=X(e,t))&&t.ended)return 0===t.length&&ue(this),null;let i,r=!!(t.state&H);if(S("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,S("length less than watermark",r)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)r=!1,S("reading, ended or constructing",r);else if(r){S("do read"),t.state|=8|U,0===t.length&&(t.state|=H);try{this._read(t.highWaterMark)}catch(e){M(this,e)}t.state&=~U,t.reading||(e=X(n,t))}return i=e>0?ce(e,t):null,null===i?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&ue(this)),null===i||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",i)),i},Y.prototype._read=function(e){throw new A("_read()")},Y.prototype.pipe=function(e,t){const n=this,r=this._readableState;1===r.pipes.length&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new p(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(e),S("pipe count=%d opts=%j",r.pipes.length,t);const s=t&&!1===t.end||e===i.stdout||e===i.stderr?m:o;function o(){S("onend"),e.end()}let a;r.endEmitted?i.nextTick(s):n.once("end",s),e.on("unpipe",(function t(i,s){S("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,S("cleanup"),e.removeListener("close",d),e.removeListener("finish",f),a&&e.removeListener("drain",a),e.removeListener("error",h),e.removeListener("unpipe",t),n.removeListener("end",o),n.removeListener("end",m),n.removeListener("data",l),c=!0,a&&r.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&a())}));let c=!1;function u(){c||(1===r.pipes.length&&r.pipes[0]===e?(S("false write response, pause",0),r.awaitDrainWriters=e,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(e)&&(S("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(e)),n.pause()),a||(a=function(e,t){return function(){const n=e._readableState;n.awaitDrainWriters===t?(S("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(S("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",a))}function l(t){S("ondata");const n=e.write(t);S("dest.write",n),!1===n&&u()}function h(t){if(S("onerror",t),m(),e.removeListener("error",h),0===e.listenerCount("error")){const n=e._writableState||e._readableState;n&&!n.errorEmitted?M(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",f),m()}function f(){S("onfinish"),e.removeListener("close",d),m()}function m(){S("unpipe"),n.unpipe(e)}return n.on("data",l),b(e,"error",h),e.once("close",d),e.once("finish",f),e.emit("pipe",n),!0===e.writableNeedDrain?u():r.flowing||(S("pipe resume"),n.resume()),e},Y.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const n=r(t.pipes,e);return-1===n||(t.pipes.splice(n,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},Y.prototype.on=function(e,t){const n=y.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,S("on readable",r.length,r.reading),r.length?Q(this):r.reading||i.nextTick(re,this))),n},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(e,t){const n=y.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(ie,this),n},Y.prototype.off=Y.prototype.removeListener,Y.prototype.removeAllListeners=function(e){const t=y.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(ie,this),t},Y.prototype.resume=function(){const e=this._readableState;return e.flowing||(S("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(se,e,t))}(this,e)),e[L]=!1,this},Y.prototype.pause=function(){return S("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(S("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},Y.prototype.wrap=function(e){let t=!1;e.on("data",(n=>{!this.push(n)&&e.pause&&(t=!0,e.pause())})),e.on("end",(()=>{this.push(null)})),e.on("error",(e=>{M(this,e)})),e.on("close",(()=>{this.destroy()})),e.on("destroy",(()=>{this.destroy()})),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const n=u(e);for(let t=1;t<n.length;t++){const i=n[t];void 0===this[i]&&"function"==typeof e[i]&&(this[i]=e[i].bind(e))}return this},Y.prototype[f]=function(){return ae(this)},Y.prototype.iterator=function(e){return void 0!==e&&I(e,"options"),ae(this,e)},c(Y.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!(!e||!1===e.readable||e.destroyed||e.errorEmitted||e.endEmitted)},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),Y._fromList=ce,Y.from=function(e,t){return B(Y,e,t)},Y.fromWeb=function(e,t){return de().newStreamReadableFromReadableStream(e,t)},Y.toWeb=function(e,t){return de().newReadableStreamFromStreamReadable(e,t)},Y.wrap=function(e,t){var n,i;return new Y({objectMode:null===(n=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===n||n,...t,destroy(t,n){x.destroyer(e,t),n(t)}}).wrap(e)}},65291:(e,t,n)=>{"use strict";const{MathFloor:i,NumberIsInteger:r}=n(24134),{validateInteger:s}=n(277),{ERR_INVALID_ARG_VALUE:o}=n(76371).codes;let a=16384,c=16;function u(e){return e?c:a}e.exports={getHighWaterMark:function(e,t,n,s){const a=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,s,n);if(null!=a){if(!r(a)||a<0)throw new o(s?`options.${n}`:"options.highWaterMark",a);return i(a)}return u(e.objectMode)},getDefaultHighWaterMark:u,setDefaultHighWaterMark:function(e,t){s(t,"value",0),e?c=t:a=t}}},17382:(e,t,n)=>{"use strict";const{ObjectSetPrototypeOf:i,Symbol:r}=n(24134);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:s}=n(76371).codes,o=n(93370),{getHighWaterMark:a}=n(65291);i(u.prototype,o.prototype),i(u,o);const c=r("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),o.call(this,e),this._readableState.sync=!1,this[c]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function l(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush(((t,n)=>{t?e?e(t):this.destroy(t):(null!=n&&this.push(n),this.push(null),e&&e())}))}function h(){this._final!==l&&l.call(this)}u.prototype._final=l,u.prototype._transform=function(e,t,n){throw new s("_transform()")},u.prototype._write=function(e,t,n){const i=this._readableState,r=this._writableState,s=i.length;this._transform(e,t,((e,t)=>{e?n(e):(null!=t&&this.push(t),r.ended||s===i.length||i.length<i.highWaterMark?n():this[c]=n)}))},u.prototype._read=function(){if(this[c]){const e=this[c];this[c]=null,e()}}},16115:(e,t,n)=>{"use strict";const{SymbolAsyncIterator:i,SymbolIterator:r,SymbolFor:s}=n(24134),o=s("nodejs.stream.destroyed"),a=s("nodejs.stream.errored"),c=s("nodejs.stream.readable"),u=s("nodejs.stream.writable"),l=s("nodejs.stream.disturbed"),h=s("nodejs.webstream.isClosedPromise"),p=s("nodejs.webstream.controllerErrorFunction");function d(e,t=!1){var n;return!(!e||"function"!=typeof e.pipe||"function"!=typeof e.on||t&&("function"!=typeof e.pause||"function"!=typeof e.resume)||e._writableState&&!1===(null===(n=e._readableState)||void 0===n?void 0:n.readable)||e._writableState&&!e._readableState)}function f(e){var t;return!(!e||"function"!=typeof e.write||"function"!=typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!(!e||m(e)||"function"!=typeof e.pipeThrough||"function"!=typeof e.getReader||"function"!=typeof e.cancel)}function y(e){return!(!e||m(e)||"function"!=typeof e.getWriter||"function"!=typeof e.abort)}function b(e){return!(!e||m(e)||"object"!=typeof e.readable||"object"!=typeof e.writable)}function v(e){if(!m(e))return null;const t=e._writableState,n=e._readableState,i=t||n;return!!(e.destroyed||e[o]||null!=i&&i.destroyed)}function w(e){if(!f(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function _(e,t){if(!d(e))return null;const n=e._readableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function S(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!v(e)&&d(e)&&e.readable&&!_(e)}function E(e){return e&&null!=e[u]?e[u]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!v(e)&&f(e)&&e.writable&&!w(e)}function x(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function D(e){return"boolean"==typeof e._sent100&&x(e)}e.exports={isDestroyed:v,kIsDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[l])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:l,isErrored:function(e){var t,n,i,r,s,o,c,u,l,h;return!(!e||!(null!==(t=null!==(n=null!==(i=null!==(r=null!==(s=null!==(o=e[a])&&void 0!==o?o:e.readableErrored)&&void 0!==s?s:e.writableErrored)&&void 0!==r?r:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==i?i:null===(u=e._writableState)||void 0===u?void 0:u.errorEmitted)&&void 0!==n?n:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(h=e._writableState)||void 0===h?void 0:h.errored))},kIsErrored:a,isReadable:S,kIsReadable:c,kIsClosedPromise:h,kControllerErrorFunction:p,kIsWritable:u,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;const t=e._writableState,n=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==n?void 0:n.closed)?(null==t?void 0:t.closed)||(null==n?void 0:n.closed):"boolean"==typeof e._closed&&x(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!=typeof e.pipe||!e._readableState||"function"!=typeof e.on||"function"!=typeof e.write)},isFinished:function(e,t){return m(e)?!(!v(e)&&(!1!==(null==t?void 0:t.readable)&&S(e)||!1!==(null==t?void 0:t.writable)&&E(e))):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[i]:!1===t?"function"==typeof e[r]:"function"==typeof e[i]||"function"==typeof e[r])},isReadableNodeStream:d,isReadableStream:g,isReadableEnded:function(e){if(!d(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:_,isReadableErrored:function(e){var t,n;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return g(e)||y(e)||b(e)},isWritable:E,isWritableNodeStream:f,isWritableStream:y,isWritableEnded:w,isWritableFinished:function(e,t){if(!f(e))return null;if(!0===e.writableFinished)return!0;const n=e._writableState;return(null==n||!n.errored)&&("boolean"!=typeof(null==n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:D,willEmitClose:function(e){if(!m(e))return null;const t=e._writableState,n=e._readableState,i=t||n;return!i&&D(e)||!!(i&&i.autoDestroy&&i.emitClose&&!1===i.closed)},isTransformStream:b}},78584:(e,t,n)=>{const i=n(54422),{ArrayPrototypeSlice:r,Error:s,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:a,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:l,Symbol:h,SymbolHasInstance:p}=n(24134);e.exports=I,I.WritableState=F;const{EventEmitter:d}=n(24434),f=n(94259).Stream,{Buffer:m}=n(20181),g=n(75896),{addAbortSignal:y}=n(4147),{getHighWaterMark:b,getDefaultHighWaterMark:v}=n(65291),{ERR_INVALID_ARG_TYPE:w,ERR_METHOD_NOT_IMPLEMENTED:_,ERR_MULTIPLE_CALLBACK:S,ERR_STREAM_CANNOT_PIPE:E,ERR_STREAM_DESTROYED:x,ERR_STREAM_ALREADY_FINISHED:D,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:k,ERR_UNKNOWN_ENCODING:R}=n(76371).codes,{errorOrDestroy:A}=g;function T(){}u(I.prototype,f.prototype),u(I,f);const O=h("kOnFinished");function F(e,t,i){"boolean"!=typeof i&&(i=t instanceof n(93370)),this.objectMode=!(!e||!e.objectMode),i&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?b(this,e,"writableHighWaterMark",i):v(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const r=!(!e||!1!==e.decodeStrings);this.decodeStrings=!r,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=j.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,P(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[O]=[]}function P(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function I(e){const t=this instanceof n(93370);if(!t&&!o(I,this))return new I(e);this._writableState=new F(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&y(e.signal,this)),f.call(this,e),g.construct(this,(()=>{const e=this._writableState;e.writing||U(this,e),W(this,e)}))}function L(e,t,n,r){const s=e._writableState;if("function"==typeof n)r=n,n=s.defaultEncoding;else{if(n){if("buffer"!==n&&!m.isEncoding(n))throw new R(n)}else n=s.defaultEncoding;"function"!=typeof r&&(r=T)}if(null===t)throw new C;if(!s.objectMode)if("string"==typeof t)!1!==s.decodeStrings&&(t=m.from(t,n),n="buffer");else if(t instanceof m)n="buffer";else{if(!f._isUint8Array(t))throw new w("chunk",["string","Buffer","Uint8Array"],t);t=f._uint8ArrayToBuffer(t),n="buffer"}let o;return s.ending?o=new k:s.destroyed&&(o=new x("write")),o?(i.nextTick(r,o),A(e,o,!0),o):(s.pendingcb++,function(e,t,n,i,r){const s=t.objectMode?1:n.length;t.length+=s;const o=t.length<t.highWaterMark;return o||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:i,callback:r}),t.allBuffers&&"buffer"!==i&&(t.allBuffers=!1),t.allNoop&&r!==T&&(t.allNoop=!1)):(t.writelen=s,t.writecb=r,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1),o&&!t.errored&&!t.destroyed}(e,s,t,n,r))}function N(e,t,n,i,r,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new x("write")):n?e._writev(r,t.onwrite):e._write(r,s,t.onwrite),t.sync=!1}function B(e,t,n,i){--t.pendingcb,i(n),q(t),A(e,n)}function j(e,t){const n=e._writableState,r=n.sync,s=n.writecb;"function"==typeof s?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),r?i.nextTick(B,e,n,t,s):B(e,n,t,s)):(n.buffered.length>n.bufferedIndex&&U(e,n),r?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===s?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:s,stream:e,state:n},i.nextTick(M,n.afterWriteTickInfo)):$(e,n,1,s))):A(e,new S)}function M({stream:e,state:t,count:n,cb:i}){return t.afterWriteTickInfo=null,$(e,t,n,i)}function $(e,t,n,i){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,i();t.destroyed&&q(t),W(e,t)}function q(e){if(e.writing)return;for(let n=e.bufferedIndex;n<e.buffered.length;++n){var t;const{chunk:i,callback:r}=e.buffered[n],s=e.objectMode?1:i.length;e.length-=s,r(null!==(t=e.errored)&&void 0!==t?t:new x("write"))}const n=e[O].splice(0);for(let t=0;t<n.length;t++){var i;n[t](null!==(i=e.errored)&&void 0!==i?i:new x("end"))}P(e)}function U(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:n,bufferedIndex:i,objectMode:s}=t,o=n.length-i;if(!o)return;let a=i;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;const i=t.allNoop?T:e=>{for(let t=a;t<n.length;++t)n[t].callback(e)},s=t.allNoop&&0===a?n:r(n,a);s.allBuffers=t.allBuffers,N(e,t,!0,t.length,s,"",i),P(t)}else{do{const{chunk:i,encoding:r,callback:o}=n[a];n[a++]=null,N(e,t,!1,s?1:i.length,i,r,o)}while(a<n.length&&!t.writing);a===n.length?P(t):a>256?(n.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function H(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function W(e,t,n){H(t)&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let n=!1;function r(r){if(n)A(e,null!=r?r:S());else if(n=!0,t.pendingcb--,r){const n=t[O].splice(0);for(let e=0;e<n.length;e++)n[e](r);A(e,r,t.sync)}else H(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(r)}catch(e){r(e)}t.sync=!1}(e,t)))}(e,t),0===t.pendingcb&&(n?(t.pendingcb++,i.nextTick(((e,t)=>{H(t)?z(e,t):t.pendingcb--}),e,t)):H(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;const n=t[O].splice(0);for(let e=0;e<n.length;e++)n[e]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}F.prototype.getBuffer=function(){return r(this.buffered,this.bufferedIndex)},a(F.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),a(I,p,{__proto__:null,value:function(e){return!!o(this,e)||this===I&&e&&e._writableState instanceof F}}),I.prototype.pipe=function(){A(this,new E)},I.prototype.write=function(e,t,n){return!0===L(this,e,t,n)},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||U(this,e))},I.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=l(e)),!m.isEncoding(e))throw new R(e);return this._writableState.defaultEncoding=e,this},I.prototype._write=function(e,t,n){if(!this._writev)throw new _("_write()");this._writev([{chunk:e,encoding:t}],n)},I.prototype._writev=null,I.prototype.end=function(e,t,n){const r=this._writableState;let o;if("function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e){const n=L(this,e,t);n instanceof s&&(o=n)}return r.corked&&(r.corked=1,this.uncork()),o||(r.errored||r.ending?r.finished?o=new D("end"):r.destroyed&&(o=new x("end")):(r.ending=!0,W(this,r,!0),r.ended=!0)),"function"==typeof n&&(o||r.finished?i.nextTick(n,o):r[O].push(n)),this},c(I.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!(!e||!1===e.writable||e.destroyed||e.errored||e.ending||e.ended)},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const G=g.destroy;let V;function K(){return void 0===V&&(V={}),V}I.prototype.destroy=function(e,t){const n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[O].length)&&i.nextTick(q,n),G.call(this,e,t),this},I.prototype._undestroy=g.undestroy,I.prototype._destroy=function(e,t){t(e)},I.prototype[d.captureRejectionSymbol]=function(e){this.destroy(e)},I.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},I.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)}},277:(e,t,n)=>{"use strict";const{ArrayIsArray:i,ArrayPrototypeIncludes:r,ArrayPrototypeJoin:s,ArrayPrototypeMap:o,NumberIsInteger:a,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:u,NumberMIN_SAFE_INTEGER:l,NumberParseInt:h,ObjectPrototypeHasOwnProperty:p,RegExpPrototypeExec:d,String:f,StringPrototypeToUpperCase:m,StringPrototypeTrim:g}=n(24134),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:v,ERR_INVALID_ARG_VALUE:w,ERR_OUT_OF_RANGE:_,ERR_UNKNOWN_SIGNAL:S}}=n(76371),{normalizeEncoding:E}=n(57760),{isAsyncFunction:x,isArrayBufferView:D}=n(57760).types,C={},k=/^[0-7]+$/,R=y(((e,t,n=l,i=u)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)})),A=y(((e,t,n=-2147483648,i=2147483647)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!a(e))throw new _(t,"an integer",e);if(e<n||e>i)throw new _(t,`>= ${n} && <= ${i}`,e)})),T=y(((e,t,n=!1)=>{if("number"!=typeof e)throw new v(t,"number",e);if(!a(e))throw new _(t,"an integer",e);const i=n?1:0,r=4294967295;if(e<i||e>r)throw new _(t,`>= ${i} && <= ${r}`,e)}));function O(e,t){if("string"!=typeof e)throw new v(t,"string",e)}const F=y(((e,t,n)=>{if(!r(n,e)){const i=s(o(n,(e=>"string"==typeof e?`'${e}'`:f(e))),", ");throw new w(t,e,"must be one of: "+i)}}));function P(e,t){if("boolean"!=typeof e)throw new v(t,"boolean",e)}function I(e,t,n){return null!=e&&p(e,t)?e[t]:n}const L=y(((e,t,n=null)=>{const r=I(n,"allowArray",!1),s=I(n,"allowFunction",!1);if(!I(n,"nullable",!1)&&null===e||!r&&i(e)||"object"!=typeof e&&(!s||"function"!=typeof e))throw new v(t,"Object",e)})),N=y(((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new v(t,"a dictionary",e)})),B=y(((e,t,n=0)=>{if(!i(e))throw new v(t,"Array",e);if(e.length<n)throw new w(t,e,`must be longer than ${n}`)})),j=y(((e,t="buffer")=>{if(!D(e))throw new v(t,["Buffer","TypedArray","DataView"],e)})),M=y(((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new v(t,"AbortSignal",e)})),$=y(((e,t)=>{if("function"!=typeof e)throw new v(t,"Function",e)})),q=y(((e,t)=>{if("function"!=typeof e||x(e))throw new v(t,"Function",e)})),U=y(((e,t)=>{if(void 0!==e)throw new v(t,"undefined",e)})),H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function W(e,t){if(void 0===e||!d(H,e))throw new w(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if(void 0===e&&(e=n),"string"==typeof e){if(null===d(k,e))throw new w(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return T(e,t),e},validateArray:B,validateStringArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++)O(e[n],`${t}[${n}]`)},validateBooleanArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++)P(e[n],`${t}[${n}]`)},validateAbortSignalArray:function(e,t){B(e,t);for(let n=0;n<e.length;n++){const i=e[n],r=`${t}[${n}]`;if(null==i)throw new v(r,"AbortSignal",i);M(i,r)}},validateBoolean:P,validateBuffer:j,validateDictionary:N,validateEncoding:function(e,t){const n=E(t),i=e.length;if("hex"===n&&i%2!=0)throw new w("encoding",t,`is invalid for data of length ${i}`)},validateFunction:$,validateInt32:A,validateInteger:R,validateNumber:function(e,t,n=void 0,i){if("number"!=typeof e)throw new v(t,"number",e);if(null!=n&&e<n||null!=i&&e>i||(null!=n||null!=i)&&c(e))throw new _(t,`${null!=n?`>= ${n}`:""}${null!=n&&null!=i?" && ":""}${null!=i?`<= ${i}`:""}`,e)},validateObject:L,validateOneOf:F,validatePlainFunction:q,validatePort:function(e,t="Port",n=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!n)throw new b(t,e,n);return 0|e},validateSignalName:function(e,t="signal"){if(O(e,t),void 0===C[e]){if(void 0!==C[m(e)])throw new S(e+" (signals must use all capital letters)");throw new S(e)}},validateString:O,validateUint32:T,validateUndefined:U,validateUnion:function(e,t,n){if(!r(n,e))throw new v(t,`('${s(n,"|")}')`,e)},validateAbortSignal:M,validateLinkHeaderValue:function(e){if("string"==typeof e)return W(e,"hints"),e;if(i(e)){const t=e.length;let n="";if(0===t)return n;for(let i=0;i<t;i++){const r=e[i];W(r,"hints"),n+=r,i!==t-1&&(n+=", ")}return n}throw new w("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},76371:(e,t,n)=>{"use strict";const{format:i,inspect:r,AggregateError:s}=n(57760),o=globalThis.AggregateError||s,a=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],u=/^([A-Z][a-z0-9]*)+$/,l={};function h(e,t){if(!e)throw new l.ERR_INTERNAL_ASSERTION(t)}function p(e){let t="",n=e.length;const i="-"===e[0]?1:0;for(;n>=i+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function d(e,t,n){n||(n=Error);class r extends n{constructor(...n){super(function(e,t,n){if("function"==typeof t)return h(t.length<=n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${t.length}).`),t(...n);const r=(t.match(/%[dfijoOs]/g)||[]).length;return h(r===n.length,`Code: ${e}; The provided arguments length (${n.length}) does not match the required ones (${r}).`),0===n.length?t:i(t,...n)}(e,t,n))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[a]=!0,l[e]=r}function f(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t=void 0){if(void 0!==t&&"object"!=typeof t)throw new l.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",((e,t,n)=>{h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let i="The ";e.endsWith(" argument")?i+=`${e} `:i+=`"${e}" ${e.includes(".")?"property":"argument"} `,i+="must be ";const s=[],o=[],a=[];for(const e of t)h("string"==typeof e,"All expected entries have to be of type string"),c.includes(e)?s.push(e.toLowerCase()):u.test(e)?o.push(e):(h("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(o.length>0){const e=s.indexOf("object");-1!==e&&(s.splice(s,e,1),o.push("Object"))}if(s.length>0){switch(s.length){case 1:i+=`of type ${s[0]}`;break;case 2:i+=`one of type ${s[0]} or ${s[1]}`;break;default:{const e=s.pop();i+=`one of type ${s.join(", ")}, or ${e}`}}(o.length>0||a.length>0)&&(i+=" or ")}if(o.length>0){switch(o.length){case 1:i+=`an instance of ${o[0]}`;break;case 2:i+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const e=o.pop();i+=`an instance of ${o.join(", ")}, or ${e}`}}a.length>0&&(i+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(i+="an "),i+=`${a[0]}`;break;case 2:i+=`one of ${a[0]} or ${a[1]}`;break;default:{const e=a.pop();i+=`one of ${a.join(", ")}, or ${e}`}}if(null==n)i+=`. Received ${n}`;else if("function"==typeof n&&n.name)i+=`. Received function ${n.name}`;else if("object"==typeof n){var l;null!==(l=n.constructor)&&void 0!==l&&l.name?i+=`. Received an instance of ${n.constructor.name}`:i+=`. Received ${r(n,{depth:-1})}`}else{let e=r(n,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),i+=`. Received type ${typeof n} (${e})`}return i}),TypeError),d("ERR_INVALID_ARG_VALUE",((e,t,n="is invalid")=>{let i=r(t);return i.length>128&&(i=i.slice(0,128)+"..."),`The ${e.includes(".")?"property":"argument"} '${e}' ${n}. Received ${i}`}),TypeError),d("ERR_INVALID_RETURN_VALUE",((e,t,n)=>{var i;return`Expected ${e} to be returned from the "${t}" function but got ${null!=n&&null!==(i=n.constructor)&&void 0!==i&&i.name?`instance of ${n.constructor.name}`:"type "+typeof n}.`}),TypeError),d("ERR_MISSING_ARGS",((...e)=>{let t;h(e.length>0,"At least one arg needs to be specified");const n=e.length;switch(e=(Array.isArray(e)?e:[e]).map((e=>`"${e}"`)).join(" or "),n){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{const n=e.pop();t+=`The ${e.join(", ")}, and ${n} arguments`}}return`${t} must be specified`}),TypeError),d("ERR_OUT_OF_RANGE",((e,t,n)=>{let i;return h(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>2**32?i=p(String(n)):"bigint"==typeof n?(i=String(n),(n>2n**32n||n<-(2n**32n))&&(i=p(i)),i+="n"):i=r(n),`The value of "${e}" is out of range. It must be ${t}. Received ${i}`}),RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:f((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const n=new o([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:f,codes:l}},34478:(e,t,n)=>{"use strict";const i=n(2203);if(i&&"disable"===process.env.READABLE_STREAM){const t=i.promises;e.exports._uint8ArrayToBuffer=i._uint8ArrayToBuffer,e.exports._isUint8Array=i._isUint8Array,e.exports.isDisturbed=i.isDisturbed,e.exports.isErrored=i.isErrored,e.exports.isReadable=i.isReadable,e.exports.Readable=i.Readable,e.exports.Writable=i.Writable,e.exports.Duplex=i.Duplex,e.exports.Transform=i.Transform,e.exports.PassThrough=i.PassThrough,e.exports.addAbortSignal=i.addAbortSignal,e.exports.finished=i.finished,e.exports.destroy=i.destroy,e.exports.pipeline=i.pipeline,e.exports.compose=i.compose,Object.defineProperty(i,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=i.Stream}else{const t=n(85506),i=n(43095),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=t.Stream}e.exports.default=e.exports},24134:e=>{"use strict";e.exports={ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,n)=>e.slice(t,n),Error,FunctionPrototypeCall:(e,t,...n)=>e.call(t,...n),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,n)=>Object.defineProperty(e,t,n),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,n)=>e.then(t,n),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,n)=>e.slice(t,n),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,n)=>e.set(t,n),Boolean,Uint8Array}},57760:(e,t,n)=>{"use strict";const i=n(20181),{kResistStopPropagation:r,SymbolDispose:s}=n(24134),o=globalThis.AbortSignal||n(66584).AbortSignal,a=globalThis.AbortController||n(66584).AbortController,c=Object.getPrototypeOf((async function(){})).constructor,u=globalThis.Blob||i.Blob,l=void 0!==u?function(e){return e instanceof u}:function(e){return!1},h=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new ERR_INVALID_ARG_TYPE(t,"AbortSignal",e)};class p extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got "+typeof e);let t="";for(let n=0;n<e.length;n++)t+=`    ${e[n].stack}\n`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...n){t||(t=!0,e.apply(this,n))}},createDeferredPromise:function(){let e,t;return{promise:new Promise(((n,i)=>{e=n,t=i})),resolve:e,reject:t}},promisify:e=>new Promise(((t,n)=>{e(((e,...i)=>e?n(e):t(...i)))})),debuglog:()=>function(){},format:(e,...t)=>e.replace(/%([sdifj])/g,(function(...[e,n]){const i=t.shift();return"f"===n?i.toFixed(6):"j"===n?JSON.stringify(i):"s"===n&&"object"==typeof i?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:e=>e instanceof c,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:l,deprecate:(e,t)=>e,addAbortListener:n(24434).addAbortListener||function(e,t){if(void 0===e)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);let n;return h(e,"signal"),(e=>{if("function"!=typeof e)throw new ERR_INVALID_ARG_TYPE("listener","Function",e)})(t),e.aborted?queueMicrotask((()=>t())):(e.addEventListener("abort",t,{__proto__:null,once:!0,[r]:!0}),n=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[s](){var e;null===(e=n)||void 0===e||e()}}},AbortSignalAny:o.any||function(e){if(1===e.length)return e[0];const t=new a,n=()=>t.abort();return e.forEach((e=>{h(e,"signals"),e.addEventListener("abort",n,{once:!0})})),t.signal.addEventListener("abort",(()=>{e.forEach((e=>e.removeEventListener("abort",n)))}),{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},85506:(e,t,n)=>{const{Buffer:i}=n(20181),{ObjectDefineProperty:r,ObjectKeys:s,ReflectApply:o}=n(24134),{promisify:{custom:a}}=n(57760),{streamReturningOperators:c,promiseReturningOperators:u}=n(60823),{codes:{ERR_ILLEGAL_CONSTRUCTOR:l}}=n(76371),h=n(47830),{setDefaultHighWaterMark:p,getDefaultHighWaterMark:d}=n(65291),{pipeline:f}=n(57758),{destroyer:m}=n(75896),g=n(86238),y=n(43095),b=n(16115),v=e.exports=n(94259).Stream;v.isDestroyed=b.isDestroyed,v.isDisturbed=b.isDisturbed,v.isErrored=b.isErrored,v.isReadable=b.isReadable,v.isWritable=b.isWritable,v.Readable=n(57576);for(const S of s(c)){const E=c[S];function w(...e){if(new.target)throw l();return v.Readable.from(o(E,this,e))}r(w,"name",{__proto__:null,value:E.name}),r(w,"length",{__proto__:null,value:E.length}),r(v.Readable.prototype,S,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}for(const x of s(u)){const D=u[x];function w(...e){if(new.target)throw l();return o(D,this,e)}r(w,"name",{__proto__:null,value:D.name}),r(w,"length",{__proto__:null,value:D.length}),r(v.Readable.prototype,x,{__proto__:null,value:w,enumerable:!1,configurable:!0,writable:!0})}v.Writable=n(78584),v.Duplex=n(93370),v.Transform=n(17382),v.PassThrough=n(86524),v.pipeline=f;const{addAbortSignal:_}=n(4147);v.addAbortSignal=_,v.finished=g,v.destroy=m,v.compose=h,v.setDefaultHighWaterMark=p,v.getDefaultHighWaterMark=d,r(v,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),r(f,a,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),r(g,a,{__proto__:null,enumerable:!0,get:()=>y.finished}),v.Stream=v,v._isUint8Array=function(e){return e instanceof Uint8Array},v._uint8ArrayToBuffer=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}},43095:(e,t,n)=>{"use strict";const{ArrayPrototypePop:i,Promise:r}=n(24134),{isIterable:s,isNodeStream:o,isWebStream:a}=n(16115),{pipelineImpl:c}=n(57758),{finished:u}=n(86238);n(85506),e.exports={finished:u,pipeline:function(...e){return new r(((t,n)=>{let r,u;const l=e[e.length-1];if(l&&"object"==typeof l&&!o(l)&&!s(l)&&!a(l)){const t=i(e);r=t.signal,u=t.end}c(e,((e,i)=>{e?n(e):t(i)}),{signal:r,end:u})}))}}},76965:(e,t,n)=>{e.exports=l;const i=n(79896),{EventEmitter:r}=n(24434),{Minimatch:s}=n(25835),{resolve:o}=n(16928);function a(e,t){return new Promise(((n,r)=>{(t?i.stat:i.lstat)(e,((i,r)=>{i?"ENOENT"===i.code?n(t?a(e,!1):null):n(null):n(r)}))}))}async function*c(e,t,n,r,s,o){let u=await function(e,t){return new Promise(((n,r)=>{i.readdir(e,{withFileTypes:!0},((e,i)=>{if(e)switch(e.code){case"ENOTDIR":t?r(e):n([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":n([]);break;default:r(e)}else n(i)}))}))}(t+e,o);for(const i of u){let o=i.name;void 0===o&&(o=i,r=!0);const u=e+"/"+o,l=u.slice(1),h=t+"/"+l;let p=null;(r||n)&&(p=await a(h,n)),p||void 0===i.name||(p=i),null===p&&(p={isDirectory:()=>!1}),p.isDirectory()?s(l)||(yield{relative:l,absolute:h,stats:p},yield*c(u,t,n,r,s,!1)):yield{relative:l,absolute:h,stats:p}}}class u extends r{constructor(e,t,n){if(super(),"function"==typeof t&&(n=t,t=null),this.options=function(e){return{pattern:e.pattern,dot:!!e.dot,noglobstar:!!e.noglobstar,matchBase:!!e.matchBase,nocase:!!e.nocase,ignore:e.ignore,skip:e.skip,follow:!!e.follow,stat:!!e.stat,nodir:!!e.nodir,mark:!!e.mark,silent:!!e.silent,absolute:!!e.absolute}}(t||{}),this.matchers=[],this.options.pattern){const e=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=e.map((e=>new s(e,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase})))}if(this.ignoreMatchers=[],this.options.ignore){const e=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=e.map((e=>new s(e,{dot:!0})))}if(this.skipMatchers=[],this.options.skip){const e=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=e.map((e=>new s(e,{dot:!0})))}this.iterator=async function*(e,t,n,i){yield*c("",e,t,n,i,!0)}(o(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",(e=>this._matches.push(this.options.absolute?e.absolute:e.relative))),this.on("error",(e=>n(e))),this.on("end",(()=>n(null,this._matches)))),setTimeout((()=>this._next()),0)}_shouldSkipDirectory(e){return this.skipMatchers.some((t=>t.match(e)))}_fileMatches(e,t){const n=e+(t?"/":"");return(0===this.matchers.length||this.matchers.some((e=>e.match(n))))&&!this.ignoreMatchers.some((e=>e.match(n)))&&(!this.options.nodir||!t)}_next(){this.paused||this.aborted?this.inactive=!0:this.iterator.next().then((e=>{if(e.done)this.emit("end");else{const t=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,t)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&t&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}})).catch((e=>{this.abort(),this.emit("error",e),e.code||this.options.silent||console.error(e)}))}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function l(e,t,n){return new u(e,t,n)}l.ReaddirGlob=u},88664:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},25835:(e,t,n)=>{const i=e.exports=(e,t,n={})=>(g(t),!(!n.nocomment&&"#"===t.charAt(0))&&new b(t,n).match(e));e.exports=i;const r=n(88664);i.sep=r.sep;const s=Symbol("globstar **");i.GLOBSTAR=s;const o=n(68928),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",u=c+"*?",l=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),h=l("().*{}+?[]^$\\!"),p=l("[.("),d=/\/+/;i.filter=(e,t={})=>(n,r,s)=>i(n,e,t);const f=(e,t={})=>{const n={};return Object.keys(e).forEach((t=>n[t]=e[t])),Object.keys(t).forEach((e=>n[e]=t[e])),n};i.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return i;const t=i,n=(n,i,r)=>t(n,i,f(e,r));return(n.Minimatch=class extends t.Minimatch{constructor(t,n){super(t,f(e,n))}}).defaults=n=>t.defaults(f(e,n)).Minimatch,n.filter=(n,i)=>t.filter(n,f(e,i)),n.defaults=n=>t.defaults(f(e,n)),n.makeRe=(n,i)=>t.makeRe(n,f(e,i)),n.braceExpand=(n,i)=>t.braceExpand(n,f(e,i)),n.match=(n,i,r)=>t.match(n,i,f(e,r)),n},i.braceExpand=(e,t)=>m(e,t);const m=(e,t={})=>(g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)),g=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},y=Symbol("subparse");i.makeRe=(e,t)=>new b(e,t||{}).makeRe(),i.match=(e,t,n={})=>{const i=new b(t,n);return e=e.filter((e=>i.match(e))),i.options.nonull&&!e.length&&e.push(t),e};class b{constructor(e,t){g(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let n=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,n),n=this.globParts=n.map((e=>e.split(d))),this.debug(this.pattern,n),n=n.map(((e,t,n)=>e.map(this.parse,this))),this.debug(this.pattern,n),n=n.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let i=0;i<e.length&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var r=0,o=0,a=e.length,c=t.length;r<a&&o<c;r++,o++){this.debug("matchOne loop");var u,l=t[o],h=e[r];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=r,d=o+1;if(d===c){for(this.debug("** at the end");r<a;r++)if("."===e[r]||".."===e[r]||!i.dot&&"."===e[r].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(r===a&&o===c)return!0;if(r===a)return n;if(o===c)return r===a-1&&""===e[r];throw new Error("wtf?")}braceExpand(){return m(this.pattern,this.options)}parse(e,t){g(e);const n=this.options;if("**"===e){if(!n.noglobstar)return s;e="*"}if(""===e)return"";let i="",r=!1,o=!1;const l=[],d=[];let f,m,b,v,w=!1,_=-1,S=-1,E="."===e.charAt(0),x=n.dot||E;const D=e=>"."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=()=>{if(f){switch(f){case"*":i+=u,r=!0;break;case"?":i+=c,r=!0;break;default:i+="\\"+f}this.debug("clearStateChar %j %j",f,i),f=!1}};for(let t,s=0;s<e.length&&(t=e.charAt(s));s++)if(this.debug("%s\t%s %s %j",e,s,i,t),o){if("/"===t)return!1;h[t]&&(i+="\\"),i+=t,o=!1}else switch(t){case"/":return!1;case"\\":if(w&&"-"===e.charAt(s+1)){i+=t;continue}C(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,s,i,t),w){this.debug("  in class"),"!"===t&&s===S+1&&(t="^"),i+=t;continue}this.debug("call clearStateChar %j",f),C(),f=t,n.noext&&C();continue;case"(":{if(w){i+="(";continue}if(!f){i+="\\(";continue}const t={type:f,start:s-1,reStart:i.length,open:a[f].open,close:a[f].close};this.debug(this.pattern,"\t",t),l.push(t),i+=t.open,0===t.start&&"!"!==t.type&&(E=!0,i+=D(e.slice(s+1))),this.debug("plType %j %j",f,i),f=!1;continue}case")":{const e=l[l.length-1];if(w||!e){i+="\\)";continue}l.pop(),C(),r=!0,b=e,i+=b.close,"!"===b.type&&d.push(Object.assign(b,{reEnd:i.length}));continue}case"|":{const t=l[l.length-1];if(w||!t){i+="\\|";continue}C(),i+="|",0===t.start&&"!"!==t.type&&(E=!0,i+=D(e.slice(s+1)));continue}case"[":if(C(),w){i+="\\"+t;continue}w=!0,S=s,_=i.length,i+=t;continue;case"]":if(s===S+1||!w){i+="\\"+t;continue}m=e.substring(S+1,s);try{RegExp("["+(m.replace(/\\([^-\]])/g,"$1").replace(/[[\]\\]/g,"\\$&")+"]")),i+=t}catch(e){i=i.substring(0,_)+"(?:$.)"}r=!0,w=!1;continue;default:C(),!h[t]||"^"===t&&w||(i+="\\"),i+=t}for(w&&(m=e.slice(S+1),v=this.parse(m,y),i=i.substring(0,_)+"\\["+v[0],r=r||v[1]),b=l.pop();b;b=l.pop()){let e;e=i.slice(b.reStart+b.open.length),this.debug("setting tail",i,b),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,n)=>(n||(n="\\"),t+t+n+"|"))),this.debug("tail=%j\n   %s",e,e,b,i);const t="*"===b.type?u:"?"===b.type?c:"\\"+b.type;r=!0,i=i.slice(0,b.reStart)+t+"\\("+e}C(),o&&(i+="\\\\");const k=p[i.charAt(0)];for(let e=d.length-1;e>-1;e--){const n=d[e],r=i.slice(0,n.reStart),s=i.slice(n.reStart,n.reEnd-8);let o=i.slice(n.reEnd);const a=i.slice(n.reEnd-8,n.reEnd)+o,c=r.split(")").length,u=r.split("(").length-c;let l=o;for(let e=0;e<u;e++)l=l.replace(/\)[+*?]?/,"");o=l,i=r+s+o+(""===o&&t!==y?"(?:$|\\/)":"")+a}if(""!==i&&r&&(i="(?=.)"+i),k&&(i=(E?"":x?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+i),t===y)return[i,r];if(n.nocase&&!r&&(r=e.toUpperCase()!==e.toLowerCase()),!r)return(e=>e.replace(/\\(.)/g,"$1"))(e);const R=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",R),{_glob:e,_src:i})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"";let r=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===s?s:e._src)).reduce(((e,t)=>(e[e.length-1]===s&&t===s||e.push(t),e)),[]),e.forEach(((t,i)=>{t===s&&e[i-1]!==s&&(0===i?e.length>1?e[i+1]="(?:\\/|"+n+"\\/)?"+e[i+1]:e[i]=n:i===e.length-1?e[i-1]+="(?:\\/|"+n+")?":(e[i-1]+="(?:\\/|\\/"+n+"\\/)"+e[i+1],e[i+1]=s))})),e.filter((e=>e!==s)).join("/")))).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{this.regexp=new RegExp(r,i)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(d),this.debug(this.pattern,"split",e);const i=this.set;let s;this.debug(this.pattern,"set",i);for(let t=e.length-1;t>=0&&(s=e[t],!s);t--);for(let r=0;r<i.length;r++){const o=i[r];let a=e;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return i.defaults(e).Minimatch}}i.Minimatch=b},93904:(e,t,n)=>{const i=Symbol("SemVer ANY");class r{static get ANY(){return i}constructor(e,t){if(t=s(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===i?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=i}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===i||e===i)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=s(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!e.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!e.operator.startsWith("<"))&&(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))&&!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))&&!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}}e.exports=r;const s=n(98587),{safeRe:o,t:a}=n(99718),c=n(72111),u=n(57272),l=n(53908),h=n(78311)},78311:(e,t,n)=>{const i=/\s+/g;class r{constructor(e,t){if(t=o(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(i," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!y(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&b(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,n=s.get(t);if(n)return n;const i=this.options.loose,r=i?l[h.HYPHENRANGELOOSE]:l[h.HYPHENRANGE];e=e.replace(r,T(this.options.includePrerelease)),c("hyphen replace",e),e=e.replace(l[h.COMPARATORTRIM],p),c("comparator trim",e),e=e.replace(l[h.TILDETRIM],d),c("tilde trim",e),e=e.replace(l[h.CARETTRIM],f),c("caret trim",e);let o=e.split(" ").map((e=>w(e,this.options))).join(" ").split(/\s+/).map((e=>A(e,this.options)));i&&(o=o.filter((e=>(c("loose invalid filter",e,this.options),!!e.match(l[h.COMPARATORLOOSE]))))),c("range list",o);const u=new Map,b=o.map((e=>new a(e,this.options)));for(const e of b){if(y(e))return[e];u.set(e.value,e)}u.size>1&&u.has("")&&u.delete("");const v=[...u.values()];return s.set(t,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>v(n,t)&&e.set.some((e=>v(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(O(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const s=new(n(68794)),o=n(98587),a=n(93904),c=n(57272),u=n(53908),{safeRe:l,t:h,comparatorTrimReplace:p,tildeTrimReplace:d,caretTrimReplace:f}=n(99718),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=n(16874),y=e=>"<0.0.0-0"===e.value,b=e=>""===e.value,v=(e,t)=>{let n=!0;const i=e.slice();let r=i.pop();for(;n&&i.length;)n=i.every((e=>r.intersects(e,t))),r=i.pop();return n},w=(e,t)=>(c("comp",e,t),e=x(e,t),c("caret",e),e=S(e,t),c("tildes",e),e=C(e,t),c("xrange",e),e=R(e,t),c("stars",e),e),_=e=>!e||"x"===e.toLowerCase()||"*"===e,S=(e,t)=>e.trim().split(/\s+/).map((e=>E(e,t))).join(" "),E=(e,t)=>{const n=t.loose?l[h.TILDELOOSE]:l[h.TILDE];return e.replace(n,((t,n,i,r,s)=>{let o;return c("tilde",e,t,n,i,r,s),_(n)?o="":_(i)?o=`>=${n}.0.0 <${+n+1}.0.0-0`:_(r)?o=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:s?(c("replaceTilde pr",s),o=`>=${n}.${i}.${r}-${s} <${n}.${+i+1}.0-0`):o=`>=${n}.${i}.${r} <${n}.${+i+1}.0-0`,c("tilde return",o),o}))},x=(e,t)=>e.trim().split(/\s+/).map((e=>D(e,t))).join(" "),D=(e,t)=>{c("caret",e,t);const n=t.loose?l[h.CARETLOOSE]:l[h.CARET],i=t.includePrerelease?"-0":"";return e.replace(n,((t,n,r,s,o)=>{let a;return c("caret",e,t,n,r,s,o),_(n)?a="":_(r)?a=`>=${n}.0.0${i} <${+n+1}.0.0-0`:_(s)?a="0"===n?`>=${n}.${r}.0${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.0${i} <${+n+1}.0.0-0`:o?(c("replaceCaret pr",o),a="0"===n?"0"===r?`>=${n}.${r}.${s}-${o} <${n}.${r}.${+s+1}-0`:`>=${n}.${r}.${s}-${o} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${s}-${o} <${+n+1}.0.0-0`):(c("no pr"),a="0"===n?"0"===r?`>=${n}.${r}.${s}${i} <${n}.${r}.${+s+1}-0`:`>=${n}.${r}.${s}${i} <${n}.${+r+1}.0-0`:`>=${n}.${r}.${s} <${+n+1}.0.0-0`),c("caret return",a),a}))},C=(e,t)=>(c("replaceXRanges",e,t),e.split(/\s+/).map((e=>k(e,t))).join(" ")),k=(e,t)=>{e=e.trim();const n=t.loose?l[h.XRANGELOOSE]:l[h.XRANGE];return e.replace(n,((n,i,r,s,o,a)=>{c("xRange",e,n,i,r,s,o,a);const u=_(r),l=u||_(s),h=l||_(o),p=h;return"="===i&&p&&(i=""),a=t.includePrerelease?"-0":"",u?n=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(l&&(s=0),o=0,">"===i?(i=">=",l?(r=+r+1,s=0,o=0):(s=+s+1,o=0)):"<="===i&&(i="<",l?r=+r+1:s=+s+1),"<"===i&&(a="-0"),n=`${i+r}.${s}.${o}${a}`):l?n=`>=${r}.0.0${a} <${+r+1}.0.0-0`:h&&(n=`>=${r}.${s}.0${a} <${r}.${+s+1}.0-0`),c("xRange return",n),n}))},R=(e,t)=>(c("replaceStars",e,t),e.trim().replace(l[h.STAR],"")),A=(e,t)=>(c("replaceGTE0",e,t),e.trim().replace(l[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),T=e=>(t,n,i,r,s,o,a,c,u,l,h,p)=>`${n=_(i)?"":_(r)?`>=${i}.0.0${e?"-0":""}`:_(s)?`>=${i}.${r}.0${e?"-0":""}`:o?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=_(u)?"":_(l)?`<${+u+1}.0.0-0`:_(h)?`<${u}.${+l+1}.0-0`:p?`<=${u}.${l}.${h}-${p}`:e?`<${u}.${l}.${+h+1}-0`:`<=${c}`}`.trim(),O=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(c(e[n].semver),e[n].semver!==a.ANY&&e[n].semver.prerelease.length>0){const i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}},53908:(e,t,n)=>{const i=n(57272),{MAX_LENGTH:r,MAX_SAFE_INTEGER:s}=n(16874),{safeRe:o,t:a}=n(99718),c=n(98587),{compareIdentifiers:u}=n(61123);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);i("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(i("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],r=e.prerelease[t];if(i("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],r=e.build[t];if(i("build compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let i=[t,e];!1===n&&(i=[t]),0===u(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=l},72111:(e,t,n)=>{const i=n(94641),r=n(13999),s=n(35580),o=n(54089),a=n(7059),c=n(25200);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return i(e,n,u);case"!=":return r(e,n,u);case">":return s(e,n,u);case">=":return o(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},50560:(e,t,n)=>{const i=n(53908);e.exports=(e,t,n)=>new i(e,n).compare(new i(t,n))},94641:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>0===i(e,t,n)},35580:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>i(e,t,n)>0},54089:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>i(e,t,n)>=0},7059:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>i(e,t,n)<0},25200:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>i(e,t,n)<=0},13999:(e,t,n)=>{const i=n(50560);e.exports=(e,t,n)=>0!==i(e,t,n)},30144:(e,t,n)=>{const i=n(53908);e.exports=(e,t,n=!1)=>{if(e instanceof i)return e;try{return new i(e,t)}catch(e){if(!n)return null;throw e}}},97638:(e,t,n)=>{const i=n(78311);e.exports=(e,t,n)=>{try{t=new i(t,n)}catch(e){return!1}return t.test(e)}},16874:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},57272:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},61123:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const i=t.test(e),r=t.test(n);return i&&r&&(e=+e,n=+n),e===n?0:i&&!r?-1:r&&!i?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},68794:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},98587:e=>{const t=Object.freeze({loose:!0}),n=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:n},99718:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:s}=n(16874),o=n(57272),a=(t=e.exports={}).re=[],c=t.safeRe=[],u=t.src=[],l=t.t={};let h=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",s],[p,r]],f=(e,t,n)=>{const i=(e=>{for(const[t,n]of d)e=e.split(`${t}*`).join(`${t}{0,${n}}`).split(`${t}+`).join(`${t}{1,${n}}`);return e})(t),r=h++;o(e,r,t),l[e]=r,u[r]=t,a[r]=new RegExp(t,n?"g":void 0),c[r]=new RegExp(i,n?"g":void 0)};f("NUMERICIDENTIFIER","0|[1-9]\\d*"),f("NUMERICIDENTIFIERLOOSE","\\d+"),f("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),f("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})\\.(${u[l.NUMERICIDENTIFIER]})`),f("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})\\.(${u[l.NUMERICIDENTIFIERLOOSE]})`),f("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`),f("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`),f("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`),f("BUILDIDENTIFIER",`${p}+`),f("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`),f("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`),f("FULL",`^${u[l.FULLPLAIN]}$`),f("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`),f("LOOSE",`^${u[l.LOOSEPLAIN]}$`),f("GTLT","((?:<|>)?=?)"),f("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),f("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`),f("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:\\.(${u[l.XRANGEIDENTIFIER]})(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?)?)?`),f("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?)?)?`),f("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`),f("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`),f("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),f("COERCE",`${u[l.COERCEPLAIN]}(?:$|[^\\d])`),f("COERCEFULL",u[l.COERCEPLAIN]+`(?:${u[l.PRERELEASE]})?`+`(?:${u[l.BUILD]})?(?:$|[^\\d])`),f("COERCERTL",u[l.COERCE],!0),f("COERCERTLFULL",u[l.COERCEFULL],!0),f("LONETILDE","(?:~>?)"),f("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",f("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`),f("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`),f("LONECARET","(?:\\^)"),f("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",f("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`),f("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`),f("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`),f("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`),f("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",f("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})\\s+-\\s+(${u[l.XRANGEPLAIN]})\\s*$`),f("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[l.XRANGEPLAINLOOSE]})\\s*$`),f("STAR","(<|>)?=?\\s*\\*"),f("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),f("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},44893:function(e,t,n){"use strict";var i=this&&this.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.MessageType=void 0;const r=n(99338),s=n(45753),o=n(76982),a=(0,s.debug)("socket.io-adapter"),c=5e3;function u(){return(0,o.randomBytes)(8).toString("hex")}var l;function h(e){return{rooms:[...e.rooms],except:[...e.except],flags:e.flags}}function p(e){return{rooms:new Set(e.rooms),except:new Set(e.except),flags:e.flags}}!function(e){e[e.INITIAL_HEARTBEAT=1]="INITIAL_HEARTBEAT",e[e.HEARTBEAT=2]="HEARTBEAT",e[e.BROADCAST=3]="BROADCAST",e[e.SOCKETS_JOIN=4]="SOCKETS_JOIN",e[e.SOCKETS_LEAVE=5]="SOCKETS_LEAVE",e[e.DISCONNECT_SOCKETS=6]="DISCONNECT_SOCKETS",e[e.FETCH_SOCKETS=7]="FETCH_SOCKETS",e[e.FETCH_SOCKETS_RESPONSE=8]="FETCH_SOCKETS_RESPONSE",e[e.SERVER_SIDE_EMIT=9]="SERVER_SIDE_EMIT",e[e.SERVER_SIDE_EMIT_RESPONSE=10]="SERVER_SIDE_EMIT_RESPONSE",e[e.BROADCAST_CLIENT_COUNT=11]="BROADCAST_CLIENT_COUNT",e[e.BROADCAST_ACK=12]="BROADCAST_ACK",e[e.ADAPTER_CLOSE=13]="ADAPTER_CLOSE"}(l=t.MessageType||(t.MessageType={}));class d extends r.Adapter{constructor(e){super(e),this.requests=new Map,this.ackRequests=new Map,this.uid=u()}onMessage(e,t){if(e.uid===this.uid)return a("[%s] ignore message from self",this.uid);switch(a("[%s] new event of type %d from %s",this.uid,e.type,e.uid),e.type){case l.BROADCAST:if(void 0!==e.data.requestId)super.broadcastWithAck(e.data.packet,p(e.data.opts),(t=>{a("[%s] waiting for %d client acknowledgements",this.uid,t),this.publishResponse(e.uid,{type:l.BROADCAST_CLIENT_COUNT,data:{requestId:e.data.requestId,clientCount:t}})}),(t=>{a("[%s] received acknowledgement with value %j",this.uid,t),this.publishResponse(e.uid,{type:l.BROADCAST_ACK,data:{requestId:e.data.requestId,packet:t}})}));else{const n=e.data.packet,i=p(e.data.opts);this.addOffsetIfNecessary(n,i,t),super.broadcast(n,i)}break;case l.SOCKETS_JOIN:super.addSockets(p(e.data.opts),e.data.rooms);break;case l.SOCKETS_LEAVE:super.delSockets(p(e.data.opts),e.data.rooms);break;case l.DISCONNECT_SOCKETS:super.disconnectSockets(p(e.data.opts),e.data.close);break;case l.FETCH_SOCKETS:a("[%s] calling fetchSockets with opts %j",this.uid,e.data.opts),super.fetchSockets(p(e.data.opts)).then((t=>{this.publishResponse(e.uid,{type:l.FETCH_SOCKETS_RESPONSE,data:{requestId:e.data.requestId,sockets:t.map((e=>{const t=e.handshake,{sessionStore:n}=t,r=i(t,["sessionStore"]);return{id:e.id,handshake:r,rooms:[...e.rooms],data:e.data}}))}})}));break;case l.SERVER_SIDE_EMIT:{const t=e.data.packet;if(void 0===e.data.requestId)return void this.nsp._onServerSideEmit(t);let n=!1;const i=t=>{n||(n=!0,a("[%s] calling acknowledgement with %j",this.uid,t),this.publishResponse(e.uid,{type:l.SERVER_SIDE_EMIT_RESPONSE,data:{requestId:e.data.requestId,packet:t}}))};this.nsp._onServerSideEmit([...t,i]);break}case l.BROADCAST_CLIENT_COUNT:case l.BROADCAST_ACK:case l.FETCH_SOCKETS_RESPONSE:case l.SERVER_SIDE_EMIT_RESPONSE:this.onResponse(e);break;default:a("[%s] unknown message type: %s",this.uid,e.type)}}onResponse(e){var t,n;const i=e.data.requestId;switch(a("[%s] received response %s to request %s",this.uid,e.type,i),e.type){case l.BROADCAST_CLIENT_COUNT:null===(t=this.ackRequests.get(i))||void 0===t||t.clientCountCallback(e.data.clientCount);break;case l.BROADCAST_ACK:null===(n=this.ackRequests.get(i))||void 0===n||n.ack(e.data.packet);break;case l.FETCH_SOCKETS_RESPONSE:{const t=this.requests.get(i);if(!t)return;t.current++,e.data.sockets.forEach((e=>t.responses.push(e))),t.current===t.expected&&(clearTimeout(t.timeout),t.resolve(t.responses),this.requests.delete(i));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const t=this.requests.get(i);if(!t)return;t.current++,t.responses.push(e.data.packet),t.current===t.expected&&(clearTimeout(t.timeout),t.resolve(null,t.responses),this.requests.delete(i));break}default:a("[%s] unknown response type: %s",this.uid,e.type)}}async broadcast(e,t){var n;if(!(null===(n=t.flags)||void 0===n?void 0:n.local))try{const n=await this.publishAndReturnOffset({type:l.BROADCAST,data:{packet:e,opts:h(t)}});this.addOffsetIfNecessary(e,t,n)}catch(e){return a("[%s] error while broadcasting message: %s",this.uid,e.message)}super.broadcast(e,t)}addOffsetIfNecessary(e,t,n){var i;if(!this.nsp.server.opts.connectionStateRecovery)return;const r=2===e.type,s=void 0===e.id,o=void 0===(null===(i=t.flags)||void 0===i?void 0:i.volatile);r&&s&&o&&e.data.push(n)}broadcastWithAck(e,t,n,i){var r;if(!(null===(r=null==t?void 0:t.flags)||void 0===r?void 0:r.local)){const r=u();this.ackRequests.set(r,{clientCountCallback:n,ack:i}),this.publish({type:l.BROADCAST,data:{packet:e,requestId:r,opts:h(t)}}),setTimeout((()=>{this.ackRequests.delete(r)}),t.flags.timeout)}super.broadcastWithAck(e,t,n,i)}async addSockets(e,t){var n;if(!(null===(n=e.flags)||void 0===n?void 0:n.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_JOIN,data:{opts:h(e),rooms:t}})}catch(e){a("[%s] error while publishing message: %s",this.uid,e.message)}super.addSockets(e,t)}async delSockets(e,t){var n;if(!(null===(n=e.flags)||void 0===n?void 0:n.local))try{await this.publishAndReturnOffset({type:l.SOCKETS_LEAVE,data:{opts:h(e),rooms:t}})}catch(e){a("[%s] error while publishing message: %s",this.uid,e.message)}super.delSockets(e,t)}async disconnectSockets(e,t){var n;if(!(null===(n=e.flags)||void 0===n?void 0:n.local))try{await this.publishAndReturnOffset({type:l.DISCONNECT_SOCKETS,data:{opts:h(e),close:t}})}catch(e){a("[%s] error while publishing message: %s",this.uid,e.message)}super.disconnectSockets(e,t)}async fetchSockets(e){var t;const[n,i]=await Promise.all([super.fetchSockets(e),this.serverCount()]),r=i-1;if((null===(t=e.flags)||void 0===t?void 0:t.local)||r<=0)return n;const s=u();return new Promise(((t,i)=>{const o=setTimeout((()=>{const e=this.requests.get(s);e&&(i(new Error(`timeout reached: only ${e.current} responses received out of ${e.expected}`)),this.requests.delete(s))}),e.flags.timeout||c),a={type:l.FETCH_SOCKETS,resolve:t,timeout:o,current:0,expected:r,responses:n};this.requests.set(s,a),this.publish({type:l.FETCH_SOCKETS,data:{opts:h(e),requestId:s}})}))}async serverSideEmit(e){if("function"!=typeof e[e.length-1])return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:e}});const t=e.pop(),n=await this.serverCount()-1;if(a('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,n),n<=0)return t(null,[]);const i=u(),r=setTimeout((()=>{const e=this.requests.get(i);e&&(t(new Error(`timeout reached: only ${e.current} responses received out of ${e.expected}`),e.responses),this.requests.delete(i))}),c),s={type:l.SERVER_SIDE_EMIT,resolve:t,timeout:r,current:0,expected:n,responses:[]};this.requests.set(i,s),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:i,packet:e}})}publish(e){this.publishAndReturnOffset(e).catch((e=>{a("[%s] error while publishing message: %s",this.uid,e)}))}publishAndReturnOffset(e){return e.uid=this.uid,e.nsp=this.nsp.name,this.doPublish(e)}publishResponse(e,t){t.uid=this.uid,t.nsp=this.nsp.name,this.doPublishResponse(e,t).catch((e=>{a("[%s] error while publishing response: %s",this.uid,e)}))}}t.ClusterAdapter=d,t.ClusterAdapterWithHeartbeat=class extends d{constructor(e,t){super(e),this.nodesMap=new Map,this.customRequests=new Map,this._opts=Object.assign({heartbeatInterval:5e3,heartbeatTimeout:1e4},t),this.cleanupTimer=setInterval((()=>{const e=Date.now();this.nodesMap.forEach(((t,n)=>{e-t>this._opts.heartbeatTimeout&&(a("[%s] node %s seems down",this.uid,n),this.removeNode(n))}))}),1e3)}init(){this.publish({type:l.INITIAL_HEARTBEAT})}scheduleHeartbeat(){this.heartbeatTimer?this.heartbeatTimer.refresh():this.heartbeatTimer=setTimeout((()=>{this.publish({type:l.HEARTBEAT})}),this._opts.heartbeatInterval)}close(){this.publish({type:l.ADAPTER_CLOSE}),clearTimeout(this.heartbeatTimer),this.cleanupTimer&&clearInterval(this.cleanupTimer)}onMessage(e,t){if(e.uid===this.uid)return a("[%s] ignore message from self",this.uid);switch(e.uid&&"emitter"!==e.uid&&this.nodesMap.set(e.uid,Date.now()),a("[%s] new event of type %d from %s",this.uid,e.type,e.uid),e.type){case l.INITIAL_HEARTBEAT:this.publish({type:l.HEARTBEAT});break;case l.HEARTBEAT:break;case l.ADAPTER_CLOSE:this.removeNode(e.uid);break;default:super.onMessage(e,t)}}serverCount(){return Promise.resolve(1+this.nodesMap.size)}publish(e){return this.scheduleHeartbeat(),super.publish(e)}async serverSideEmit(e){if("function"!=typeof e[e.length-1])return this.publish({type:l.SERVER_SIDE_EMIT,data:{packet:e}});const t=e.pop(),n=this.nodesMap.size;if(a('[%s] waiting for %d responses to "serverSideEmit" request',this.uid,n),n<=0)return t(null,[]);const i=u(),r=setTimeout((()=>{const e=this.customRequests.get(i);e&&(t(new Error(`timeout reached: missing ${e.missingUids.size} responses`),e.responses),this.customRequests.delete(i))}),c),s={type:l.SERVER_SIDE_EMIT,resolve:t,timeout:r,missingUids:new Set([...this.nodesMap.keys()]),responses:[]};this.customRequests.set(i,s),this.publish({type:l.SERVER_SIDE_EMIT,data:{requestId:i,packet:e}})}async fetchSockets(e){var t;const[n,i]=await Promise.all([super.fetchSockets({rooms:e.rooms,except:e.except,flags:{local:!0}}),this.serverCount()]),r=i-1;if((null===(t=e.flags)||void 0===t?void 0:t.local)||r<=0)return n;const s=u();return new Promise(((t,i)=>{const r=setTimeout((()=>{const e=this.customRequests.get(s);e&&(i(new Error(`timeout reached: missing ${e.missingUids.size} responses`)),this.customRequests.delete(s))}),e.flags.timeout||c),o={type:l.FETCH_SOCKETS,resolve:t,timeout:r,missingUids:new Set([...this.nodesMap.keys()]),responses:n};this.customRequests.set(s,o),this.publish({type:l.FETCH_SOCKETS,data:{opts:h(e),requestId:s}})}))}onResponse(e){const t=e.data.requestId;switch(a("[%s] received response %s to request %s",this.uid,e.type,t),e.type){case l.FETCH_SOCKETS_RESPONSE:{const n=this.customRequests.get(t);if(!n)return;e.data.sockets.forEach((e=>n.responses.push(e))),n.missingUids.delete(e.uid),0===n.missingUids.size&&(clearTimeout(n.timeout),n.resolve(n.responses),this.customRequests.delete(t));break}case l.SERVER_SIDE_EMIT_RESPONSE:{const n=this.customRequests.get(t);if(!n)return;n.responses.push(e.data.packet),n.missingUids.delete(e.uid),0===n.missingUids.size&&(clearTimeout(n.timeout),n.resolve(null,n.responses),this.customRequests.delete(t));break}default:super.onResponse(e)}}removeNode(e){this.customRequests.forEach(((t,n)=>{t.missingUids.delete(e),0===t.missingUids.size&&(clearTimeout(t.timeout),t.type===l.FETCH_SOCKETS?t.resolve(t.responses):t.type===l.SERVER_SIDE_EMIT&&t.resolve(null,t.responses),this.customRequests.delete(n))})),this.nodesMap.delete(e)}}},74233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;const n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i={};let r,s=0,o=0;function a(e){let t="";do{t=n[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}for(t.encode=a,t.decode=function(e){let t=0;for(o=0;o<e.length;o++)t=64*t+i[e.charAt(o)];return t},t.yeast=function(){const e=a(+new Date);return e!==r?(s=0,r=e):e+"."+a(s++)};o<64;o++)i[n[o]]=o},99338:(e,t,n)=>{"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionAwareAdapter=t.Adapter=void 0;const r=n(24434),s=n(74233),o=n(17699),a="function"==typeof(null===(i=null==o?void 0:o.Sender)||void 0===i?void 0:i.frame);class c extends r.EventEmitter{constructor(e){super(),this.nsp=e,this.rooms=new Map,this.sids=new Map,this.encoder=e.server.encoder}init(){}close(){}serverCount(){return Promise.resolve(1)}addAll(e,t){this.sids.has(e)||this.sids.set(e,new Set);for(const n of t)this.sids.get(e).add(n),this.rooms.has(n)||(this.rooms.set(n,new Set),this.emit("create-room",n)),this.rooms.get(n).has(e)||(this.rooms.get(n).add(e),this.emit("join-room",n,e))}del(e,t){this.sids.has(e)&&this.sids.get(e).delete(t),this._del(t,e)}_del(e,t){const n=this.rooms.get(e);null!=n&&(n.delete(t)&&this.emit("leave-room",e,t),0===n.size&&this.rooms.delete(e)&&this.emit("delete-room",e))}delAll(e){if(this.sids.has(e)){for(const t of this.sids.get(e))this._del(t,e);this.sids.delete(e)}}broadcast(e,t){const n=t.flags||{},i={preEncoded:!0,volatile:n.volatile,compress:n.compress};e.nsp=this.nsp.name;const r=this._encode(e,i);this.apply(t,(t=>{"function"==typeof t.notifyOutgoingListeners&&t.notifyOutgoingListeners(e),t.client.writeToEngine(r,i)}))}broadcastWithAck(e,t,n,i){const r=t.flags||{},s={preEncoded:!0,volatile:r.volatile,compress:r.compress};e.nsp=this.nsp.name,e.id=this.nsp._ids++;const o=this._encode(e,s);let a=0;this.apply(t,(t=>{a++,t.acks.set(e.id,i),"function"==typeof t.notifyOutgoingListeners&&t.notifyOutgoingListeners(e),t.client.writeToEngine(o,s)})),n(a)}_encode(e,t){const n=this.encoder.encode(e);if(a&&1===n.length&&"string"==typeof n[0]){const e=Buffer.from("4"+n[0]);t.wsPreEncodedFrame=o.Sender.frame(e,{readOnly:!1,mask:!1,rsv1:!1,opcode:1,fin:!0})}return n}sockets(e){const t=new Set;return this.apply({rooms:e},(e=>{t.add(e.id)})),Promise.resolve(t)}socketRooms(e){return this.sids.get(e)}fetchSockets(e){const t=[];return this.apply(e,(e=>{t.push(e)})),Promise.resolve(t)}addSockets(e,t){this.apply(e,(e=>{e.join(t)}))}delSockets(e,t){this.apply(e,(e=>{t.forEach((t=>e.leave(t)))}))}disconnectSockets(e,t){this.apply(e,(e=>{e.disconnect(t)}))}apply(e,t){const n=e.rooms,i=this.computeExceptSids(e.except);if(n.size){const e=new Set;for(const r of n)if(this.rooms.has(r))for(const n of this.rooms.get(r)){if(e.has(n)||i.has(n))continue;const r=this.nsp.sockets.get(n);r&&(t(r),e.add(n))}}else for(const[e]of this.sids){if(i.has(e))continue;const n=this.nsp.sockets.get(e);n&&t(n)}}computeExceptSids(e){const t=new Set;if(e&&e.size>0)for(const n of e)this.rooms.has(n)&&this.rooms.get(n).forEach((e=>t.add(e)));return t}serverSideEmit(e){console.warn("this adapter does not support the serverSideEmit() functionality")}persistSession(e){}restoreSession(e,t){return null}}function u(e,t){const n=0===t.rooms.size||e.some((e=>t.rooms.has(e))),i=e.every((e=>!t.except.has(e)));return n&&i}t.Adapter=c,t.SessionAwareAdapter=class extends c{constructor(e){super(e),this.nsp=e,this.sessions=new Map,this.packets=[],this.maxDisconnectionDuration=e.server.opts.connectionStateRecovery.maxDisconnectionDuration,setInterval((()=>{const e=Date.now()-this.maxDisconnectionDuration;this.sessions.forEach(((t,n)=>{t.disconnectedAt<e&&this.sessions.delete(n)}));for(let t=this.packets.length-1;t>=0;t--)if(this.packets[t].emittedAt<e){this.packets.splice(0,t+1);break}}),6e4).unref()}persistSession(e){e.disconnectedAt=Date.now(),this.sessions.set(e.pid,e)}restoreSession(e,t){const n=this.sessions.get(e);if(!n)return null;if(n.disconnectedAt+this.maxDisconnectionDuration<Date.now())return this.sessions.delete(e),null;const i=this.packets.findIndex((e=>e.id===t));if(-1===i)return null;const r=[];for(let e=i+1;e<this.packets.length;e++){const t=this.packets[e];u(n.rooms,t.opts)&&r.push(t.data)}return Promise.resolve(Object.assign(Object.assign({},n),{missedPackets:r}))}broadcast(e,t){var n;const i=2===e.type,r=void 0===e.id,o=void 0===(null===(n=t.flags)||void 0===n?void 0:n.volatile);if(i&&r&&o){const n=(0,s.yeast)();e.data.push(n),this.packets.push({id:n,opts:t,data:e.data,emittedAt:Date.now()})}super.broadcast(e,t)}}},95841:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.ClusterAdapterWithHeartbeat=t.ClusterAdapter=t.SessionAwareAdapter=t.Adapter=void 0;var i=n(99338);Object.defineProperty(t,"Adapter",{enumerable:!0,get:function(){return i.Adapter}}),Object.defineProperty(t,"SessionAwareAdapter",{enumerable:!0,get:function(){return i.SessionAwareAdapter}});var r=n(44893);Object.defineProperty(t,"ClusterAdapter",{enumerable:!0,get:function(){return r.ClusterAdapter}}),Object.defineProperty(t,"ClusterAdapterWithHeartbeat",{enumerable:!0,get:function(){return r.ClusterAdapterWithHeartbeat}}),Object.defineProperty(t,"MessageType",{enumerable:!0,get:function(){return r.MessageType}})},98179:(e,t,n)=>{const{EventEmitter:i}=n(24434),r=new Error("Stream was destroyed"),s=new Error("Premature close"),o=n(4111),a=n(36080),c=n(15335),u=536870911,l=1^u,h=2^u,p=16384,d=32768,f=131072,m=16^u,g=768^u,y=536838143,b=32^u,v=536739839,w=2<<18,_=4<<18,S=8<<18,E=32<<18,x=64<<18,D=128<<18,C=512<<18,k=1024<<18,R=469499903,A=503316479,T=268435455,O=262160,F=8404992,P=8405006,I=33587200,L=33587215,N=270794767,B=Symbol.asyncIterator||Symbol("asyncIterator");class j{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:i,byteLength:r,byteLengthWritable:s}={}){this.stream=e,this.queue=new a,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||r||ce,this.map=i||n,this.afterWrite=z.bind(this),this.afterUpdateNextTick=K.bind(this)}get ended(){return!!(this.stream._duplexState&E)}push(e){return null!==this.map&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=S,!0):(this.stream._duplexState|=6291456,!1)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=534773759),e}end(e){"function"==typeof e?this.stream.once("finish",e):null!=e&&this.push(e),this.stream._duplexState=535822335&this.stream._duplexState|134217728}autoBatch(e,t){const n=[],i=this.stream;for(n.push(e);2359296==(i._duplexState&N);)n.push(i._writableState.shift());if(15&i._duplexState)return t(null);i._writev(n,t)}update(){const e=this.stream;e._duplexState|=w;do{for(;(e._duplexState&N)===S;){const t=this.shift();e._duplexState|=67371008,e._write(t,this.afterWrite)}1310720&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=536346623}updateNonPrimary(){const e=this.stream;if((144965647&e._duplexState)===C)return e._duplexState=402653183&e._duplexState|262144,void e._final(H.bind(this));4!=(14&e._duplexState)?1==(e._duplexState&L)&&(e._duplexState=(e._duplexState|O)&l,e._open(Y.bind(this))):e._duplexState&I||(e._duplexState|=O,e._destroy(W.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&D)&&(this.stream._duplexState&=A,!0)}updateCallback(){(35127311&this.stream._duplexState)===_?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&D||(this.stream._duplexState|=D,this.stream._duplexState&w||o(this.afterUpdateNextTick))}}class M{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:i,byteLength:r,byteLengthReadable:s}={}){this.stream=e,this.queue=new a,this.highWaterMark=0===t?1:t,this.buffered=0,this.readAhead=t>0,this.error=null,this.pipeline=null,this.byteLength=s||r||ce,this.map=i||n,this.pipeTo=null,this.afterRead=G.bind(this),this.afterUpdateNextTick=V.bind(this)}get ended(){return!!(this.stream._duplexState&p)}pipe(e,t){if(null!==this.pipeTo)throw new Error("Can only pipe to one destination");if("function"!=typeof t&&(t=null),this.stream._duplexState|=512,this.pipeTo=e,this.pipeline=new q(this.stream,e,t),t&&this.stream.on("error",ue),ae(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",ue),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const t=this.pipeline.done.bind(this.pipeline,e),n=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",t),e.on("close",n),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",U.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const t=this.stream;return null===e?(this.highWaterMark=0,t._duplexState=536805311&t._duplexState|1024,!1):(null!==this.map&&null===(e=this.map(e))||(this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=536805375&t._duplexState|128),this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),0===this.buffered&&(this.stream._duplexState&=536862591),e}unshift(e){const t=[null!==this.map?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let e=0;e<t.length-1;e++){const n=t[e];this.buffered+=this.byteLength(n),this.queue.push(n)}this.push(t[t.length-1])}read(){const e=this.stream;if(128==(16527&e._duplexState)){const t=this.shift();return null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=g),2048&e._duplexState&&e.emit("data",t),t}return!1===this.readAhead&&(e._duplexState|=f,this.updateNextTick()),null}drain(){const e=this.stream;for(;128==(16527&e._duplexState)&&768&e._duplexState;){const t=this.shift();null!==this.pipeTo&&!1===this.pipeTo.write(t)&&(e._duplexState&=g),2048&e._duplexState&&e.emit("data",t)}}update(){const e=this.stream;e._duplexState|=32;do{for(this.drain();this.buffered<this.highWaterMark&&(214047&e._duplexState)===f;)e._duplexState|=65552,e._read(this.afterRead),this.drain();4224==(12431&e._duplexState)&&(e._duplexState|=8192,e.emit("readable")),80&e._duplexState||this.updateNonPrimary()}while(!0===this.continueUpdate());e._duplexState&=b}updateNonPrimary(){const e=this.stream;1024==(1167&e._duplexState)&&(e._duplexState=536869887&e._duplexState|16384,e.emit("end"),(e._duplexState&P)===F&&(e._duplexState|=4),null!==this.pipeTo&&this.pipeTo.end()),4!=(14&e._duplexState)?1==(e._duplexState&L)&&(e._duplexState=(e._duplexState|O)&l,e._open(Y.bind(this))):e._duplexState&I||(e._duplexState|=O,e._destroy(W.bind(this)))}continueUpdate(){return!!(this.stream._duplexState&d)&&(this.stream._duplexState&=y,!0)}updateCallback(){64==(32879&this.stream._duplexState)?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&d||(this.stream._duplexState|=d,32&this.stream._duplexState||o(this.afterUpdateNextTick))}}class ${constructor(e){this.data=null,this.afterTransform=J.bind(e),this.afterFinal=null}}class q{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){t&&(this.error=t),e!==this.to||(this.to=null,null===this.from)?e!==this.from||(this.from=null,null===this.to)?(null!==this.afterPipe&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null):e._duplexState&p||this.to.destroy(this.error||new Error("Readable stream closed before ending")):this.from._duplexState&p&&this.pipeToFinished||this.from.destroy(this.error||new Error("Writable stream closed prematurely"))}}function U(){this.stream._duplexState|=512,this.updateCallback()}function H(e){const t=this.stream;e&&t.destroy(e),14&t._duplexState||(t._duplexState|=E,t.emit("finish")),(t._duplexState&P)===F&&(t._duplexState|=4),t._duplexState&=R,t._duplexState&w?this.updateNextTick():this.update()}function W(e){const t=this.stream;e||this.error===r||(e=this.error),e&&t.emit("error",e),t._duplexState|=8,t.emit("close");const n=t._readableState,i=t._writableState;if(null!==n&&null!==n.pipeline&&n.pipeline.done(t,e),null!==i){for(;null!==i.drains&&i.drains.length>0;)i.drains.shift().resolve(!1);null!==i.pipeline&&i.pipeline.done(t,e)}}function z(e){const t=this.stream;e&&t.destroy(e),t._duplexState&=R,null!==this.drains&&function(e){for(let t=0;t<e.length;t++)0==--e[t].writes&&(e.shift().resolve(!0),t--)}(this.drains),4194304==(6553615&t._duplexState)&&(t._duplexState&=532676607,(t._duplexState&x)===x&&t.emit("drain")),this.updateCallback()}function G(e){e&&this.stream.destroy(e),this.stream._duplexState&=m,!1!==this.readAhead||256&this.stream._duplexState||(this.stream._duplexState&=v),this.updateCallback()}function V(){32&this.stream._duplexState||(this.stream._duplexState&=y,this.update())}function K(){this.stream._duplexState&w||(this.stream._duplexState&=A,this.update())}function Y(e){const t=this.stream;e&&t.destroy(e),4&t._duplexState||(17423&t._duplexState||(t._duplexState|=64),142606351&t._duplexState||(t._duplexState|=_),t.emit("open")),t._duplexState&=536608751,null!==t._writableState&&t._writableState.updateCallback(),null!==t._readableState&&t._readableState.updateCallback()}function J(e,t){null!=t&&this.push(t),this._writableState.afterWrite(e)}function Z(e){null!==this._readableState&&("data"===e&&(this._duplexState|=133376,this._readableState.updateNextTick()),"readable"===e&&(this._duplexState|=4096,this._readableState.updateNextTick())),null!==this._writableState&&"drain"===e&&(this._duplexState|=x,this._writableState.updateNextTick())}class X extends i{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",le.bind(this))),this.on("newListener",Z)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return null!==this._readableState||void 0}get writable(){return null!==this._writableState||void 0}get destroyed(){return!!(8&this._duplexState)}get destroying(){return!!(14&this._duplexState)}destroy(e){14&this._duplexState||(e||(e=r),this._duplexState=535822271&this._duplexState|4,null!==this._readableState&&(this._readableState.highWaterMark=0,this._readableState.error=e),null!==this._writableState&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=2,this._predestroy(),this._duplexState&=h,null!==this._readableState&&this._readableState.updateNextTick(),null!==this._writableState&&this._writableState.updateNextTick())}}class Q extends X{constructor(e){super(e),this._duplexState|=8519681,this._readableState=new M(this,e),e&&(!1===this._readableState.readAhead&&(this._duplexState&=v),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){const t=new c(e),n=this._readableState.map||se;return this._readableState.map=function(e){const i=t.push(e);return""===i?null:n(i)},this}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=131328,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=!1===this._readableState.readAhead?536739583:536870655,this}static _fromAsyncIterator(e,t){let n;const i=new Q({...t,read(t){e.next().then(r).then(t.bind(null,null)).catch(t)},predestroy(){n=e.return()},destroy(e){if(!n)return e(null);n.then(e.bind(null,null)).catch(e)}});return i;function r(e){e.done?i.push(null):i.push(e.value)}}static from(e,t){if(ae(n=e)&&n.readable)return e;var n;if(e[B])return this._fromAsyncIterator(e[B](),t);Array.isArray(e)||(e=void 0===e?[]:[e]);let i=0;return new Q({...t,read(t){this.push(i===e.length?null:e[i++]),t(null)}})}static isBackpressured(e){return!!(17422&e._duplexState)||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return!(256&e._duplexState)}[B](){const e=this;let t=null,n=null,i=null;return this.on("error",(e=>{t=e})),this.on("readable",(function(){null!==n&&s(e.read())})),this.on("close",(function(){null!==n&&s(null)})),{[B](){return this},next:()=>new Promise((function(t,r){n=t,i=r;const o=e.read();null!==o?s(o):8&e._duplexState&&s(null)})),return:()=>o(null),throw:e=>o(e)};function s(s){null!==i&&(t?i(t):null!==s||e._duplexState&p?n({value:s,done:null===s}):i(r),i=n=null)}function o(t){return e.destroy(t),new Promise(((n,i)=>{if(8&e._duplexState)return n({value:void 0,done:!0});e.once("close",(function(){t?i(t):n({value:void 0,done:!0})}))}))}}}class ee extends X{constructor(e){super(e),this._duplexState|=16385,this._writableState=new j(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=k}uncork(){this._duplexState&=T,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return!!(146800654&e._duplexState)}static drained(e){if(e.destroyed)return Promise.resolve(!1);const t=e._writableState;var n;const i=((n=e)._writev!==ee.prototype._writev&&n._writev!==te.prototype._writev?Math.min(1,t.queue.length):t.queue.length)+(67108864&e._duplexState?1:0);return 0===i?Promise.resolve(!0):(null===t.drains&&(t.drains=[]),new Promise((e=>{t.drains.push({writes:i,resolve:e})})))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class te extends Q{constructor(e){super(e),this._duplexState=1|this._duplexState&f,this._writableState=new j(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=k}uncork(){this._duplexState&=T,this._writableState.updateNextTick()}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}class ne extends te{constructor(e){super(e),this._transformState=new $(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(null!==this._transformState.data){const t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),null!==this._transformState.data&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(ie.bind(this))}}function ie(e,t){const n=this._transformState.afterFinal;if(e)return n(e);null!=t&&this.push(t),this.push(null),n(null)}function re(e,...t){const n=Array.isArray(e)?[...e,...t]:[e,...t],i=n.length&&"function"==typeof n[n.length-1]?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let r=n[0],o=null,a=null;for(let e=1;e<n.length;e++)o=n[e],ae(r)?r.pipe(o,u):(c(r,!0,e>1,u),r.pipe(o)),r=o;if(i){let e=!1;const t=ae(o)||!(!o._writableState||!o._writableState.autoDestroy);o.on("error",(e=>{null===a&&(a=e)})),o.on("finish",(()=>{e=!0,t||i(a)})),t&&o.on("close",(()=>i(a||(e?null:s))))}return o;function c(e,t,n,i){e.on("error",i),e.on("close",(function(){return t&&e._readableState&&!e._readableState.ended||n&&e._writableState&&!e._writableState.ended?i(s):void 0}))}function u(e){if(e&&!a){a=e;for(const t of n)t.destroy(e)}}}function se(e){return e}function oe(e){return!!e._readableState||!!e._writableState}function ae(e){return"number"==typeof e._duplexState&&oe(e)}function ce(e){return function(e){return"object"==typeof e&&null!==e&&"number"==typeof e.byteLength}(e)?e.byteLength:1024}function ue(){}function le(){this.destroy(new Error("Stream aborted."))}e.exports={pipeline:re,pipelinePromise:function(...e){return new Promise(((t,n)=>re(...e,(e=>{if(e)return n(e);t()}))))},isStream:oe,isStreamx:ae,getStreamError:function(e,t={}){const n=e._readableState&&e._readableState.error||e._writableState&&e._writableState.error;return t.all||n!==r?n:null},Stream:X,Writable:ee,Readable:Q,Duplex:te,Transform:ne,PassThrough:class extends ne{}}},27687:(e,t,n)=>{"use strict";const i=n(70857),r=n(25884),s=process.env;let o;function a(e){const t=function(e){if(!1===o)return 0;if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2;if(e&&!e.isTTY&&!0!==o)return 0;const t=o?1:0;if("win32"===process.platform){const e=i.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in s)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in s))||"codeship"===s.CI_NAME?1:t;if("TEAMCITY_VERSION"in s)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0;if("truecolor"===s.COLORTERM)return 3;if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(s.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)||"COLORTERM"in s?1:(s.TERM,t)}(e);return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(t)}r("no-color")||r("no-colors")||r("color=false")?o=!1:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(o=!0),"FORCE_COLOR"in s&&(o=0===s.FORCE_COLOR.length||0!==parseInt(s.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},34218:(e,t,n)=>{const i={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{e.exports=n(79896).constants||i}catch{e.exports=i}},82414:(e,t,n)=>{const{Writable:i,Readable:r,getStreamError:s}=n(98179),o=n(36080),a=n(7042),c=n(3481),u=a.alloc(0);class l{constructor(){this.buffered=0,this.shifted=0,this.queue=new o,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return 0===this._buffered?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(0===e)return u;let t=this._next(e);if(e===t.byteLength)return t;const n=[t];for(;(e-=t.byteLength)>0;)t=this._next(e),n.push(t);return a.concat(n)}_next(e){const t=this.queue.peek(),n=t.byteLength-this._offset;if(e>=n){const e=this._offset?t.subarray(this._offset,t.byteLength):t;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,e}return this.buffered-=e,this.shifted+=e,t.subarray(this._offset,this._offset+=e)}}class h extends r{constructor(e,t,n){super(),this.header=t,this.offset=n,this._parent=e}_read(e){0===this.header.size&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(s(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=f(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class p extends i{constructor(e){super(e),e||(e={}),this._buffer=new l,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=d,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e)return this.destroy(e),void this._continueWrite(e);this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=c.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),0===this._header.size||"directory"===this._header.type?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=c.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=c.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=c.decodePax(e);break;case"pax-header":this._pax=null===this._paxGlobal?c.decodePax(e):Object.assign({},this._paxGlobal,c.decodePax(e))}}_consumeLongHeader(){this._longHeader=!1,this._missing=f(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(e){return this._continueWrite(e),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(null===e)return!1;this._missing-=e.byteLength;const t=this._stream.push(e);return 0===this._missing?(this._stream.push(null),t&&this._stream._detach(),t&&!1===this._locked):t}_createStream(){return new h(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;)if(this._missing>0){if(null!==this._stream){if(!1===this._consumeStream())return;continue}if(!0===this._longHeader){if(this._missing>this._buffer.buffered)break;if(!1===this._consumeLongHeader())return!1;continue}const e=this._buffer.shiftFirst(this._missing);null!==e&&(this._missing-=e.byteLength)}else{if(this._buffer.buffered<512)break;if(null!==this._stream||!1===this._consumeHeader())return}this._continueWrite(null)}_continueWrite(e){const t=this._callback;this._callback=d,t(e)}_write(e,t){this._callback=t,this._buffer.push(e),this._update()}_final(e){this._finished=0===this._missing&&0===this._buffer.buffered,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(s(this)),e(null)}[Symbol.asyncIterator](){let e=null,t=null,n=null,i=null,r=null;const s=this;return this.on("entry",(function(e,s,o){r=o,s.on("error",d),t?(t({value:s,done:!1}),t=n=null):i=s})),this.on("error",(t=>{e=t})),this.on("close",(function(){o(e),t&&(e?n(e):t({value:void 0,done:!0}),t=n=null)})),{[Symbol.asyncIterator](){return this},next:()=>new Promise(a),return:()=>c(null),throw:e=>c(e)};function o(e){if(!r)return;const t=r;r=null,t(e)}function a(r,a){return e?a(e):i?(r({value:i,done:!1}),void(i=null)):(t=r,n=a,o(null),void(s._finished&&t&&(t({value:void 0,done:!0}),t=n=null)))}function c(e){return s.destroy(e),o(e),new Promise(((t,n)=>{if(s.destroyed)return t({value:void 0,done:!0});s.once("close",(function(){e?n(e):t({value:void 0,done:!0})}))}))}}}function d(){}function f(e){return(e&=511)&&512-e}e.exports=function(e){return new p(e)}},3481:(e,t,n)=>{const i=n(7042),r="0".charCodeAt(0),s=i.from([117,115,116,97,114,0]),o=i.from([r,r]),a=i.from([117,115,116,97,114,32]),c=i.from([32,0]);function u(e,t,n,i){for(;n<i;n++)if(e[n]===t)return n;return i}function l(e){let t=256;for(let n=0;n<148;n++)t+=e[n];for(let n=156;n<512;n++)t+=e[n];return t}function h(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "}function p(e,t,n){if(128&(e=e.subarray(t,t+n))[t=0])return function(e){let t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}const n=[];let i;for(i=e.length-1;i>0;i--){const r=e[i];t?n.push(r):n.push(255-r)}let r=0;const s=n.length;for(i=0;i<s;i++)r+=n[i]*Math.pow(256,i);return t?r:-1*r}(e);{for(;t<e.length&&32===e[t];)t++;const n=(r=u(e,32,t,e.length),s=e.length,o=e.length,"number"!=typeof r?o:(r=~~r)>=s?s:r>=0||(r+=s)>=0?r:0);for(;t<n&&0===e[t];)t++;return n===t?0:parseInt(i.toString(e.subarray(t,n)),8)}var r,s,o}function d(e,t,n,r){return i.toString(e.subarray(t,u(e,0,t,t+n)),r)}function f(e){const t=i.byteLength(e);let n=Math.floor(Math.log(t)/Math.log(10))+1;return t+n>=Math.pow(10,n)&&n++,t+n+e}t.decodeLongPath=function(e,t){return d(e,0,e.length,t)},t.encodePax=function(e){let t="";e.name&&(t+=f(" path="+e.name+"\n")),e.linkname&&(t+=f(" linkpath="+e.linkname+"\n"));const n=e.pax;if(n)for(const e in n)t+=f(" "+e+"="+n[e]+"\n");return i.from(t)},t.decodePax=function(e){const t={};for(;e.length;){let n=0;for(;n<e.length&&32!==e[n];)n++;const r=parseInt(i.toString(e.subarray(0,n)),10);if(!r)return t;const s=i.toString(e.subarray(n+1,r-1)),o=s.indexOf("=");if(-1===o)return t;t[s.slice(0,o)]=s.slice(o+1),e=e.subarray(r)}return t},t.encode=function(e){const t=i.alloc(512);let n=e.name,a="";if(5===e.typeflag&&"/"!==n[n.length-1]&&(n+="/"),i.byteLength(n)!==n.length)return null;for(;i.byteLength(n)>100;){const e=n.indexOf("/");if(-1===e)return null;a+=a?"/"+n.slice(0,e):n.slice(0,e),n=n.slice(e+1)}return i.byteLength(n)>100||i.byteLength(a)>155||e.linkname&&i.byteLength(e.linkname)>100?null:(i.write(t,n),i.write(t,h(4095&e.mode,6),100),i.write(t,h(e.uid,6),108),i.write(t,h(e.gid,6),116),function(e,t){e.toString(8).length>11?function(e,t){t[124]=128;for(let n=11;n>0;n--)t[124+n]=255&e,e=Math.floor(e/256)}(e,t):i.write(t,h(e,11),124)}(e.size,t),i.write(t,h(e.mtime.getTime()/1e3|0,11),136),t[156]=r+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&i.write(t,e.linkname,157),i.copy(s,t,257),i.copy(o,t,263),e.uname&&i.write(t,e.uname,265),e.gname&&i.write(t,e.gname,297),i.write(t,h(e.devmajor||0,6),329),i.write(t,h(e.devminor||0,6),337),a&&i.write(t,a,345),i.write(t,h(l(t),6),148),t)},t.decode=function(e,t,n){let o=0===e[156]?0:e[156]-r,u=d(e,0,100,t);const h=p(e,100,8),f=p(e,108,8),m=p(e,116,8),g=p(e,124,12),y=p(e,136,12),b=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(o),v=0===e[157]?null:d(e,157,100,t),w=d(e,265,32),_=d(e,297,32),S=p(e,329,8),E=p(e,337,8),x=l(e);if(256===x)return null;if(x!==p(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(function(e){return i.equals(s,e.subarray(257,263))}(e))e[345]&&(u=d(e,345,155,t)+"/"+u);else if(function(e){return i.equals(a,e.subarray(257,263))&&i.equals(c,e.subarray(263,265))}(e));else if(!n)throw new Error("Invalid tar header: unknown format.");return 0===o&&u&&"/"===u[u.length-1]&&(o=5),{name:u,mode:h,uid:f,gid:m,size:g,mtime:new Date(1e3*y),type:b,linkname:v,uname:w,gname:_,devmajor:S,devminor:E,pax:null}}},44231:(e,t,n)=>{t.extract=n(82414),t.pack=n(60446)},60446:(e,t,n)=>{const{Readable:i,Writable:r,getStreamError:s}=n(98179),o=n(7042),a=n(34218),c=n(3481),u=o.alloc(1024);class l extends r{constructor(e,t,n){super({mapWritable:f,eagerOpen:!0}),this.written=0,this.header=t,this._callback=n,this._linkname=null,this._isLinkname="symlink"===t.type&&!t.linkname,this._isVoid="file"!==t.type&&"contiguous-file"!==t.type,this._finished=!1,this._pack=e,this._openCallback=null,null===this._pack._stream?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(null===this._callback)return;const t=this._callback;this._callback=null,t(e)}_continueOpen(){null===this._pack._stream&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,null!==e){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,t){return this._isLinkname?(this._linkname=this._linkname?o.concat([this._linkname,e]):e,t(null)):this._isVoid?e.byteLength>0?t(new Error("No body allowed for this entry")):t():(this.written+=e.byteLength,this._pack.push(e)?t():void(this._pack._drain=t))}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?o.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),d(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return s(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class h extends i{constructor(e){super(e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,t,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");"function"==typeof t&&(n=t,t=null),n||(n=p),e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&a.S_IFMT){case a.S_IFBLK:return"block-device";case a.S_IFCHR:return"character-device";case a.S_IFDIR:return"directory";case a.S_IFIFO:return"fifo";case a.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?493:420),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=o.from(t));const i=new l(this,e,n);return o.isBuffer(t)?(e.size=t.byteLength,i.write(t),i.end(),i):(i._isVoid,i)}finalize(){this._stream||this._pending.length>0?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(u),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const t=c.encode(e);if(t)return void this.push(t)}this._encodePax(e)}_encodePax(e){const t=c.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(c.encode(n)),this.push(t),d(this,t.byteLength),n.size=e.size,n.type=e.type,this.push(c.encode(n))}_doDrain(){const e=this._drain;this._drain=p,e()}_predestroy(){const e=s(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const t=this._pending.shift();t.destroy(e),t._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}function p(){}function d(e,t){(t&=511)&&e.push(u.subarray(0,512-t))}function f(e){return o.isBuffer(e)?e:o.from(e)}e.exports=function(e){return new h(e)}},15335:(e,t,n)=>{const i=n(34611),r=n(56045);e.exports=class{constructor(e="utf8"){switch(this.encoding=function(e){switch(e=e.toLowerCase()){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:throw new Error("Unknown encoding: "+e)}}(e),this.encoding){case"utf8":this.decoder=new r;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new i(this.encoding)}}push(e){return"string"==typeof e?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let t="";return e&&(t=this.push(e)),t+=this.decoder.flush(),t}}},34611:(e,t,n)=>{const i=n(7042);e.exports=class{constructor(e){this.encoding=e}decode(e){return i.toString(e,this.encoding)}flush(){return""}}},56045:(e,t,n)=>{const i=n(7042);e.exports=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}decode(e){if(0===this.bytesNeeded){let t=!0;for(let n=Math.max(0,e.byteLength-4),i=e.byteLength;n<i&&t;n++)t=e[n]<=127;if(t)return i.toString(e,"utf8")}let t="";for(let n=0,i=e.byteLength;n<i;n++){const i=e[n];0!==this.bytesNeeded?i<this.lowerBoundary||i>this.upperBoundary?(this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,t+=""):(this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|63&i,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(t+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)):i<=127?t+=String.fromCharCode(i):i>=194&&i<=223?(this.bytesNeeded=1,this.codePoint=31&i):i>=224&&i<=239?(224===i?this.lowerBoundary=160:237===i&&(this.upperBoundary=159),this.bytesNeeded=2,this.codePoint=15&i):i>=240&&i<=244?(240===i&&(this.lowerBoundary=144),244===i&&(this.upperBoundary=143),this.bytesNeeded=3,this.codePoint=7&i):t+=""}return t}flush(){const e=this.bytesNeeded>0?"":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}}},41236:(e,t)=>{"use strict";t.fromCallback=function(e){return Object.defineProperty((function(...t){if("function"!=typeof t[t.length-1])return new Promise(((n,i)=>{t.push(((e,t)=>null!=e?i(e):n(t))),e.apply(this,t)}));e.apply(this,t)}),"name",{value:e.name})},t.fromPromise=function(e){return Object.defineProperty((function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);t.pop(),e.apply(this,t).then((e=>n(null,e)),n)}),"name",{value:e.name})}},96556:e=>{"use strict";e.exports=function(e){const t=e.length;let n=0;for(;n<t;)if(128&e[n])if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}else n++;return!0}},53148:(e,t,n)=>{"use strict";try{e.exports=n(68169)(__dirname)}catch(t){e.exports=n(96556)}},27983:(e,t,n)=>{e.exports=n(39023).deprecate},30677:e=>{"use strict";e.exports=function(e,t){if(!e||!e.getHeader||!e.setHeader)throw new TypeError("res argument is required");var i=e.getHeader("Vary")||"",r=Array.isArray(i)?i.join(", "):String(i);(i=n(r,t))&&e.setHeader("Vary",i)},e.exports.append=n;var t=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/;function n(e,n){if("string"!=typeof e)throw new TypeError("header argument is required");if(!n)throw new TypeError("field argument is required");for(var r=Array.isArray(n)?n:i(String(n)),s=0;s<r.length;s++)if(!t.test(r[s]))throw new TypeError("field argument contains an invalid header name");if("*"===e)return e;var o=e,a=i(e.toLowerCase());if(-1!==r.indexOf("*")||-1!==a.indexOf("*"))return"*";for(var c=0;c<r.length;c++){var u=r[c].toLowerCase();-1===a.indexOf(u)&&(a.push(u),o=o?o+", "+r[c]:r[c])}return o}function i(e){for(var t=0,n=[],i=0,r=0,s=e.length;r<s;r++)switch(e.charCodeAt(r)){case 32:i===t&&(i=t=r+1);break;case 44:n.push(e.substring(i,t)),i=t=r+1;break;default:t=r+1}return n.push(e.substring(i,t)),n}},53281:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const i=n(96177);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return i.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return i.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return i.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return i.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return i.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return i.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return i.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return i.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return i.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return i.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return i.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return i.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return i.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return i.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return i.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return i.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return i.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return i.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return i.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return i.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return i.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return i.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return i.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return i.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return i.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return i.ParameterStructures}});const r=n(93352);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return r.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return r.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return r.Touch}});const s=n(34019);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return s.Disposable}});const o=n(62676);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return o.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return o.Emitter}});const a=n(59850);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(74996);Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return c.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return c.SharedArrayReceiverStrategy}});const u=n(59085);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const l=n(23193);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const h=n(89244);Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return h.AbstractMessageBuffer}});const p=n(90577);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return p.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return p.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return p.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return p.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return p.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return p.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return p.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return p.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return p.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return p.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return p.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return p.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return p.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return p.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return p.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return p.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return p.MessageStrategy}});const d=n(69590);t.RAL=d.default},59850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const i=n(69590),r=n(78585),s=n(62676);var o;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:s.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:s.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||r.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(o||(t.CancellationToken=o={}));const a=Object.freeze((function(e,t){const n=(0,i.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new s.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=o.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=o.None}}},90577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const i=n(69590),r=n(78585),s=n(96177),o=n(93352),a=n(62676),c=n(59850);var u,l,h,p,d,f,m,g,y,b,v,w,_,S,E,x,D,C,k;!function(e){e.type=new s.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l||(t.ProgressToken=l={})),function(e){e.type=new s.NotificationType("$/progress")}(h||(h={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return r.func(e)}}(p||(p={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(d||(t.Trace=d={})),function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"}(f||(t.TraceValues=f={})),function(e){e.fromString=function(t){if(!r.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(d||(t.Trace=d={})),function(e){e.Text="text",e.JSON="json"}(m||(t.TraceFormat=m={})),function(e){e.fromString=function(t){return r.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(m||(t.TraceFormat=m={})),function(e){e.type=new s.NotificationType("$/setTrace")}(g||(t.SetTraceNotification=g={})),function(e){e.type=new s.NotificationType("$/logTrace")}(y||(t.LogTraceNotification=y={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(b||(t.ConnectionErrors=b={}));class R extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,R.prototype)}}t.ConnectionError=R,function(e){e.is=function(e){const t=e;return t&&r.func(t.cancelUndispatched)}}(v||(t.ConnectionStrategy=v={})),function(e){e.is=function(e){const t=e;return t&&(void 0===t.kind||"id"===t.kind)&&r.func(t.createCancellationTokenSource)&&(void 0===t.dispose||r.func(t.dispose))}}(w||(t.IdCancellationReceiverStrategy=w={})),function(e){e.is=function(e){const t=e;return t&&"request"===t.kind&&r.func(t.createCancellationTokenSource)&&(void 0===t.dispose||r.func(t.dispose))}}(_||(t.RequestCancellationReceiverStrategy=_={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){return w.is(e)||_.is(e)}}(S||(t.CancellationReceiverStrategy=S={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&r.func(t.sendCancellation)&&r.func(t.cleanup)}}(E||(t.CancellationSenderStrategy=E={})),function(e){e.Message=Object.freeze({receiver:S.Message,sender:E.Message}),e.is=function(e){const t=e;return t&&S.is(t.receiver)&&E.is(t.sender)}}(x||(t.CancellationStrategy=x={})),function(e){e.is=function(e){const t=e;return t&&r.func(t.handleMessage)}}(D||(t.MessageStrategy=D={})),function(e){e.is=function(e){const t=e;return t&&(x.is(t.cancellationStrategy)||v.is(t.connectionStrategy)||D.is(t.messageStrategy))}}(C||(t.ConnectionOptions=C={})),function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(k||(k={})),t.createMessageConnection=function(e,n,f,v){const _=void 0!==f?f:t.NullLogger;let S=0,E=0,C=0;const A="2.0";let T;const O=new Map;let F;const P=new Map,I=new Map;let L,N,B=new o.LinkedMap,j=new Map,M=new Set,$=new Map,q=d.Off,U=m.Text,H=k.New;const W=new a.Emitter,z=new a.Emitter,G=new a.Emitter,V=new a.Emitter,K=new a.Emitter,Y=v&&v.cancellationStrategy?v.cancellationStrategy:x.Message;function J(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function Z(e){}function X(){return H===k.Listening}function Q(){return H===k.Closed}function ee(){return H===k.Disposed}function te(){H!==k.New&&H!==k.Listening||(H=k.Closed,z.fire(void 0))}function ne(){L||0===B.size||(L=(0,i.default)().timer.setImmediate((()=>{L=void 0,function(){if(0===B.size)return;const e=B.shift();try{const t=v?.messageStrategy;D.is(t)?t.handleMessage(e,ie):ie(e)}finally{ne()}}()})))}function ie(e){s.Message.isRequest(e)?function(e){if(ee())return;function t(t,i,r){const o={jsonrpc:A,id:e.id};t instanceof s.ResponseError?o.error=t.toJson():o.result=void 0===t?null:t,oe(o,i,r),n.write(o).catch((()=>_.error("Sending response failed.")))}function i(t,i,r){const s={jsonrpc:A,id:e.id,error:t.toJson()};oe(s,i,r),n.write(s).catch((()=>_.error("Sending response failed.")))}!function(e){if(q!==d.Off&&N)if(U===m.Text){let t;q!==d.Verbose&&q!==d.Compact||!e.params||(t=`Params: ${se(e.params)}\n\n`),N.log(`Received request '${e.method} - (${e.id})'.`,t)}else ce("receive-request",e)}(e);const o=O.get(e.method);let a,c;o&&(a=o.type,c=o.handler);const u=Date.now();if(c||T){const o=e.id??String(Date.now()),l=w.is(Y.receiver)?Y.receiver.createCancellationTokenSource(o):Y.receiver.createCancellationTokenSource(e);null!==e.id&&M.has(e.id)&&l.cancel(),null!==e.id&&$.set(o,l);try{let h;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void i(new s.ResponseError(s.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);h=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===s.ParameterStructures.byName)return void i(new s.ResponseError(s.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);h=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===s.ParameterStructures.byPosition)return void i(new s.ResponseError(s.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);h=c(e.params,l.token)}else T&&(h=T(e.method,e.params,l.token));const p=h;h?p.then?p.then((n=>{$.delete(o),t(n,e.method,u)}),(t=>{$.delete(o),t instanceof s.ResponseError?i(t,e.method,u):t&&r.string(t.message)?i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):($.delete(o),t(h,e.method,u)):($.delete(o),function(t,i,r){void 0===t&&(t=null);const s={jsonrpc:A,id:e.id,result:t};oe(s,i,r),n.write(s).catch((()=>_.error("Sending response failed.")))}(h,e.method,u))}catch(n){$.delete(o),n instanceof s.ResponseError?t(n,e.method,u):n&&r.string(n.message)?i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):s.Message.isNotification(e)?function(e){if(ee())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return M.delete(t),void ae(e)}{const i=P.get(e.method);i&&(n=i.handler,t=i.type)}if(n||F)try{if(ae(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==s.ParameterStructures.byName&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const i=e.params;e.method===h.type.method&&2===i.length&&l.is(i[0])?n({token:i[0],value:i[1]}):(void 0!==t&&(t.parameterStructures===s.ParameterStructures.byName&&_.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&_.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${i.length} arguments`)),n(...i))}else void 0!==t&&t.parameterStructures===s.ParameterStructures.byPosition&&_.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else F&&F(e.method,e.params)}catch(t){t.message?_.error(`Notification handler '${e.method}' failed with message: ${t.message}`):_.error(`Notification handler '${e.method}' failed unexpectedly.`)}else G.fire(e)}(e):s.Message.isResponse(e)?function(e){if(!ee())if(null===e.id)e.error?_.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):_.error("Received response message without id. No further error information provided.");else{const t=e.id,n=j.get(t);if(function(e,t){if(q!==d.Off&&N)if(U===m.Text){let n;if(q!==d.Verbose&&q!==d.Compact||(e.error&&e.error.data?n=`Error data: ${se(e.error.data)}\n\n`:e.result?n=`Result: ${se(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";N.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,n)}else N.log(`Received response ${e.id} without active response promise.`,n)}else ce("receive-response",e)}(e,n),void 0!==n){j.delete(t);try{if(e.error){const t=e.error;n.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?_.error(`Response handler '${n.method}' failed with message: ${e.message}`):_.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void _.error("Received empty message.");_.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(r.string(t.id)||r.number(t.id)){const e=t.id,n=j.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}e.onClose(te),e.onError((function(e){W.fire([e,void 0,void 0])})),n.onClose(te),n.onError((function(e){W.fire(e)}));const re=e=>{try{if(s.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,i=J(t),r=B.get(i);if(s.Message.isRequest(r)){const s=v?.connectionStrategy,o=s&&s.cancelUndispatched?s.cancelUndispatched(r,Z):void 0;if(o&&(void 0!==o.error||void 0!==o.result))return B.delete(i),$.delete(t),o.id=r.id,oe(o,e.method,Date.now()),void n.write(o).catch((()=>_.error("Sending response for canceled message failed.")))}const o=$.get(t);if(void 0!==o)return o.cancel(),void ae(e);M.add(t)}!function(e,t){var n;s.Message.isRequest(t)?e.set(J(t.id),t):s.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++C).toString():"res-"+n.toString(),t):e.set("not-"+(++E).toString(),t)}(B,e)}finally{ne()}};function se(e){if(null!=e)switch(q){case d.Verbose:return JSON.stringify(e,null,4);case d.Compact:return JSON.stringify(e);default:return}}function oe(e,t,n){if(q!==d.Off&&N)if(U===m.Text){let i;q!==d.Verbose&&q!==d.Compact||(e.error&&e.error.data?i=`Error data: ${se(e.error.data)}\n\n`:e.result?i=`Result: ${se(e.result)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),N.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,i)}else ce("send-response",e)}function ae(e){if(q!==d.Off&&N&&e.method!==y.type.method)if(U===m.Text){let t;q!==d.Verbose&&q!==d.Compact||(t=e.params?`Params: ${se(e.params)}\n\n`:"No parameters provided.\n\n"),N.log(`Received notification '${e.method}'.`,t)}else ce("receive-notification",e)}function ce(e,t){if(!N||q===d.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};N.log(n)}function ue(){if(Q())throw new R(b.Closed,"Connection is closed.");if(ee())throw new R(b.Disposed,"Connection is disposed.")}function le(e){return void 0===e?null:e}function he(e){return null===e?void 0:e}function pe(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function de(e,t){switch(e){case s.ParameterStructures.auto:return pe(t)?he(t):[le(t)];case s.ParameterStructures.byName:if(!pe(t))throw new Error("Received parameters by name but param is not an object literal.");return he(t);case s.ParameterStructures.byPosition:return[le(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function fe(e,t){let n;const i=e.numberOfParams;switch(i){case 0:n=void 0;break;case 1:n=de(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<i;e++)n.push(le(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)n.push(null)}return n}const me={sendNotification:(e,...t)=>{let i,o;if(ue(),r.string(e)){i=e;const n=t[0];let r=0,a=s.ParameterStructures.auto;s.ParameterStructures.is(n)&&(r=1,a=n);let c=t.length;const u=c-r;switch(u){case 0:o=void 0;break;case 1:o=de(a,t[r]);break;default:if(a===s.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);o=t.slice(r,c).map((e=>le(e)))}}else{const n=t;i=e.method,o=fe(e,n)}const a={jsonrpc:A,method:i,params:o};return function(e){if(q!==d.Off&&N)if(U===m.Text){let t;q!==d.Verbose&&q!==d.Compact||(t=e.params?`Params: ${se(e.params)}\n\n`:"No parameters provided.\n\n"),N.log(`Sending notification '${e.method}'.`,t)}else ce("send-notification",e)}(a),n.write(a).catch((e=>{throw _.error("Sending notification failed."),e}))},onNotification:(e,t)=>{let n;return ue(),r.func(e)?F=e:t&&(r.string(e)?(n=e,P.set(e,{type:void 0,handler:t})):(n=e.method,P.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?P.delete(n):F=void 0}}},onProgress:(e,t,n)=>{if(I.has(t))throw new Error(`Progress handler for token ${t} already registered`);return I.set(t,n),{dispose:()=>{I.delete(t)}}},sendProgress:(e,t,n)=>me.sendNotification(h.type,{token:t,value:n}),onUnhandledProgress:V.event,sendRequest:(e,...t)=>{let i,o,a;if(ue(),function(){if(!X())throw new Error("Call listen() first.")}(),r.string(e)){i=e;const n=t[0],r=t[t.length-1];let u=0,l=s.ParameterStructures.auto;s.ParameterStructures.is(n)&&(u=1,l=n);let h=t.length;c.CancellationToken.is(r)&&(h-=1,a=r);const p=h-u;switch(p){case 0:o=void 0;break;case 1:o=de(l,t[u]);break;default:if(l===s.ParameterStructures.byName)throw new Error(`Received ${p} parameters for 'by Name' request parameter structure.`);o=t.slice(u,h).map((e=>le(e)))}}else{const n=t;i=e.method,o=fe(e,n);const r=e.numberOfParams;a=c.CancellationToken.is(n[r])?n[r]:void 0}const u=S++;let l;a&&(l=a.onCancellationRequested((()=>{const e=Y.sender.sendCancellation(me,u);return void 0===e?(_.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{_.log(`Sending cancellation messages for id ${u} failed`)}))})));const h={jsonrpc:A,id:u,method:i,params:o};return function(e){if(q!==d.Off&&N)if(U===m.Text){let t;q!==d.Verbose&&q!==d.Compact||!e.params||(t=`Params: ${se(e.params)}\n\n`),N.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ce("send-request",e)}(h),"function"==typeof Y.sender.enableCancellation&&Y.sender.enableCancellation(h),new Promise((async(e,t)=>{const r={method:i,timerStart:Date.now(),resolve:t=>{e(t),Y.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),Y.sender.cleanup(u),l?.dispose()}};try{await n.write(h),j.set(u,r)}catch(e){throw _.error("Sending request failed."),r.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),e}}))},onRequest:(e,t)=>{ue();let n=null;return p.is(e)?(n=void 0,T=e):r.string(e)?(n=null,void 0!==t&&(n=e,O.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,O.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?O.delete(n):T=void 0)}}},hasPendingResponse:()=>j.size>0,trace:async(e,t,n)=>{let i=!1,s=m.Text;void 0!==n&&(r.boolean(n)?i=n:(i=n.sendNotification||!1,s=n.traceFormat||m.Text)),q=e,U=s,N=q===d.Off?void 0:t,!i||Q()||ee()||await me.sendNotification(g.type,{value:d.toString(e)})},onError:W.event,onClose:z.event,onUnhandledNotification:G.event,onDispose:K.event,end:()=>{n.end()},dispose:()=>{if(ee())return;H=k.Disposed,K.fire(void 0);const t=new s.ResponseError(s.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of j.values())e.reject(t);j=new Map,$=new Map,M=new Set,B=new o.LinkedMap,r.func(n.dispose)&&n.dispose(),r.func(e.dispose)&&e.dispose()},listen:()=>{ue(),function(){if(X())throw new R(b.AlreadyListening,"Connection is already listening")}(),H=k.Listening,e.listen(re)},inspect:()=>{(0,i.default)().console.log("inspect")}};return me.onNotification(y.type,(e=>{if(q===d.Off||!N)return;const t=q===d.Verbose||q===d.Compact;N.log(e.message,t?e.verbose:void 0)})),me.onNotification(h.type,(e=>{const t=I.get(e.token);t?t(e.value):V.fire(e)})),me}},34019:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,function(e){e.create=function(e){return{dispose:e}}}(n||(t.Disposable=n={}))},62676:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const i=n(69590);var r;!function(e){const t={dispose(){}};e.None=function(){return t}}(r||(t.Event=r={}));class s{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let i=0,r=this._callbacks.length;i<r;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),r=this._contexts.slice(0);for(let s=0,o=n.length;s<o;s++)try{t.push(n[s].apply(r[s],e))}catch(e){(0,i.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class o{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new s),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=o._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=o,o._noop=function(){}},78585:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))}},93352:(e,t)=>{"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(i||(t.Touch=i={}));class r{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=i.None){const n=this._map.get(e);if(n)return t!==i.None&&this.touch(n,t),n.value}set(e,t,n=i.None){let r=this._map.get(e);if(r)r.value=t,n!==i.None&&this.touch(r,n);else{switch(r={key:e,value:t,next:void 0,previous:void 0},n){case i.None:this.addItemLast(r);break;case i.First:this.addItemFirst(r);break;case i.Last:default:this.addItemLast(r)}this._map.set(e,r),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===i.First||t===i.Last)if(t===i.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===i.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=r,t.LRUCache=class extends r{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=i.AsNew){return super.get(e,t)}peek(e){return super.get(e,i.None)}set(e,t){return super.set(e,t,i.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},89244:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(e=!1){if(0===this._chunks.length)return;let t=0,n=0,i=0,r=0;e:for(;n<this._chunks.length;){const e=this._chunks[n];for(i=0;i<e.length;){switch(e[i]){case 13:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case 10:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0}break;default:t=0}i++}r+=e.byteLength,n++}if(4!==t)return;const s=this._read(r+i),o=new Map,a=this.toString(s,"ascii").split("\r\n");if(a.length<2)return o;for(let t=0;t<a.length-2;t++){const n=a[t],i=n.indexOf(":");if(-1===i)throw new Error(`Message header must separate key and value using ':'\n${n}`);const r=n.substr(0,i),s=n.substr(i+1).trim();o.set(e?r.toLowerCase():r,s)}return o}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const i=this._chunks[0];if(i.byteLength>e){const r=i.slice(0,e);t.set(r,n),n+=e,this._chunks[0]=i.slice(e),this._totalLength-=e,e-=e}else t.set(i,n),n+=i.byteLength,this._chunks.shift(),this._totalLength-=i.byteLength,e-=i.byteLength}return t}}},59085:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const i=n(69590),r=n(78585),s=n(62676),o=n(94323);var a,c;!function(e){e.is=function(e){let t=e;return t&&r.func(t.listen)&&r.func(t.dispose)&&r.func(t.onError)&&r.func(t.onClose)&&r.func(t.onPartialMessage)}}(a||(t.MessageReader=a={}));class u{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter,this.partialMessageEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=u,function(e){e.fromOptions=function(e){let t,n;const r=new Map;let s;const o=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,r.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)r.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(s=e.contentTypeDecoder,o.set(s.name,s)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)o.set(t.name,t)}return void 0===s&&(s=(0,i.default)().applicationJson.decoder,o.set(s.name,s)),{charset:t,contentDecoder:n,contentDecoders:r,contentTypeDecoder:s,contentTypeDecoders:o}}}(c||(c={})),t.ReadableStreamMessageReader=class extends u{constructor(e,t){super(),this.readable=e,this.options=c.fromOptions(t),this.buffer=(0,i.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new o.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){try{for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders(!0);if(!e)return;const t=e.get("content-length");if(!t)return void this.fireError(new Error(`Header must provide a Content-Length property.\n${JSON.stringify(Object.fromEntries(e))}`));const n=parseInt(t);if(isNaN(n))return void this.fireError(new Error(`Content-Length value must be a number. Got ${t}`));this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock((async()=>{const t=void 0!==this.options.contentDecoder?await this.options.contentDecoder.decode(e):e,n=await this.options.contentTypeDecoder.decode(t,this.options);this.callback(n)})).catch((e=>{this.fireError(e)}))}}catch(e){this.fireError(e)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,i.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},23193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const i=n(69590),r=n(78585),s=n(94323),o=n(62676);var a,c;!function(e){e.is=function(e){let t=e;return t&&r.func(t.dispose)&&r.func(t.onClose)&&r.func(t.onError)&&r.func(t.write)}}(a||(t.MessageWriter=a={}));class u{constructor(){this.errorEmitter=new o.Emitter,this.closeEmitter=new o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=u,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,i.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,i.default)().applicationJson.encoder}}}(c||(c={})),t.WriteableStreamMessageWriter=class extends u{constructor(e,t){super(),this.writable=e,this.options=c.fromOptions(t),this.errorCount=0,this.writeSemaphore=new s.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},96177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const i=n(78585);var r,s;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(r||(t.ErrorCodes=r={}));class o extends Error{constructor(e,t,n){super(t),this.code=i.number(e)?e:r.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,o.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=o;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},function(e){e.isRequest=function(e){const t=e;return t&&i.string(t.method)&&(i.string(t.id)||i.number(t.id))},e.isNotification=function(e){const t=e;return t&&i.string(t.method)&&void 0===e.id},e.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(i.string(t.id)||i.number(t.id)||null===t.id)}}(s||(t.Message=s={}))},69590:(e,t)=>{"use strict";let n;function i(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(i||(i={})),t.default=i},94323:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const i=n(69590);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,i.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},74996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=void 0;const i=n(59850);var r;!function(e){e.Continue=0,e.Cancelled=1}(r||(r={})),t.SharedArraySenderStrategy=class{constructor(){this.buffers=new Map}enableCancellation(e){if(null===e.id)return;const t=new SharedArrayBuffer(4);new Int32Array(t,0,1)[0]=r.Continue,this.buffers.set(e.id,t),e.$cancellationData=t}async sendCancellation(e,t){const n=this.buffers.get(t);if(void 0===n)return;const i=new Int32Array(n,0,1);Atomics.store(i,0,r.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}};class s{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===r.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class o{constructor(e){this.token=new s(e)}cancel(){}dispose(){}}t.SharedArrayReceiverStrategy=class{constructor(){this.kind="request"}createCancellationTokenSource(e){const t=e.$cancellationData;return void 0===t?new i.CancellationTokenSource:new o(t)}}},77123:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.PortMessageWriter=t.PortMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const s=n(9571);s.default.install();const o=n(16928),a=n(70857),c=n(76982),u=n(69278),l=n(53281);r(n(53281),t);class h extends l.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),l.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=h;class p extends l.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;const t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=p;class d extends l.AbstractMessageReader{constructor(e){super(),this.onData=new l.Emitter,e.on("close",(()=>this.fireClose)),e.on("error",(e=>this.fireError(e))),e.on("message",(e=>{this.onData.fire(e)}))}listen(e){return this.onData.event(e)}}t.PortMessageReader=d;class f extends l.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",(()=>this.fireClose())),e.on("error",(e=>this.fireError(e)))}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.PortMessageWriter=f;class m extends l.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,s.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=m;class g extends l.WriteableStreamMessageWriter{constructor(e,t){super((0,s.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=g;class y extends l.ReadableStreamMessageReader{constructor(e,t){super((0,s.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=y;class b extends l.WriteableStreamMessageWriter{constructor(e,t){super((0,s.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=b;const v=process.env.XDG_RUNTIME_DIR,w=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,c.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?o.join(v,`vscode-ipc-${e}.sock`):o.join(a.tmpdir(),`vscode-${e}.sock`);const n=w.get(process.platform);return void 0!==n&&t.length>n&&(0,s.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const i=new Promise(((e,t)=>{n=e}));return new Promise(((r,s)=>{let o=(0,u.createServer)((e=>{o.close(),n([new m(e,t),new g(e,t)])}));o.on("error",s),o.listen(e,(()=>{o.removeListener("error",s),r({onConnected:()=>i})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,u.createConnection)(e);return[new m(n,t),new g(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const i=new Promise(((e,t)=>{n=e}));return new Promise(((r,s)=>{const o=(0,u.createServer)((e=>{o.close(),n([new m(e,t),new g(e,t)])}));o.on("error",s),o.listen(e,"127.0.0.1",(()=>{o.removeListener("error",s),r({onConnected:()=>i})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,u.createConnection)(e,"127.0.0.1");return[new m(n,t),new g(n,t)]},t.createMessageConnection=function(e,t,n,i){n||(n=l.NullLogger);const r=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new y(e):e,s=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new b(t):t;return l.ConnectionStrategy.is(i)&&(i={connectionStrategy:i}),(0,l.createMessageConnection)(r,s,n,i)}},9571:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(39023),r=n(53281);class s extends r.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return s.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new i.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}s.emptyBuffer=Buffer.allocUnsafe(0);class o{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),r.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),r.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),r.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),r.Disposable.create((()=>this.stream.off("data",e)))}}class a{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),r.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),r.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),r.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,i)=>{const r=e=>{null==e?n():i(e)};"string"==typeof e?this.stream.write(e,t,r):this.stream.write(e,r)}))}end(){this.stream.end()}}const c=Object.freeze({messageBuffer:Object.freeze({create:e=>new s(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new i.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new o(e),asWritableStream:e=>new a(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const i=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(i)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const i=setInterval(e,t,...n);return{dispose:()=>clearInterval(i)}}})});function u(){return c}!function(e){e.install=function(){r.RAL.install(c)}}(u||(u={})),t.default=u},52067:(e,t,n)=>{"use strict";e.exports=n(77123)},96353:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,r(n(67354),t),r(n(14294),t);var s=n(79214);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return s.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return s.DiagnosticPullMode}}),r(n(29538),t)},60490:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const i=this.client,s=this.middleware,o=(e,t,n)=>{const s=i.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return i.sendRequest(r.CallHierarchyPrepareRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>i.handleFailedRequest(r.CallHierarchyPrepareRequest.type,n,e,null)))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,t,n,o):o(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,i=this.middleware,s=(e,t)=>{const i={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(r.CallHierarchyIncomingCallsRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(r.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,s):s(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,i=this.middleware,s=(e,t)=>{const i={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(r.CallHierarchyOutgoingCallsRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(r.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,s):s(e,t)}}class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,s.ensure)((0,s.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.callHierarchyProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=this._client,n=new o(t);return[i.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},29538:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const i=n(91398),r=n(67354),s=n(11798),o=n(7605),a=n(58319),c=n(80483),u=n(69032),l=n(69403),h=n(14294),p=n(79214),d=n(61872),f=n(95199),m=n(31596),g=n(96535),y=n(41507),b=n(30600),v=n(21400),w=n(29014),_=n(49228),S=n(58312),E=n(90420),x=n(18430),D=n(88140),C=n(17298),k=n(50875),R=n(7656),A=n(69073),T=n(59084),O=n(93515),F=n(70191),P=n(45432),I=n(66804),L=n(73963),N=n(7061),B=n(16258),j=n(89870),M=n(60490),$=n(67691),q=n(2485),U=n(74913),H=n(74622),W=n(13131),z=n(72767),G=n(23370);var V,K,Y,J,Z,X,Q,ee,te;!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(V||(t.RevealOutputChannelOn=V={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(K||(t.ErrorAction=K={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(Y||(t.CloseAction=Y={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(J||(t.State=J={})),function(e){e.off="off",e.on="on"}(Z||(t.SuspendMode=Z={})),function(e){e.sanitizeIsTrusted=function(e){return null!=e&&!!("boolean"==typeof e||"object"==typeof e&&null!==e&&a.stringArray(e.enabledCommands))&&e}}(X||(X={}));class ne{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:K.Continue}:{action:K.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Y.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:Y.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Y.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(Q||(Q={})),function(e){e.is=function(e){return e&&r.MessageReader.is(e.reader)&&r.MessageWriter.is(e.writer)}}(ee||(t.MessageTransports=ee={}));class ie{constructor(e,t,n){this._traceFormat=r.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const i={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(i.isTrusted=X.sanitizeIsTrusted(n.markdown.isTrusted),i.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??V.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:i,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Q.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new c.Semaphore(1),this._pendingChangeDelayer=new c.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new r.Emitter,this._stateChangeEmitter=new r.Emitter,this._trace=r.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=s.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=o.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=i.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case Q.Starting:return J.Starting;case Q.Running:return J.Running;default:return J.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===Q.StartFailed||this.$state===Q.Stopping||this.$state===Q.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));const n=await this.$start();this._didChangeTextDocumentFeature.syncKind===r.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(n);const i=this._clientOptions.middleware?.sendRequest;if(void 0!==i){let s,o;return 1===t.length?r.CancellationToken.is(t[0])?o=t[0]:s=t[0]:2===t.length&&(s=t[0],o=t[1]),i(e,s,o,((e,t,i)=>{const r=[];return void 0!==t&&r.push(t),void 0!==i&&r.push(i),n.sendRequest(e,...r)}))}return n.sendRequest(e,...t)}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const i=this.activeConnection();let r;return void 0!==i?(this._requestDisposables.set(n,i.onRequest(e,t)),r={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),r={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),r.dispose()}}}async sendNotification(e,t){if(this.$state===Q.StartFailed||this.$state===Q.Stopping||this.$state===Q.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));const n=this._didChangeTextDocumentFeature.syncKind===r.TextDocumentSyncKind.Full;let i;n&&"string"!=typeof e&&e.method===r.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._pendingOpenNotifications.add(i));const s=await this.$start();n&&await this.sendPendingFullTextDocumentChanges(s),void 0!==i&&this._pendingOpenNotifications.delete(i);const o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const i=this.activeConnection();let r;return void 0!==i?(this._notificationDisposables.set(n,i.onNotification(e,t)),r={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),r={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),r.dispose()}}}async sendProgress(e,t,n){if(this.$state===Q.StartFailed||this.$state===Q.Stopping||this.$state===Q.Stopped)return Promise.reject(new r.ResponseError(r.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const i=this.activeConnection();let s;const o=this._clientOptions.middleware?.handleWorkDoneProgress,a=r.WorkDoneProgress.is(e)&&void 0!==o?e=>{o(t,e,(()=>n(e)))}:n;return void 0!==i?(this._progressDisposables.set(t,i.onProgress(e,t,a)),s={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),s={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),s.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new ne(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof r.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}debug(e,t,n=!0){this.logOutputMessage(r.MessageType.Debug,V.Debug,"Debug",e,t,n)}info(e,t,n=!0){this.logOutputMessage(r.MessageType.Info,V.Info,"Info",e,t,n)}warn(e,t,n=!0){this.logOutputMessage(r.MessageType.Warning,V.Warn,"Warn",e,t,n)}error(e,t,n=!0){this.logOutputMessage(r.MessageType.Error,V.Error,"Error",e,t,n)}logOutputMessage(e,t,n,i,r,s){this.outputChannel.appendLine(`[${n.padEnd(5)} - ${(new Date).toLocaleTimeString()}] ${i}`),null!=r&&this.outputChannel.appendLine(this.data2String(r)),("force"===s||s&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===r.MessageType.Error?i.window.showErrorMessage:e===r.MessageType.Warning?i.window.showWarningMessage:i.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Q.Initial||this.$state===Q.Stopping||this.$state===Q.Stopped}needsStop(){return this.$state===Q.Starting||this.$state===Q.Running}activeConnection(){return this.$state===Q.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===Q.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===Q.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?i.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):i.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=Q.Starting;try{const e=await this.createConnection();e.onNotification(r.LogMessageNotification.type,(e=>{switch(e.type){case r.MessageType.Error:this.error(e.message,void 0,!1);break;case r.MessageType.Warning:this.warn(e.message,void 0,!1);break;case r.MessageType.Info:this.info(e.message,void 0,!1);break;case r.MessageType.Debug:this.debug(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(r.ShowMessageNotification.type,(e=>{switch(e.type){case r.MessageType.Error:i.window.showErrorMessage(e.message);break;case r.MessageType.Warning:i.window.showWarningMessage(e.message);break;case r.MessageType.Info:default:i.window.showInformationMessage(e.message)}})),e.onRequest(r.ShowMessageRequest.type,(e=>{let t;switch(e.type){case r.MessageType.Error:t=i.window.showErrorMessage;break;case r.MessageType.Warning:t=i.window.showWarningMessage;break;case r.MessageType.Info:default:t=i.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(r.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(r.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await i.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await i.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=Q.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,i)=>{e=n,t=i})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,s]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],o={processId:null,clientInfo:{name:i.env.appName,version:i.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(i.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:r.Trace.toString(this._trace),workspaceFolders:s};if(this.fillInitializeParams(o),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,o);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);o.workDoneToken=t;try{const t=await this.doInitialize(e,o);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==r.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let i;this._initializeResult=n,this.$state=Q.Running,a.number(n.capabilities.textDocumentSync)?i=n.capabilities.textDocumentSync===r.TextDocumentSyncKind.None?{openClose:!1,change:r.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(i=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(r.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(r.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(r.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(r.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(r.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof r.ResponseError&&t.data&&t.data.retry?i.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&i.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=i.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===Q.Stopped||this.$state===Q.Initial)return;if(this.$state===Q.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==Q.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Q.Stopping,this.cleanUp(e);const i=new Promise((e=>{(0,r.RAL)().timer.setTimeout(e,t)})),s=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([i,s]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=Q.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.clear();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{await t.sendNotification(r.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents}),t._fileEvents=[]}))}const i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock((async()=>{try{const t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(0===t.length)return;for(const n of t){const t=this.code2ProtocolConverter.asChangeTextDocumentParams(n);await e.sendNotification(r.DidChangeTextDocumentNotification.type,t),this._didChangeTextDocumentFeature.notificationSent(n,r.DidChangeTextDocumentNotification.type,t)}}catch(e){throw this.error("Sending pending changes failed",e,!1),e}}))}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger((async()=>{const e=this.activeConnection();void 0!==e?await this.sendPendingFullTextDocumentChanges(e):this.triggerPendingChangeDelivery()})).catch((e=>this.error("Delivering pending changes failed",e,!1)))}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,r.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const r=new i.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:r},this._p2c.asDiagnostics(n,r.token).then((e=>{if(!r.token.isCancellationRequested){const n=this._p2c.asUri(t),i=this.clientOptions.middleware;i.handleDiagnostics?i.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}getLocale(){return i.env.language}async $start(){if(this.$state===Q.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,i,s){const o=new re,c=(0,r.createProtocolConnection)(e,t,o,s);return c.onError((e=>{n(e[0],e[1],e[2])})),c.onClose(i),{listen:()=>c.listen(),sendRequest:c.sendRequest,onRequest:c.onRequest,hasPendingResponse:c.hasPendingResponse,sendNotification:c.sendNotification,onNotification:c.onNotification,onProgress:c.onProgress,sendProgress:c.sendProgress,trace:(e,t,n)=>{const i={sendNotification:!1,traceFormat:r.TraceFormat.Text};return void 0===n?c.trace(e,t,i):(a.boolean(n),c.trace(e,t,n))},initialize:e=>c.sendRequest(r.InitializeRequest.type,e),shutdown:()=>c.sendRequest(r.ShutdownRequest.type,void 0),exit:()=>c.sendNotification(r.ExitNotification.type),end:()=>c.end(),dispose:()=>c.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n).catch((e=>this.error("Handling connection error failed",e)))}),(()=>{this.handleConnectionClosed().catch((e=>this.error("Handling connection close failed",e)))}),this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===Q.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:Y.DoNotRestart};if(this.$state!==Q.Stopping)try{e=await this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===Y.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,!0!==e.handled&&"force"),this.cleanUp("stop"),this.$state===Q.Starting?this.$state=Q.StartFailed:this.$state=Q.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Y.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=Q.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}async handleConnectionError(e,t,n){const i=await this._clientOptions.errorHandler.error(e,t,n);i.action===K.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.\n${e.message}\nShutting down server.`,void 0,!0!==i.handled&&"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)}))):this.error(i.message??`Client ${this._name}: connection to server is erroring.\n${e.message}`,void 0,!0!==i.handled&&"force")}hookConfigurationChanged(e){this._listeners.push(i.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=i.workspace.getConfiguration(this._id);let s=r.Trace.Off,o=r.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?s=r.Trace.fromString(e):(s=r.Trace.fromString(n.get("trace.server.verbosity","off")),o=r.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=s,this._traceFormat=o,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(r.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),h.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(r.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof d.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){const e=new Map;this.registerFeature(new f.ConfigurationFeature(this)),this.registerFeature(new m.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new m.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded((()=>{this.triggerPendingChangeDelivery()})),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new m.WillSaveFeature(this)),this.registerFeature(new m.WillSaveWaitUntilFeature(this)),this.registerFeature(new m.DidSaveTextDocumentFeature(this)),this.registerFeature(new m.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new T.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new g.CompletionItemFeature(this)),this.registerFeature(new y.HoverFeature(this)),this.registerFeature(new v.SignatureHelpFeature(this)),this.registerFeature(new b.DefinitionFeature(this)),this.registerFeature(new E.ReferencesFeature(this)),this.registerFeature(new w.DocumentHighlightFeature(this)),this.registerFeature(new _.DocumentSymbolFeature(this)),this.registerFeature(new S.WorkspaceSymbolFeature(this)),this.registerFeature(new x.CodeActionFeature(this)),this.registerFeature(new D.CodeLensFeature(this)),this.registerFeature(new C.DocumentFormattingFeature(this)),this.registerFeature(new C.DocumentRangeFormattingFeature(this)),this.registerFeature(new C.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new k.RenameFeature(this)),this.registerFeature(new R.DocumentLinkFeature(this)),this.registerFeature(new A.ExecuteCommandFeature(this)),this.registerFeature(new f.SyncConfigurationFeature(this)),this.registerFeature(new P.TypeDefinitionFeature(this)),this.registerFeature(new F.ImplementationFeature(this)),this.registerFeature(new O.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new I.WorkspaceFoldersFeature(this)),this.registerFeature(new L.FoldingRangeFeature(this)),this.registerFeature(new N.DeclarationFeature(this)),this.registerFeature(new B.SelectionRangeFeature(this)),this.registerFeature(new j.ProgressFeature(this)),this.registerFeature(new M.CallHierarchyFeature(this)),this.registerFeature(new $.SemanticTokensFeature(this)),this.registerFeature(new U.LinkedEditingFeature(this)),this.registerFeature(new q.DidCreateFilesFeature(this)),this.registerFeature(new q.DidRenameFilesFeature(this)),this.registerFeature(new q.DidDeleteFilesFeature(this)),this.registerFeature(new q.WillCreateFilesFeature(this)),this.registerFeature(new q.WillRenameFilesFeature(this)),this.registerFeature(new q.WillDeleteFilesFeature(this)),this.registerFeature(new H.TypeHierarchyFeature(this)),this.registerFeature(new W.InlineValueFeature(this)),this.registerFeature(new z.InlayHintsFeature(this)),this.registerFeature(new p.DiagnosticFeature(this)),this.registerFeature(new d.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(te.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,h.ensure)(e,"workspace").applyEdit=!0;const t=(0,h.ensure)((0,h.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[r.ResourceOperationKind.Create,r.ResourceOperationKind.Rename,r.ResourceOperationKind.Delete],t.failureHandling=r.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,h.ensure)((0,h.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[r.DiagnosticTag.Unnecessary,r.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const i=(0,h.ensure)(e,"window");(0,h.ensure)(i,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,h.ensure)(i,"showDocument").support=!0;const s=(0,h.ensure)(e,"general");s.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ie.RequestsToCancelOnContentModified)},s.regularExpressions={engine:"ECMAScript",version:"ES2020"},s.markdown={parser:"marked",version:"1.1.0"},s.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(s.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){const t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,(e=>this.doRegisterCapability(e))):this.doRegisterCapability(e)}async doRegisterCapability(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const i={id:t.id,registerOptions:n};try{e.register(i)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){const t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,(e=>this.doUnregisterCapability(e))):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(const t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),s=new Map;i.workspace.textDocuments.forEach((e=>s.set(e.uri.toString(),e)));let o=!1;if(t.documentChanges)for(const e of t.documentChanges)if(r.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=this._p2c.asUri(e.textDocument.uri).toString(),n=s.get(t);if(n&&n.version!==e.textDocument.version){o=!0;break}}return o?Promise.resolve({applied:!1}):a.asPromise(i.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,s,o=!0){if(n instanceof r.ResponseError){if(n.code===r.ErrorCodes.PendingResponseRejected||n.code===r.ErrorCodes.ConnectionInactive)return s;if(n.code===r.LSPErrorCodes.RequestCancelled||n.code===r.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return s;throw void 0!==n.data?new h.LSPCancellationError(n.data):new i.CancellationError}if(n.code===r.LSPErrorCodes.ContentModified){if(ie.RequestsToCancelOnContentModified.has(e.method)||ie.CancellableResolveCalls.has(e.method))throw new i.CancellationError;return s}}throw this.error(`Request ${e.method} failed.`,n,o),n}}t.BaseLanguageClient=ie,ie.RequestsToCancelOnContentModified=new Set([r.SemanticTokensRequest.method,r.SemanticTokensRangeRequest.method,r.SemanticTokensDeltaRequest.method]),ie.CancellableResolveCalls=new Set([r.CompletionResolveRequest.method,r.CodeLensResolveRequest.method,r.CodeActionResolveRequest.method,r.InlayHintResolveRequest.method,r.DocumentLinkResolveRequest.method,r.WorkspaceSymbolResolveRequest.method]);class re{error(e){(0,r.RAL)().console.error(e)}warn(e){(0,r.RAL)().console.warn(e)}info(e){(0,r.RAL)().console.info(e)}log(e){(0,r.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[new G.InlineCompletionItemFeature(e)]}}(te||(t.ProposedFeatures=te={}))},18430:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const i=n(91398),r=n(67354),s=n(69032),o=n(14294);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[r.CodeActionKind.Empty,r.CodeActionKind.QuickFix,r.CodeActionKind.Refactor,r.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorRewrite,r.CodeActionKind.Source,r.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,i)=>{const s=this._client,o=async(e,t,n,i)=>{const o={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),range:s.code2ProtocolConverter.asRange(t),context:s.code2ProtocolConverter.asCodeActionContextSync(n)};return s.sendRequest(r.CodeActionRequest.type,o,i).then((e=>i.isCancellationRequested||null==e?null:s.protocol2CodeConverter.asCodeActionResult(e,i)),(e=>s.handleFailedRequest(r.CodeActionRequest.type,i,e,null)))},a=s.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,i,o):o(e,t,n,i)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,i=this._client.middleware,s=async(e,t)=>n.sendRequest(r.CodeActionResolveRequest.type,n.code2ProtocolConverter.asCodeActionSync(e),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(i,t)),(i=>n.handleFailedRequest(r.CodeActionResolveRequest.type,t,i,e)));return i.resolveCodeAction?i.resolveCodeAction(e,t,s):s(e,t)}:void 0};return[i.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},11798:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const i=n(91398),r=n(67354),s=n(58319),o=n(80483),a=n(17652),c=n(65588),u=n(97424),l=n(9206),h=n(37894),p=n(38717),d=n(67321),f=n(56144),m=n(7511);var g;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(g||(g={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function y(e){return{uri:t(e.uri)}}function b(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function v(e){switch(e){case i.TextDocumentSaveReason.Manual:return r.TextDocumentSaveReason.Manual;case i.TextDocumentSaveReason.AfterDelay:return r.TextDocumentSaveReason.AfterDelay;case i.TextDocumentSaveReason.FocusOut:return r.TextDocumentSaveReason.FocusOut}return r.TextDocumentSaveReason.Manual}function w(e){switch(e){case i.CompletionTriggerKind.TriggerCharacter:return r.CompletionTriggerKind.TriggerCharacter;case i.CompletionTriggerKind.TriggerForIncompleteCompletions:return r.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return r.CompletionTriggerKind.Invoked}}function _(e){switch(e){case i.SignatureHelpTriggerKind.Invoke:return r.SignatureHelpTriggerKind.Invoked;case i.SignatureHelpTriggerKind.TriggerCharacter:return r.SignatureHelpTriggerKind.TriggerCharacter;case i.SignatureHelpTriggerKind.ContentChange:return r.SignatureHelpTriggerKind.ContentChange}}function S(e){return{label:e.label}}function E(e){return{label:e.label,parameters:(t=e.parameters,t.map(S))};var t}function x(e){return{line:e.line,character:e.character}}function D(e){return null==e?e:{line:e.line>r.uinteger.MAX_VALUE?r.uinteger.MAX_VALUE:e.line,character:e.character>r.uinteger.MAX_VALUE?r.uinteger.MAX_VALUE:e.character}}function C(e){return null==e?e:{start:D(e.start),end:D(e.end)}}function k(e){return null==e?e:r.Location.create(n(e.uri),C(e.range))}function R(e){switch(e){case i.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case i.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case i.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case i.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}}function A(e){switch(e){case i.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case i.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function T(e){return{message:e.message,location:k(e.location)}}function O(e){const t=r.Diagnostic.create(C(e.range),e.message),i=e instanceof h.ProtocolDiagnostic?e:void 0;void 0!==i&&void 0!==i.data&&(t.data=i.data);const o=function(e){if(null!=e)return s.number(e)||s.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return h.DiagnosticCode.is(o)?void 0!==i&&i.hasDiagnosticCode?t.code=o:(t.code=o.value,t.codeDescription={href:o.target}):t.code=o,s.number(e.severity)&&(t.severity=R(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=A(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(T)),e.source&&(t.source=e.source),t}function F(e,t){return null==e?e:o.map(e,O,t)}function P(e){return null==e?e:e.map(O)}function I(e){if(e===i.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function L(e){return{range:C(e.range),newText:e.newText}}function N(e){return null==e?e:e.map(L)}function B(e){return e<=i.SymbolKind.TypeParameter?e+1:r.SymbolKind.Property}function j(e){return e}function M(e){return e.map(j)}function $(e){switch(e){case i.CodeActionTriggerKind.Invoke:return r.CodeActionTriggerKind.Invoked;case i.CodeActionTriggerKind.Automatic:return r.CodeActionTriggerKind.Automatic;default:return}}function q(e){if(null!=e)return e.value}function U(e){let t=r.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function H(e){const t=r.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=k(e.location)),void 0!==e.command&&(t.command=U(e.command)),void 0!==e.tooltip&&(t.tooltip=W(e.tooltip)),t}function W(e){return"string"==typeof e?e:{kind:r.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:y,asTextDocumentItem:b,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:b(e)}},asChangeTextDocumentParams:function(e,n,i){if(function(e){const t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){const t=e;return!!t.document&&!!t.contentChanges}(e)){const r=i;return{textDocument:{uri:t(n),version:r},contentChanges:e.contentChanges.map((e=>{const t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:y(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:y(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:y(e.document),reason:v(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:y(e),position:x(t)}},asCompletionParams:function(e,t,n){return{textDocument:y(e),position:x(t),context:{triggerKind:w(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:y(e),position:x(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:_(n.triggerKind),activeSignatureHelp:(i=n.activeSignatureHelp,void 0===i?i:{signatures:(r=i.signatures,r.map(E)),activeSignature:i.activeSignature,activeParameter:i.activeParameter})}};var i,r},asWorkerPosition:x,asRange:C,asRanges:function(e){return e.map(C)},asPosition:D,asPositions:function(e,t){return o.map(e,D,t)},asPositionsSync:function(e){return e.map(D)},asLocation:k,asDiagnosticSeverity:R,asDiagnosticTag:A,asDiagnostic:O,asDiagnostics:F,asDiagnosticsSync:P,asCompletionItem:function(e,t=!1){let n,o;s.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(o={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==o&&(c.labelDetails=o);let u=e instanceof a.default?e:void 0;var l,h;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case r.MarkupKind.PlainText:return{kind:e,value:t};case r.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,s,o=r.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,s=t.textEdit.range):t.insertText instanceof i.SnippetString?(o=r.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(s=t.range),e.insertTextFormat=o,t.fromEdit&&void 0!==n&&void 0!==s?e.textEdit=function(e,t){return g.is(t)?r.InsertReplaceEdit.create(e,C(t.inserting),C(t.replacing)):{newText:e,range:C(t)}}(n,s):e.insertText=n}(c,e),s.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(h=u&&u.originalItemKind)?h:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=N(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=U(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const p=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=I(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==p&&p.length>0){const e=p.indexOf(i.CompletionItemTag.Deprecated);-1!==e&&p.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==p&&p.length>0&&(c.tags=p),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=r.InsertTextMode.adjustIndentation),c},asTextEdit:L,asSymbolKind:B,asSymbolTag:j,asSymbolTags:M,asReferenceParams:function(e,t,n){return{textDocument:y(e),position:x(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=r.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=q(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await F(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=U(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionSync:function(e){let t=r.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(t.data=e.data),void 0!==e.kind&&(t.kind=q(e.kind)),void 0!==e.diagnostics&&(t.diagnostics=P(e.diagnostics)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(t.command=U(e.command)),void 0!==e.isPreferred&&(t.isPreferred=e.isPreferred),void 0!==e.disabled&&(t.disabled={reason:e.disabled.reason}),t},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&s.string(e.only.value)&&(n=[e.only.value]),r.CodeActionContext.create(await F(e.diagnostics,t),n,$(e.triggerKind))},asCodeActionContextSync:function(e){if(null==e)return e;let t;return e.only&&s.string(e.only.value)&&(t=[e.only.value]),r.CodeActionContext.create(P(e.diagnostics),t,$(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:r.InlineValueContext.create(e.frameId,C(e.stoppedLocation))},asCommand:U,asCodeLens:function(e){let t=r.CodeLens.create(C(e.range));return e.command&&(t.command=U(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:y(e)}},asCodeLensParams:function(e){return{textDocument:y(e)}},asDocumentLink:function(e){let t=r.DocumentLink.create(C(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let i=e instanceof u.default?e:void 0;return i&&i.data&&(t.data=i.data),t},asDocumentLinkParams:function(e){return{textDocument:y(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:B(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=M(e.tags)),e instanceof p.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:B(e.kind),uri:n(e.uri),range:C(e.range),selectionRange:C(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=M(e.tags)),e instanceof d.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(H),n=r.InlayHint.create(D(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=N(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=W(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof m.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof f.default?{name:e.name,kind:B(e.kind),location:e.hasRange?k(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:B(e.kind),location:k(e.location)};return void 0!==e.tags&&(n.tags=M(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n},asInlineCompletionParams:function(e,t,n){return{context:r.InlineCompletionContext.create(n.triggerKind,n.selectedCompletionInfo),textDocument:y(e),position:D(t)}}}}},88140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const i=n(91398),r=n(67354),s=n(69032),o=n(14294);class a extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.CodeLensRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,o.ensure)((0,o.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,s={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(r.CodeLensRequest.type,t,e,null))),s=n.middleware;return s.provideCodeLenses?s.provideCodeLenses(e,t,i):i(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(i)),(i=>n.handleFailedRequest(r.CodeLensResolveRequest.type,t,i,e))),s=n.middleware;return s.resolveCodeLens?s.resolveCodeLens(e,t,i):i(e,t)}:void 0};return[i.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),s),{provider:s,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},93515:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentColorRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.colorProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const i=this._client,s=(e,t,n)=>{const s={color:e,textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:i.code2ProtocolConverter.asRange(t.range)};return i.sendRequest(r.ColorPresentationRequest.type,s,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>i.handleFailedRequest(r.ColorPresentationRequest.type,n,e,null)))},o=i.middleware;return o.provideColorPresentations?o.provideColorPresentations(e,t,n,s):s(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,i=(e,t)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(r.DocumentColorRequest.type,i,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(r.DocumentColorRequest.type,t,e,null)))},s=n.middleware;return s.provideDocumentColors?s.provideDocumentColors(e,t,i):i(e,t)}};return[i.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=o},96535:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032),a=[r.CompletionItemKind.Text,r.CompletionItemKind.Method,r.CompletionItemKind.Function,r.CompletionItemKind.Constructor,r.CompletionItemKind.Field,r.CompletionItemKind.Variable,r.CompletionItemKind.Class,r.CompletionItemKind.Interface,r.CompletionItemKind.Module,r.CompletionItemKind.Property,r.CompletionItemKind.Unit,r.CompletionItemKind.Value,r.CompletionItemKind.Enum,r.CompletionItemKind.Keyword,r.CompletionItemKind.Snippet,r.CompletionItemKind.Color,r.CompletionItemKind.File,r.CompletionItemKind.Reference,r.CompletionItemKind.Folder,r.CompletionItemKind.EnumMember,r.CompletionItemKind.Constant,r.CompletionItemKind.Struct,r.CompletionItemKind.Event,r.CompletionItemKind.Operator,r.CompletionItemKind.TypeParameter];class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[r.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[r.InsertTextMode.asIs,r.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=r.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],s=e.allCommitCharacters,o=e.documentSelector,a={provideCompletionItems:(e,t,n,i)=>{const o=this._client,a=this._client.middleware,c=(e,t,n,i)=>o.sendRequest(r.CompletionRequest.type,o.code2ProtocolConverter.asCompletionParams(e,t,n),i).then((e=>i.isCancellationRequested?null:o.protocol2CodeConverter.asCompletionResult(e,s,i)),(e=>o.handleFailedRequest(r.CompletionRequest.type,i,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,i,n,c):c(e,t,i,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const i=this._client,s=this._client.middleware,o=(e,n)=>i.sendRequest(r.CompletionResolveRequest.type,i.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asCompletionItem(e)),(t=>i.handleFailedRequest(r.CompletionResolveRequest.type,n,t,e)));return s.resolveCompletionItem?s.resolveCompletionItem(e,n,o):o(e,n)}:void 0};return[i.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(o),a,...n),a]}}t.CompletionItemFeature=c},95199:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const i=n(91398),r=n(67354),s=n(58319),o=n(69032),a=n(14294);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(r.ConfigurationRequest.type,((t,n)=>{let i=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},r=e.middleware.workspace;return r&&r.configuration?r.configuration(t,n,i):i(t)}))}getConfiguration(e,t){let n=null;if(t){let r=t.lastIndexOf(".");if(-1===r)n=c(i.workspace.getConfiguration(void 0,e).get(t));else{let s=i.workspace.getConfiguration(t.substr(0,r),e);s&&(n=c(s.get(t.substr(r+1))))}}else{let t=i.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}clear(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return r.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:o.generateUuid(),registerOptions:{section:e}})}register(e){let t=i.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}clear(){for(const e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0}onDidChangeConfiguration(e,t){if(this.isCleared)return;let n;if(n=s.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const i=async e=>void 0===e?this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(r.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let o=this._client.middleware.workspace?.didChangeConfiguration;(o?o(n,i):i(n)).catch((e=>{this._client.error(`Sending notification ${r.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let i=n[t[e]];i||(i=Object.create(null),n[t[e]]=i),n=i}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,r=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),u=null;if(u=a>=0?i.workspace.getConfiguration(o.substr(0,a),n).get(o.substr(a+1)):i.workspace.getConfiguration(void 0,n).get(o),u){let n=e[s].split(".");t(r,n)[n[n.length-1]]=c(u)}}return r}}},7061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.declarationProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.DeclarationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>i.handleFailedRequest(r.DeclarationRequest.type,n,e,null))),o=i.middleware;return o.provideDeclaration?o.provideDeclaration(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=o},30600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.DefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.DefinitionRequest.type,n,e,null))),o=i.middleware;return o.provideDefinition?o.provideDefinition(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},79214:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const i=n(86045),r=n(91398),s=n(67354),o=n(69032),a=n(14294);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,h,p,d;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u||(t.vsdiag=u={})),function(e){e.onType="onType",e.onSave="onSave"}(l||(t.DiagnosticPullMode=l={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(h||(h={}));class f{constructor(){this.open=new Set,this._onOpen=new r.EventEmitter,this._onClose=new r.EventEmitter,f.fillTabResources(this.open);void 0!==r.window.tabGroups.onDidChangeTabs?this.disposable=r.window.tabGroups.onDidChangeTabs((e=>{if(0===e.closed.length&&0===e.opened.length)return;const t=this.open,n=new Set;f.fillTabResources(n);const i=new Set,s=new Set(n);for(const e of t.values())n.has(e)?s.delete(e):i.add(e);if(this.open=n,i.size>0){const e=new Set;for(const t of i)e.add(r.Uri.parse(t));this._onClose.fire(e)}if(s.size>0){const e=new Set;for(const t of s)e.add(r.Uri.parse(t));this._onOpen.fire(e)}})):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof r.Uri?r.window.activeTextEditor?.document.uri===e:r.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof r.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=new Set;return f.fillTabResources(new Set,e),e}static fillTabResources(e,t){const n=e??new Set;for(const e of r.window.tabGroups.all)for(const i of e.tabs){const e=i.input;let s;e instanceof r.TabInputText?s=e.uri:e instanceof r.TabInputTextDiff?s=e.modified:e instanceof r.TabInputCustom&&(s=e.uri),void 0===s||n.has(s.toString())||(n.add(s.toString()),void 0!==t&&t.add(s))}}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(p||(p={})),function(e){e.asKey=function(e){return e instanceof r.Uri?e.toString():e.uri.toString()}}(d||(d={}));class m{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const i=e===p.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=t instanceof r.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=i.get(s);return void 0===c&&(c={document:o,pulledVersion:a,resultId:void 0},i.set(s,c)),c}update(e,t,n,i){const s=e===p.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=t instanceof r.Uri?[t.toString(),t,n,i]:[t.uri.toString(),t.uri,t.version,n];let l=s.get(o);void 0===l?(l={document:a,pulledVersion:c,resultId:u},s.set(o,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=d.asKey(t);(e===p.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=d.asKey(t);return(e===p.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=d.asKey(t),i=e===p.document?this.documentPullStates:this.workspacePullStates;return i.get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class g{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new r.EventEmitter,this.provider=this.createProvider(),this.diagnostics=r.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new m,this.workspaceErrorCounter=0}knows(e,t){const n=t instanceof r.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(n.toString())}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof r.Uri,i=n?e:e.uri,o=i.toString();t=n?t:e.version;const c=this.openRequests.get(o),l=n?this.documentStates.track(p.document,e,t):this.documentStates.track(p.document,e);if(void 0===c){const n=new r.CancellationTokenSource;let c,d;this.openRequests.set(o,{state:h.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&s.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(d={state:h.outDated,document:e}),!(void 0===d&&t instanceof r.CancellationError))throw t;d={state:h.reschedule,document:e}}if(d=d??this.openRequests.get(o),void 0===d)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${o}`),void this.diagnostics.delete(i);if(this.openRequests.delete(o),!this.tabs.isVisible(e))return void this.documentStates.unTrack(p.document,e);if(d.state===h.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,c.items),l.pulledVersion=t,l.resultId=c.resultId),d.state===h.reschedule&&this.pull(e)}else c.state===h.active?(c.tokenSource.cancel(),this.openRequests.set(o,{state:h.reschedule,document:c.document})):c.state===h.outDated&&this.openRequests.set(o,{state:h.reschedule,document:c.document})}forgetDocument(e){const t=e instanceof r.Uri?e:e.uri,n=t.toString(),i=this.openRequests.get(n);this.options.workspaceDiagnostics?void 0!==i?this.openRequests.set(n,{state:h.reschedule,document:e}):this.pull(e,(()=>{this.forget(p.document,e)})):(void 0!==i&&(i.state===h.active&&i.tokenSource.cancel(),this.openRequests.set(n,{state:h.outDated,document:e})),this.diagnostics.delete(t),this.forget(p.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,s.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||s.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,s.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new r.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(p.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(p.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const i=(e,t,n)=>{const i={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof r.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(s.DocumentDiagnosticRequest.type,i,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===s.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(s.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(e,t,n,i):i(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const i=async e=>e.kind===s.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},r=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,o.generateUuid)(),c=this.client.onProgress(s.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await i(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:r(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(s.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const r={items:[]};for(const t of e.items)r.items.push(await i(t));return c.dispose(),n(r),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(s.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===h.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:h.outDated,document:t.document});this.diagnostics.dispose()}}class y{constructor(e){this.diagnosticRequestor=e,this.documents=new s.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=d.asKey(e);this.documents.has(t)||(this.documents.set(t,e,s.Touch.Last),this.trigger())}remove(e){const t=d.asKey(e);this.documents.delete(t),0===this.documents.size?this.stop():t===this.endDocumentKey()&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,s.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=d.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(t,e,s.Touch.Last),t===this.endDocumentKey()&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}endDocumentKey(){return void 0!==this.endDocument?d.asKey(this.endDocument):void 0}}class b{constructor(e,t,n){const o=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof r.Uri?(e=>{const t=n.documentSelector;if(void 0!==o.match)return o.match(t,e);for(const n of t)if(s.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new i.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):r.languages.match(a,e)>0&&t.isVisible(e),h=e=>e instanceof r.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new g(e,t,n),this.backgroundScheduler=new y(this.diagnosticRequestor);const d=e=>{u(e)&&n.interFileDependencies&&!h(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=r.window.activeTextEditor?.document,r.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&d(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const f=e.getFeature(s.DidOpenTextDocumentNotification.method);c.push(f.onNotificationSent((e=>{const t=e.textDocument;this.diagnosticRequestor.knows(p.document,t)||u(t)&&this.diagnosticRequestor.pull(t,(()=>{d(t)}))}))),c.push(t.onOpen((e=>{for(const t of e){if(this.diagnosticRequestor.knows(p.document,t))continue;const e=t.toString();let n;for(const t of r.workspace.textDocuments)if(e===t.uri.toString()){n=t;break}void 0!==n&&u(n)&&this.diagnosticRequestor.pull(n,(()=>{d(n)}))}})));const m=new Set;for(const e of r.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{d(e)})),m.add(e.uri.toString()));if(!0===o.onTabs)for(const e of t.getTabResources())!m.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{d(e)}));if(!0===o.onChange){const t=e.getFeature(s.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.textDocument;void 0!==o.filter&&o.filter(t,l.onType)||!this.diagnosticRequestor.knows(p.document,t)||this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===o.onSave){const t=e.getFeature(s.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.textDocument;void 0!==o.filter&&o.filter(t,l.onSave)||!this.diagnosticRequestor.knows(p.document,t)||this.diagnosticRequestor.pull(e.textDocument,(()=>{this.backgroundScheduler.trigger()}))})))}const b=e.getFeature(s.DidCloseTextDocumentNotification.method);c.push(b.onNotificationSent((e=>{this.cleanUpDocument(e.textDocument)}))),t.onClose((e=>{for(const t of e)this.cleanUpDocument(t)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of r.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=r.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(p.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}}class v extends a.TextDocumentLanguageFeature{constructor(e){super(e,s.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(s.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,i]=this.getRegistration(t,e.diagnosticProvider);n&&i&&this.register({id:n,registerOptions:i})}clear(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.clear()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new f);const t=new b(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=v},29014:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.DocumentHighlightRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>i.handleFailedRequest(r.DocumentHighlightRequest.type,n,e,null))),o=i.middleware;return o.provideDocumentHighlights?o.provideDocumentHighlights(e,t,n,s):s(e,t,n)}};return[i.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},7656:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(r.DocumentLinkRequest.type,t,e,null))),s=n.middleware;return s.provideDocumentLinks?s.provideDocumentLinks(e,t,i):i(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let i=(e,t)=>n.sendRequest(r.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((i=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(i)),(i=>n.handleFailedRequest(r.DocumentLinkResolveRequest.type,t,i,e)));const s=n.middleware;return s.resolveDocumentLink?s.resolveDocumentLink(e,t,i):i(e,t)}:void 0};return[i.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},49228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);t.SupportedSymbolKinds=[r.SymbolKind.File,r.SymbolKind.Module,r.SymbolKind.Namespace,r.SymbolKind.Package,r.SymbolKind.Class,r.SymbolKind.Method,r.SymbolKind.Property,r.SymbolKind.Field,r.SymbolKind.Constructor,r.SymbolKind.Enum,r.SymbolKind.Interface,r.SymbolKind.Function,r.SymbolKind.Variable,r.SymbolKind.Constant,r.SymbolKind.String,r.SymbolKind.Number,r.SymbolKind.Boolean,r.SymbolKind.Array,r.SymbolKind.Object,r.SymbolKind.Key,r.SymbolKind.Null,r.SymbolKind.EnumMember,r.SymbolKind.Struct,r.SymbolKind.Event,r.SymbolKind.Operator,r.SymbolKind.TypeParameter],t.SupportedSymbolTags=[r.SymbolTag.Deprecated];class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,i=async(e,t)=>{try{const i=await n.sendRequest(r.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t);if(t.isCancellationRequested||null==i)return null;if(0===i.length)return[];{const e=i[0];return r.DocumentSymbol.is(e)?await n.protocol2CodeConverter.asDocumentSymbols(i,t):await n.protocol2CodeConverter.asSymbolInformations(i,t)}}catch(e){return n.handleFailedRequest(r.DocumentSymbolRequest.type,t,e,null)}},s=n.middleware;return s.provideDocumentSymbols?s.provideDocumentSymbols(e,t,i):i(e,t)}},s=void 0!==e.label?{label:e.label}:void 0;return[i.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,s),n]}}t.DocumentSymbolFeature=a},69073:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const i=n(91398),r=n(67354),s=n(69032),o=n(14294);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return r.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:s.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,s=(e,n)=>{let i={command:e,arguments:n};return t.sendRequest(r.ExecuteCommandRequest.type,i).then(void 0,(e=>t.handleFailedRequest(r.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const r of e.registerOptions.commands)t.push(i.commands.registerCommand(r,((...e)=>n.executeCommand?n.executeCommand(r,e,s):s(r,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}clear(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},14294:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const i=n(91398),r=n(67354),s=n(58319),o=n(69032);class a extends i.CancellationError{constructor(e){super(),this.data=e}}var c,u;t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},function(e){e.is=function(e){const t=e;return null!=t&&s.func(t.fillClientCapabilities)&&s.func(t.initialize)&&s.func(t.getState)&&s.func(t.clear)&&(void 0===t.fillInitializeParams||s.func(t.fillInitializeParams))}}(c||(t.StaticFeature=c={})),function(e){e.is=function(e){const t=e;return null!=t&&s.func(t.fillClientCapabilities)&&s.func(t.initialize)&&s.func(t.getState)&&s.func(t.clear)&&(void 0===t.fillInitializeParams||s.func(t.fillInitializeParams))&&s.func(t.register)&&s.func(t.unregister)&&void 0!==t.registrationType}}(u||(t.DynamicFeature=u={}));class l{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of i.workspace.textDocuments)if(i.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=l,t.TextDocumentEventFeature=class extends l{static textDocumentFilter(e,t){for(const n of e)if(i.languages.match(n,t)>0)return!0;return!1}constructor(e,t,n,r,s,o,a){super(e),this._event=t,this._type=n,this._middleware=r,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new i.EventEmitter}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t),this.notificationSent(this.getTextDocument(e),this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(i.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends l{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}clear(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(r.TextDocumentRegistrationOptions.is(t)){const n=r.StaticRegistrationOptions.hasId(t)?t.id:o.generateUuid(),i=t.documentSelector??e;if(i)return[n,Object.assign({},t,{documentSelector:i})]}else if(s.boolean(t)&&!0===t||r.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];const n=s.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[o.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return s.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&i.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}clear(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},2485:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const i=n(91398),r=n(86045),s=n(67354),o=n(69032);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,i,r){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=i,this._serverCapability=r,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:o.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new r.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),r=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(r)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===i.FileType.File&&t.kind===s.FileOperationPatternKind.file||e===i.FileType.Directory&&t.kind===s.FileOperationPatternKind.folder)return!0}else if(t.kind===s.FileOperationPatternKind.folder&&await u.getFileType(n)===i.FileType.Directory&&t.matcher.match(`${r}/`))return!0;return!1}))),r=e.files.filter(((e,t)=>n[t]));return{...e,files:r}}static async getFileType(e){try{return(await i.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){const t={dot:!0};return!0===e?.ignoreCase&&(t.nocase=!0),t}}class l extends u{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r),this._notificationType=n,this._accessUri=s,this._createParams=o}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class h extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,i.workspace.onDidCreateFiles,s.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends h{constructor(e){super(e,i.workspace.onDidRenameFiles,s.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=i.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends h{constructor(e){super(e,i.workspace.onDidDeleteFiles,s.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=i.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class p extends u{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r),this._requestType=n,this._accessUri=s,this._createParams=o}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends p{constructor(e){super(e,i.workspace.onWillCreateFiles,s.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends p{constructor(e){super(e,i.workspace.onWillRenameFiles,s.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends p{constructor(e){super(e,i.workspace.onWillDeleteFiles,s.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},59084:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return r.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let s=!0,o=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(s=!!(n.kind&r.WatchKind.Create),o=!!(n.kind&r.WatchKind.Change),a=!!(n.kind&r.WatchKind.Delete));const c=i.workspace.createFileSystemWatcher(e,!s,!o,!a);this.hookListeners(c,s,o,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,i,s){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Created})),null,s),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Changed})),null,s),i&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:r.FileChangeType.Deleted})),null,s)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}clear(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},73963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[r.FoldingRangeKind.Comment,r.FoldingRangeKind.Imports,r.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0,s.ensure)((0,s.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.FoldingRangeRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeFoldingRange.fire()}));let[n,i]=this.getRegistration(t,e.foldingRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,s={onDidChangeFoldingRanges:n.event,provideFoldingRanges:(e,t,n)=>{const i=this._client,s=(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e)};return i.sendRequest(r.FoldingRangeRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>i.handleFailedRequest(r.FoldingRangeRequest.type,n,e,null)))},o=i.middleware;return o.provideFoldingRanges?o.provideFoldingRanges(e,t,n,s):s(e,0,n)}};return[i.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),s),{provider:s,onDidChangeFoldingRange:n}]}}t.FoldingRangeFeature=o},17298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const i=n(91398),r=n(67354),s=n(69032),o=n(14294);var a;!function(e){e.fromConfiguration=function(e){const t=i.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const i=this._client,s=(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),options:i.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return i.sendRequest(r.DocumentFormattingRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,n)),(e=>i.handleFailedRequest(r.DocumentFormattingRequest.type,n,e,null)))},o=i.middleware;return o.provideDocumentFormattingEdits?o.provideDocumentFormattingEdits(e,t,n,s):s(e,t,n)}};return[i.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){const t=(0,o.ensure)((0,o.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>{const o={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),range:s.code2ProtocolConverter.asRange(t),options:s.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return s.sendRequest(r.DocumentRangeFormattingRequest.type,o,i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,i)),(e=>s.handleFailedRequest(r.DocumentRangeFormattingRequest.type,i,e,null)))},c=s.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,i,o):o(e,t,n,i)}};return e.rangesSupport&&(n.provideDocumentRangesFormattingEdits=(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>{const o={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),ranges:s.code2ProtocolConverter.asRanges(t),options:s.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return s.sendRequest(r.DocumentRangesFormattingRequest.type,o,i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,i)),(e=>s.handleFailedRequest(r.DocumentRangesFormattingRequest.type,i,e,null)))},c=s.middleware;return c.provideDocumentRangesFormattingEdits?c.provideDocumentRangesFormattingEdits(e,t,n,i,o):o(e,t,n,i)}),[i.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends o.TextDocumentLanguageFeature{constructor(e){super(e,r.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,o.ensure)((0,o.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,i,s)=>{const o=this._client,c=(e,t,n,i,s)=>{let c={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(e),position:o.code2ProtocolConverter.asPosition(t),ch:n,options:o.code2ProtocolConverter.asFormattingOptions(i,a.fromConfiguration(e))};return o.sendRequest(r.DocumentOnTypeFormattingRequest.type,c,s).then((e=>s.isCancellationRequested?null:o.protocol2CodeConverter.asTextEdits(e,s)),(e=>o.handleFailedRequest(r.DocumentOnTypeFormattingRequest.type,s,e,null)))},u=o.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,i,s,c):c(e,t,n,i,s)}},s=e.moreTriggerCharacter||[];return[i.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...s),n]}}t.DocumentOnTypeFormattingFeature=l},41507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.HoverRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[r.MarkupKind.Markdown,r.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.HoverRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asHover(e)),(e=>i.handleFailedRequest(r.HoverRequest.type,n,e,null))),o=i.middleware;return o.provideHover?o.provideHover(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},70191:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.implementationProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.ImplementationRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.ImplementationRequest.type,n,e,null))),o=i.middleware;return o.provideImplementation?o.provideImplementation(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=o},72767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,s.ensure)((0,s.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,i]=this.getRegistration(t,e.inlayHintProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,s={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const i=this._client,s=async(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t)};try{const e=await i.sendRequest(r.InlayHintRequest.type,s,n);return n.isCancellationRequested?null:i.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return i.handleFailedRequest(r.InlayHintRequest.type,n,e,null)}},o=i.middleware;return o.provideInlayHints?o.provideInlayHints(e,t,n,s):s(e,t,n)}};return s.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,i=async(e,t)=>{try{const i=await n.sendRequest(r.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const s=n.protocol2CodeConverter.asInlayHint(i,t);return t.isCancellationRequested?null:s}catch(e){return n.handleFailedRequest(r.InlayHintResolveRequest.type,t,e,null)}},s=n.middleware;return s.resolveInlayHint?s.resolveInlayHint(e,t,i):i(e,t)}:void 0,[this.registerProvider(t,s),{provider:s,onDidChangeInlayHints:n}]}registerProvider(e,t){return i.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=o},23370:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCompletionItemFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.InlineCompletionRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"inlineCompletion").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.inlineCompletionProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideInlineCompletionItems:(e,t,n,i)=>{const s=this._client,o=this._client.middleware,a=(e,t,n,i)=>s.sendRequest(r.InlineCompletionRequest.type,s.code2ProtocolConverter.asInlineCompletionParams(e,t,n),i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asInlineCompletionResult(e,i)),(e=>s.handleFailedRequest(r.InlineCompletionRequest.type,i,e,null)));return o.provideInlineCompletionItems?o.provideInlineCompletionItems(e,t,n,i,a):a(e,t,n,i)}};return[i.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.InlineCompletionItemFeature=a},13131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.InlineValueRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,i]=this.getRegistration(t,e.inlineValueProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=new i.EventEmitter,s={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>{const o={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),range:s.code2ProtocolConverter.asRange(t),context:s.code2ProtocolConverter.asInlineValueContext(n)};return s.sendRequest(r.InlineValueRequest.type,o,i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asInlineValues(e,i)),(e=>s.handleFailedRequest(r.InlineValueRequest.type,i,e,null)))},a=s.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,i,o):o(e,t,n,i)}};return[this.registerProvider(t,s),{provider:s,onDidChangeInlineValues:n}]}registerProvider(e,t){return i.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=o},74913:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.LinkedEditingRangeRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>i.handleFailedRequest(r.LinkedEditingRangeRequest.type,n,e,null))),o=i.middleware;return o.provideLinkedEditingRange?o.provideLinkedEditingRange(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=o},61872:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const i=n(91398),r=n(86045),s=n(67354),o=n(69032),a=n(58319);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,h,p,d;!function(e){let t;!function(t){function n(e,t){return e.map((e=>o(e,t)))}function r(e){return c(new Set,e)}function o(e,t){const n=s.NotebookCell.create(function(e){switch(e){case i.NotebookCellKind.Markup:return s.NotebookCellKind.Markup;case i.NotebookCellKind.Code:return s.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=r(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const i of t)if(null!==i&&"object"==typeof i||Array.isArray(i))n.push(c(e,i));else{if(i instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(i)}return n}{const n=Object.keys(t),i=Object.create(null);for(const r of n){const n=t[r];if(null!==n&&"object"==typeof n||Array.isArray(n))i[r]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");i[r]=n}}return i}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,i){const o=s.NotebookDocument.create(i.asUri(e.uri),e.notebookType,e.version,n(t,i));return Object.keys(e.metadata).length>0&&(o.metadata=r(e.metadata)),o},t.asNotebookCells=n,t.asMetadata=r,t.asNotebookCell=o,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e,e.document.uri,e.document.version);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const i=Object.create(null);if(t.metadata&&(i.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const r=Object.create(null),s=t.cells;s.structure&&(r.structure={array:{start:s.structure.array.start,deleteCount:s.structure.array.deleteCount,cells:void 0!==s.structure.array.cells?s.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==s.structure.didOpen?s.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==s.structure.didClose?s.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==s.data&&(r.data=s.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==s.textContent&&(r.textContent=s.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(r).length>0&&(i.cells=r)}return i}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,i=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!i||i&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),s=Array.isArray(t);if(r!==s)return!1;if(r&&s){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}if(i(e)&&i(t)){const i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;if(i.sort(),r.sort(),!n(i,r))return!1;for(let r=0;r<i.length;r++){const s=i[r];if(!n(e[s],t[s]))return!1}return!0}return!1}function i(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,i){const r=e.length,s=n.length;let o=0;for(;o<s&&o<r&&t(e[o],n[o],i);)o++;if(o<s&&o<r){let a=r-1,c=s-1;for(;a>=0&&c>=0&&t(e[a],n[c],i);)a--,c--;const u=a+1-o,l=o===c+1?void 0:n.slice(o,c+1);return void 0!==l?{start:o,deleteCount:u,cells:l}:{start:o,deleteCount:u}}return o<s?{start:o,deleteCount:0,cells:n.slice(o)}:o<r?{start:o,deleteCount:r-o}:void 0},e.isObjectLiteral=i}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new r.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(h||(h={})),function(e){function t(e,t,n,i){return void 0===t&&void 0===n?{notebook:e,language:i}:{notebook:{notebookType:e,scheme:t,pattern:n},language:i}}e.asDocumentSelector=function(e){const n=e.notebookSelector,i=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",r="string"==typeof e.notebook?void 0:e.notebook?.scheme,s="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const o of e.cells)i.push(t(n,r,s,o.language));else i.push(t(n,r,s,void 0))}return i}}(p||(p={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(d||(d={}));class f{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)),i.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of i.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);i.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&i.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),i.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of i.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return i.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===i.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),r=this.cellMatches(e,t);if(void 0!==n){const i=n.uris.has(t.document.uri.toString());if(r&&i||!r&&!i)return;if(r){const t=this.getMatchingCells(e);if(void 0!==t){const i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==i&&this.doSendChange(i,t).catch((()=>{}))}}}else r&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==i.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const i=t.document.uri,r=n.cells.findIndex((e=>e.document.uri.toString()===i.toString()));if(-1!==r)if(0===r&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),i=t.splice(r,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:r,deleteCount:1},didClose:i}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const i=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==i&&this.doSendChange(i,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const i=this.getMatchingCells(t);if(void 0===i)return;this.didOpen(t,i,n)}else{const i=this.getMatchingCells(t);if(void 0===i)return void this.didClose(t,n);const r=this.asNotebookDocumentChangeEvent(e.notebook,e,n,i);void 0!==r&&this.doSendChange(r,i).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),i=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(s.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:i})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),d.create(t)),void 0!==i?.didOpen?i.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(s.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),d.create(t??[])),void 0!==i?.didChange?i?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(s.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(s.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==i?.didClose?i.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,i){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const r={notebook:e};let s;if(void 0!==t?.metadata&&(r.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];s=new Set(i.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!s.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(r.cells=r.cells??{},r.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==i){const e=n.cells,t=i,s=l.computeDiff(e,t,!1);let o,a;if(void 0!==s){o=void 0===s.cells?new Map:new Map(s.cells.map((e=>[e.document.uri.toString(),e]))),a=0===s.deleteCount?new Map:new Map(e.slice(s.start,s.start+s.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))o.has(e)&&(a.delete(e),o.delete(e));r.cells=r.cells??{};const t=[],n=[];if(o.size>0||a.size>0){for(const e of o.values())t.push(e);for(const e of a.values())n.push(e)}r.cells.structure={array:s,didOpen:t,didClose:n}}}return Object.keys(r).length>1?r:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector)if(void 0===n.notebook||h.matchNotebook(n.notebook,e)){const i=this.filterCells(e,t,n.cells);return 0===i.length?void 0:i}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const i=void 0!==n?t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))})):t;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}}class m{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=s.NotebookDocumentSyncRegistrationType.type,i.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didOpenNotebookCellTextDocument(t,n)})),i.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==m.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof f&&t.didChangeNotebookCellTextDocument(n,e)})),i.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(p.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??o.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new f(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}clear(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==m.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&i.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of i.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=m,m.CellScheme="vscode-notebook-cell"},89870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const i=n(67354),r=n(69403);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:i.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(i.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new r.ProgressPart(this._client,e.token,t))}))}clear(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},69403:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const i=n(91398),r=n(67354),s=n(58319);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(r.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&i.window.withProgress({location:i.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(r.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&s.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(s.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},38717:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.CallHierarchyItem{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r,s),void 0!==o&&(this.data=o)}}t.default=r},9206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=r},65588:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.CodeLens{constructor(e){super(e)}}t.default=r},17652:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.CompletionItem{constructor(e){super(e)}}t.default=r},7605:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const i=n(91398),r=n(67354),s=n(58319),o=n(80483),a=n(17652),c=n(65588),u=n(97424),l=n(9206),h=n(37894),p=n(38717),d=n(67321),f=n(56144),m=n(7511),g=n(67354);var y;!function(e){e.is=function(e){let t=e;return t&&s.string(t.language)&&s.string(t.value)}}(y||(y={})),t.createConverter=function(e,t,n){const b=e||(e=>i.Uri.parse(e));function v(e){return b(e)}function w(e){let t=new h.ProtocolDiagnostic(E(e.range),e.message,D(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)r.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:v(e.codeDescription.href)}:t.code=e.code;else if(h.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:v(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const r=e[n];t[n]=new i.DiagnosticRelatedInformation(B(r.location),r.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=_(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function _(e){switch(e){case r.DiagnosticTag.Unnecessary:return i.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return i.DiagnosticTag.Deprecated;default:return}}function S(e){return e?new i.Position(e.line,e.character):void 0}function E(e){return e?new i.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function x(e,t){return o.map(e,(e=>new i.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function D(e){if(null==e)return i.DiagnosticSeverity.Error;switch(e){case r.DiagnosticSeverity.Error:return i.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return i.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return i.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return i.DiagnosticSeverity.Hint}return i.DiagnosticSeverity.Error}function C(e){if(s.string(e))return e;switch(e.kind){case r.MarkupKind.Markdown:return k(e.value);case r.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function k(e){let s;if(void 0===e||"string"==typeof e)s=new i.MarkdownString(e);else switch(e.kind){case r.MarkupKind.Markdown:s=new i.MarkdownString(e.value);break;case r.MarkupKind.PlainText:s=new i.MarkdownString,s.appendText(e.value);break;default:s=new i.MarkdownString,s.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return s.isTrusted=t,s.supportHtml=n,s}function R(e){if(e===r.CompletionItemTag.Deprecated)return i.CompletionItemTag.Deprecated}function A(e,t,n,o,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=R(n);void 0!==e&&t.push(e)}return t}(e.tags),h=function(e){return r.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),p=new a.default(h);e.detail&&(p.detail=e.detail),e.documentation&&(p.documentation=C(e.documentation),p.documentationFormat=s.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(p.filterText=e.filterText);const d=function(e,t,n){const s=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(o=e.textEdit,r.InsertReplaceEdit.is(o)?[{inserting:E(o.insert),replacing:E(o.replace)},o.newText]:[E(o.range),o.newText]):[t,e.textEditText??e.label];return s===r.InsertTextFormat.Snippet?{text:new i.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}return e.insertText?s===r.InsertTextFormat.Snippet?{text:new i.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0;var o}(e,n,c);if(d&&(p.insertText=d.text,p.range=d.range,p.fromEdit=d.fromEdit),s.number(e.kind)){let[t,n]=(f=e.kind,r.CompletionItemKind.Text<=f&&f<=r.CompletionItemKind.TypeParameter?[f-1,void 0]:[i.CompletionItemKind.Text,f]);p.kind=t,n&&(p.originalItemKind=n)}var f;e.sortText&&(p.sortText=e.sortText),e.additionalTextEdits&&(p.additionalTextEdits=F(e.additionalTextEdits));const m=void 0!==e.commitCharacters?s.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;m&&(p.commitCharacters=m.slice()),e.command&&(p.command=K(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(p.deprecated=e.deprecated,!0===e.deprecated&&l.push(i.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(p.preselect=e.preselect);const g=e.data??u;void 0!==g&&(p.data=g),l.length>0&&(p.tags=l);const y=e.insertTextMode??o;return void 0!==y&&(p.insertTextMode=y,y===r.InsertTextMode.asIs&&(p.keepWhitespace=!0)),p}function T(e){if(e)return new i.TextEdit(E(e.range),e.newText)}async function O(e,t){if(e)return o.map(e,T,t)}function F(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=T(e[n]);return t}async function P(e,t){return o.mapAsync(e,I,t)}async function I(e,t){let n=new i.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=C(e.documentation)),void 0!==e.parameters&&(n.parameters=await L(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function L(e,t){return o.map(e,N,t)}function N(e){let t=new i.ParameterInformation(e.label);return e.documentation&&(t.documentation=C(e.documentation)),t}function B(e){return e?new i.Location(b(e.uri),E(e.range)):void 0}function j(e){if(!e)return;let t={targetUri:b(e.targetUri),targetRange:E(e.targetRange),originSelectionRange:E(e.originSelectionRange),targetSelectionRange:E(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function M(e,t){if(e){if(s.array(e)){if(0===e.length)return[];if(r.LocationLink.is(e[0])){const n=e;return o.map(n,j,t)}{const n=e;return o.map(n,B,t)}}return r.LocationLink.is(e)?[j(e)]:B(e)}}function $(e){let t=new i.DocumentHighlight(E(e.range));return s.number(e.kind)&&(t.kind=q(e.kind)),t}function q(e){switch(e){case r.DocumentHighlightKind.Text:return i.DocumentHighlightKind.Text;case r.DocumentHighlightKind.Read:return i.DocumentHighlightKind.Read;case r.DocumentHighlightKind.Write:return i.DocumentHighlightKind.Write}return i.DocumentHighlightKind.Text}function U(e){return e<=r.SymbolKind.TypeParameter?e-1:i.SymbolKind.Property}function H(e){if(e===r.SymbolTag.Deprecated)return i.SymbolTag.Deprecated}function W(e){if(null==e)return;const t=[];for(const n of e){const e=H(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function z(e){const t=e.data,n=e.location,r=void 0===n.range||void 0!==t?new f.default(e.name,U(e.kind),e.containerName??"",void 0===n.range?b(n.uri):new i.Location(b(e.location.uri),E(n.range)),t):new i.SymbolInformation(e.name,U(e.kind),e.containerName??"",new i.Location(b(e.location.uri),E(n.range)));return V(r,e),r}function G(e){let t=new i.DocumentSymbol(e.name,e.detail||"",U(e.kind),E(e.range),E(e.selectionRange));if(V(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(G(t));t.children=n}return t}function V(e,t){e.tags=W(t.tags),t.deprecated&&(e.tags?e.tags.includes(i.SymbolTag.Deprecated)||(e.tags=e.tags.concat(i.SymbolTag.Deprecated)):e.tags=[i.SymbolTag.Deprecated])}function K(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const Y=new Map;function J(e){if(null==e)return;let t=Y.get(e);if(t)return t;let n=e.split(".");t=i.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function Z(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=J(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=w(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await Q(e.edit,t)),void 0!==e.command&&(n.command=K(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function X(e){if(!e)return;let t=new c.default(E(e.range));return e.command&&(t.command=K(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function Q(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const i=e.changeAnnotations;await o.forEach(Object.keys(i),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(i[e]);n.set(e,t)}),t)}const s=e=>void 0===e?void 0:n.get(e),a=new i.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await o.forEach(n,(e=>{if(r.CreateFile.is(e))a.createFile(b(e.uri),e.options,s(e.annotationId));else if(r.RenameFile.is(e))a.renameFile(b(e.oldUri),b(e.newUri),e.options,s(e.annotationId));else if(r.DeleteFile.is(e))a.deleteFile(b(e.uri),e.options,s(e.annotationId));else{if(!r.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=b(e.textDocument.uri);for(const n of e.edits)r.AnnotatedTextEdit.is(n)?a.replace(t,E(n.range),n.newText,s(n.annotationId)):a.replace(t,E(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await o.forEach(Object.keys(n),(e=>{a.set(b(e),F(n[e]))}),t)}return a}function ee(e){let t=E(e.range),n=e.target?v(e.target):void 0,i=new u.default(t,n);return void 0!==e.tooltip&&(i.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(i.data=e.data),i}function te(e){return new i.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new i.ColorInformation(E(e.range),te(e.color))}function ie(e){let t=new i.ColorPresentation(e.label);return t.additionalTextEdits=F(e.additionalTextEdits),e.textEdit&&(t.textEdit=T(e.textEdit)),t}function re(e){if(e)switch(e){case r.FoldingRangeKind.Comment:return i.FoldingRangeKind.Comment;case r.FoldingRangeKind.Imports:return i.FoldingRangeKind.Imports;case r.FoldingRangeKind.Region:return i.FoldingRangeKind.Region}}function se(e){return new i.FoldingRange(e.startLine,e.endLine,re(e.kind))}function oe(e){return new i.SelectionRange(E(e.range),e.parent?oe(e.parent):void 0)}function ae(e){return r.InlineValueText.is(e)?new i.InlineValueText(E(e.range),e.text):r.InlineValueVariableLookup.is(e)?new i.InlineValueVariableLookup(E(e.range),e.variableName,e.caseSensitiveLookup):new i.InlineValueEvaluatableExpression(E(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await o.map(e.label,ue,t),i=new m.default(S(e.position),n);return void 0!==e.kind&&(i.kind=e.kind),void 0!==e.textEdits&&(i.textEdits=await O(e.textEdits,t)),void 0!==e.tooltip&&(i.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(i.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(i.paddingRight=e.paddingRight),void 0!==e.data&&(i.data=e.data),i}function ue(e){const t=new i.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=B(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=K(e.command)),t}function le(e){return"string"==typeof e?e:k(e)}function he(e){if(null===e)return;const t=new p.default(U(e.kind),e.name,e.detail||"",v(e.uri),E(e.range),E(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}async function pe(e,t){return new i.CallHierarchyIncomingCall(he(e.from),await x(e.fromRanges,t))}async function de(e,t){return new i.CallHierarchyOutgoingCall(he(e.to),await x(e.fromRanges,t))}function fe(e){return new i.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function me(e){if(null===e)return;let t=new d.default(U(e.kind),e.name,e.detail||"",v(e.uri),E(e.range),E(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}function ge(e){let t,n;t="string"==typeof e.insertText?e.insertText:new i.SnippetString(e.insertText.value),e.command&&(n=K(e.command));const r=new i.InlineCompletionItem(t,E(e.range),n);return e.filterText&&(r.filterText=e.filterText),r}return Y.set(r.CodeActionKind.Empty,i.CodeActionKind.Empty),Y.set(r.CodeActionKind.QuickFix,i.CodeActionKind.QuickFix),Y.set(r.CodeActionKind.Refactor,i.CodeActionKind.Refactor),Y.set(r.CodeActionKind.RefactorExtract,i.CodeActionKind.RefactorExtract),Y.set(r.CodeActionKind.RefactorInline,i.CodeActionKind.RefactorInline),Y.set(r.CodeActionKind.RefactorRewrite,i.CodeActionKind.RefactorRewrite),Y.set(r.CodeActionKind.Source,i.CodeActionKind.Source),Y.set(r.CodeActionKind.SourceOrganizeImports,i.CodeActionKind.SourceOrganizeImports),{asUri:v,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(g.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else g.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return o.map(e,w,t)},asDiagnostic:w,asRange:E,asRanges:x,asPosition:S,asDiagnosticSeverity:D,asDiagnosticTag:_,asHover:function(e){if(e)return new i.Hover(function(e){if(s.string(e))return k(e);if(y.is(e))return k().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=k();y.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return k(e)}(e.contents),E(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return o.map(e,(e=>A(e,t)),n);const s=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,i=e.itemDefaults?.commitCharacters??t;return r.Range.is(n)?{defaultRange:E(n),commitCharacters:i}:void 0!==n?{defaultRange:{inserting:E(n.insert),replacing:E(n.replace)},commitCharacters:i}:{defaultRange:void 0,commitCharacters:i}}(s,t),u=await o.map(s.items,(e=>A(e,c,a,s.itemDefaults?.insertTextMode,s.itemDefaults?.insertTextFormat,s.itemDefaults?.data)),n);return new i.CompletionList(u,s.isIncomplete)},asCompletionItem:A,asTextEdit:T,asTextEdits:O,asSignatureHelp:async function(e,t){if(!e)return;let n=new i.SignatureHelp;return s.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,s.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await P(e.signatures,t)),n},asSignatureInformations:P,asSignatureInformation:I,asParameterInformations:L,asParameterInformation:N,asDeclarationResult:async function(e,t){if(e)return M(e,t)},asDefinitionResult:async function(e,t){if(e)return M(e,t)},asLocation:B,asReferences:async function(e,t){if(e)return o.map(e,B,t)},asDocumentHighlights:async function(e,t){if(e)return o.map(e,$,t)},asDocumentHighlight:$,asDocumentHighlightKind:q,asSymbolKind:U,asSymbolTag:H,asSymbolTags:W,asSymbolInformations:async function(e,t){if(e)return o.map(e,z,t)},asSymbolInformation:z,asDocumentSymbols:async function(e,t){if(null!=e)return o.map(e,G,t)},asDocumentSymbol:G,asCommand:K,asCommands:async function(e,t){if(e)return o.map(e,K,t)},asCodeAction:Z,asCodeActionKind:J,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>J(e)))},asCodeActionResult:function(e,t){return o.mapAsync(e,(async e=>r.Command.is(e)?K(e):Z(e,t)),t)},asCodeLens:X,asCodeLenses:async function(e,t){if(e)return o.map(e,X,t)},asWorkspaceEdit:Q,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return o.map(e,ee,t)},asFoldingRangeKind:re,asFoldingRange:se,asFoldingRanges:async function(e,t){if(e)return o.map(e,se,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return o.map(e,ne,t)},asColorPresentation:ie,asColorPresentations:async function(e,t){if(e)return o.map(e,ie,t)},asSelectionRange:oe,asSelectionRanges:async function(e,t){return Array.isArray(e)?o.map(e,oe,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?o.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return o.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new i.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:fe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new i.SemanticTokensEdits(e.edits.map(fe),e.resultId)},asCallHierarchyItem:he,asCallHierarchyItems:async function(e,t){if(null!==e)return o.map(e,he,t)},asCallHierarchyIncomingCall:pe,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return o.mapAsync(e,pe,t)},asCallHierarchyOutgoingCall:de,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return o.mapAsync(e,de,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new i.LinkedEditingRanges(await x(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:me,asTypeHierarchyItems:async function(e,t){if(null!==e)return o.map(e,me,t)},asGlobPattern:function(e){if(s.string(e))return e;if(r.RelativePattern.is(e)){if(r.URI.is(e.baseUri))return new i.RelativePattern(v(e.baseUri),e.pattern);if(r.WorkspaceFolder.is(e.baseUri)){const t=i.workspace.getWorkspaceFolder(v(e.baseUri.uri));return void 0!==t?new i.RelativePattern(t,e.pattern):void 0}}},asInlineCompletionResult:async function(e,t){if(!e)return;if(Array.isArray(e))return o.map(e,(e=>ge(e)),t);const n=e,r=await o.map(n.items,(e=>ge(e)),t);return new i.InlineCompletionList(r)},asInlineCompletionItem:ge}}},37894:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const i=n(91398),r=n(58319);var s;!function(e){e.is=function(e){const t=e;return null!=t&&(r.number(t.value)||r.string(t.value))&&r.string(t.target)}}(s||(t.DiagnosticCode=s={}));class o extends i.Diagnostic{constructor(e,t,n,i){super(e,t,n),this.data=i,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=o},97424:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.DocumentLink{constructor(e,t){super(e,t)}}t.default=r},7511:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=r},67321:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.TypeHierarchyItem{constructor(e,t,n,i,r,s,o){super(e,t,n,i,r,s),void 0!==o&&(this.data=o)}}t.default=r},56144:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(91398);class r extends i.SymbolInformation{constructor(e,t,n,r,s){const o=!(r instanceof i.Uri);super(e,t,n,o?r:new i.Location(r,new i.Range(0,0,0,0))),this.hasRange=o,void 0!==s&&(this.data=s)}}t.default=r},90420:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.ReferencesRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>s.sendRequest(r.ReferencesRequest.type,s.code2ProtocolConverter.asReferenceParams(e,t,n),i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asReferences(e,i)),(e=>s.handleFailedRequest(r.ReferencesRequest.type,i,e,null))),a=s.middleware;return a.provideReferences?a.provideReferences(e,t,n,i,o):o(e,t,n,i)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},50875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const i=n(91398),r=n(67354),s=n(69032),o=n(58319),a=n(14294);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,r.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=r.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(o.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:s.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>{let o={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),newName:n};return s.sendRequest(r.RenameRequest.type,o,i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asWorkspaceEdit(e,i)),(e=>s.handleFailedRequest(r.RenameRequest.type,i,e,null,!1)))},a=s.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,i,o):o(e,t,n,i)},prepareRename:e.prepareProvider?(e,t,n)=>{const i=this._client,s=(e,t,n)=>{let s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t)};return i.sendRequest(r.PrepareRenameRequest.type,s,n).then((e=>n.isCancellationRequested?null:r.Range.is(e)?i.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&r.Range.is(e.range)?{range:i.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},o=i.middleware;return o.prepareRename?o.prepareRename(e,t,n,s):s(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&o.boolean(t.defaultBehavior)}}t.RenameFeature=c},16258:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.selectionRangeProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const i=this._client,s=async(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:i.code2ProtocolConverter.asPositionsSync(t,n)};return i.sendRequest(r.SelectionRangeRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>i.handleFailedRequest(r.SelectionRangeRequest.type,n,e,null)))},o=i.middleware;return o.provideSelectionRanges?o.provideSelectionRanges(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=o},67691:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(58319);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[r.SemanticTokenTypes.namespace,r.SemanticTokenTypes.type,r.SemanticTokenTypes.class,r.SemanticTokenTypes.enum,r.SemanticTokenTypes.interface,r.SemanticTokenTypes.struct,r.SemanticTokenTypes.typeParameter,r.SemanticTokenTypes.parameter,r.SemanticTokenTypes.variable,r.SemanticTokenTypes.property,r.SemanticTokenTypes.enumMember,r.SemanticTokenTypes.event,r.SemanticTokenTypes.function,r.SemanticTokenTypes.method,r.SemanticTokenTypes.macro,r.SemanticTokenTypes.keyword,r.SemanticTokenTypes.modifier,r.SemanticTokenTypes.comment,r.SemanticTokenTypes.string,r.SemanticTokenTypes.number,r.SemanticTokenTypes.regexp,r.SemanticTokenTypes.operator,r.SemanticTokenTypes.decorator],t.tokenModifiers=[r.SemanticTokenModifiers.declaration,r.SemanticTokenModifiers.definition,r.SemanticTokenModifiers.readonly,r.SemanticTokenModifiers.static,r.SemanticTokenModifiers.deprecated,r.SemanticTokenModifiers.abstract,r.SemanticTokenModifiers.async,r.SemanticTokenModifiers.modification,r.SemanticTokenModifiers.documentation,r.SemanticTokenModifiers.defaultLibrary],t.formats=[r.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(r.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,i]=this.getRegistration(t,e.semanticTokensProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n=o.boolean(e.full)?e.full:void 0!==e.full,s=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new i.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,i=n.middleware,s=(e,t)=>{const i={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(r.SemanticTokensRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(r.SemanticTokensRequest.type,t,e,null)))};return i.provideDocumentSemanticTokens?i.provideDocumentSemanticTokens(e,t,s):s(e,t)},provideDocumentSemanticTokensEdits:s?(e,t,n)=>{const i=this._client,s=i.middleware,o=(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return i.sendRequest(r.SemanticTokensDeltaRequest.type,s,n).then((async e=>n.isCancellationRequested?null:r.SemanticTokens.is(e)?await i.protocol2CodeConverter.asSemanticTokens(e,n):await i.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>i.handleFailedRequest(r.SemanticTokensDeltaRequest.type,n,e,null)))};return s.provideDocumentSemanticTokensEdits?s.provideDocumentSemanticTokensEdits(e,t,n,o):o(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const i=this._client,s=i.middleware,o=(e,t,n)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t)};return i.sendRequest(r.SemanticTokensRangeRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>i.handleFailedRequest(r.SemanticTokensRangeRequest.type,n,e,null)))};return s.provideDocumentRangeSemanticTokens?s.provideDocumentRangeSemanticTokens(e,t,n,o):o(e,t,n)}}:void 0,l=[],h=this._client,p=h.protocol2CodeConverter.asSemanticTokensLegend(e.legend),d=h.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(i.languages.registerDocumentSemanticTokensProvider(d,c,p)),void 0!==u&&l.push(i.languages.registerDocumentRangeSemanticTokensProvider(d,u,p)),[new i.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},21400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[r.MarkupKind.Markdown,r.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:o.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,i)=>{const s=this._client,o=(e,t,n,i)=>s.sendRequest(r.SignatureHelpRequest.type,s.code2ProtocolConverter.asSignatureHelpParams(e,t,n),i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asSignatureHelp(e,i)),(e=>s.handleFailedRequest(r.SignatureHelpRequest.type,i,e,null))),a=s.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,i,n,o):o(e,t,i,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const r=e.triggerCharacters||[];return i.languages.registerSignatureHelpProvider(n,t,...r)}{const r={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return i.languages.registerSignatureHelpProvider(n,t,r)}}}t.SignatureHelpFeature=a},31596:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(69032);class a extends s.TextDocumentEventFeature{constructor(e,t){super(e,i.workspace.onDidOpenTextDocument,r.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),s.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:o.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return r.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);i.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&i.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,i=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,i):i(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,n)}}t.DidOpenTextDocumentFeature=a;class c extends s.TextDocumentEventFeature{constructor(e,t,n){super(e,i.workspace.onDidCloseTextDocument,r.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),s.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=n}get registrationType(){return r.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:o.generateUuid(),registerOptions:{documentSelector:t}})}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString())}getTextDocument(e){return e}notificationSent(e,t,n){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,n)}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(i.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=c;class u extends s.DynamicDocumentFeature{constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new i.EventEmitter,this._onPendingChangeAdded=new i.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=r.TextDocumentSyncKind.None}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return r.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==r.TextDocumentSyncKind.None&&this.register({id:o.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=e.document.uri,n=e.document.version,s=[];for(const o of this._changeData.values())if(i.languages.match(o.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const i=this._client.middleware;if(o.syncKind===r.TextDocumentSyncKind.Incremental){const o=async e=>{const i=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e,t,n);await this._client.sendNotification(r.DidChangeTextDocumentNotification.type,i),this.notificationSent(e.document,r.DidChangeTextDocumentNotification.type,i)};s.push(i.didChange?i.didChange(e,(e=>o(e))):o(e))}else if(o.syncKind===r.TextDocumentSyncKind.Full){const t=async e=>{const t=e.document.uri.toString();this._pendingTextDocumentChanges.set(t,e.document),this._onPendingChangeAdded.fire()};s.push(i.didChange?i.didChange(e,(e=>t(e))):t(e))}}return Promise.all(s).then(void 0,(e=>{throw this._client.error(`Sending document notification ${r.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}notificationSent(e,t,n){this._onNotificationSent.fire({textDocument:e,type:t,params:n})}unregister(e){if(this._changeData.delete(e),0===this._changeData.size)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=r.TextDocumentSyncKind.None;else{this._syncKind=r.TextDocumentSyncKind.None;for(const e of this._changeData.values())if(this.updateSyncKind(e.syncKind),this._syncKind===r.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=r.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0)}getPendingDocumentChanges(e){if(0===this._pendingTextDocumentChanges.size)return[];let t;if(0===e.size)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else{t=[];for(const n of this._pendingTextDocumentChanges)e.has(n[0])||(t.push(n[1]),this._pendingTextDocumentChanges.delete(n[0]))}return t}getProvider(e){for(const t of this._changeData.values())if(i.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}updateSyncKind(e){if(this._syncKind!==r.TextDocumentSyncKind.Full)switch(e){case r.TextDocumentSyncKind.Full:this._syncKind=e;break;case r.TextDocumentSyncKind.Incremental:this._syncKind===r.TextDocumentSyncKind.None&&(this._syncKind=r.TextDocumentSyncKind.Incremental)}}}t.DidChangeTextDocumentFeature=u;class l extends s.TextDocumentEventFeature{constructor(e){super(e,i.workspace.onWillSaveTextDocument,r.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>s.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return r.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:o.generateUuid(),registerOptions:{documentSelector:t}})}getTextDocument(e){return e.document}}t.WillSaveFeature=l;class h extends s.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return r.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:o.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=i.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(s.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(r.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=h;class p extends s.TextDocumentEventFeature{constructor(e){super(e,i.workspace.onDidSaveTextDocument,r.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),s.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return r.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:o.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}getTextDocument(e){return e}}t.DidSaveTextDocumentFeature=p},45432:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,i]=this.getRegistration(t,e.typeDefinitionProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const i=this._client,s=(e,t,n)=>i.sendRequest(r.TypeDefinitionRequest.type,i.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>i.handleFailedRequest(r.TypeDefinitionRequest.type,n,e,null))),o=i.middleware;return o.provideTypeDefinition?o.provideTypeDefinition(e,t,n,s):s(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return i.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=o},74622:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const i=n(91398),r=n(67354),s=n(14294);class o{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const i=this.client,s=this.middleware,o=(e,t,n)=>{const s=i.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return i.sendRequest(r.TypeHierarchyPrepareRequest.type,s,n).then((e=>n.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>i.handleFailedRequest(r.TypeHierarchyPrepareRequest.type,n,e,null)))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,t,n,o):o(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,i=this.middleware,s=(e,t)=>{const i={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(r.TypeHierarchySupertypesRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(r.TypeHierarchySupertypesRequest.type,t,e,null)))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,s):s(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,i=this.middleware,s=(e,t)=>{const i={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(r.TypeHierarchySubtypesRequest.type,i,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(r.TypeHierarchySubtypesRequest.type,t,e,null)))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,s):s(e,t)}}class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,r.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,i]=this.getRegistration(t,e.typeHierarchyProvider);n&&i&&this.register({id:n,registerOptions:i})}registerLanguageProvider(e){const t=this._client,n=new o(t);return[i.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},80483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;const i=n(67354);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,i.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,i.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};let r=!1;t.setTestMode=function(){r=!0},t.clearTestMode=function(){r=!1};class s{constructor(e=15){this.yieldAfter=!0===r?Math.max(e,2):Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,r){if(0===e.length)return[];const o=new Array(e.length),a=new s(r?.yieldAfter);function c(n){a.start();for(let i=n;i<e.length;i++)if(o[i]=t(e[i]),a.shouldYield())return r?.yieldCallback&&r.yieldCallback(),i+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return o},t.mapAsync=async function(e,t,n,r){if(0===e.length)return[];const o=new Array(e.length),a=new s(r?.yieldAfter);async function c(i){a.start();for(let s=i;s<e.length;s++)if(o[s]=await t(e[s],n),a.shouldYield())return r?.yieldCallback&&r.yieldCallback(),s+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return o},t.forEach=async function(e,t,n,r){if(0===e.length)return;const o=new s(r?.yieldAfter);function a(n){o.start();for(let i=n;i<e.length;i++)if(t(e[i]),o.shouldYield())return r?.yieldCallback&&r.yieldCallback(),i+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,i.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},58319:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return"function"==typeof e}function r(e){return Array.isArray(e)}function s(e){return e&&i(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=i,t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=s,t.asPromise=function(e){return e instanceof Promise?e:s(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},69032:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class i extends n{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return i._oneOf(i._chars)}constructor(){super([i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),"-","4",i._randomHex(),i._randomHex(),i._randomHex(),"-",i._oneOf(i._timeHighBits),i._randomHex(),i._randomHex(),i._randomHex(),"-",i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex(),i._randomHex()].join(""))}}function r(){return new i}i._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],i._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=r;const s=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function o(e){return s.test(e)}t.isUUID=o,t.parse=function(e){if(!o(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return r().asHex()}},66804:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const i=n(69032),r=n(91398),s=n(67354);function o(e,t){if(null!=e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return s.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=r.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(s.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=r.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},i=t.middleware.workspace;return i&&i.workspaceFolders?i.workspaceFolders(e,n):n()}));const n=o(o(o(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=i.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),i=a(e,this._initialFolders);(i.length>0||n.length>0)&&(t=this.doSendEvent(i,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${s.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(s.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,i=r.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),i=n.middleware.workspace;(i&&i.didChangeWorkspaceFolders?i.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${s.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,i),this.sendInitialEvent(r.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},58312:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const i=n(91398),r=n(67354),s=n(14294),o=n(49228),a=n(69032);class c extends s.WorkspaceFeature{constructor(e){super(e,r.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,s.ensure)((0,s.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:o.SupportedSymbolKinds},t.tagSupport={valueSet:o.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(r.WorkspaceSymbolRequest.type,t,e,null))),s=n.middleware;return s.provideWorkspaceSymbols?s.provideWorkspaceSymbols(e,t,i):i(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,i=(e,t)=>n.sendRequest(r.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(r.WorkspaceSymbolResolveRequest.type,t,e,null))),s=n.middleware;return s.resolveWorkspaceSymbol?s.resolveWorkspaceSymbol(e,t,i):i(e,t)}:void 0};return[i.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},99:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const s=n(35317),o=n(79896),a=n(16928),c=n(91398),u=n(58319),l=n(29538),h=n(76745),p=n(40948),d=n(30144),f=n(97638);r(n(40948),t),r(n(96353),t);const m="^1.82.0";var g,y,b,v,w,_;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(g||(t.TransportKind=g={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===g.socket&&u.number(t.port)}}(y||(y={})),function(e){e.is=function(e){return u.string(e.command)}}(b||(b={})),function(e){e.is=function(e){return u.string(e.module)}}(v||(v={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(w||(w={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(_||(_={}));class S extends l.BaseLanguageClient{constructor(e,t,n,i,r){let s,o,a,c,l;u.string(t)?(s=e,o=t,a=n,c=i,l=!!r):(s=e.toLowerCase(),o=e,a=t,c=n,l=i),void 0===l&&(l=!1),super(s,o,c),this._serverOptions=a,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=d(c.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${c.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!f(e,m))throw new Error(`The language client requires VS Code version ${m} but received version ${c.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,h.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function r(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const o=this._serverOptions;if(u.func(o))return o().then((t=>{if(l.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(w.is(t))return this._isDetached=!!t.detached,{reader:new p.StreamMessageReader(t.reader),writer:new p.StreamMessageWriter(t.writer)};{let n;return _.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),{reader:new p.StreamMessageReader(n.stdout),writer:new p.StreamMessageWriter(n.stdin)}}}));let a,c=o;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||i.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=o,this._getServerWorkingDir(a.options).then((n=>{if(v.is(a)&&a.module){let i=a,o=i.transport||g.stdio;if(!i.runtime){let a;return new Promise(((c,l)=>{const h=(i.args&&i.args.slice())??[];o===g.ipc?h.push("--node-ipc"):o===g.stdio?h.push("--stdio"):o===g.pipe?(a=(0,p.generateRandomPipeName)(),h.push(`--pipe=${a}`)):y.isSocket(o)&&h.push(`--socket=${o.port}`),h.push(`--clientProcessId=${process.pid.toString()}`);const d=i.options??Object.create(null);if(d.env=t(d.env,!0),d.execArgv=d.execArgv||[],d.cwd=n,d.silent=!0,o===g.ipc||o===g.stdio){const t=s.fork(i.module,h||[],d);r(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),o===g.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),c({reader:new p.IPCMessageReader(this._serverProcess),writer:new p.IPCMessageWriter(this._serverProcess)})):c({reader:new p.StreamMessageReader(t.stdout),writer:new p.StreamMessageWriter(t.stdin)})}else o===g.pipe?(0,p.createClientPipeTransport)(a).then((t=>{const n=s.fork(i.module,h||[],d);r(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l):y.isSocket(o)&&(0,p.createClientSocketTransport)(o.port).then((t=>{const n=s.fork(i.module,h||[],d);r(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l)}))}{const r=[],a=i.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>r.push(e))),r.push(i.module),i.args&&i.args.forEach((e=>r.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const l=this._getRuntimePath(i.runtime,n);let h;if(o===g.ipc?(c.stdio=[null,null,null,"ipc"],r.push("--node-ipc")):o===g.stdio?r.push("--stdio"):o===g.pipe?(h=(0,p.generateRandomPipeName)(),r.push(`--pipe=${h}`)):y.isSocket(o)&&r.push(`--socket=${o.port}`),r.push(`--clientProcessId=${process.pid.toString()}`),o===g.ipc||o===g.stdio){const t=s.spawn(l,r,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),o===g.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),Promise.resolve({reader:new p.IPCMessageReader(t),writer:new p.IPCMessageWriter(t)})):Promise.resolve({reader:new p.StreamMessageReader(t.stdout),writer:new p.StreamMessageWriter(t.stdin)})):E(t,`Launching server using runtime ${l} failed.`)}if(o===g.pipe)return(0,p.createClientPipeTransport)(h).then((t=>{const n=s.spawn(l,r,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):E(n,`Launching server using runtime ${l} failed.`)}));if(y.isSocket(o))return(0,p.createClientSocketTransport)(o.port).then((t=>{const n=s.spawn(l,r,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):E(n,`Launching server using runtime ${l} failed.`)}))}}else if(b.is(a)&&a.command){const t=a,i=void 0!==a.args?a.args.slice(0):[];let r;const o=a.transport;if(o===g.stdio)i.push("--stdio");else if(o===g.pipe)r=(0,p.generateRandomPipeName)(),i.push(`--pipe=${r}`);else if(y.isSocket(o))i.push(`--socket=${o.port}`);else if(o===g.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===o||o===g.stdio){const n=s.spawn(t.command,i,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new p.StreamMessageReader(n.stdout),writer:new p.StreamMessageWriter(n.stdin)})):E(n,`Launching server using command ${t.command} failed.`)}if(o===g.pipe)return(0,p.createClientPipeTransport)(r).then((n=>{const r=s.spawn(t.command,i,c);return r&&r.pid?(this._serverProcess=r,this._isDetached=!!c.detached,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):E(r,`Launching server using command ${t.command} failed.`)}));if(y.isSocket(o))return(0,p.createClientSocketTransport)(o.port).then((n=>{const r=s.spawn(t.command,i,c);return r&&r.pid?(this._serverProcess=r,this._isDetached=!!c.detached,r.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),r.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):E(r,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(o,null,4)))})).finally((()=>{void 0!==this._serverProcess&&this._serverProcess.on("exit",((e,t)=>{null!==e&&this.error(`Server process exited with code ${e}.`,void 0,!1),null!==t&&this.error(`Server process exited with signal ${t}.`,void 0,!1)}))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(o.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(o.existsSync(n))return n}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{o.lstat(t,((n,i)=>{e(!n&&i.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}}function E(e,t){return null===e?Promise.reject(t):new Promise(((n,i)=>{e.on("error",(e=>{i(`${t} ${e}`)})),setImmediate((()=>i(t)))}))}t.LanguageClient=S,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,i=n?c.workspace.getConfiguration(t).get(n,!1):c.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!i&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},76745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const i=n(35317),r=n(16928),s="win32"===process.platform,o="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(s)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),i.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!o)return e.kill("SIGKILL"),!0;try{var n=(0,r.join)(__dirname,"terminateProcess.sh");return!i.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},2339:(e,t,n)=>{"use strict";e.exports=n(99)},76998:e=>{const t="object"==typeof process&&process&&"win32"===process.platform;e.exports=t?{sep:"\\"}:{sep:"/"}},86045:(e,t,n)=>{const i=e.exports=(e,t,n={})=>(g(t),!(!n.nocomment&&"#"===t.charAt(0))&&new b(t,n).match(e));e.exports=i;const r=n(76998);i.sep=r.sep;const s=Symbol("globstar **");i.GLOBSTAR=s;const o=n(68928),a={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},c="[^/]",u=c+"*?",l=e=>e.split("").reduce(((e,t)=>(e[t]=!0,e)),{}),h=l("().*{}+?[]^$\\!"),p=l("[.("),d=/\/+/;i.filter=(e,t={})=>(n,r,s)=>i(n,e,t);const f=(e,t={})=>{const n={};return Object.keys(e).forEach((t=>n[t]=e[t])),Object.keys(t).forEach((e=>n[e]=t[e])),n};i.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return i;const t=i,n=(n,i,r)=>t(n,i,f(e,r));return(n.Minimatch=class extends t.Minimatch{constructor(t,n){super(t,f(e,n))}}).defaults=n=>t.defaults(f(e,n)).Minimatch,n.filter=(n,i)=>t.filter(n,f(e,i)),n.defaults=n=>t.defaults(f(e,n)),n.makeRe=(n,i)=>t.makeRe(n,f(e,i)),n.braceExpand=(n,i)=>t.braceExpand(n,f(e,i)),n.match=(n,i,r)=>t.match(n,i,f(e,r)),n},i.braceExpand=(e,t)=>m(e,t);const m=(e,t={})=>(g(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:o(e)),g=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")},y=Symbol("subparse");i.makeRe=(e,t)=>new b(e,t||{}).makeRe(),i.match=(e,t,n={})=>{const i=new b(t,n);return e=e.filter((e=>i.match(e))),i.options.nonull&&!e.length&&e.push(t),e};class b{constructor(e,t){g(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();let n=this.globSet=this.braceExpand();t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,n),n=this.globParts=n.map((e=>e.split(d))),this.debug(this.pattern,n),n=n.map(((e,t,n)=>e.map(this.parse,this))),this.debug(this.pattern,n),n=n.filter((e=>-1===e.indexOf(!1))),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let i=0;i<e.length&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var r=0,o=0,a=e.length,c=t.length;r<a&&o<c;r++,o++){this.debug("matchOne loop");var u,l=t[o],h=e[r];if(this.debug(t,l,h),!1===l)return!1;if(l===s){this.debug("GLOBSTAR",[t,l,h]);var p=r,d=o+1;if(d===c){for(this.debug("** at the end");r<a;r++)if("."===e[r]||".."===e[r]||!i.dot&&"."===e[r].charAt(0))return!1;return!0}for(;p<a;){var f=e[p];if(this.debug("\nglobstar while",e,p,t,d,f),this.matchOne(e.slice(p),t.slice(d),n))return this.debug("globstar found match!",p,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,t,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!n||(this.debug("\n>>> no match, partial?",e,p,t,d),p!==a))}if("string"==typeof l?(u=h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(r===a&&o===c)return!0;if(r===a)return n;if(o===c)return r===a-1&&""===e[r];throw new Error("wtf?")}braceExpand(){return m(this.pattern,this.options)}parse(e,t){g(e);const n=this.options;if("**"===e){if(!n.noglobstar)return s;e="*"}if(""===e)return"";let i="",r=!1,o=!1;const l=[],d=[];let f,m,b,v,w=!1,_=-1,S=-1,E="."===e.charAt(0),x=n.dot||E;const D=e=>"."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",C=()=>{if(f){switch(f){case"*":i+=u,r=!0;break;case"?":i+=c,r=!0;break;default:i+="\\"+f}this.debug("clearStateChar %j %j",f,i),f=!1}};for(let t,s=0;s<e.length&&(t=e.charAt(s));s++)if(this.debug("%s\t%s %s %j",e,s,i,t),o){if("/"===t)return!1;h[t]&&(i+="\\"),i+=t,o=!1}else switch(t){case"/":return!1;case"\\":if(w&&"-"===e.charAt(s+1)){i+=t;continue}C(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,s,i,t),w){this.debug("  in class"),"!"===t&&s===S+1&&(t="^"),i+=t;continue}this.debug("call clearStateChar %j",f),C(),f=t,n.noext&&C();continue;case"(":{if(w){i+="(";continue}if(!f){i+="\\(";continue}const t={type:f,start:s-1,reStart:i.length,open:a[f].open,close:a[f].close};this.debug(this.pattern,"\t",t),l.push(t),i+=t.open,0===t.start&&"!"!==t.type&&(E=!0,i+=D(e.slice(s+1))),this.debug("plType %j %j",f,i),f=!1;continue}case")":{const e=l[l.length-1];if(w||!e){i+="\\)";continue}l.pop(),C(),r=!0,b=e,i+=b.close,"!"===b.type&&d.push(Object.assign(b,{reEnd:i.length}));continue}case"|":{const t=l[l.length-1];if(w||!t){i+="\\|";continue}C(),i+="|",0===t.start&&"!"!==t.type&&(E=!0,i+=D(e.slice(s+1)));continue}case"[":if(C(),w){i+="\\"+t;continue}w=!0,S=s,_=i.length,i+=t;continue;case"]":if(s===S+1||!w){i+="\\"+t;continue}m=e.substring(S+1,s);try{RegExp("["+(m.replace(/\\([^-\]])/g,"$1").replace(/[[\]\\]/g,"\\$&")+"]")),i+=t}catch(e){i=i.substring(0,_)+"(?:$.)"}r=!0,w=!1;continue;default:C(),!h[t]||"^"===t&&w||(i+="\\"),i+=t}for(w&&(m=e.slice(S+1),v=this.parse(m,y),i=i.substring(0,_)+"\\["+v[0],r=r||v[1]),b=l.pop();b;b=l.pop()){let e;e=i.slice(b.reStart+b.open.length),this.debug("setting tail",i,b),e=e.replace(/((?:\\{2}){0,64})(\\?)\|/g,((e,t,n)=>(n||(n="\\"),t+t+n+"|"))),this.debug("tail=%j\n   %s",e,e,b,i);const t="*"===b.type?u:"?"===b.type?c:"\\"+b.type;r=!0,i=i.slice(0,b.reStart)+t+"\\("+e}C(),o&&(i+="\\\\");const k=p[i.charAt(0)];for(let e=d.length-1;e>-1;e--){const n=d[e],r=i.slice(0,n.reStart),s=i.slice(n.reStart,n.reEnd-8);let o=i.slice(n.reEnd);const a=i.slice(n.reEnd-8,n.reEnd)+o,c=r.split(")").length,u=r.split("(").length-c;let l=o;for(let e=0;e<u;e++)l=l.replace(/\)[+*?]?/,"");o=l,i=r+s+o+(""===o&&t!==y?"(?:$|\\/)":"")+a}if(""!==i&&r&&(i="(?=.)"+i),k&&(i=(E?"":x?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+i),t===y)return[i,r];if(n.nocase&&!r&&(r=e.toUpperCase()!==e.toLowerCase()),!r)return(e=>e.replace(/\\(.)/g,"$1"))(e);const R=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",R),{_glob:e,_src:i})}catch(e){return new RegExp("$.")}}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,n=t.noglobstar?u:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"";let r=e.map((e=>(e=e.map((e=>"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===s?s:e._src)).reduce(((e,t)=>(e[e.length-1]===s&&t===s||e.push(t),e)),[]),e.forEach(((t,i)=>{t===s&&e[i-1]!==s&&(0===i?e.length>1?e[i+1]="(?:\\/|"+n+"\\/)?"+e[i+1]:e[i]=n:i===e.length-1?e[i-1]+="(?:\\/|"+n+")?":(e[i-1]+="(?:\\/|\\/"+n+"\\/)"+e[i+1],e[i+1]=s))})),e.filter((e=>e!==s)).join("/")))).join("|");r="^(?:"+r+")$",this.negate&&(r="^(?!"+r+").*$");try{this.regexp=new RegExp(r,i)}catch(e){this.regexp=!1}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(d),this.debug(this.pattern,"split",e);const i=this.set;let s;this.debug(this.pattern,"set",i);for(let t=e.length-1;t>=0&&(s=e[t],!s);t--);for(let r=0;r<i.length;r++){const o=i[r];let a=e;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return i.defaults(e).Minimatch}}i.Minimatch=b},98766:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,r(n(77123),t),r(n(11145),t),r(n(90372),t),r(n(91560),t);var s,o=n(41580);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return o.createProtocolConnection}}),function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800}(s||(t.LSPErrorCodes=s={}))},41580:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=n(77123);t.createProtocolConnection=function(e,t,n,r){return i.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,i.createMessageConnection)(e,t,n,r)}},90372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;const i=n(77123);var r;!function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"}(r||(t.MessageDirection=r={})),t.RegistrationType=class{constructor(e){this.method=e}};class s extends i.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=s;class o extends i.RequestType{constructor(e){super(e,i.ParameterStructures.byName)}}t.ProtocolRequestType=o;class a extends i.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class c extends i.NotificationType{constructor(e){super(e,i.ParameterStructures.byName)}}t.ProtocolNotificationType=c},48765:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const i=n(90372);var r,s,o;!function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.CallHierarchyPrepareRequest=r={})),function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(s||(t.CallHierarchyIncomingCallsRequest=s={})),function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(o||(t.CallHierarchyOutgoingCallsRequest=o={}))},77672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const i=n(90372);var r,s;!function(e){e.method="textDocument/documentColor",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.DocumentColorRequest=r={})),function(e){e.method="textDocument/colorPresentation",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(s||(t.ColorPresentationRequest=s={}))},41660:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const i=n(90372);var r;!function(e){e.method="workspace/configuration",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(r||(t.ConfigurationRequest=r={}))},46914:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/declaration",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.DeclarationRequest=r={}))},26011:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const i=n(77123),r=n(38598),s=n(90372);var o,a,c,u,l;!function(e){e.is=function(e){const t=e;return t&&r.boolean(t.retriggerRequest)}}(o||(t.DiagnosticServerCancellationData=o={})),function(e){e.Full="full",e.Unchanged="unchanged"}(a||(t.DocumentDiagnosticReportKind=a={})),function(e){e.method="textDocument/diagnostic",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method),e.partialResult=new i.ProgressType}(c||(t.DocumentDiagnosticRequest=c={})),function(e){e.method="workspace/diagnostic",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolRequestType(e.method),e.partialResult=new i.ProgressType}(u||(t.WorkspaceDiagnosticRequest=u={})),function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=s.MessageDirection.serverToClient,e.type=new s.ProtocolRequestType0(e.method)}(l||(t.DiagnosticRefreshRequest=l={}))},69840:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const i=n(90372);var r,s,o,a,c,u,l;!function(e){e.file="file",e.folder="folder"}(r||(t.FileOperationPatternKind=r={})),function(e){e.method="workspace/willCreateFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(s||(t.WillCreateFilesRequest=s={})),function(e){e.method="workspace/didCreateFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(o||(t.DidCreateFilesNotification=o={})),function(e){e.method="workspace/willRenameFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(a||(t.WillRenameFilesRequest=a={})),function(e){e.method="workspace/didRenameFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(c||(t.DidRenameFilesNotification=c={})),function(e){e.method="workspace/didDeleteFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(u||(t.DidDeleteFilesNotification=u={})),function(e){e.method="workspace/willDeleteFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(l||(t.WillDeleteFilesRequest=l={}))},2874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=void 0;const i=n(90372);var r,s;!function(e){e.method="textDocument/foldingRange",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.FoldingRangeRequest=r={})),function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(s||(t.FoldingRangeRefreshRequest=s={}))},39574:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/implementation",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.ImplementationRequest=r={}))},77752:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const i=n(90372);var r,s,o;!function(e){e.method="textDocument/inlayHint",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.InlayHintRequest=r={})),function(e){e.method="inlayHint/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(s||(t.InlayHintResolveRequest=s={})),function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(o||(t.InlayHintRefreshRequest=o={}))},13307:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineCompletionRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/inlineCompletion",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.InlineCompletionRequest=r={}))},63124:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const i=n(90372);var r,s;!function(e){e.method="textDocument/inlineValue",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.InlineValueRequest=r={})),function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(s||(t.InlineValueRefreshRequest=s={}))},91560:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const i=n(90372),r=n(11145),s=n(38598),o=n(39574);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return o.ImplementationRequest}});const a=n(68461);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(99935);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(41660);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(77672);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const h=n(2874);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return h.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return h.FoldingRangeRefreshRequest}});const p=n(46914);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return p.DeclarationRequest}});const d=n(33487);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return d.SelectionRangeRequest}});const f=n(32687);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const m=n(48765);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const g=n(72478);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return g.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return g.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return g.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return g.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return g.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return g.SemanticTokensRegistrationType}});const y=n(80908);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return y.ShowDocumentRequest}});const b=n(35316);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return b.LinkedEditingRangeRequest}});const v=n(69840);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return v.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return v.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return v.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return v.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return v.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return v.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return v.WillDeleteFilesRequest}});const w=n(9047);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return w.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return w.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return w.MonikerRequest}});const _=n(50645);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const S=n(63124);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return S.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return S.InlineValueRefreshRequest}});const E=n(77752);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return E.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return E.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return E.InlayHintRefreshRequest}});const x=n(26011);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return x.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return x.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return x.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return x.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return x.DiagnosticRefreshRequest}});const D=n(75938);Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return D.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return D.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return D.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return D.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return D.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return D.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return D.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return D.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return D.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return D.DidCloseNotebookDocumentNotification}});const C=n(13307);var k,R,A,T,O,F,P,I,L,N,B,j,M,$,q,U,H,W,z,G,V,K,Y,J,Z,X,Q,ee,te,ne,ie,re,se,oe,ae,ce,ue,le,he,pe,de,fe,me,ge,ye,be,ve,we,_e,Se,Ee,xe,De,Ce,ke,Re,Ae,Te,Oe,Fe,Pe,Ie,Le,Ne,Be;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return C.InlineCompletionRequest}}),function(e){e.is=function(e){const t=e;return s.string(t)||s.string(t.language)||s.string(t.scheme)||s.string(t.pattern)}}(k||(t.TextDocumentFilter=k={})),function(e){e.is=function(e){const t=e;return s.objectLiteral(t)&&(s.string(t.notebookType)||s.string(t.scheme)||s.string(t.pattern))}}(R||(t.NotebookDocumentFilter=R={})),function(e){e.is=function(e){const t=e;return s.objectLiteral(t)&&(s.string(t.notebook)||R.is(t.notebook))&&(void 0===t.language||s.string(t.language))}}(A||(t.NotebookCellTextDocumentFilter=A={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!s.string(t)&&!k.is(t)&&!A.is(t))return!1;return!0}}(T||(t.DocumentSelector=T={})),function(e){e.method="client/registerCapability",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(O||(t.RegistrationRequest=O={})),function(e){e.method="client/unregisterCapability",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(F||(t.UnregistrationRequest=F={})),function(e){e.Create="create",e.Rename="rename",e.Delete="delete"}(P||(t.ResourceOperationKind=P={})),function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"}(I||(t.FailureHandlingKind=I={})),function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"}(L||(t.PositionEncodingKind=L={})),function(e){e.hasId=function(e){const t=e;return t&&s.string(t.id)&&t.id.length>0}}(N||(t.StaticRegistrationOptions=N={})),function(e){e.is=function(e){const t=e;return t&&(null===t.documentSelector||T.is(t.documentSelector))}}(B||(t.TextDocumentRegistrationOptions=B={})),function(e){e.is=function(e){const t=e;return s.objectLiteral(t)&&(void 0===t.workDoneProgress||s.boolean(t.workDoneProgress))},e.hasWorkDoneProgress=function(e){const t=e;return t&&s.boolean(t.workDoneProgress)}}(j||(t.WorkDoneProgressOptions=j={})),function(e){e.method="initialize",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(M||(t.InitializeRequest=M={})),function(e){e.unknownProtocolVersion=1}($||(t.InitializeErrorCodes=$={})),function(e){e.method="initialized",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(q||(t.InitializedNotification=q={})),function(e){e.method="shutdown",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType0(e.method)}(U||(t.ShutdownRequest=U={})),function(e){e.method="exit",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType0(e.method)}(H||(t.ExitNotification=H={})),function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(W||(t.DidChangeConfigurationNotification=W={})),function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5}(z||(t.MessageType=z={})),function(e){e.method="window/showMessage",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolNotificationType(e.method)}(G||(t.ShowMessageNotification=G={})),function(e){e.method="window/showMessageRequest",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(V||(t.ShowMessageRequest=V={})),function(e){e.method="window/logMessage",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolNotificationType(e.method)}(K||(t.LogMessageNotification=K={})),function(e){e.method="telemetry/event",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolNotificationType(e.method)}(Y||(t.TelemetryEventNotification=Y={})),function(e){e.None=0,e.Full=1,e.Incremental=2}(J||(t.TextDocumentSyncKind=J={})),function(e){e.method="textDocument/didOpen",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(Z||(t.DidOpenTextDocumentNotification=Z={})),function(e){e.isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},e.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}}(X||(t.TextDocumentContentChangeEvent=X={})),function(e){e.method="textDocument/didChange",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(Q||(t.DidChangeTextDocumentNotification=Q={})),function(e){e.method="textDocument/didClose",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(ee||(t.DidCloseTextDocumentNotification=ee={})),function(e){e.method="textDocument/didSave",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(te||(t.DidSaveTextDocumentNotification=te={})),function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3}(ne||(t.TextDocumentSaveReason=ne={})),function(e){e.method="textDocument/willSave",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(ie||(t.WillSaveTextDocumentNotification=ie={})),function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(re||(t.WillSaveTextDocumentWaitUntilRequest=re={})),function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(se||(t.DidChangeWatchedFilesNotification=se={})),function(e){e.Created=1,e.Changed=2,e.Deleted=3}(oe||(t.FileChangeType=oe={})),function(e){e.is=function(e){const t=e;return s.objectLiteral(t)&&(r.URI.is(t.baseUri)||r.WorkspaceFolder.is(t.baseUri))&&s.string(t.pattern)}}(ae||(t.RelativePattern=ae={})),function(e){e.Create=1,e.Change=2,e.Delete=4}(ce||(t.WatchKind=ce={})),function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolNotificationType(e.method)}(ue||(t.PublishDiagnosticsNotification=ue={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3}(le||(t.CompletionTriggerKind=le={})),function(e){e.method="textDocument/completion",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(he||(t.CompletionRequest=he={})),function(e){e.method="completionItem/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(pe||(t.CompletionResolveRequest=pe={})),function(e){e.method="textDocument/hover",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(de||(t.HoverRequest=de={})),function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3}(fe||(t.SignatureHelpTriggerKind=fe={})),function(e){e.method="textDocument/signatureHelp",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(me||(t.SignatureHelpRequest=me={})),function(e){e.method="textDocument/definition",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(ge||(t.DefinitionRequest=ge={})),function(e){e.method="textDocument/references",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(ye||(t.ReferencesRequest=ye={})),function(e){e.method="textDocument/documentHighlight",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(be||(t.DocumentHighlightRequest=be={})),function(e){e.method="textDocument/documentSymbol",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(ve||(t.DocumentSymbolRequest=ve={})),function(e){e.method="textDocument/codeAction",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(we||(t.CodeActionRequest=we={})),function(e){e.method="codeAction/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(_e||(t.CodeActionResolveRequest=_e={})),function(e){e.method="workspace/symbol",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Se||(t.WorkspaceSymbolRequest=Se={})),function(e){e.method="workspaceSymbol/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Ee||(t.WorkspaceSymbolResolveRequest=Ee={})),function(e){e.method="textDocument/codeLens",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(xe||(t.CodeLensRequest=xe={})),function(e){e.method="codeLens/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(De||(t.CodeLensResolveRequest=De={})),function(e){e.method="workspace/codeLens/refresh",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(Ce||(t.CodeLensRefreshRequest=Ce={})),function(e){e.method="textDocument/documentLink",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(ke||(t.DocumentLinkRequest=ke={})),function(e){e.method="documentLink/resolve",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Re||(t.DocumentLinkResolveRequest=Re={})),function(e){e.method="textDocument/formatting",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Ae||(t.DocumentFormattingRequest=Ae={})),function(e){e.method="textDocument/rangeFormatting",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Te||(t.DocumentRangeFormattingRequest=Te={})),function(e){e.method="textDocument/rangesFormatting",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Oe||(t.DocumentRangesFormattingRequest=Oe={})),function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Fe||(t.DocumentOnTypeFormattingRequest=Fe={})),function(e){e.Identifier=1}(Pe||(t.PrepareSupportDefaultBehavior=Pe={})),function(e){e.method="textDocument/rename",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Ie||(t.RenameRequest=Ie={})),function(e){e.method="textDocument/prepareRename",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Le||(t.PrepareRenameRequest=Le={})),function(e){e.method="workspace/executeCommand",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(Ne||(t.ExecuteCommandRequest=Ne={})),function(e){e.method="workspace/applyEdit",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType("workspace/applyEdit")}(Be||(t.ApplyWorkspaceEditRequest=Be={}))},35316:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.LinkedEditingRangeRequest=r={}))},9047:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const i=n(90372);var r,s,o;!function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"}(r||(t.UniquenessLevel=r={})),function(e){e.$import="import",e.$export="export",e.local="local"}(s||(t.MonikerKind=s={})),function(e){e.method="textDocument/moniker",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(o||(t.MonikerRequest=o={}))},75938:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const i=n(11145),r=n(38598),s=n(90372);var o,a,c,u,l,h,p,d,f,m;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(o||(t.NotebookCellKind=o={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return r.objectLiteral(t)&&i.uinteger.is(t.executionOrder)&&(void 0===t.success||r.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a||(t.ExecutionSummary=a={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const i=Array.isArray(e),s=Array.isArray(n);if(i!==s)return!1;if(i&&s){if(e.length!==n.length)return!1;for(let i=0;i<e.length;i++)if(!t(e[i],n[i]))return!1}if(r.objectLiteral(e)&&r.objectLiteral(n)){const i=Object.keys(e),r=Object.keys(n);if(i.length!==r.length)return!1;if(i.sort(),r.sort(),!t(i,r))return!1;for(let r=0;r<i.length;r++){const s=i[r];if(!t(e[s],n[s]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return r.objectLiteral(t)&&o.is(t.kind)&&i.DocumentUri.is(t.document)&&(void 0===t.metadata||r.objectLiteral(t.metadata))},e.diff=function(e,n){const i=new Set;return e.document!==n.document&&i.add("document"),e.kind!==n.kind&&i.add("kind"),e.executionSummary!==n.executionSummary&&i.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||i.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||i.add("executionSummary"),i}}(c||(t.NotebookCell=c={})),function(e){e.create=function(e,t,n,i){return{uri:e,notebookType:t,version:n,cells:i}},e.is=function(e){const t=e;return r.objectLiteral(t)&&r.string(t.uri)&&i.integer.is(t.version)&&r.typedArray(t.cells,c.is)}}(u||(t.NotebookDocument=u={})),function(e){e.method="notebookDocument/sync",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.RegistrationType(e.method)}(l||(t.NotebookDocumentSyncRegistrationType=l={})),function(e){e.method="notebookDocument/didOpen",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method),e.registrationMethod=l.method}(h||(t.DidOpenNotebookDocumentNotification=h={})),function(e){e.is=function(e){const t=e;return r.objectLiteral(t)&&i.uinteger.is(t.start)&&i.uinteger.is(t.deleteCount)&&(void 0===t.cells||r.typedArray(t.cells,c.is))},e.create=function(e,t,n){const i={start:e,deleteCount:t};return void 0!==n&&(i.cells=n),i}}(p||(t.NotebookCellArrayChange=p={})),function(e){e.method="notebookDocument/didChange",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method),e.registrationMethod=l.method}(d||(t.DidChangeNotebookDocumentNotification=d={})),function(e){e.method="notebookDocument/didSave",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method),e.registrationMethod=l.method}(f||(t.DidSaveNotebookDocumentNotification=f={})),function(e){e.method="notebookDocument/didClose",e.messageDirection=s.MessageDirection.clientToServer,e.type=new s.ProtocolNotificationType(e.method),e.registrationMethod=l.method}(m||(t.DidCloseNotebookDocumentNotification=m={}))},32687:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const i=n(77123),r=n(90372);var s,o,a;!function(e){e.type=new i.ProgressType,e.is=function(t){return t===e.type}}(s||(t.WorkDoneProgress=s={})),function(e){e.method="window/workDoneProgress/create",e.messageDirection=r.MessageDirection.serverToClient,e.type=new r.ProtocolRequestType(e.method)}(o||(t.WorkDoneProgressCreateRequest=o={})),function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=r.MessageDirection.clientToServer,e.type=new r.ProtocolNotificationType(e.method)}(a||(t.WorkDoneProgressCancelNotification=a={}))},33487:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/selectionRange",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.SelectionRangeRequest=r={}))},72478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const i=n(90372);var r,s,o,a,c,u;!function(e){e.Relative="relative"}(r||(t.TokenFormat=r={})),function(e){e.method="textDocument/semanticTokens",e.type=new i.RegistrationType(e.method)}(s||(t.SemanticTokensRegistrationType=s={})),function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=s.method}(o||(t.SemanticTokensRequest=o={})),function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=s.method}(a||(t.SemanticTokensDeltaRequest=a={})),function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method),e.registrationMethod=s.method}(c||(t.SemanticTokensRangeRequest=c={})),function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(u||(t.SemanticTokensRefreshRequest=u={}))},80908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const i=n(90372);var r;!function(e){e.method="window/showDocument",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType(e.method)}(r||(t.ShowDocumentRequest=r={}))},68461:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const i=n(90372);var r;!function(e){e.method="textDocument/typeDefinition",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.TypeDefinitionRequest=r={}))},50645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const i=n(90372);var r,s,o;!function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(r||(t.TypeHierarchyPrepareRequest=r={})),function(e){e.method="typeHierarchy/supertypes",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(s||(t.TypeHierarchySupertypesRequest=s={})),function(e){e.method="typeHierarchy/subtypes",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolRequestType(e.method)}(o||(t.TypeHierarchySubtypesRequest=o={}))},99935:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const i=n(90372);var r,s;!function(e){e.method="workspace/workspaceFolders",e.messageDirection=i.MessageDirection.serverToClient,e.type=new i.ProtocolRequestType0(e.method)}(r||(t.WorkspaceFoldersRequest=r={})),function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.ProtocolNotificationType(e.method)}(s||(t.DidChangeWorkspaceFoldersNotification=s={}))},38598:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},67354:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const s=n(52067);r(n(52067),t),r(n(98766),t),t.createProtocolConnection=function(e,t,n,i){return(0,s.createMessageConnection)(e,t,n,i)}},40948:(e,t,n)=>{"use strict";e.exports=n(67354)},11145:(e,t,n)=>{var i,r,s;!function(o){if("object"==typeof e.exports){var a=o(n(93655),t);void 0!==a&&(e.exports=a)}else r=[n,t],void 0===(s="function"==typeof(i=o)?i.apply(t,r):i)||(e.exports=s)}((function(e,t){"use strict";var n,i,r,s,o,a,c,u,l,h,p,d,f,m,g,y,b,v,w,_,S,E,x,D,C,k,R,A;Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlineCompletionContext=t.SelectedCompletionInfo=t.InlineCompletionTriggerKind=t.InlineCompletionList=t.InlineCompletionItem=t.StringValue=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0,function(e){e.is=function(e){return"string"==typeof e}}(n||(t.DocumentUri=n={})),function(e){e.is=function(e){return"string"==typeof e}}(i||(t.URI=i={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(r||(t.integer=r={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(t.uinteger=s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.uinteger(t.line)&&Te.uinteger(t.character)}}(o||(t.Position=o={})),function(e){e.create=function(e,t,n,i){if(Te.uinteger(e)&&Te.uinteger(t)&&Te.uinteger(n)&&Te.uinteger(i))return{start:o.create(e,t),end:o.create(n,i)};if(o.is(e)&&o.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(i,"]"))},e.is=function(e){var t=e;return Te.objectLiteral(t)&&o.is(t.start)&&o.is(t.end)}}(a||(t.Range=a={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&a.is(t.range)&&(Te.string(t.uri)||Te.undefined(t.uri))}}(c||(t.Location=c={})),function(e){e.create=function(e,t,n,i){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:i}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&a.is(t.targetRange)&&Te.string(t.targetUri)&&a.is(t.targetSelectionRange)&&(a.is(t.originSelectionRange)||Te.undefined(t.originSelectionRange))}}(u||(t.LocationLink=u={})),function(e){e.create=function(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.numberRange(t.red,0,1)&&Te.numberRange(t.green,0,1)&&Te.numberRange(t.blue,0,1)&&Te.numberRange(t.alpha,0,1)}}(l||(t.Color=l={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&a.is(t.range)&&l.is(t.color)}}(h||(t.ColorInformation=h={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.string(t.label)&&(Te.undefined(t.textEdit)||_.is(t))&&(Te.undefined(t.additionalTextEdits)||Te.typedArray(t.additionalTextEdits,_.is))}}(p||(t.ColorPresentation=p={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(d||(t.FoldingRangeKind=d={})),function(e){e.create=function(e,t,n,i,r,s){var o={startLine:e,endLine:t};return Te.defined(n)&&(o.startCharacter=n),Te.defined(i)&&(o.endCharacter=i),Te.defined(r)&&(o.kind=r),Te.defined(s)&&(o.collapsedText=s),o},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.uinteger(t.startLine)&&Te.uinteger(t.startLine)&&(Te.undefined(t.startCharacter)||Te.uinteger(t.startCharacter))&&(Te.undefined(t.endCharacter)||Te.uinteger(t.endCharacter))&&(Te.undefined(t.kind)||Te.string(t.kind))}}(f||(t.FoldingRange=f={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return Te.defined(t)&&c.is(t.location)&&Te.string(t.message)}}(m||(t.DiagnosticRelatedInformation=m={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(g||(t.DiagnosticSeverity=g={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(t.DiagnosticTag=y={})),function(e){e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.string(t.href)}}(b||(t.CodeDescription=b={})),function(e){e.create=function(e,t,n,i,r,s){var o={range:e,message:t};return Te.defined(n)&&(o.severity=n),Te.defined(i)&&(o.code=i),Te.defined(r)&&(o.source=r),Te.defined(s)&&(o.relatedInformation=s),o},e.is=function(e){var t,n=e;return Te.defined(n)&&a.is(n.range)&&Te.string(n.message)&&(Te.number(n.severity)||Te.undefined(n.severity))&&(Te.integer(n.code)||Te.string(n.code)||Te.undefined(n.code))&&(Te.undefined(n.codeDescription)||Te.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(Te.string(n.source)||Te.undefined(n.source))&&(Te.undefined(n.relatedInformation)||Te.typedArray(n.relatedInformation,m.is))}}(v||(t.Diagnostic=v={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={title:e,command:t};return Te.defined(n)&&n.length>0&&(r.arguments=n),r},e.is=function(e){var t=e;return Te.defined(t)&&Te.string(t.title)&&Te.string(t.command)}}(w||(t.Command=w={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.string(t.newText)&&a.is(t.range)}}(_||(t.TextEdit=_={})),function(e){e.create=function(e,t,n){var i={label:e};return void 0!==t&&(i.needsConfirmation=t),void 0!==n&&(i.description=n),i},e.is=function(e){var t=e;return Te.objectLiteral(t)&&Te.string(t.label)&&(Te.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(Te.string(t.description)||void 0===t.description)}}(S||(t.ChangeAnnotation=S={})),function(e){e.is=function(e){var t=e;return Te.string(t)}}(E||(t.ChangeAnnotationIdentifier=E={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return _.is(t)&&(S.is(t.annotationId)||E.is(t.annotationId))}}(x||(t.AnnotatedTextEdit=x={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return Te.defined(t)&&F.is(t.textDocument)&&Array.isArray(t.edits)}}(D||(t.TextDocumentEdit=D={})),function(e){e.create=function(e,t,n){var i={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(i.options=t),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"create"===t.kind&&Te.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||Te.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Te.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(C||(t.CreateFile=C={})),function(e){e.create=function(e,t,n,i){var r={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(r.options=n),void 0!==i&&(r.annotationId=i),r},e.is=function(e){var t=e;return t&&"rename"===t.kind&&Te.string(t.oldUri)&&Te.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||Te.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||Te.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(k||(t.RenameFile=k={})),function(e){e.create=function(e,t,n){var i={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(i.options=t),void 0!==n&&(i.annotationId=n),i},e.is=function(e){var t=e;return t&&"delete"===t.kind&&Te.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||Te.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||Te.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||E.is(t.annotationId))}}(R||(t.DeleteFile=R={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return Te.string(e.kind)?C.is(e)||k.is(e)||R.is(e):D.is(e)})))}}(A||(t.WorkspaceEdit=A={}));var T,O,F,P,I,L,N,B,j,M,$,q,U,H,W,z,G,V,K,Y,J,Z,X,Q,ee,te,ne,ie,re,se,oe,ae,ce,ue,le,he,pe,de,fe,me,ge,ye,be,ve,we,_e,Se,Ee,xe,De,Ce,ke=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var i,r;if(void 0===n?i=_.insert(e,t):E.is(n)?(r=n,i=x.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(n),i=x.insert(e,t,r)),this.edits.push(i),void 0!==r)return r},e.prototype.replace=function(e,t,n){var i,r;if(void 0===n?i=_.replace(e,t):E.is(n)?(r=n,i=x.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(n),i=x.replace(e,t,r)),this.edits.push(i),void 0!==r)return r},e.prototype.delete=function(e,t){var n,i;if(void 0===t?n=_.del(e):E.is(t)?(i=t,n=x.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(t),n=x.del(e,i)),this.edits.push(n),void 0!==i)return i},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Re=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(E.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Ae=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Re(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(D.is(e)){var n=new ke(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var i=new ke(e.changes[n]);t._textEditChanges[n]=i}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(F.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(i=this._textEditChanges[t.uri])){var n={textDocument:t,edits:r=[]};this._workspaceEdit.documentChanges.push(n),i=new ke(r,this._changeAnnotations),this._textEditChanges[t.uri]=i}return i}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var i;if(!(i=this._textEditChanges[e])){var r=[];this._workspaceEdit.changes[e]=r,i=new ke(r),this._textEditChanges[e]=i}return i},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Re,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,r,s;if(S.is(t)||E.is(t)?i=t:n=t,void 0===i?r=C.create(e,n):(s=E.is(i)?i:this._changeAnnotations.manage(i),r=C.create(e,n,s)),this._workspaceEdit.documentChanges.push(r),void 0!==s)return s},e.prototype.renameFile=function(e,t,n,i){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,s,o;if(S.is(n)||E.is(n)?r=n:i=n,void 0===r?s=k.create(e,t,i):(o=E.is(r)?r:this._changeAnnotations.manage(r),s=k.create(e,t,i,o)),this._workspaceEdit.documentChanges.push(s),void 0!==o)return o},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,r,s;if(S.is(t)||E.is(t)?i=t:n=t,void 0===i?r=R.create(e,n):(s=E.is(i)?i:this._changeAnnotations.manage(i),r=R.create(e,n,s)),this._workspaceEdit.documentChanges.push(r),void 0!==s)return s},e}();t.WorkspaceChange=Ae,function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return Te.defined(t)&&Te.string(t.uri)}}(T||(t.TextDocumentIdentifier=T={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Te.defined(t)&&Te.string(t.uri)&&Te.integer(t.version)}}(O||(t.VersionedTextDocumentIdentifier=O={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return Te.defined(t)&&Te.string(t.uri)&&(null===t.version||Te.integer(t.version))}}(F||(t.OptionalVersionedTextDocumentIdentifier=F={})),function(e){e.create=function(e,t,n,i){return{uri:e,languageId:t,version:n,text:i}},e.is=function(e){var t=e;return Te.defined(t)&&Te.string(t.uri)&&Te.string(t.languageId)&&Te.integer(t.version)&&Te.string(t.text)}}(P||(t.TextDocumentItem=P={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(I||(t.MarkupKind=I={})),function(e){e.is=function(e){var t=e;return Te.objectLiteral(e)&&I.is(t.kind)&&Te.string(t.value)}}(L||(t.MarkupContent=L={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(N||(t.CompletionItemKind=N={})),function(e){e.PlainText=1,e.Snippet=2}(B||(t.InsertTextFormat=B={})),function(e){e.Deprecated=1}(j||(t.CompletionItemTag=j={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&Te.string(t.newText)&&a.is(t.insert)&&a.is(t.replace)}}(M||(t.InsertReplaceEdit=M={})),function(e){e.asIs=1,e.adjustIndentation=2}($||(t.InsertTextMode=$={})),function(e){e.is=function(e){var t=e;return t&&(Te.string(t.detail)||void 0===t.detail)&&(Te.string(t.description)||void 0===t.description)}}(q||(t.CompletionItemLabelDetails=q={})),function(e){e.create=function(e){return{label:e}}}(U||(t.CompletionItem=U={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(H||(t.CompletionList=H={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return Te.string(t)||Te.objectLiteral(t)&&Te.string(t.language)&&Te.string(t.value)}}(W||(t.MarkedString=W={})),function(e){e.is=function(e){var t=e;return!!t&&Te.objectLiteral(t)&&(L.is(t.contents)||W.is(t.contents)||Te.typedArray(t.contents,W.is))&&(void 0===e.range||a.is(e.range))}}(z||(t.Hover=z={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(G||(t.ParameterInformation=G={})),function(e){e.create=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r={label:e};return Te.defined(t)&&(r.documentation=t),Te.defined(n)?r.parameters=n:r.parameters=[],r}}(V||(t.SignatureInformation=V={})),function(e){e.Text=1,e.Read=2,e.Write=3}(K||(t.DocumentHighlightKind=K={})),function(e){e.create=function(e,t){var n={range:e};return Te.number(t)&&(n.kind=t),n}}(Y||(t.DocumentHighlight=Y={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(J||(t.SymbolKind=J={})),function(e){e.Deprecated=1}(Z||(t.SymbolTag=Z={})),function(e){e.create=function(e,t,n,i,r){var s={name:e,kind:t,location:{uri:i,range:n}};return r&&(s.containerName=r),s}}(X||(t.SymbolInformation=X={})),function(e){e.create=function(e,t,n,i){return void 0!==i?{name:e,kind:t,location:{uri:n,range:i}}:{name:e,kind:t,location:{uri:n}}}}(Q||(t.WorkspaceSymbol=Q={})),function(e){e.create=function(e,t,n,i,r,s){var o={name:e,detail:t,kind:n,range:i,selectionRange:r};return void 0!==s&&(o.children=s),o},e.is=function(e){var t=e;return t&&Te.string(t.name)&&Te.number(t.kind)&&a.is(t.range)&&a.is(t.selectionRange)&&(void 0===t.detail||Te.string(t.detail))&&(void 0===t.deprecated||Te.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(ee||(t.DocumentSymbol=ee={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(te||(t.CodeActionKind=te={})),function(e){e.Invoked=1,e.Automatic=2}(ne||(t.CodeActionTriggerKind=ne={})),function(e){e.create=function(e,t,n){var i={diagnostics:e};return null!=t&&(i.only=t),null!=n&&(i.triggerKind=n),i},e.is=function(e){var t=e;return Te.defined(t)&&Te.typedArray(t.diagnostics,v.is)&&(void 0===t.only||Te.typedArray(t.only,Te.string))&&(void 0===t.triggerKind||t.triggerKind===ne.Invoked||t.triggerKind===ne.Automatic)}}(ie||(t.CodeActionContext=ie={})),function(e){e.create=function(e,t,n){var i={title:e},r=!0;return"string"==typeof t?(r=!1,i.kind=t):w.is(t)?i.command=t:i.edit=t,r&&void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return t&&Te.string(t.title)&&(void 0===t.diagnostics||Te.typedArray(t.diagnostics,v.is))&&(void 0===t.kind||Te.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||w.is(t.command))&&(void 0===t.isPreferred||Te.boolean(t.isPreferred))&&(void 0===t.edit||A.is(t.edit))}}(re||(t.CodeAction=re={})),function(e){e.create=function(e,t){var n={range:e};return Te.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return Te.defined(t)&&a.is(t.range)&&(Te.undefined(t.command)||w.is(t.command))}}(se||(t.CodeLens=se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return Te.defined(t)&&Te.uinteger(t.tabSize)&&Te.boolean(t.insertSpaces)}}(oe||(t.FormattingOptions=oe={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return Te.defined(t)&&a.is(t.range)&&(Te.undefined(t.target)||Te.string(t.target))}}(ae||(t.DocumentLink=ae={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return Te.objectLiteral(n)&&a.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ce||(t.SelectionRange=ce={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(ue||(t.SemanticTokenTypes=ue={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(le||(t.SemanticTokenModifiers=le={})),function(e){e.is=function(e){var t=e;return Te.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(he||(t.SemanticTokens=he={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&a.is(t.range)&&Te.string(t.text)}}(pe||(t.InlineValueText=pe={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&a.is(t.range)&&Te.boolean(t.caseSensitiveLookup)&&(Te.string(t.variableName)||void 0===t.variableName)}}(de||(t.InlineValueVariableLookup=de={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&a.is(t.range)&&(Te.string(t.expression)||void 0===t.expression)}}(fe||(t.InlineValueEvaluatableExpression=fe={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return Te.defined(t)&&a.is(e.stoppedLocation)}}(me||(t.InlineValueContext=me={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ge||(t.InlayHintKind=ge={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return Te.objectLiteral(t)&&(void 0===t.tooltip||Te.string(t.tooltip)||L.is(t.tooltip))&&(void 0===t.location||c.is(t.location))&&(void 0===t.command||w.is(t.command))}}(ye||(t.InlayHintLabelPart=ye={})),function(e){e.create=function(e,t,n){var i={position:e,label:t};return void 0!==n&&(i.kind=n),i},e.is=function(e){var t=e;return Te.objectLiteral(t)&&o.is(t.position)&&(Te.string(t.label)||Te.typedArray(t.label,ye.is))&&(void 0===t.kind||ge.is(t.kind))&&void 0===t.textEdits||Te.typedArray(t.textEdits,_.is)&&(void 0===t.tooltip||Te.string(t.tooltip)||L.is(t.tooltip))&&(void 0===t.paddingLeft||Te.boolean(t.paddingLeft))&&(void 0===t.paddingRight||Te.boolean(t.paddingRight))}}(be||(t.InlayHint=be={})),function(e){e.createSnippet=function(e){return{kind:"snippet",value:e}}}(ve||(t.StringValue=ve={})),function(e){e.create=function(e,t,n,i){return{insertText:e,filterText:t,range:n,command:i}}}(we||(t.InlineCompletionItem=we={})),function(e){e.create=function(e){return{items:e}}}(_e||(t.InlineCompletionList=_e={})),function(e){e.Invoked=0,e.Automatic=1}(Se||(t.InlineCompletionTriggerKind=Se={})),function(e){e.create=function(e,t){return{range:e,text:t}}}(Ee||(t.SelectedCompletionInfo=Ee={})),function(e){e.create=function(e,t){return{triggerKind:e,selectedCompletionInfo:t}}}(xe||(t.InlineCompletionContext=xe={})),function(e){e.is=function(e){var t=e;return Te.objectLiteral(t)&&i.is(t.uri)&&Te.string(t.name)}}(De||(t.WorkspaceFolder=De={})),t.EOL=["\n","\r\n","\r"],function(e){function t(e,n){if(e.length<=1)return e;var i=e.length/2|0,r=e.slice(0,i),s=e.slice(i);t(r,n),t(s,n);for(var o=0,a=0,c=0;o<r.length&&a<s.length;){var u=n(r[o],s[a]);e[c++]=u<=0?r[o++]:s[a++]}for(;o<r.length;)e[c++]=r[o++];for(;a<s.length;)e[c++]=s[a++];return e}e.create=function(e,t,n,i){return new Oe(e,t,n,i)},e.is=function(e){var t=e;return!!(Te.defined(t)&&Te.string(t.uri)&&(Te.undefined(t.languageId)||Te.string(t.languageId))&&Te.uinteger(t.lineCount)&&Te.func(t.getText)&&Te.func(t.positionAt)&&Te.func(t.offsetAt))},e.applyEdits=function(e,n){for(var i=e.getText(),r=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),s=i.length,o=r.length-1;o>=0;o--){var a=r[o],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=s))throw new Error("Overlapping edit");i=i.substring(0,c)+a.newText+i.substring(u,i.length),s=c}return i}}(Ce||(t.TextDocument=Ce={}));var Te,Oe=function(){function e(e,t,n,i){this._uri=e,this._languageId=t,this._version=n,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,i=0;i<t.length;i++){n&&(e.push(i),n=!1);var r=t.charAt(i);n="\r"===r||"\n"===r,"\r"===r&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,i=t.length;if(0===i)return o.create(0,e);for(;n<i;){var r=Math.floor((n+i)/2);t[r]>e?i=r:n=r+1}var s=n-1;return o.create(s,e-t[s])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,i),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,i){return"[object Number]"===t.call(e)&&n<=e&&e<=i},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(Te||(Te={}))}))},93655:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=93655,e.exports=t},17699:(e,t,n)=>{"use strict";const i=n(91060);i.createWebSocketStream=n(3719),i.Server=n(61722),i.Receiver=n(46286),i.Sender=n(80914),i.WebSocket=i,i.WebSocketServer=i.Server,e.exports=i},93338:(e,t,n)=>{"use strict";const{EMPTY_BUFFER:i}=n(32614),r=Buffer[Symbol.species];function s(e,t,n,i,r){for(let s=0;s<r;s++)n[i+s]=e[s]^t[3&s]}function o(e,t){for(let n=0;n<e.length;n++)e[n]^=t[3&n]}if(e.exports={concat:function(e,t){if(0===e.length)return i;if(1===e.length)return e[0];const n=Buffer.allocUnsafe(t);let s=0;for(let t=0;t<e.length;t++){const i=e[t];n.set(i,s),s+=i.length}return s<t?new r(n.buffer,n.byteOffset,s):n},mask:s,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let n;return t instanceof ArrayBuffer?n=new r(t):ArrayBuffer.isView(t)?n=new r(t.buffer,t.byteOffset,t.byteLength):(n=Buffer.from(t),e.readOnly=!1),n},unmask:o},!process.env.WS_NO_BUFFER_UTIL)try{const t=n(12627);e.exports.mask=function(e,n,i,r,o){o<48?s(e,n,i,r,o):t.mask(e,n,i,r,o)},e.exports.unmask=function(e,n){e.length<32?o(e,n):t.unmask(e,n)}}catch(e){}},32614:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},90597:(e,t,n)=>{"use strict";const{kForOnEventAttribute:i,kListener:r}=n(32614),s=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),u=Symbol("kReason"),l=Symbol("kTarget"),h=Symbol("kType"),p=Symbol("kWasClean");class d{constructor(e){this[l]=null,this[h]=e}get target(){return this[l]}get type(){return this[h]}}Object.defineProperty(d.prototype,"target",{enumerable:!0}),Object.defineProperty(d.prototype,"type",{enumerable:!0});class f extends d{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[u]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[u]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends d{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends d{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const y={addEventListener(e,t,n={}){for(const s of this.listeners(e))if(!n[i]&&s[r]===t&&!s[i])return;let s;if("message"===e)s=function(e,n){const i=new g("message",{data:n?e:e.toString()});i[l]=this,b(t,this,i)};else if("close"===e)s=function(e,n){const i=new f("close",{code:e,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[l]=this,b(t,this,i)};else if("error"===e)s=function(e){const n=new m("error",{error:e,message:e.message});n[l]=this,b(t,this,n)};else{if("open"!==e)return;s=function(){const e=new d("open");e[l]=this,b(t,this,e)}}s[i]=!!n[i],s[r]=t,n.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(const n of this.listeners(e))if(n[r]===t&&!n[i]){this.removeListener(e,n);break}}};function b(e,t,n){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,n):e.call(t,n)}e.exports={CloseEvent:f,ErrorEvent:m,Event:d,EventTarget:y,MessageEvent:g}},55926:(e,t,n)=>{"use strict";const{tokenChars:i}=n(95880);function r(e,t,n){void 0===e[t]?e[t]=[n]:e[t].push(n)}e.exports={format:function(e){return Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>[t].concat(Object.keys(e).map((t=>{let n=e[t];return Array.isArray(n)||(n=[n]),n.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let n,s,o=Object.create(null),a=!1,c=!1,u=!1,l=-1,h=-1,p=-1,d=0;for(;d<e.length;d++)if(h=e.charCodeAt(d),void 0===n)if(-1===p&&1===i[h])-1===l&&(l=d);else if(0===d||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);const i=e.slice(l,p);44===h?(r(t,i,o),o=Object.create(null)):n=i,l=p=-1}}else-1===p&&-1!==l&&(p=d);else if(void 0===s)if(-1===p&&1===i[h])-1===l&&(l=d);else if(32===h||9===h)-1===p&&-1!==l&&(p=d);else if(59===h||44===h){if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d),r(o,e.slice(l,p),!0),44===h&&(r(t,n,o),o=Object.create(null),n=void 0),l=p=-1}else{if(61!==h||-1===l||-1!==p)throw new SyntaxError(`Unexpected character at index ${d}`);s=e.slice(l,d),l=p=-1}else if(c){if(1!==i[h])throw new SyntaxError(`Unexpected character at index ${d}`);-1===l?l=d:a||(a=!0),c=!1}else if(u)if(1===i[h])-1===l&&(l=d);else if(34===h&&-1!==l)u=!1,p=d;else{if(92!==h)throw new SyntaxError(`Unexpected character at index ${d}`);c=!0}else if(34===h&&61===e.charCodeAt(d-1))u=!0;else if(-1===p&&1===i[h])-1===l&&(l=d);else if(-1===l||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${d}`);{if(-1===l)throw new SyntaxError(`Unexpected character at index ${d}`);-1===p&&(p=d);let i=e.slice(l,p);a&&(i=i.replace(/\\/g,""),a=!1),r(o,s,i),44===h&&(r(t,n,o),o=Object.create(null),n=void 0),s=void 0,l=p=-1}}else-1===p&&(p=d);if(-1===l||u||32===h||9===h)throw new SyntaxError("Unexpected end of input");-1===p&&(p=d);const f=e.slice(l,p);return void 0===n?r(t,f,o):(void 0===s?r(o,f,!0):r(o,s,a?f.replace(/\\/g,""):f),r(t,n,o)),t}}},4759:e=>{"use strict";const t=Symbol("kDone"),n=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[n]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[n]()}[n](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},42971:(e,t,n)=>{"use strict";const i=n(43106),r=n(93338),s=n(4759),{kStatusCode:o}=n(32614),a=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),u=Symbol("permessage-deflate"),l=Symbol("total-length"),h=Symbol("callback"),p=Symbol("buffers"),d=Symbol("error");let f;function m(e){this[p].push(e),this[l]+=e.length}function g(e){this[l]+=e.length,this[u]._maxPayload<1||this[l]<=this[u]._maxPayload?this[p].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[d][o]=1009,this.removeListener("data",g),this.reset())}function y(e){this[u]._inflate=null,e[o]=1007,this[h](e)}e.exports=class{constructor(e,t,n){if(this._maxPayload=0|n,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[h];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,n=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(n.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?n.client_max_window_bits=t.clientMaxWindowBits:!0!==n.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete n.client_max_window_bits,n}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let n=e[t];if(n.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(n=n[0],"client_max_window_bits"===t){if(!0!==n){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}else if("server_max_window_bits"===t){const e=+n;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${n}`);n=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==n)throw new TypeError(`Invalid value for parameter "${t}": ${n}`)}e[t]=n}))})),e}decompress(e,t,n){f.add((i=>{this._decompress(e,t,((e,t)=>{i(),n(e,t)}))}))}compress(e,t,n){f.add((i=>{this._compress(e,t,((e,t)=>{i(),n(e,t)}))}))}_decompress(e,t,n){const s=this._isServer?"client":"server";if(!this._inflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[u]=this,this._inflate[l]=0,this._inflate[p]=[],this._inflate.on("error",y),this._inflate.on("data",g)}this._inflate[h]=n,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void n(e);const i=r.concat(this._inflate[p],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),n(null,i)}))}_compress(e,t,n){const s=this._isServer?"server":"client";if(!this._deflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[p]=[],this._deflate.on("data",m)}this._deflate[h]=n,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=r.concat(this._deflate[p],this._deflate[l]);t&&(e=new a(e.buffer,e.byteOffset,e.length-4)),this._deflate[h]=null,this._deflate[l]=0,this._deflate[p]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),n(null,e)}))}}},46286:(e,t,n)=>{"use strict";const{Writable:i}=n(2203),r=n(42971),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=n(32614),{concat:u,toArrayBuffer:l,unmask:h}=n(93338),{isValidStatusCode:p,isValidUTF8:d}=n(95880),f=Buffer[Symbol.species];e.exports=class extends i{constructor(e={}){super(),this._allowSynchronousEvents=void 0===e.allowSynchronousEvents||e.allowSynchronousEvents,this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=0}_write(e,t,n){if(8===this._opcode&&0==this._state)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const n=this._buffers[0],i=t.length-e;e>=n.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new f(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do{switch(this._state){case 0:this.getInfo(e);break;case 1:this.getPayloadLength16(e);break;case 2:this.getPayloadLength64(e);break;case 3:this.getMask();break;case 4:this.getData(e);break;case 5:case 6:return void(this._loop=!1)}}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2)return void(this._loop=!1);const t=this.consume(2);if(48&t[0])return void e(this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3"));const n=!(64&~t[0]);if(!n||this._extensions[r.extensionName]){if(this._fin=!(128&~t[0]),this._opcode=15&t[0],this._payloadLength=127&t[1],0===this._opcode){if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(!this._fragmented)return void e(this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE"));this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));this._compressed=n}else{if(!(this._opcode>7&&this._opcode<11))return void e(this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE"));if(!this._fin)return void e(this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN"));if(n)return void e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"));if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return void e(this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH"))}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=!(128&~t[1]),this._isServer){if(!this._masked)return void e(this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK"))}else if(this._masked)return void e(this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK"));126===this._payloadLength?this._state=1:127===this._payloadLength?this._state=2:this.haveLength(e)}else e(this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1"))}getPayloadLength16(e){this._bufferedBytes<2?this._loop=!1:(this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e))}getPayloadLength64(e){if(this._bufferedBytes<8)return void(this._loop=!1);const t=this.consume(8),n=t.readUInt32BE(0);n>Math.pow(2,21)-1?e(this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e))}haveLength(e){this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)?e(this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH")):this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&h(t,this._mask)}if(this._opcode>7)this.controlMessage(t,e);else{if(this._compressed)return this._state=5,void this.decompress(t,e);t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}}decompress(e,t){this._extensions[r.extensionName].decompress(e,this._fin,((e,n)=>{if(e)return t(e);if(n.length){if(this._messageLength+=n.length,this._messageLength>this._maxPayload&&this._maxPayload>0){const e=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");return void t(e)}this._fragments.push(n)}this.dataMessage(t),0===this._state&&this.startLoop(t)}))}dataMessage(e){if(!this._fin)return void(this._state=0);const t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let i;i="nodebuffer"===this._binaryType?u(n,t):"arraybuffer"===this._binaryType?l(u(n,t)):n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",i,!0),this._state=0,this.startLoop(e)})))}else{const i=u(n,t);if(!this._skipUTF8Validation&&!d(i)){const t=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void e(t)}5===this._state||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=0):(this._state=6,setImmediate((()=>{this.emit("message",i,!1),this._state=0,this.startLoop(e)})))}}controlMessage(e,t){if(8!==this._opcode)this._allowSynchronousEvents?(this.emit(9===this._opcode?"ping":"pong",e),this._state=0):(this._state=6,setImmediate((()=>{this.emit(9===this._opcode?"ping":"pong",e),this._state=0,this.startLoop(t)})));else{if(0===e.length)this._loop=!1,this.emit("conclude",1005,o),this.end();else{const n=e.readUInt16BE(0);if(!p(n)){const e=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");return void t(e)}const i=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!d(i)){const e=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");return void t(e)}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=0}}createError(e,t,n,i,r){this._loop=!1,this._errored=!0;const s=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=r,s[a]=i,s}}},80914:(e,t,n)=>{"use strict";const{Duplex:i}=n(2203),{randomFillSync:r}=n(76982),s=n(42971),{EMPTY_BUFFER:o}=n(32614),{isValidStatusCode:a}=n(95880),{mask:c,toBuffer:u}=n(93338),l=Symbol("kByteLength"),h=Buffer.alloc(4),p=8192;let d,f=p;class m{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,i,s=!1,o=2,a=!1;t.mask&&(n=t.maskBuffer||h,t.generateMask?t.generateMask(n):(f===p&&(void 0===d&&(d=Buffer.alloc(p)),r(d,0,p),f=0),n[0]=d[f++],n[1]=d[f++],n[2]=d[f++],n[3]=d[f++]),a=!(n[0]|n[1]|n[2]|n[3]),o=6),"string"==typeof e?i=t.mask&&!a||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(i=e.length,s=t.mask&&t.readOnly&&!a);let u=i;i>=65536?(o+=8,u=127):i>125&&(o+=2,u=126);const m=Buffer.allocUnsafe(s?i+o:o);return m[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(m[0]|=64),m[1]=u,126===u?m.writeUInt16BE(i,2):127===u&&(m[2]=m[3]=0,m.writeUIntBE(i,4,6)),t.mask?(m[1]|=128,m[o-4]=n[0],m[o-3]=n[1],m[o-2]=n[2],m[o-1]=n[3],a?[m,e]:s?(c(e,n,m,o,i),[m]):(c(e,n,e,0,i),[m,e])):[m,e]}close(e,t,n,i){let r;if(void 0===e)r=o;else{if("number"!=typeof e||!a(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const n=Buffer.byteLength(t);if(n>123)throw new RangeError("The message must not be greater than 123 bytes");r=Buffer.allocUnsafe(2+n),r.writeUInt16BE(e,0),"string"==typeof t?r.write(t,2):r.set(t,2)}else r=Buffer.allocUnsafe(2),r.writeUInt16BE(e,0)}const s={[l]:r.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,r,!1,s,i]):this.sendFrame(m.frame(r,s),i)}ping(e,t,n){let i,r;if("string"==typeof e?(i=Buffer.byteLength(e),r=!1):(i=(e=u(e)).length,r=u.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:r,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(m.frame(e,s),n)}pong(e,t,n){let i,r;if("string"==typeof e?(i=Buffer.byteLength(e),r=!1):(i=(e=u(e)).length,r=u.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:r,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(m.frame(e,s),n)}send(e,t,n){const i=this._extensions[s.extensionName];let r,o,a=t.binary?2:1,c=t.compress;if("string"==typeof e?(r=Buffer.byteLength(e),o=!1):(r=(e=u(e)).length,o=u.readOnly),this._firstFragment?(this._firstFragment=!1,c&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(c=r>=i._threshold),this._compress=c):(c=!1,a=0),t.fin&&(this._firstFragment=!0),i){const i={[l]:r,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:c};this._deflating?this.enqueue([this.dispatch,e,this._compress,i,n]):this.dispatch(e,this._compress,i,n)}else this.sendFrame(m.frame(e,{[l]:r,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:!1}),n)}dispatch(e,t,n,i){if(!t)return void this.sendFrame(m.frame(e,n),i);const r=this._extensions[s.extensionName];this._bufferedBytes+=n[l],this._deflating=!0,r.compress(e,n.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){const n=this._queue[t],i=n[n.length-1];"function"==typeof i&&i(e)}}else this._bufferedBytes-=n[l],this._deflating=!1,n.readOnly=!1,this.sendFrame(m.frame(t,n),i),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=m},3719:(e,t,n)=>{"use strict";const{Duplex:i}=n(2203);function r(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let n=!0;const a=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,n){const i=!n&&a._readableState.objectMode?t.toString():t;a.push(i)||e.pause()})),e.once("error",(function(e){a.destroyed||(n=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,i){if(e.readyState===e.CLOSED)return i(t),void process.nextTick(r,a);let s=!1;e.once("error",(function(e){s=!0,i(e)})),e.once("close",(function(){s||i(t),process.nextTick(r,a)})),n&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,n,i){e.readyState!==e.CONNECTING?e.send(t,i):e.once("open",(function(){a._write(t,n,i)}))},a.on("end",s),a.on("error",o),a}},28237:(e,t,n)=>{"use strict";const{tokenChars:i}=n(95880);e.exports={parse:function(e){const t=new Set;let n=-1,r=-1,s=0;for(;s<e.length;s++){const o=e.charCodeAt(s);if(-1===r&&1===i[o])-1===n&&(n=s);else if(0===s||32!==o&&9!==o){if(44!==o)throw new SyntaxError(`Unexpected character at index ${s}`);{if(-1===n)throw new SyntaxError(`Unexpected character at index ${s}`);-1===r&&(r=s);const i=e.slice(n,r);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),n=r=-1}}else-1===r&&-1!==n&&(r=s)}if(-1===n||-1!==r)throw new SyntaxError("Unexpected end of input");const o=e.slice(n,s);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},95880:(e,t,n)=>{"use strict";const{isUtf8:i}=n(20181);function r(e){const t=e.length;let n=0;for(;n<t;)if(128&e[n])if(192==(224&e[n])){if(n+1===t||128!=(192&e[n+1])||192==(254&e[n]))return!1;n+=2}else if(224==(240&e[n])){if(n+2>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||224===e[n]&&128==(224&e[n+1])||237===e[n]&&160==(224&e[n+1]))return!1;n+=3}else{if(240!=(248&e[n]))return!1;if(n+3>=t||128!=(192&e[n+1])||128!=(192&e[n+2])||128!=(192&e[n+3])||240===e[n]&&128==(240&e[n+1])||244===e[n]&&e[n+1]>143||e[n]>244)return!1;n+=4}else n++;return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:r,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},i)e.exports.isValidUTF8=function(e){return e.length<24?r(e):i(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=n(53148);e.exports.isValidUTF8=function(e){return e.length<32?r(e):t(e)}}catch(e){}},61722:(e,t,n)=>{"use strict";const i=n(24434),r=n(58611),{Duplex:s}=n(2203),{createHash:o}=n(76982),a=n(55926),c=n(42971),u=n(28237),l=n(91060),{GUID:h,kWebSocket:p}=n(32614),d=/^[+/0-9A-Za-z]{22}==$/;function f(e){e._state=2,e.emit("close")}function m(){this.destroy()}function g(e,t,n,i){n=n||r.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(n),...i},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${r.STATUS_CODES[t]}\r\n`+Object.keys(i).map((e=>`${e}: ${i[e]}`)).join("\r\n")+"\r\n\r\n"+n)}function y(e,t,n,i,r){if(e.listenerCount("wsClientError")){const i=new Error(r);Error.captureStackTrace(i,y),e.emit("wsClientError",i,n,t)}else g(n,i,r)}e.exports=class extends i{constructor(e,t){if(super(),null==(e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=r.createServer(((e,t)=>{const n=r.STATUS_CODES[426];t.writeHead(426,{"Content-Length":n.length,"Content-Type":"text/plain"}),t.end(n)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const n of Object.keys(t))e.on(n,t[n]);return function(){for(const n of Object.keys(t))e.removeListener(n,t[n])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,n,i)=>{this.handleUpgrade(t,n,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(f,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{f(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,i){t.on("error",m);const r=e.headers["sec-websocket-key"],s=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void y(this,e,t,405,"Invalid HTTP method");if(void 0===s||"websocket"!==s.toLowerCase())return void y(this,e,t,400,"Invalid Upgrade header");if(void 0===r||!d.test(r))return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==o&&13!==o)return void y(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void g(t,400);const l=e.headers["sec-websocket-protocol"];let h=new Set;if(void 0!==l)try{h=u.parse(l)}catch(n){return void y(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const p=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==p){const n=new c(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=a.parse(p);e[c.extensionName]&&(n.accept(e[c.extensionName]),f[c.extensionName]=n)}catch(n){return void y(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const s={origin:e.headers[8===o?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((s,o,a,c)=>{if(!s)return g(t,o||401,a,c);this.completeUpgrade(f,r,h,e,t,n,i)}));if(!this.options.verifyClient(s))return g(t,401)}this.completeUpgrade(f,r,h,e,t,n,i)}completeUpgrade(e,t,n,i,r,s,u){if(!r.readable||!r.writable)return r.destroy();if(r[p])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return g(r,503);const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(t+h).digest("base64")}`],d=new this.options.WebSocket(null,void 0,this.options);if(n.size){const e=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;e&&(l.push(`Sec-WebSocket-Protocol: ${e}`),d._protocol=e)}if(e[c.extensionName]){const t=e[c.extensionName].params,n=a.format({[c.extensionName]:[t]});l.push(`Sec-WebSocket-Extensions: ${n}`),d._extensions=e}this.emit("headers",l,i),r.write(l.concat("\r\n").join("\r\n")),r.removeListener("error",m),d.setSocket(r,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(d),d.on("close",(()=>{this.clients.delete(d),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)}))),u(d,i)}}},91060:(e,t,n)=>{"use strict";const i=n(24434),r=n(65692),s=n(58611),o=n(69278),a=n(64756),{randomBytes:c,createHash:u}=n(76982),{Duplex:l,Readable:h}=n(2203),{URL:p}=n(87016),d=n(42971),f=n(46286),m=n(80914),{BINARY_TYPES:g,EMPTY_BUFFER:y,GUID:b,kForOnEventAttribute:v,kListener:w,kStatusCode:_,kWebSocket:S,NOOP:E}=n(32614),{EventTarget:{addEventListener:x,removeEventListener:D}}=n(90597),{format:C,parse:k}=n(55926),{toBuffer:R}=n(93338),A=Symbol("kAborted"),T=[8,13],O=["CONNECTING","OPEN","CLOSING","CLOSED"],F=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class P extends i{constructor(e,t,n){super(),this._binaryType=g[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=y,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=P.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(n=t,t=[]):t=[t]),I(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){g.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){const i=new f({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new m(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[S]=this,e[S]=this,i.on("conclude",$),i.on("drain",q),i.on("error",U),i.on("message",W),i.on("ping",z),i.on("pong",G),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",K),e.on("data",Y),e.on("end",J),e.on("error",Z),this._readyState=P.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=P.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=P.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==P.CLOSED)if(this.readyState!==P.CONNECTING)this.readyState!==P.CLOSING?(this._readyState=P.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";j(this,this._req,e)}}pause(){this.readyState!==P.CONNECTING&&this.readyState!==P.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===P.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===P.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||y,t,n)):M(this,e,n)}pong(e,t,n){if(this.readyState===P.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(n=e,e=t=void 0):"function"==typeof t&&(n=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===P.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||y,t,n)):M(this,e,n)}resume(){this.readyState!==P.CONNECTING&&this.readyState!==P.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===P.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(n=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==P.OPEN)return void M(this,e,n);const i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(i.compress=!1),this._sender.send(e||y,i,n)}terminate(){if(this.readyState!==P.CLOSED)if(this.readyState!==P.CONNECTING)this._socket&&(this._readyState=P.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";j(this,this._req,e)}}}function I(e,t,n,i){const o={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:T[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(e._autoPong=o.autoPong,!T.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${T.join(", ")})`);let a;if(t instanceof p)a=t;else try{a=new p(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}"http:"===a.protocol?a.protocol="ws:":"https:"===a.protocol&&(a.protocol="wss:"),e._url=a.href;const l="wss:"===a.protocol,h="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||l||h?h&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void L(e,t)}const m=l?443:80,g=c(16).toString("base64"),y=l?r.request:s.request,v=new Set;let w,_;if(o.createConnection=o.createConnection||(l?B:N),o.defaultPort=o.defaultPort||m,o.port=a.port||m,o.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,o.headers={...o.headers,"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},o.path=a.pathname+a.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(w=new d(!0!==o.perMessageDeflate?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=C({[d.extensionName]:w.offer()})),n.length){for(const e of n){if("string"!=typeof e||!F.test(e)||v.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");v.add(e)}o.headers["Sec-WebSocket-Protocol"]=n.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(a.username||a.password)&&(o.auth=`${a.username}:${a.password}`),h){const e=o.path.split(":");o.socketPath=e[0],o.path=e[1]}if(o.followRedirects){if(0===e._redirects){e._originalIpc=h,e._originalSecure=l,e._originalHostOrSocketPath=h?o.socketPath:a.host;const t=i&&i.headers;if(i={...i,headers:{}},t)for(const[e,n]of Object.entries(t))i.headers[e.toLowerCase()]=n}else if(0===e.listenerCount("redirect")){const t=h?!!e._originalIpc&&o.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!l)&&(delete o.headers.authorization,delete o.headers.cookie,t||delete o.headers.host,o.auth=void 0)}o.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64")),_=e._req=y(o),e._redirects&&e.emit("redirect",e.url,_)}else _=e._req=y(o);o.timeout&&_.on("timeout",(()=>{j(e,_,"Opening handshake has timed out")})),_.on("error",(t=>{null===_||_[A]||(_=e._req=null,L(e,t))})),_.on("response",(r=>{const s=r.headers.location,a=r.statusCode;if(s&&o.followRedirects&&a>=300&&a<400){if(++e._redirects>o.maxRedirects)return void j(e,_,"Maximum redirects exceeded");let r;_.abort();try{r=new p(s,t)}catch(t){const n=new SyntaxError(`Invalid URL: ${s}`);return void L(e,n)}I(e,r,n,i)}else e.emit("unexpected-response",_,r)||j(e,_,`Unexpected server response: ${r.statusCode}`)})),_.on("upgrade",((t,n,i)=>{if(e.emit("upgrade",t),e.readyState!==P.CONNECTING)return;_=e._req=null;const r=t.headers.upgrade;if(void 0===r||"websocket"!==r.toLowerCase())return void j(e,n,"Invalid Upgrade header");const s=u("sha1").update(g+b).digest("base64");if(t.headers["sec-websocket-accept"]!==s)return void j(e,n,"Invalid Sec-WebSocket-Accept header");const a=t.headers["sec-websocket-protocol"];let c;if(void 0!==a?v.size?v.has(a)||(c="Server sent an invalid subprotocol"):c="Server sent a subprotocol but none was requested":v.size&&(c="Server sent no subprotocol"),c)return void j(e,n,c);a&&(e._protocol=a);const l=t.headers["sec-websocket-extensions"];if(void 0!==l){if(!w)return void j(e,n,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=k(l)}catch(t){return void j(e,n,"Invalid Sec-WebSocket-Extensions header")}const i=Object.keys(t);if(1!==i.length||i[0]!==d.extensionName)return void j(e,n,"Server indicated an extension that was not requested");try{w.accept(t[d.extensionName])}catch(t){return void j(e,n,"Invalid Sec-WebSocket-Extensions header")}e._extensions[d.extensionName]=w}e.setSocket(n,i,{allowSynchronousEvents:o.allowSynchronousEvents,generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})})),o.finishRequest?o.finishRequest(_,e):_.end()}function L(e,t){e._readyState=P.CLOSING,e.emit("error",t),e.emitClose()}function N(e){return e.path=e.socketPath,o.connect(e)}function B(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function j(e,t,n){e._readyState=P.CLOSING;const i=new Error(n);Error.captureStackTrace(i,j),t.setHeader?(t[A]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(L,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function M(e,t,n){if(t){const n=R(t).length;e._socket?e._sender._bufferedBytes+=n:e._bufferedAmount+=n}if(n){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${O[e.readyState]})`);process.nextTick(n,t)}}function $(e,t){const n=this[S];n._closeFrameReceived=!0,n._closeMessage=t,n._closeCode=e,void 0!==n._socket[S]&&(n._socket.removeListener("data",Y),process.nextTick(V,n._socket),1005===e?n.close():n.close(e,t))}function q(){const e=this[S];e.isPaused||e._socket.resume()}function U(e){const t=this[S];void 0!==t._socket[S]&&(t._socket.removeListener("data",Y),process.nextTick(V,t._socket),t.close(e[_])),t.emit("error",e)}function H(){this[S].emitClose()}function W(e,t){this[S].emit("message",e,t)}function z(e){const t=this[S];t._autoPong&&t.pong(e,!this._isServer,E),t.emit("ping",e)}function G(e){this[S].emit("pong",e)}function V(e){e.resume()}function K(){const e=this[S];let t;this.removeListener("close",K),this.removeListener("data",Y),this.removeListener("end",J),e._readyState=P.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[S]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",H),e._receiver.on("finish",H))}function Y(e){this[S]._receiver.write(e)||this.pause()}function J(){const e=this[S];e._readyState=P.CLOSING,e._receiver.end(),this.end()}function Z(){const e=this[S];this.removeListener("error",Z),this.on("error",E),e&&(e._readyState=P.CLOSING,this.destroy())}Object.defineProperty(P,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(P.prototype,"CONNECTING",{enumerable:!0,value:O.indexOf("CONNECTING")}),Object.defineProperty(P,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(P.prototype,"OPEN",{enumerable:!0,value:O.indexOf("OPEN")}),Object.defineProperty(P,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(P.prototype,"CLOSING",{enumerable:!0,value:O.indexOf("CLOSING")}),Object.defineProperty(P,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),Object.defineProperty(P.prototype,"CLOSED",{enumerable:!0,value:O.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(P.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(P.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[v])return t[w];return null},set(t){for(const t of this.listeners(e))if(t[v]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[v]:!0})}})})),P.prototype.addEventListener=x,P.prototype.removeEventListener=D,e.exports=P},48919:(e,t,n)=>{var i=n(39023).inherits,r=n(8351).ZipArchiveOutputStream,s=n(8351).ZipArchiveEntry,o=n(91789),a=e.exports=function(e){if(!(this instanceof a))return new a(e);(e=this.options=e||{}).zlib=e.zlib||{},r.call(this,e),"number"==typeof e.level&&e.level>=0&&(e.zlib.level=e.level,delete e.level),e.forceZip64||"number"!=typeof e.zlib.level||0!==e.zlib.level||(e.store=!0),e.namePrependSlash=e.namePrependSlash||!1,e.comment&&e.comment.length>0&&this.setComment(e.comment)};i(a,r),a.prototype._normalizeFileData=function(e){var t="directory"===(e=o.defaults(e,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""})).type,n="symlink"===e.type;return e.name&&(e.name=o.sanitizePath(e.name),n||"/"!==e.name.slice(-1)?t&&(e.name+="/"):(t=!0,e.type="directory")),(t||n)&&(e.store=!0),e.date=o.dateify(e.date),e},a.prototype.entry=function(e,t,n){if("function"!=typeof n&&(n=this._emitErrorCallback.bind(this)),"file"===(t=this._normalizeFileData(t)).type||"directory"===t.type||"symlink"===t.type)if("string"==typeof t.name&&0!==t.name.length){if("symlink"!==t.type||"string"==typeof t.linkname){var i=new s(t.name);return i.setTime(t.date,this.options.forceLocalTime),t.namePrependSlash&&i.setName(t.name,!0),t.store&&i.setMethod(0),t.comment.length>0&&i.setComment(t.comment),"symlink"===t.type&&"number"!=typeof t.mode&&(t.mode=40960),"number"==typeof t.mode&&("symlink"===t.type&&(t.mode|=40960),i.setUnixMode(t.mode)),"symlink"===t.type&&"string"==typeof t.linkname&&(e=Buffer.from(t.linkname)),r.prototype.entry.call(this,i,e,n)}n(new Error("entry linkname must be a non-empty string value when type equals symlink"))}else n(new Error("entry name must be a non-empty string value"));else n(new Error(t.type+" entries not currently supported"))},a.prototype.finalize=function(){this.finish()}},91398:e=>{"use strict";e.exports=require("vscode")},42613:e=>{"use strict";e.exports=require("assert")},20181:e=>{"use strict";e.exports=require("buffer")},35317:e=>{"use strict";e.exports=require("child_process")},49140:e=>{"use strict";e.exports=require("constants")},76982:e=>{"use strict";e.exports=require("crypto")},24434:e=>{"use strict";e.exports=require("events")},79896:e=>{"use strict";e.exports=require("fs")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},69278:e=>{"use strict";e.exports=require("net")},34589:e=>{"use strict";e.exports=require("node:assert")},4573:e=>{"use strict";e.exports=require("node:buffer")},31421:e=>{"use strict";e.exports=require("node:child_process")},77598:e=>{"use strict";e.exports=require("node:crypto")},40610:e=>{"use strict";e.exports=require("node:dns")},78474:e=>{"use strict";e.exports=require("node:events")},73024:e=>{"use strict";e.exports=require("node:fs")},51455:e=>{"use strict";e.exports=require("node:fs/promises")},37067:e=>{"use strict";e.exports=require("node:http")},44708:e=>{"use strict";e.exports=require("node:https")},98995:e=>{"use strict";e.exports=require("node:module")},77030:e=>{"use strict";e.exports=require("node:net")},48161:e=>{"use strict";e.exports=require("node:os")},76760:e=>{"use strict";e.exports=require("node:path")},1708:e=>{"use strict";e.exports=require("node:process")},41792:e=>{"use strict";e.exports=require("node:querystring")},80481:e=>{"use strict";e.exports=require("node:readline")},57075:e=>{"use strict";e.exports=require("node:stream")},38321:e=>{"use strict";e.exports=require("node:stream/consumers")},46193:e=>{"use strict";e.exports=require("node:string_decoder")},58500:e=>{"use strict";e.exports=require("node:timers/promises")},41692:e=>{"use strict";e.exports=require("node:tls")},7066:e=>{"use strict";e.exports=require("node:tty")},73136:e=>{"use strict";e.exports=require("node:url")},57975:e=>{"use strict";e.exports=require("node:util")},38522:e=>{"use strict";e.exports=require("node:zlib")},70857:e=>{"use strict";e.exports=require("os")},16928:e=>{"use strict";e.exports=require("path")},83480:e=>{"use strict";e.exports=require("querystring")},2203:e=>{"use strict";e.exports=require("stream")},13193:e=>{"use strict";e.exports=require("string_decoder")},53557:e=>{"use strict";e.exports=require("timers")},64756:e=>{"use strict";e.exports=require("tls")},52018:e=>{"use strict";e.exports=require("tty")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},43106:e=>{"use strict";e.exports=require("zlib")},6564:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Glob=void 0;const i=n(78722),r=n(73136),s=n(82624),o=n(85566),a=n(90400),c="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class u{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;includeChildMatches;opts;patterns;constructor(e,t){if(!t)throw new TypeError("glob options required");if(this.withFileTypes=!!t.withFileTypes,this.signal=t.signal,this.follow=!!t.follow,this.dot=!!t.dot,this.dotRelative=!!t.dotRelative,this.nodir=!!t.nodir,this.mark=!!t.mark,t.cwd?(t.cwd instanceof URL||t.cwd.startsWith("file://"))&&(t.cwd=(0,r.fileURLToPath)(t.cwd)):this.cwd="",this.cwd=t.cwd||"",this.root=t.root,this.magicalBraces=!!t.magicalBraces,this.nobrace=!!t.nobrace,this.noext=!!t.noext,this.realpath=!!t.realpath,this.absolute=t.absolute,this.includeChildMatches=!1!==t.includeChildMatches,this.noglobstar=!!t.noglobstar,this.matchBase=!!t.matchBase,this.maxDepth="number"==typeof t.maxDepth?t.maxDepth:1/0,this.stat=!!t.stat,this.ignore=t.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof e&&(e=[e]),this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(e=e.map((e=>e.replace(/\\/g,"/")))),this.matchBase){if(t.noglobstar)throw new TypeError("base matching requires globstar");e=e.map((e=>e.includes("/")?e:`./**/${e}`))}if(this.pattern=e,this.platform=t.platform||c,this.opts={...t,platform:this.platform},t.scurry){if(this.scurry=t.scurry,void 0!==t.nocase&&t.nocase!==t.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const e="win32"===t.platform?s.PathScurryWin32:"darwin"===t.platform?s.PathScurryDarwin:t.platform?s.PathScurryPosix:s.PathScurry;this.scurry=new e(this.cwd,{nocase:t.nocase,fs:t.fs})}this.nocase=this.scurry.nocase;const n="darwin"===this.platform||"win32"===this.platform,a={...t,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},u=this.pattern.map((e=>new i.Minimatch(e,a))),[l,h]=u.reduce(((e,t)=>(e[0].push(...t.set),e[1].push(...t.globParts),e)),[[],[]]);this.patterns=l.map(((e,t)=>{const n=h[t];if(!n)throw new Error("invalid pattern object");return new o.Pattern(e,n,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}t.Glob=u},62150:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasMagic=void 0;const i=n(78722);t.hasMagic=(e,t={})=>{Array.isArray(e)||(e=[e]);for(const n of e)if(new i.Minimatch(n,t).hasMagic())return!0;return!1}},79348:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ignore=void 0;const i=n(78722),r=n(85566),s="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";t.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;platform;mmopts;constructor(e,{nobrace:t,nocase:n,noext:i,noglobstar:r,platform:o=s}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=o,this.mmopts={dot:!0,nobrace:t,nocase:n,noext:i,noglobstar:r,optimizationLevel:2,platform:o,nocomment:!0,nonegate:!0};for(const t of e)this.add(t)}add(e){const t=new i.Minimatch(e,this.mmopts);for(let e=0;e<t.set.length;e++){const n=t.set[e],s=t.globParts[e];if(!n||!s)throw new Error("invalid pattern object");for(;"."===n[0]&&"."===s[0];)n.shift(),s.shift();const o=new r.Pattern(n,s,0,this.platform),a=new i.Minimatch(o.globString(),this.mmopts),c="**"===s[s.length-1],u=o.isAbsolute();u?this.absolute.push(a):this.relative.push(a),c&&(u?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}ignored(e){const t=e.fullpath(),n=`${t}/`,i=e.relative()||".",r=`${i}/`;for(const e of this.relative)if(e.match(i)||e.match(r))return!0;for(const e of this.absolute)if(e.match(t)||e.match(n))return!0;return!1}childrenIgnored(e){const t=e.fullpath()+"/",n=(e.relative()||".")+"/";for(const e of this.relativeChildren)if(e.match(n))return!0;for(const e of this.absoluteChildren)if(e.match(t))return!0;return!1}}},6492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.Ignore=t.hasMagic=t.Glob=t.unescape=t.escape=void 0,t.globStreamSync=l,t.globStream=h,t.globSync=p,t.globIterateSync=f,t.globIterate=m;const i=n(78722),r=n(6564),s=n(62150);var o=n(78722);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return o.unescape}});var a=n(6564);Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return a.Glob}});var c=n(62150);Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return c.hasMagic}});var u=n(79348);function l(e,t={}){return new r.Glob(e,t).streamSync()}function h(e,t={}){return new r.Glob(e,t).stream()}function p(e,t={}){return new r.Glob(e,t).walkSync()}async function d(e,t={}){return new r.Glob(e,t).walk()}function f(e,t={}){return new r.Glob(e,t).iterateSync()}function m(e,t={}){return new r.Glob(e,t).iterate()}Object.defineProperty(t,"Ignore",{enumerable:!0,get:function(){return u.Ignore}}),t.streamSync=l,t.stream=Object.assign(h,{sync:l}),t.iterateSync=f,t.iterate=Object.assign(m,{sync:f}),t.sync=Object.assign(p,{stream:l,iterate:f}),t.glob=Object.assign(d,{glob:d,globSync:p,sync:t.sync,globStream:h,stream:t.stream,globStreamSync:l,streamSync:t.streamSync,globIterate:m,iterate:t.iterate,globIterateSync:f,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:s.hasMagic,escape:i.escape,unescape:i.unescape}),t.glob.glob=t.glob},85566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pattern=void 0;const i=n(78722);class r{#V;#K;#Y;length;#J;#Z;#X;#Q;#ee;#te;#ne=!0;constructor(e,t,n,i){if(!(e.length>=1))throw new TypeError("empty pattern list");if(!(t.length>=1))throw new TypeError("empty glob list");if(t.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(this.#V=e,this.#K=t,this.#Y=n,this.#J=i,0===this.#Y)if(this.isUNC()){const[e,t,n,i,...r]=this.#V,[s,o,a,c,...u]=this.#K;""===r[0]&&(r.shift(),u.shift());const l=[e,t,n,i,""].join("/"),h=[s,o,a,c,""].join("/");this.#V=[l,...r],this.#K=[h,...u],this.length=this.#V.length}else if(this.isDrive()||this.isAbsolute()){const[e,...t]=this.#V,[n,...i]=this.#K;""===t[0]&&(t.shift(),i.shift());const r=e+"/",s=n+"/";this.#V=[r,...t],this.#K=[s,...i],this.length=this.#V.length}}pattern(){return this.#V[this.#Y]}isString(){return"string"==typeof this.#V[this.#Y]}isGlobstar(){return this.#V[this.#Y]===i.GLOBSTAR}isRegExp(){return this.#V[this.#Y]instanceof RegExp}globString(){return this.#X=this.#X||(0===this.#Y?this.isAbsolute()?this.#K[0]+this.#K.slice(1).join("/"):this.#K.join("/"):this.#K.slice(this.#Y).join("/"))}hasMore(){return this.length>this.#Y+1}rest(){return void 0!==this.#Z?this.#Z:this.hasMore()?(this.#Z=new r(this.#V,this.#K,this.#Y+1,this.#J),this.#Z.#te=this.#te,this.#Z.#ee=this.#ee,this.#Z.#Q=this.#Q,this.#Z):this.#Z=null}isUNC(){const e=this.#V;return void 0!==this.#ee?this.#ee:this.#ee="win32"===this.#J&&0===this.#Y&&""===e[0]&&""===e[1]&&"string"==typeof e[2]&&!!e[2]&&"string"==typeof e[3]&&!!e[3]}isDrive(){const e=this.#V;return void 0!==this.#Q?this.#Q:this.#Q="win32"===this.#J&&0===this.#Y&&this.length>1&&"string"==typeof e[0]&&/^[a-z]:$/i.test(e[0])}isAbsolute(){const e=this.#V;return void 0!==this.#te?this.#te:this.#te=""===e[0]&&e.length>1||this.isDrive()||this.isUNC()}root(){const e=this.#V[0];return"string"==typeof e&&this.isAbsolute()&&0===this.#Y?e:""}checkFollowGlobstar(){return!(0===this.#Y||!this.isGlobstar()||!this.#ne)}markFollowGlobstar(){return!(0===this.#Y||!this.isGlobstar()||!this.#ne||(this.#ne=!1,0))}}t.Pattern=r},61120:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Processor=t.SubWalks=t.MatchRecord=t.HasWalkedCache=void 0;const i=n(78722);class r{store;constructor(e=new Map){this.store=e}copy(){return new r(new Map(this.store))}hasWalked(e,t){return this.store.get(e.fullpath())?.has(t.globString())}storeWalked(e,t){const n=e.fullpath(),i=this.store.get(n);i?i.add(t.globString()):this.store.set(n,new Set([t.globString()]))}}t.HasWalkedCache=r;class s{store=new Map;add(e,t,n){const i=(t?2:0)|(n?1:0),r=this.store.get(e);this.store.set(e,void 0===r?i:i&r)}entries(){return[...this.store.entries()].map((([e,t])=>[e,!!(2&t),!!(1&t)]))}}t.MatchRecord=s;class o{store=new Map;add(e,t){if(!e.canReaddir())return;const n=this.store.get(e);n?n.find((e=>e.globString()===t.globString()))||n.push(t):this.store.set(e,[t])}get(e){const t=this.store.get(e);if(!t)throw new Error("attempting to walk unknown path");return t}entries(){return this.keys().map((e=>[e,this.store.get(e)]))}keys(){return[...this.store.keys()].filter((e=>e.canReaddir()))}}t.SubWalks=o;class a{hasWalkedCache;matches=new s;subwalks=new o;patterns;follow;dot;opts;constructor(e,t){this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=t?t.copy():new r}processPatterns(e,t){this.patterns=t;const n=t.map((t=>[e,t]));for(let[e,t]of n){this.hasWalkedCache.storeWalked(e,t);const n=t.root(),r=t.isAbsolute()&&!1!==this.opts.absolute;if(n){e=e.resolve("/"===n&&void 0!==this.opts.root?this.opts.root:n);const i=t.rest();if(!i){this.matches.add(e,!0,!1);continue}t=i}if(e.isENOENT())continue;let s,o,a=!1;for(;"string"==typeof(s=t.pattern())&&(o=t.rest());){const n=e.resolve(s);e=n,t=o,a=!0}if(s=t.pattern(),o=t.rest(),a){if(this.hasWalkedCache.hasWalked(e,t))continue;this.hasWalkedCache.storeWalked(e,t)}if("string"!=typeof s)if(s===i.GLOBSTAR){(!e.isSymbolicLink()||this.follow||t.checkFollowGlobstar())&&this.subwalks.add(e,t);const n=o?.pattern(),i=o?.rest();if(o&&(""!==n&&"."!==n||i)){if(".."===n){const t=e.parent||e;i?this.hasWalkedCache.hasWalked(t,i)||this.subwalks.add(t,i):this.matches.add(t,r,!0)}}else this.matches.add(e,r,""===n||"."===n)}else s instanceof RegExp&&this.subwalks.add(e,t);else{const t=".."===s||""===s||"."===s;this.matches.add(e.resolve(s),r,t)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(e,t){const n=this.subwalks.get(e),r=this.child();for(const e of t)for(const t of n){const n=t.isAbsolute(),s=t.pattern(),o=t.rest();s===i.GLOBSTAR?r.testGlobstar(e,t,o,n):s instanceof RegExp?r.testRegExp(e,s,o,n):r.testString(e,s,o,n)}return r}testGlobstar(e,t,n,i){if(!this.dot&&e.name.startsWith(".")||(t.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,t):e.isSymbolicLink()&&(n&&t.checkFollowGlobstar()?this.subwalks.add(e,n):t.markFollowGlobstar()&&this.subwalks.add(e,t)))),n){const t=n.pattern();if("string"==typeof t&&".."!==t&&""!==t&&"."!==t)this.testString(e,t,n.rest(),i);else if(".."===t){const t=e.parent||e;this.subwalks.add(t,n)}else t instanceof RegExp&&this.testRegExp(e,t,n.rest(),i)}}testRegExp(e,t,n,i){t.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,t,n,i){e.isNamed(t)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}}t.Processor=a},90400:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobStream=t.GlobWalker=t.GlobUtil=void 0;const i=n(45420),r=n(79348),s=n(61120);class o{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#ie=[];#re;#se;signal;maxDepth;includeChildMatches;constructor(e,t,n){if(this.patterns=e,this.path=t,this.opts=n,this.#se=n.posix||"win32"!==n.platform?"/":"\\",this.includeChildMatches=!1!==n.includeChildMatches,(n.ignore||!this.includeChildMatches)&&(this.#re=((e,t)=>"string"==typeof e?new r.Ignore([e],t):Array.isArray(e)?new r.Ignore(e,t):e)(n.ignore??[],n),!this.includeChildMatches&&"function"!=typeof this.#re.add))throw new Error("cannot ignore child matches, ignore lacks add() method.");this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",(()=>{this.#ie.length=0})))}#oe(e){return this.seen.has(e)||!!this.#re?.ignored?.(e)}#ae(e){return!!this.#re?.childrenIgnored?.(e)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let e;for(this.paused=!1;!this.paused&&(e=this.#ie.shift());)e()}onResume(e){this.signal?.aborted||(this.paused?this.#ie.push(e):e())}async matchCheck(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}const i=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const e=await i.realpath();e&&(e.isUnknown()||this.opts.stat)&&await e.lstat()}return this.matchCheckTest(i,t)}matchCheckTest(e,t){return!e||!(this.maxDepth===1/0||e.depth()<=this.maxDepth)||t&&!e.canReaddir()||this.opts.nodir&&e.isDirectory()||this.opts.nodir&&this.opts.follow&&e.isSymbolicLink()&&e.realpathCached()?.isDirectory()||this.#oe(e)?void 0:e}matchCheckSync(e,t){if(t&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}const i=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const e=i.realpathSync();e&&(e?.isUnknown()||this.opts.stat)&&e.lstatSync()}return this.matchCheckTest(i,t)}matchFinish(e,t){if(this.#oe(e))return;if(!this.includeChildMatches&&this.#re?.add){const t=`${e.relativePosix()}/**`;this.#re.add(t)}const n=void 0===this.opts.absolute?t:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?this.#se:"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){const t=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(t+i)}else{const t=this.opts.posix?e.relativePosix():e.relative(),n=this.opts.dotRelative&&!t.startsWith(".."+this.#se)?"."+this.#se:"";this.matchEmit(t?n+t+i:"."+i)}}async match(e,t,n){const i=await this.matchCheck(e,n);i&&this.matchFinish(i,t)}matchSync(e,t,n){const i=this.matchCheckSync(e,n);i&&this.matchFinish(i,t)}walkCB(e,t,n){this.signal?.aborted&&n(),this.walkCB2(e,t,new s.Processor(this.opts),n)}walkCB2(e,t,n,i){if(this.#ae(e))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(e,t,n,i)));n.processPatterns(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#oe(e)||(r++,this.match(e,t,i).then((()=>s())));for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;r++;const t=e.readdirCached();e.calledReaddir()?this.walkCB3(e,t,n,s):e.readdirCB(((t,i)=>this.walkCB3(e,i,n,s)),!0)}s()}walkCB3(e,t,n,i){n=n.filterEntries(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#oe(e)||(r++,this.match(e,t,i).then((()=>s())));for(const[e,t]of n.subwalks.entries())r++,this.walkCB2(e,t,n.child(),s);s()}walkCBSync(e,t,n){this.signal?.aborted&&n(),this.walkCB2Sync(e,t,new s.Processor(this.opts),n)}walkCB2Sync(e,t,n,i){if(this.#ae(e))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(e,t,n,i)));n.processPatterns(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#oe(e)||this.matchSync(e,t,i);for(const e of n.subwalkTargets()){if(this.maxDepth!==1/0&&e.depth()>=this.maxDepth)continue;r++;const t=e.readdirSync();this.walkCB3Sync(e,t,n,s)}s()}walkCB3Sync(e,t,n,i){n=n.filterEntries(e,t);let r=1;const s=()=>{0==--r&&i()};for(const[e,t,i]of n.matches.entries())this.#oe(e)||this.matchSync(e,t,i);for(const[e,t]of n.subwalks.entries())r++,this.walkCB2Sync(e,t,n.child(),s);s()}}t.GlobUtil=o,t.GlobWalker=class extends o{matches=new Set;constructor(e,t,n){super(e,t,n)}matchEmit(e){this.matches.add(e)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((e,t)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?t(this.signal.reason):e(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},t.GlobStream=class extends o{results;constructor(e,t,n){super(e,t,n),this.results=new i.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(e){this.results.write(e),this.results.flowing||this.pause()}stream(){const e=this.path;return e.isUnknown()?e.lstat().then((()=>{this.walkCB(e,this.patterns,(()=>this.results.end()))})):this.walkCB(e,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}},37e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const n="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,r="object"==typeof process&&process?process:{},s=(e,t,n,i)=>{"function"==typeof r.emitWarning?r.emitWarning(e,t,n,i):console.error(`[${n}] ${t}: ${e}`)};let o=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===o){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(e,t){this._onabort.push(t)}},o=class{constructor(){t()}signal=new a;abort(e){if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);this.signal.onabort?.(e)}}};let e="1"!==r.env?.LRU_CACHE_IGNORE_AC_WARNING;const t=()=>{e&&(e=!1,s("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const c=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),u=e=>c(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?l:null:null;class l extends Array{constructor(e){super(e),this.fill(0)}}class h{heap;length;static#ce=!1;static create(e){const t=u(e);if(!t)return[];h.#ce=!0;const n=new h(e,t);return h.#ce=!1,n}constructor(e,t){if(!h.#ce)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}class p{#ue;#le;#he;#pe;#de;#fe;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#me;#ge;#ye;#be;#ve;#we;#_e;#Se;#Ee;#xe;#De;#Ce;#ke;#Re;#Ae;#Te;#Oe;static unsafeExposeInternals(e){return{starts:e.#ke,ttls:e.#Re,sizes:e.#Ce,keyMap:e.#ye,keyList:e.#be,valList:e.#ve,next:e.#we,prev:e.#_e,get head(){return e.#Se},get tail(){return e.#Ee},free:e.#xe,isBackgroundFetch:t=>e.#Fe(t),backgroundFetch:(t,n,i,r)=>e.#Pe(t,n,i,r),moveToTail:t=>e.#Ie(t),indexes:t=>e.#Le(t),rindexes:t=>e.#Ne(t),isStale:t=>e.#Be(t)}}get max(){return this.#ue}get maxSize(){return this.#le}get calculatedSize(){return this.#ge}get size(){return this.#me}get fetchMethod(){return this.#de}get memoMethod(){return this.#fe}get dispose(){return this.#he}get disposeAfter(){return this.#pe}constructor(e){const{max:t=0,ttl:n,ttlResolution:r=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:l,allowStale:d,dispose:f,disposeAfter:m,noDisposeOnSet:g,noUpdateTTL:y,maxSize:b=0,maxEntrySize:v=0,sizeCalculation:w,fetchMethod:_,memoMethod:S,noDeleteOnFetchRejection:E,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:D,allowStaleOnFetchAbort:C,ignoreFetchAbort:k}=e;if(0!==t&&!c(t))throw new TypeError("max option must be a nonnegative integer");const R=t?u(t):Array;if(!R)throw new Error("invalid max value: "+t);if(this.#ue=t,this.#le=b,this.maxEntrySize=v||this.#le,this.sizeCalculation=w,this.sizeCalculation){if(!this.#le&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==S&&"function"!=typeof S)throw new TypeError("memoMethod must be a function if defined");if(this.#fe=S,void 0!==_&&"function"!=typeof _)throw new TypeError("fetchMethod must be a function if specified");if(this.#de=_,this.#Te=!!_,this.#ye=new Map,this.#be=new Array(t).fill(void 0),this.#ve=new Array(t).fill(void 0),this.#we=new R(t),this.#_e=new R(t),this.#Se=0,this.#Ee=0,this.#xe=h.create(t),this.#me=0,this.#ge=0,"function"==typeof f&&(this.#he=f),"function"==typeof m?(this.#pe=m,this.#De=[]):(this.#pe=void 0,this.#De=void 0),this.#Ae=!!this.#he,this.#Oe=!!this.#pe,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!y,this.noDeleteOnFetchRejection=!!E,this.allowStaleOnFetchRejection=!!D,this.allowStaleOnFetchAbort=!!C,this.ignoreFetchAbort=!!k,0!==this.maxEntrySize){if(0!==this.#le&&!c(this.#le))throw new TypeError("maxSize must be a positive integer if specified");if(!c(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#je()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!l,this.ttlResolution=c(r)||0===r?r:1,this.ttlAutopurge=!!o,this.ttl=n||0,this.ttl){if(!c(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#Me()}if(0===this.#ue&&0===this.ttl&&0===this.#le)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#ue&&!this.#le){const e="LRU_CACHE_UNBOUNDED";(e=>!i.has(e))(e)&&(i.add(e),s("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,p))}}getRemainingTTL(e){return this.#ye.has(e)?1/0:0}#Me(){const e=new l(this.#ue),t=new l(this.#ue);this.#Re=e,this.#ke=t,this.#$e=(i,r,s=n.now())=>{if(t[i]=0!==r?s:0,e[i]=r,0!==r&&this.ttlAutopurge){const e=setTimeout((()=>{this.#Be(i)&&this.#qe(this.#be[i],"expire")}),r+1);e.unref&&e.unref()}},this.#Ue=i=>{t[i]=0!==e[i]?n.now():0},this.#He=(n,s)=>{if(e[s]){const o=e[s],a=t[s];if(!o||!a)return;n.ttl=o,n.start=a,n.now=i||r();const c=n.now-a;n.remainingTTL=o-c}};let i=0;const r=()=>{const e=n.now();if(this.ttlResolution>0){i=e;const t=setTimeout((()=>i=0),this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=n=>{const s=this.#ye.get(n);if(void 0===s)return 0;const o=e[s],a=t[s];return o&&a?o-((i||r())-a):1/0},this.#Be=n=>{const s=t[n],o=e[n];return!!o&&!!s&&(i||r())-s>o}}#Ue=()=>{};#He=()=>{};#$e=()=>{};#Be=()=>!1;#je(){const e=new l(this.#ue);this.#ge=0,this.#Ce=e,this.#We=t=>{this.#ge-=e[t],e[t]=0},this.#ze=(e,t,n,i)=>{if(this.#Fe(t))return 0;if(!c(n)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(n=i(t,e),!c(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.#Ge=(t,n,i)=>{if(e[t]=n,this.#le){const n=this.#le-e[t];for(;this.#ge>n;)this.#Ve(!0)}this.#ge+=e[t],i&&(i.entrySize=n,i.totalCalculatedSize=this.#ge)}}#We=e=>{};#Ge=(e,t,n)=>{};#ze=(e,t,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#Le({allowStale:e=this.allowStale}={}){if(this.#me)for(let t=this.#Ee;this.#Ke(t)&&(!e&&this.#Be(t)||(yield t),t!==this.#Se);)t=this.#_e[t]}*#Ne({allowStale:e=this.allowStale}={}){if(this.#me)for(let t=this.#Se;this.#Ke(t)&&(!e&&this.#Be(t)||(yield t),t!==this.#Ee);)t=this.#we[t]}#Ke(e){return void 0!==e&&this.#ye.get(this.#be[e])===e}*entries(){for(const e of this.#Le())void 0===this.#ve[e]||void 0===this.#be[e]||this.#Fe(this.#ve[e])||(yield[this.#be[e],this.#ve[e]])}*rentries(){for(const e of this.#Ne())void 0===this.#ve[e]||void 0===this.#be[e]||this.#Fe(this.#ve[e])||(yield[this.#be[e],this.#ve[e]])}*keys(){for(const e of this.#Le()){const t=this.#be[e];void 0===t||this.#Fe(this.#ve[e])||(yield t)}}*rkeys(){for(const e of this.#Ne()){const t=this.#be[e];void 0===t||this.#Fe(this.#ve[e])||(yield t)}}*values(){for(const e of this.#Le())void 0===this.#ve[e]||this.#Fe(this.#ve[e])||(yield this.#ve[e])}*rvalues(){for(const e of this.#Ne())void 0===this.#ve[e]||this.#Fe(this.#ve[e])||(yield this.#ve[e])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(e,t={}){for(const n of this.#Le()){const i=this.#ve[n],r=this.#Fe(i)?i.__staleWhileFetching:i;if(void 0!==r&&e(r,this.#be[n],this))return this.get(this.#be[n],t)}}forEach(e,t=this){for(const n of this.#Le()){const i=this.#ve[n],r=this.#Fe(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#be[n],this)}}rforEach(e,t=this){for(const n of this.#Ne()){const i=this.#ve[n],r=this.#Fe(i)?i.__staleWhileFetching:i;void 0!==r&&e.call(t,r,this.#be[n],this)}}purgeStale(){let e=!1;for(const t of this.#Ne({allowStale:!0}))this.#Be(t)&&(this.#qe(this.#be[t],"expire"),e=!0);return e}info(e){const t=this.#ye.get(e);if(void 0===t)return;const i=this.#ve[t],r=this.#Fe(i)?i.__staleWhileFetching:i;if(void 0===r)return;const s={value:r};if(this.#Re&&this.#ke){const e=this.#Re[t],i=this.#ke[t];if(e&&i){const t=e-(n.now()-i);s.ttl=t,s.start=Date.now()}}return this.#Ce&&(s.size=this.#Ce[t]),s}dump(){const e=[];for(const t of this.#Le({allowStale:!0})){const i=this.#be[t],r=this.#ve[t],s=this.#Fe(r)?r.__staleWhileFetching:r;if(void 0===s||void 0===i)continue;const o={value:s};if(this.#Re&&this.#ke){o.ttl=this.#Re[t];const e=n.now()-this.#ke[t];o.start=Math.floor(Date.now()-e)}this.#Ce&&(o.size=this.#Ce[t]),e.unshift([i,o])}return e}load(e){this.clear();for(const[t,i]of e){if(i.start){const e=Date.now()-i.start;i.start=n.now()-e}this.set(t,i.value,i)}}set(e,t,n={}){if(void 0===t)return this.delete(e),this;const{ttl:i=this.ttl,start:r,noDisposeOnSet:s=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=this.#ze(e,t,n.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.#qe(e,"set"),this;let l=0===this.#me?void 0:this.#ye.get(e);if(void 0===l)l=0===this.#me?this.#Ee:0!==this.#xe.length?this.#xe.pop():this.#me===this.#ue?this.#Ve(!1):this.#me,this.#be[l]=e,this.#ve[l]=t,this.#ye.set(e,l),this.#we[this.#Ee]=l,this.#_e[l]=this.#Ee,this.#Ee=l,this.#me++,this.#Ge(l,u,a),a&&(a.set="add"),c=!1;else{this.#Ie(l);const n=this.#ve[l];if(t!==n){if(this.#Te&&this.#Fe(n)){n.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=n;void 0===t||s||(this.#Ae&&this.#he?.(t,e,"set"),this.#Oe&&this.#De?.push([t,e,"set"]))}else s||(this.#Ae&&this.#he?.(n,e,"set"),this.#Oe&&this.#De?.push([n,e,"set"]));if(this.#We(l),this.#Ge(l,u,a),this.#ve[l]=t,a){a.set="replace";const e=n&&this.#Fe(n)?n.__staleWhileFetching:n;void 0!==e&&(a.oldValue=e)}}else a&&(a.set="update")}if(0===i||this.#Re||this.#Me(),this.#Re&&(c||this.#$e(l,i,r),a&&this.#He(a,l)),!s&&this.#Oe&&this.#De){const e=this.#De;let t;for(;t=e?.shift();)this.#pe?.(...t)}return this}pop(){try{for(;this.#me;){const e=this.#ve[this.#Se];if(this.#Ve(!0),this.#Fe(e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(this.#Oe&&this.#De){const e=this.#De;let t;for(;t=e?.shift();)this.#pe?.(...t)}}}#Ve(e){const t=this.#Se,n=this.#be[t],i=this.#ve[t];return this.#Te&&this.#Fe(i)?i.__abortController.abort(new Error("evicted")):(this.#Ae||this.#Oe)&&(this.#Ae&&this.#he?.(i,n,"evict"),this.#Oe&&this.#De?.push([i,n,"evict"])),this.#We(t),e&&(this.#be[t]=void 0,this.#ve[t]=void 0,this.#xe.push(t)),1===this.#me?(this.#Se=this.#Ee=0,this.#xe.length=0):this.#Se=this.#we[t],this.#ye.delete(n),this.#me--,t}has(e,t={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=t,r=this.#ye.get(e);if(void 0!==r){const e=this.#ve[r];if(this.#Fe(e)&&void 0===e.__staleWhileFetching)return!1;if(!this.#Be(r))return n&&this.#Ue(r),i&&(i.has="hit",this.#He(i,r)),!0;i&&(i.has="stale",this.#He(i,r))}else i&&(i.has="miss");return!1}peek(e,t={}){const{allowStale:n=this.allowStale}=t,i=this.#ye.get(e);if(void 0===i||!n&&this.#Be(i))return;const r=this.#ve[i];return this.#Fe(r)?r.__staleWhileFetching:r}#Pe(e,t,n,i){const r=void 0===t?void 0:this.#ve[t];if(this.#Fe(r))return r;const s=new o,{signal:a}=n;a?.addEventListener("abort",(()=>s.abort(a.reason)),{signal:s.signal});const c={signal:s.signal,options:n,context:i},u=(i,r=!1)=>{const{aborted:o}=s.signal,a=n.ignoreFetchAbort&&void 0!==i;if(n.status&&(o&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,a&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),o&&!a&&!r)return l(s.signal.reason);const u=h;return this.#ve[t]===h&&(void 0===i?u.__staleWhileFetching?this.#ve[t]=u.__staleWhileFetching:this.#qe(e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,i,c.options))),i},l=i=>{const{aborted:r}=s.signal,o=r&&n.allowStaleOnFetchAbort,a=o||n.allowStaleOnFetchRejection,c=a||n.noDeleteOnFetchRejection,u=h;if(this.#ve[t]===h&&(c&&void 0!==u.__staleWhileFetching?o||(this.#ve[t]=u.__staleWhileFetching):this.#qe(e,"fetch")),a)return n.status&&void 0!==u.__staleWhileFetching&&(n.status.returnedStale=!0),u.__staleWhileFetching;if(u.__returned===u)throw i};n.status&&(n.status.fetchDispatched=!0);const h=new Promise(((t,i)=>{const o=this.#de?.(e,r,c);o&&o instanceof Promise&&o.then((e=>t(void 0===e?void 0:e)),i),s.signal.addEventListener("abort",(()=>{n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(t(void 0),n.allowStaleOnFetchAbort&&(t=e=>u(e,!0)))}))})).then(u,(e=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=e),l(e)))),p=Object.assign(h,{__abortController:s,__staleWhileFetching:r,__returned:void 0});return void 0===t?(this.set(e,p,{...c.options,status:void 0}),t=this.#ye.get(e)):this.#ve[t]=p,p}#Fe(e){if(!this.#Te)return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof o}async fetch(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,ttl:s=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:h=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:m=!1,status:g,signal:y}=t;if(!this.#Te)return g&&(g.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,status:g});const b={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:r,ttl:s,noDisposeOnSet:o,size:a,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:l,allowStaleOnFetchRejection:h,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:g,signal:y};let v=this.#ye.get(e);if(void 0===v){g&&(g.fetch="miss");const t=this.#Pe(e,v,b,f);return t.__returned=t}{const t=this.#ve[v];if(this.#Fe(t)){const e=n&&void 0!==t.__staleWhileFetching;return g&&(g.fetch="inflight",e&&(g.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const r=this.#Be(v);if(!m&&!r)return g&&(g.fetch="hit"),this.#Ie(v),i&&this.#Ue(v),g&&this.#He(g,v),t;const s=this.#Pe(e,v,b,f),o=void 0!==s.__staleWhileFetching&&n;return g&&(g.fetch=r?"stale":"refresh",o&&r&&(g.returnedStale=!0)),o?s.__staleWhileFetching:s.__returned=s}}async forceFetch(e,t={}){const n=await this.fetch(e,t);if(void 0===n)throw new Error("fetch() returned undefined");return n}memo(e,t={}){const n=this.#fe;if(!n)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:r,...s}=t,o=this.get(e,s);if(!r&&void 0!==o)return o;const a=n(e,o,{options:s,context:i});return this.set(e,a,s),a}get(e,t={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:r=this.noDeleteOnStaleGet,status:s}=t,o=this.#ye.get(e);if(void 0!==o){const t=this.#ve[o],a=this.#Fe(t);return s&&this.#He(s,o),this.#Be(o)?(s&&(s.get="stale"),a?(s&&n&&void 0!==t.__staleWhileFetching&&(s.returnedStale=!0),n?t.__staleWhileFetching:void 0):(r||this.#qe(e,"expire"),s&&n&&(s.returnedStale=!0),n?t:void 0)):(s&&(s.get="hit"),a?t.__staleWhileFetching:(this.#Ie(o),i&&this.#Ue(o),t))}s&&(s.get="miss")}#Ye(e,t){this.#_e[t]=e,this.#we[e]=t}#Ie(e){e!==this.#Ee&&(e===this.#Se?this.#Se=this.#we[e]:this.#Ye(this.#_e[e],this.#we[e]),this.#Ye(this.#Ee,e),this.#Ee=e)}delete(e){return this.#qe(e,"delete")}#qe(e,t){let n=!1;if(0!==this.#me){const i=this.#ye.get(e);if(void 0!==i)if(n=!0,1===this.#me)this.#Je(t);else{this.#We(i);const n=this.#ve[i];if(this.#Fe(n)?n.__abortController.abort(new Error("deleted")):(this.#Ae||this.#Oe)&&(this.#Ae&&this.#he?.(n,e,t),this.#Oe&&this.#De?.push([n,e,t])),this.#ye.delete(e),this.#be[i]=void 0,this.#ve[i]=void 0,i===this.#Ee)this.#Ee=this.#_e[i];else if(i===this.#Se)this.#Se=this.#we[i];else{const e=this.#_e[i];this.#we[e]=this.#we[i];const t=this.#we[i];this.#_e[t]=this.#_e[i]}this.#me--,this.#xe.push(i)}}if(this.#Oe&&this.#De?.length){const e=this.#De;let t;for(;t=e?.shift();)this.#pe?.(...t)}return n}clear(){return this.#Je("delete")}#Je(e){for(const t of this.#Ne({allowStale:!0})){const n=this.#ve[t];if(this.#Fe(n))n.__abortController.abort(new Error("deleted"));else{const i=this.#be[t];this.#Ae&&this.#he?.(n,i,e),this.#Oe&&this.#De?.push([n,i,e])}}if(this.#ye.clear(),this.#ve.fill(void 0),this.#be.fill(void 0),this.#Re&&this.#ke&&(this.#Re.fill(0),this.#ke.fill(0)),this.#Ce&&this.#Ce.fill(0),this.#Se=0,this.#Ee=0,this.#xe.length=0,this.#ge=0,this.#me=0,this.#Oe&&this.#De){const e=this.#De;let t;for(;t=e?.shift();)this.#pe?.(...t)}}}t.LRUCache=p},82624:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PathScurry=t.Path=t.PathScurryDarwin=t.PathScurryPosix=t.PathScurryWin32=t.PathScurryBase=t.PathPosix=t.PathWin32=t.PathBase=t.ChildrenCache=t.ResolveCache=void 0;const o=n(37e3),a=n(76760),c=n(73136),u=n(79896),l=s(n(73024)),h=u.realpathSync.native,p=n(51455),d=n(45420),f={lstatSync:u.lstatSync,readdir:u.readdir,readdirSync:u.readdirSync,readlinkSync:u.readlinkSync,realpathSync:h,promises:{lstat:p.lstat,readdir:p.readdir,readlink:p.readlink,realpath:p.realpath}},m=e=>e&&e!==f&&e!==l?{...f,...e,promises:{...f.promises,...e.promises||{}}}:f,g=/^\\\\\?\\([a-z]:)\\?$/i,y=/[\\\/]/,b=10,v=15,w=-16,_=128,S=e=>e.isFile()?8:e.isDirectory()?4:e.isSymbolicLink()?b:e.isCharacterDevice()?2:e.isBlockDevice()?6:e.isSocket()?12:e.isFIFO()?1:0,E=new Map,x=e=>{const t=E.get(e);if(t)return t;const n=e.normalize("NFKD");return E.set(e,n),n},D=new Map,C=e=>{const t=D.get(e);if(t)return t;const n=x(e.toLowerCase());return D.set(e,n),n};class k extends o.LRUCache{constructor(){super({max:256})}}t.ResolveCache=k;class R extends o.LRUCache{constructor(e=16384){super({maxSize:e,sizeCalculation:e=>e.length+1})}}t.ChildrenCache=R;const A=Symbol("PathScurry setAsCwd");class T{name;root;roots;parent;nocase;isCWD=!1;#Ze;#Xe;get dev(){return this.#Xe}#Qe;get mode(){return this.#Qe}#et;get nlink(){return this.#et}#tt;get uid(){return this.#tt}#nt;get gid(){return this.#nt}#it;get rdev(){return this.#it}#rt;get blksize(){return this.#rt}#st;get ino(){return this.#st}#me;get size(){return this.#me}#ot;get blocks(){return this.#ot}#at;get atimeMs(){return this.#at}#ct;get mtimeMs(){return this.#ct}#ut;get ctimeMs(){return this.#ut}#lt;get birthtimeMs(){return this.#lt}#ht;get atime(){return this.#ht}#pt;get mtime(){return this.#pt}#dt;get ctime(){return this.#dt}#ft;get birthtime(){return this.#ft}#mt;#gt;#yt;#bt;#vt;#wt;#_t;#St;#Et;#xt;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(e,t=0,n,i,r,s,o){this.name=e,this.#mt=r?C(e):x(e),this.#_t=1023&t,this.nocase=r,this.roots=i,this.root=n||this,this.#St=s,this.#yt=o.fullpath,this.#vt=o.relative,this.#wt=o.relativePosix,this.parent=o.parent,this.parent?this.#Ze=this.parent.#Ze:this.#Ze=m(o.fs)}depth(){return void 0!==this.#gt?this.#gt:this.parent?this.#gt=this.parent.depth()+1:this.#gt=0}childrenCache(){return this.#St}resolve(e){if(!e)return this;const t=this.getRootString(e),n=e.substring(t.length).split(this.splitSep);return t?this.getRoot(t).#Dt(n):this.#Dt(n)}#Dt(e){let t=this;for(const n of e)t=t.child(n);return t}children(){const e=this.#St.get(this);if(e)return e;const t=Object.assign([],{provisional:0});return this.#St.set(this,t),this.#_t&=-17,t}child(e,t){if(""===e||"."===e)return this;if(".."===e)return this.parent||this;const n=this.children(),i=this.nocase?C(e):x(e);for(const e of n)if(e.#mt===i)return e;const r=this.parent?this.sep:"",s=this.#yt?this.#yt+r+e:void 0,o=this.newChild(e,0,{...t,parent:this,fullpath:s});return this.canReaddir()||(o.#_t|=_),n.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#vt)return this.#vt;const e=this.name,t=this.parent;if(!t)return this.#vt=this.name;const n=t.relative();return n+(n&&t.parent?this.sep:"")+e}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#wt)return this.#wt;const e=this.name,t=this.parent;if(!t)return this.#wt=this.fullpathPosix();const n=t.relativePosix();return n+(n&&t.parent?"/":"")+e}fullpath(){if(void 0!==this.#yt)return this.#yt;const e=this.name,t=this.parent;if(!t)return this.#yt=this.name;const n=t.fullpath()+(t.parent?this.sep:"")+e;return this.#yt=n}fullpathPosix(){if(void 0!==this.#bt)return this.#bt;if("/"===this.sep)return this.#bt=this.fullpath();if(!this.parent){const e=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(e)?this.#bt=`//?/${e}`:this.#bt=e}const e=this.parent,t=e.fullpathPosix(),n=t+(t&&e.parent?"/":"")+this.name;return this.#bt=n}isUnknown(){return!(this.#_t&v)}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#_t&v)}isDirectory(){return 4==(this.#_t&v)}isCharacterDevice(){return 2==(this.#_t&v)}isBlockDevice(){return 6==(this.#_t&v)}isFIFO(){return 1==(this.#_t&v)}isSocket(){return 12==(this.#_t&v)}isSymbolicLink(){return(this.#_t&b)===b}lstatCached(){return 32&this.#_t?this:void 0}readlinkCached(){return this.#Et}realpathCached(){return this.#xt}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(this.#Et)return!0;if(!this.parent)return!1;const e=this.#_t&v;return!(0!==e&&e!==b||256&this.#_t||this.#_t&_)}calledReaddir(){return!!(16&this.#_t)}isENOENT(){return!!(this.#_t&_)}isNamed(e){return this.nocase?this.#mt===C(e):this.#mt===x(e)}async readlink(){const e=this.#Et;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=await this.#Ze.promises.readlink(this.fullpath()),t=(await this.parent.realpath())?.resolve(e);if(t)return this.#Et=t}catch(e){return void this.#Ct(e.code)}}readlinkSync(){const e=this.#Et;if(e)return e;if(this.canReadlink()&&this.parent)try{const e=this.#Ze.readlinkSync(this.fullpath()),t=this.parent.realpathSync()?.resolve(e);if(t)return this.#Et=t}catch(e){return void this.#Ct(e.code)}}#kt(e){this.#_t|=16;for(let t=e.provisional;t<e.length;t++){const n=e[t];n&&n.#Rt()}}#Rt(){this.#_t&_||(this.#_t=(this.#_t|_)&w,this.#At())}#At(){const e=this.children();e.provisional=0;for(const t of e)t.#Rt()}#Tt(){this.#_t|=512,this.#Ot()}#Ot(){if(64&this.#_t)return;let e=this.#_t;4==(e&v)&&(e&=w),this.#_t=64|e,this.#At()}#Ft(e=""){"ENOTDIR"===e||"EPERM"===e?this.#Ot():"ENOENT"===e?this.#Rt():this.children().provisional=0}#Pt(e=""){"ENOTDIR"===e?this.parent.#Ot():"ENOENT"===e&&this.#Rt()}#Ct(e=""){let t=this.#_t;t|=256,"ENOENT"===e&&(t|=_),"EINVAL"!==e&&"UNKNOWN"!==e||(t&=w),this.#_t=t,"ENOTDIR"===e&&this.parent&&this.parent.#Ot()}#It(e,t){return this.#Lt(e,t)||this.#Nt(e,t)}#Nt(e,t){const n=S(e),i=this.newChild(e.name,n,{parent:this}),r=i.#_t&v;return 4!==r&&r!==b&&0!==r&&(i.#_t|=64),t.unshift(i),t.provisional++,i}#Lt(e,t){for(let n=t.provisional;n<t.length;n++){const i=t[n];if((this.nocase?C(e.name):x(e.name))===i.#mt)return this.#Bt(e,i,n,t)}}#Bt(e,t,n,i){const r=t.name;return t.#_t=t.#_t&w|S(e),r!==e.name&&(t.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(t)),i.provisional++,t}async lstat(){if(!(this.#_t&_))try{return this.#jt(await this.#Ze.promises.lstat(this.fullpath())),this}catch(e){this.#Pt(e.code)}}lstatSync(){if(!(this.#_t&_))try{return this.#jt(this.#Ze.lstatSync(this.fullpath())),this}catch(e){this.#Pt(e.code)}}#jt(e){const{atime:t,atimeMs:n,birthtime:i,birthtimeMs:r,blksize:s,blocks:o,ctime:a,ctimeMs:c,dev:u,gid:l,ino:h,mode:p,mtime:d,mtimeMs:f,nlink:m,rdev:g,size:y,uid:v}=e;this.#ht=t,this.#at=n,this.#ft=i,this.#lt=r,this.#rt=s,this.#ot=o,this.#dt=a,this.#ut=c,this.#Xe=u,this.#nt=l,this.#st=h,this.#Qe=p,this.#pt=d,this.#ct=f,this.#et=m,this.#it=g,this.#me=y,this.#tt=v;const _=S(e);this.#_t=this.#_t&w|_|32,0!==_&&4!==_&&_!==b&&(this.#_t|=64)}#Mt=[];#$t=!1;#qt(e){this.#$t=!1;const t=this.#Mt.slice();this.#Mt.length=0,t.forEach((t=>t(null,e)))}readdirCB(e,t=!1){if(!this.canReaddir())return void(t?e(null,[]):queueMicrotask((()=>e(null,[]))));const n=this.children();if(this.calledReaddir()){const i=n.slice(0,n.provisional);return void(t?e(null,i):queueMicrotask((()=>e(null,i))))}if(this.#Mt.push(e),this.#$t)return;this.#$t=!0;const i=this.fullpath();this.#Ze.readdir(i,{withFileTypes:!0},((e,t)=>{if(e)this.#Ft(e.code),n.provisional=0;else{for(const e of t)this.#It(e,n);this.#kt(n)}this.#qt(n.slice(0,n.provisional))}))}#Ut;async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();if(this.#Ut)await this.#Ut;else{let n=()=>{};this.#Ut=new Promise((e=>n=e));try{for(const n of await this.#Ze.promises.readdir(t,{withFileTypes:!0}))this.#It(n,e);this.#kt(e)}catch(t){this.#Ft(t.code),e.provisional=0}this.#Ut=void 0,n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const t=this.fullpath();try{for(const n of this.#Ze.readdirSync(t,{withFileTypes:!0}))this.#It(n,e);this.#kt(e)}catch(t){this.#Ft(t.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(704&this.#_t)return!1;const e=v&this.#_t;return 0===e||4===e||e===b}shouldWalk(e,t){return!(4&~this.#_t)&&!(704&this.#_t)&&!e.has(this)&&(!t||t(this))}async realpath(){if(this.#xt)return this.#xt;if(!(896&this.#_t))try{const e=await this.#Ze.promises.realpath(this.fullpath());return this.#xt=this.resolve(e)}catch(e){this.#Tt()}}realpathSync(){if(this.#xt)return this.#xt;if(!(896&this.#_t))try{const e=this.#Ze.realpathSync(this.fullpath());return this.#xt=this.resolve(e)}catch(e){this.#Tt()}}[A](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;const t=new Set([]);let n=[],i=this;for(;i&&i.parent;)t.add(i),i.#vt=n.join(this.sep),i.#wt=n.join("/"),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!t.has(i);)i.#vt=void 0,i.#wt=void 0,i=i.parent}}t.PathBase=T;class O extends T{sep="\\";splitSep=y;constructor(e,t=0,n,i,r,s,o){super(e,t,n,i,r,s,o)}newChild(e,t=0,n={}){return new O(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}getRootString(e){return a.win32.parse(e).root}getRoot(e){if((e=(e=>e.replace(/\//g,"\\").replace(g,"$1\\"))(e.toUpperCase()))===this.root.name)return this.root;for(const[t,n]of Object.entries(this.roots))if(this.sameRoot(e,t))return this.roots[e]=n;return this.roots[e]=new I(e,this).root}sameRoot(e,t=this.root.name){return(e=e.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"))===t}}t.PathWin32=O;class F extends T{splitSep="/";sep="/";constructor(e,t=0,n,i,r,s,o){super(e,t,n,i,r,s,o)}getRootString(e){return e.startsWith("/")?"/":""}getRoot(e){return this.root}newChild(e,t=0,n={}){return new F(e,t,this.root,this.roots,this.nocase,this.childrenCache(),n)}}t.PathPosix=F;class P{root;rootPath;roots;cwd;#Ht;#Wt;#St;nocase;#Ze;constructor(e=process.cwd(),t,n,{nocase:i,childrenCacheSize:r=16384,fs:s=f}={}){this.#Ze=m(s),(e instanceof URL||e.startsWith("file://"))&&(e=(0,c.fileURLToPath)(e));const o=t.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Ht=new k,this.#Wt=new k,this.#St=new R(r);const a=o.substring(this.rootPath.length).split(n);if(1!==a.length||a[0]||a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#Ze),this.roots[this.rootPath]=this.root;let u=this.root,l=a.length-1;const h=t.sep;let p=this.rootPath,d=!1;for(const e of a){const t=l--;u=u.child(e,{relative:new Array(t).fill("..").join(h),relativePosix:new Array(t).fill("..").join("/"),fullpath:p+=(d?"":h)+e}),d=!0}this.cwd=u}depth(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return this.#St}resolve(...e){let t="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(i&&"."!==i&&(t=t?`${i}/${t}`:i,this.isAbsolute(i)))break}const n=this.#Ht.get(t);if(void 0!==n)return n;const i=this.cwd.resolve(t).fullpath();return this.#Ht.set(t,i),i}resolvePosix(...e){let t="";for(let n=e.length-1;n>=0;n--){const i=e[n];if(i&&"."!==i&&(t=t?`${i}/${t}`:i,this.isAbsolute(i)))break}const n=this.#Wt.get(t);if(void 0!==n)return n;const i=this.cwd.resolve(t).fullpathPosix();return this.#Wt.set(t,i),i}relative(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n}=t;if(e.canReaddir()){const t=await e.readdir();return n?t:t.map((e=>e.name))}return[]}readdirSync(e=this.cwd,t={withFileTypes:!0}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0}=t;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map((e=>e.name)):[]}async lstat(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return"string"==typeof e&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e.withFileTypes,e=this.cwd);const n=await e.readlink();return t?n:n?.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e.withFileTypes,e=this.cwd);const n=e.readlinkSync();return t?n:n?.fullpath()}async realpath(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e.withFileTypes,e=this.cwd);const n=await e.realpath();return t?n:n?.fullpath()}realpathSync(e=this.cwd,{withFileTypes:t}={withFileTypes:!1}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e.withFileTypes,e=this.cwd);const n=e.realpathSync();return t?n:n?.fullpath()}async walk(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=[];r&&!r(e)||o.push(n?e:e.fullpath());const a=new Set,c=(e,t)=>{a.add(e),e.readdirCB(((e,u)=>{if(e)return t(e);let l=u.length;if(!l)return t();const h=()=>{0==--l&&t()};for(const e of u)r&&!r(e)||o.push(n?e:e.fullpath()),i&&e.isSymbolicLink()?e.realpath().then((e=>e?.isUnknown()?e.lstat():e)).then((e=>e?.shouldWalk(a,s)?c(e,h):h())):e.shouldWalk(a,s)?c(e,h):h()}),!0)},u=e;return new Promise(((e,t)=>{c(u,(n=>{if(n)return t(n);e(o)}))}))}walkSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=[];r&&!r(e)||o.push(n?e:e.fullpath());const a=new Set([e]);for(const e of a){const t=e.readdirSync();for(const e of t){r&&!r(e)||o.push(n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&a.add(t)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,t={}){return"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd),this.stream(e,t)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t;r&&!r(e)||(yield n?e:e.fullpath());const o=new Set([e]);for(const e of o){const t=e.readdirSync();for(const e of t){r&&!r(e)||(yield n?e:e.fullpath());let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(o,s)&&o.add(t)}}}stream(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=new d.Minipass({objectMode:!0});r&&!r(e)||o.write(n?e:e.fullpath());const a=new Set,c=[e];let u=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===u&&o.end());u++,a.add(t);const h=(t,d,f=!1)=>{if(t)return o.emit("error",t);if(i&&!f){const e=[];for(const t of d)t.isSymbolicLink()&&e.push(t.realpath().then((e=>e?.isUnknown()?e.lstat():e)));if(e.length)return void Promise.all(e).then((()=>h(null,d,!0)))}for(const t of d)!t||r&&!r(t)||o.write(n?t:t.fullpath())||(e=!0);u--;for(const e of d){const t=e.realpathCached()||e;t.shouldWalk(a,s)&&c.push(t)}e&&!o.flowing?o.once("drain",l):p||l()};let p=!0;t.readdirCB(h,!0),p=!1}};return l(),o}streamSync(e=this.cwd,t={}){"string"==typeof e?e=this.cwd.resolve(e):e instanceof T||(t=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:r,walkFilter:s}=t,o=new d.Minipass({objectMode:!0}),a=new Set;r&&!r(e)||o.write(n?e:e.fullpath());const c=[e];let u=0;const l=()=>{let e=!1;for(;!e;){const t=c.shift();if(!t)return void(0===u&&o.end());u++,a.add(t);const l=t.readdirSync();for(const t of l)r&&!r(t)||o.write(n?t:t.fullpath())||(e=!0);u--;for(const e of l){let t=e;if(e.isSymbolicLink()){if(!i||!(t=e.realpathSync()))continue;t.isUnknown()&&t.lstatSync()}t.shouldWalk(a,s)&&c.push(t)}}e&&!o.flowing&&o.once("drain",l)};return l(),o}chdir(e=this.cwd){const t=this.cwd;this.cwd="string"==typeof e?this.cwd.resolve(e):e,this.cwd[A](t)}}t.PathScurryBase=P;class I extends P{sep="\\";constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,a.win32,"\\",{...t,nocase:n}),this.nocase=n;for(let e=this.cwd;e;e=e.parent)e.nocase=this.nocase}parseRootPath(e){return a.win32.parse(e).root.toUpperCase()}newRoot(e){return new O(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")||e.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(e)}}t.PathScurryWin32=I;class L extends P{sep="/";constructor(e=process.cwd(),t={}){const{nocase:n=!1}=t;super(e,a.posix,"/",{...t,nocase:n}),this.nocase=n}parseRootPath(e){return"/"}newRoot(e){return new F(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:e})}isAbsolute(e){return e.startsWith("/")}}t.PathScurryPosix=L;class N extends L{constructor(e=process.cwd(),t={}){const{nocase:n=!0}=t;super(e,{...t,nocase:n})}}t.PathScurryDarwin=N,t.Path="win32"===process.platform?O:F,t.PathScurry="win32"===process.platform?I:"darwin"===process.platform?N:L},44132:e=>{"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const n=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function i(e){if(Buffer.isBuffer(e))return e;if("number"==typeof e)return Buffer.alloc(e);if("string"==typeof e)return Buffer.from(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function r(e,t){e=i(e),Buffer.isBuffer(t)&&(t=t.readUInt32BE(0));let r=~t;for(var s=0;s<e.length;s++)r=n[255&(r^e[s])]^r>>>8;return~r}function s(){return function(e){const t=i(4);return t.writeInt32BE(e,0),t}(r.apply(null,arguments))}s.signed=function(){return r.apply(null,arguments)},s.unsigned=function(){return r.apply(null,arguments)>>>0};const o=t(s);e.exports=o},62046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const n=Object.create(null);t.PACKET_TYPES=n,n.open="0",n.close="1",n.ping="2",n.pong="3",n.message="4",n.upgrade="5",n.noop="6";const i=Object.create(null);t.PACKET_TYPES_REVERSE=i,Object.keys(n).forEach((e=>{i[n[e]]=e})),t.ERROR_PACKET={type:"error",data:"parser error"}},87696:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePacket=void 0;const i=n(62046);t.decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:r(e,t)};const n=e.charAt(0);if("b"===n){const n=Buffer.from(e.substring(1),"base64");return{type:"message",data:r(n,t)}}return i.PACKET_TYPES_REVERSE[n]?e.length>1?{type:i.PACKET_TYPES_REVERSE[n],data:e.substring(1)}:{type:i.PACKET_TYPES_REVERSE[n]}:i.ERROR_PACKET};const r=(e,t)=>"arraybuffer"===t?e instanceof ArrayBuffer?e:Buffer.isBuffer(e)?e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength):e.buffer:Buffer.isBuffer(e)?e:Buffer.from(e)},13944:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodePacket=void 0,t.encodePacketToBinary=function(e,n){if(e.data instanceof ArrayBuffer||ArrayBuffer.isView(e.data))return n(r(e.data,!1));(0,t.encodePacket)(e,!0,(e=>{s||(s=new TextEncoder),n(s.encode(e))}))};const i=n(62046);t.encodePacket=({type:e,data:t},n,s)=>t instanceof ArrayBuffer||ArrayBuffer.isView(t)?s(n?t:"b"+r(t,!0).toString("base64")):s(i.PACKET_TYPES[e]+(t||""));const r=(e,t)=>Buffer.isBuffer(e)||e instanceof Uint8Array&&!t?e:e instanceof ArrayBuffer?Buffer.from(e):Buffer.from(e.buffer,e.byteOffset,e.byteLength);let s},46376:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0,t.createPacketEncoderStream=function(){return new TransformStream({transform(e,t){(0,i.encodePacketToBinary)(e,(n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const e=new DataView(r.buffer);e.setUint8(0,126),e.setUint16(1,i)}else{r=new Uint8Array(9);const e=new DataView(r.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(i))}e.data&&"string"!=typeof e.data&&(r[0]|=128),t.enqueue(r),t.enqueue(n)}))}})},t.createPacketDecoderStream=function(e,t){a||(a=new TextDecoder);const n=[];let i=0,o=-1,l=!1;return new TransformStream({transform(h,p){for(n.push(h);;){if(0===i){if(c(n)<1)break;const e=u(n,1);l=!(128&~e[0]),o=127&e[0],i=o<126?3:126===o?1:2}else if(1===i){if(c(n)<2)break;const e=u(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),i=3}else if(2===i){if(c(n)<8)break;const e=u(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),r=t.getUint32(0);if(r>Math.pow(2,21)-1){p.enqueue(s.ERROR_PACKET);break}o=r*Math.pow(2,32)+t.getUint32(4),i=3}else{if(c(n)<o)break;const e=u(n,o);p.enqueue((0,r.decodePacket)(l?e:a.decode(e),t)),i=0}if(0===o||o>e){p.enqueue(s.ERROR_PACKET);break}}}})};const i=n(13944);Object.defineProperty(t,"encodePacket",{enumerable:!0,get:function(){return i.encodePacket}});const r=n(87696);Object.defineProperty(t,"decodePacket",{enumerable:!0,get:function(){return r.decodePacket}});const s=n(62046),o=String.fromCharCode(30);let a;function c(e){return e.reduce(((e,t)=>e+t.length),0)}function u(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let i=0;for(let r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}t.encodePayload=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach(((e,a)=>{(0,i.encodePacket)(e,!1,(e=>{r[a]=e,++s===n&&t(r.join(o))}))}))},t.decodePayload=(e,t)=>{const n=e.split(o),i=[];for(let e=0;e<n.length;e++){const s=(0,r.decodePacket)(n[e],t);if(i.push(s),"error"===s.type)break}return i},t.protocol=4},48701:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protocol=t.Transport=t.Socket=t.uServer=t.parser=t.attach=t.listen=t.transports=t.Server=void 0;const i=n(58611),r=n(15038);Object.defineProperty(t,"Server",{enumerable:!0,get:function(){return r.Server}});const s=n(73036);t.transports=s.default;const o=n(46376);t.parser=o;var a=n(57741);Object.defineProperty(t,"uServer",{enumerable:!0,get:function(){return a.uServer}});var c=n(84520);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return c.Socket}});var u=n(56716);function l(e,t){const n=new r.Server(t);return n.attach(e,t),n}Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return u.Transport}}),t.protocol=o.protocol,t.listen=function(e,t,n){"function"==typeof t&&(n=t,t={});const r=(0,i.createServer)((function(e,t){t.writeHead(501),t.end("Not Implemented")})),s=l(r,t);return s.httpServer=r,r.listen(e,n),s},t.attach=l},1319:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayloadAsBinary=t.encodePayloadAsBinary=t.decodePayload=t.encodePayload=t.decodeBase64Packet=t.decodePacket=t.encodeBase64Packet=t.encodePacket=t.packets=t.protocol=void 0;var i=n(3256);t.protocol=3,t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6};var r=Object.keys(t.packets),s={type:"error",data:"parser error"};const o=Buffer.concat([]);function a(e,n,r,s){if("function"==typeof n&&(s=n,n=null),"function"==typeof r&&(s=r,r=null),Buffer.isBuffer(e.data))return c(e,n,s);if(e.data&&(e.data.buffer||e.data)instanceof ArrayBuffer)return c({type:e.type,data:m(e.data)},n,s);var o=t.packets[e.type];return void 0!==e.data&&(o+=r?i.encode(String(e.data),{strict:!1}):String(e.data)),s(""+o)}function c(e,n,i){if(!n)return u(e,i);var r=e.data,s=Buffer.allocUnsafe(1);return s[0]=t.packets[e.type],i(Buffer.concat([s,r]))}function u(e,n){var i=Buffer.isBuffer(e.data)?e.data:m(e.data),r="b"+t.packets[e.type];return n(r+=i.toString("base64"))}function l(e,t,n){if(void 0===e)return s;var o;if("string"==typeof e)return"b"===(o=e.charAt(0))?h(e.slice(1),t):n&&!1===(e=function(e){try{e=i.decode(e,{strict:!1})}catch(e){return!1}return e}(e))?s:Number(o)==o&&r[o]?e.length>1?{type:r[o],data:e.slice(1)}:{type:r[o]}:s;if("arraybuffer"===t){var a=new Uint8Array(e);return o=a[0],{type:r[o],data:a.buffer.slice(1)}}return e instanceof ArrayBuffer&&(e=m(e)),o=e[0],{type:r[o],data:e.slice(1)}}function h(e,t){var n=r[e.charAt(0)],i=Buffer.from(e.slice(1),"base64");if("arraybuffer"===t){for(var s=new Uint8Array(i.length),o=0;o<s.length;o++)s[o]=i[o];i=s.buffer}return{type:n,data:i}}function p(e,t,n){const i=new Array(e.length);let r=0;for(let s=0;s<e.length;s++)t(e[s],((t,o)=>{i[s]=o,++r===e.length&&n(null,i)}))}function d(e){for(var t="",n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);return t}function f(e){for(var t=Buffer.allocUnsafe(e.length),n=0,i=e.length;n<i;n++)t.writeUInt8(e.charCodeAt(n),n);return t}function m(e){var t=e.byteLength||e.length,n=e.byteOffset||0;return Buffer.from(e.buffer||e,n,t)}function g(e,t){if(!e.length)return t(o);p(e,y,(function(e,n){return t(Buffer.concat(n))}))}function y(e,t){a(e,!0,!0,(function(e){var n,i=""+e.length;if("string"==typeof e){(n=Buffer.allocUnsafe(i.length+2))[0]=0;for(var r=0;r<i.length;r++)n[r+1]=parseInt(i[r],10);return n[n.length-1]=255,t(null,Buffer.concat([n,f(e)]))}for((n=Buffer.allocUnsafe(i.length+2))[0]=1,r=0;r<i.length;r++)n[r+1]=parseInt(i[r],10);n[n.length-1]=255,t(null,Buffer.concat([n,e]))}))}function b(e,t,n){"function"==typeof t&&(n=t,t=null);for(var i,r=e,o=[];r.length>0;){var a="",c=0===r[0];for(i=1;255!==r[i];i++){if(a.length>310)return n(s,0,1);a+=""+r[i]}r=r.slice(a.length+1);var u=parseInt(a,10),h=r.slice(1,u+1);c&&(h=d(h)),o.push(h),r=r.slice(u+1)}var p=o.length;for(i=0;i<p;i++)n(l(o[i],t,!0),i,p)}t.encodePacket=a,t.encodeBase64Packet=u,t.decodePacket=l,t.decodeBase64Packet=h,t.encodePayload=function(e,t,n){return"function"==typeof t&&(n=t,t=null),t&&(e=>{for(const t of e)if(t.data instanceof ArrayBuffer||ArrayBuffer.isView(t.data))return!0;return!1})(e)?g(e,n):e.length?void p(e,(function(e,n){a(e,t,!1,(function(e){n(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return n(t.join(""))})):n("0:")},t.decodePayload=function(e,t,n){if("string"!=typeof e)return b(e,t,n);if("function"==typeof t&&(n=t,t=null),""===e)return n(s,0,1);for(var i,r,o,a="",c=0,u=e.length;c<u;c++){var h=e.charAt(c);if(":"===h){if(""===a||a!=(i=Number(a)))return n(s,0,1);if(a!=(r=e.slice(c+1,c+1+i)).length)return n(s,0,1);if(r.length){if(o=l(r,t,!1),s.type===o.type&&s.data===o.data)return n(s,0,1);if(!1===n(o,c+i,u))return}c+=i,a=""}else a+=h}return""!==a?n(s,0,1):void 0},t.encodePayloadAsBinary=g,t.decodePayloadAsBinary=b},3256:e=>{var t,n,i,r=String.fromCharCode;function s(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function o(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function a(e,t){return r(e>>t&63|128)}function c(e,t){if(!(4294967168&e))return r(e);var n="";return 4294965248&e?4294901760&e?4292870144&e||(n=r(e>>18&7|240),n+=a(e,12),n+=a(e,6)):(o(e,t)||(e=65533),n=r(e>>12&15|224),n+=a(e,6)):n=r(e>>6&31|192),n+r(63&e|128)}function u(){if(i>=n)throw Error("Invalid byte index");var e=255&t[i];if(i++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function l(e){var r,s;if(i>n)throw Error("Invalid byte index");if(i==n)return!1;if(r=255&t[i],i++,!(128&r))return r;if(192==(224&r)){if((s=(31&r)<<6|u())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&r)){if((s=(15&r)<<12|u()<<6|u())>=2048)return o(s,e)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&r)&&(s=(7&r)<<18|u()<<12|u()<<6|u())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}e.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,i=s(e),r=i.length,o=-1,a="";++o<r;)a+=c(i[o],n);return a},decode:function(e,o){var a=!1!==(o=o||{}).strict;t=s(e),n=t.length,i=0;for(var c,u=[];!1!==(c=l(a));)u.push(c);return function(e){for(var t,n=e.length,i=-1,s="";++i<n;)(t=e[i])>65535&&(s+=r((t-=65536)>>>10&1023|55296),t=56320|1023&t),s+=r(t);return s}(u)}}},15038:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Server=t.BaseServer=void 0;const i=n(83480),r=n(87016),s=n(74845),o=n(73036),a=n(24434),c=n(84520),u=n(45753),l=n(57427),h=n(17699),p=n(40525),d=n(46376),f=(0,u.default)("engine"),m=Symbol("responseHeaders");class g extends a.EventEmitter{constructor(e={}){super(),this.middlewares=[],this.clients={},this.clientsCount=0,this.opts=Object.assign({wsEngine:h.Server,pingTimeout:2e4,pingInterval:25e3,upgradeTimeout:1e4,maxHttpBufferSize:1e6,transports:["polling","websocket"],allowUpgrades:!0,httpCompression:{threshold:1024},cors:!1,allowEIO3:!1},e),e.cookie&&(this.opts.cookie=Object.assign({name:"io",path:"/",httpOnly:!1!==e.cookie.path,sameSite:"lax"},e.cookie)),this.opts.cors&&this.use(n(19728)(this.opts.cors)),e.perMessageDeflate&&(this.opts.perMessageDeflate=Object.assign({threshold:1024},e.perMessageDeflate)),this.init()}_computePath(e){let t=(e.path||"/engine.io").replace(/\/$/,"");return!1!==e.addTrailingSlash&&(t+="/"),t}upgrades(e){return this.opts.allowUpgrades&&o.default[e].upgradesTo||[]}verify(e,t,n){const i=e._query.transport;if(!~this.opts.transports.indexOf(i)||"webtransport"===i)return f('unknown transport "%s"',i),n(b.errors.UNKNOWN_TRANSPORT,{transport:i});if(function(e){if((e+="").length<1)return!1;if(!_[e.charCodeAt(0)])return f('invalid header, index 0, char "%s"',e.charCodeAt(0)),!0;if(e.length<2)return!1;if(!_[e.charCodeAt(1)])return f('invalid header, index 1, char "%s"',e.charCodeAt(1)),!0;if(e.length<3)return!1;if(!_[e.charCodeAt(2)])return f('invalid header, index 2, char "%s"',e.charCodeAt(2)),!0;if(e.length<4)return!1;if(!_[e.charCodeAt(3)])return f('invalid header, index 3, char "%s"',e.charCodeAt(3)),!0;for(let t=4;t<e.length;++t)if(!_[e.charCodeAt(t)])return f('invalid header, index "%i", char "%s"',t,e.charCodeAt(t)),!0;return!1}(e.headers.origin)){const t=e.headers.origin;return e.headers.origin=null,f("origin header invalid"),n(b.errors.BAD_REQUEST,{name:"INVALID_ORIGIN",origin:t})}const r=e._query.sid;if(!r)return"GET"!==e.method?n(b.errors.BAD_HANDSHAKE_METHOD,{method:e.method}):"websocket"!==i||t?this.opts.allowRequest?this.opts.allowRequest(e,((e,t)=>{if(!t)return n(b.errors.FORBIDDEN,{message:e});n()})):n():(f("invalid transport upgrade"),n(b.errors.BAD_REQUEST,{name:"TRANSPORT_HANDSHAKE_ERROR"}));{if(!this.clients.hasOwnProperty(r))return f('unknown sid "%s"',r),n(b.errors.UNKNOWN_SID,{sid:r});const e=this.clients[r].transport.name;if(!t&&e!==i)return f("bad request: unexpected transport without upgrade"),n(b.errors.BAD_REQUEST,{name:"TRANSPORT_MISMATCH",transport:i,previousTransport:e})}n()}use(e){this.middlewares.push(e)}_applyMiddlewares(e,t,n){if(0===this.middlewares.length)return f("no middleware to apply, skipping"),n();const i=r=>{f("applying middleware n%d",r+1),this.middlewares[r](e,t,(e=>{if(e)return n(e);r+1<this.middlewares.length?i(r+1):n()}))};i(0)}close(){f("closing all open clients");for(let e in this.clients)this.clients.hasOwnProperty(e)&&this.clients[e].close(!0);return this.cleanup(),this}generateId(e){return s.generateId()}async handshake(e,t,n){const i="4"===t._query.EIO?4:3;if(3===i&&!this.opts.allowEIO3)return f("unsupported protocol version"),this.emit("connection_error",{req:t,code:b.errors.UNSUPPORTED_PROTOCOL_VERSION,message:b.errorMessages[b.errors.UNSUPPORTED_PROTOCOL_VERSION],context:{protocol:i}}),void n(b.errors.UNSUPPORTED_PROTOCOL_VERSION);let r;try{r=await this.generateId(t)}catch(e){return f("error while generating an id"),this.emit("connection_error",{req:t,code:b.errors.BAD_REQUEST,message:b.errorMessages[b.errors.BAD_REQUEST],context:{name:"ID_GENERATION_ERROR",error:e}}),void n(b.errors.BAD_REQUEST)}f('handshaking client "%s"',r);try{var s=this.createTransport(e,t);"polling"===e?(s.maxHttpBufferSize=this.opts.maxHttpBufferSize,s.httpCompression=this.opts.httpCompression):"websocket"===e&&(s.perMessageDeflate=this.opts.perMessageDeflate)}catch(i){return f('error handshaking to transport "%s"',e),this.emit("connection_error",{req:t,code:b.errors.BAD_REQUEST,message:b.errorMessages[b.errors.BAD_REQUEST],context:{name:"TRANSPORT_HANDSHAKE_ERROR",error:i}}),void n(b.errors.BAD_REQUEST)}const o=new c.Socket(r,this,s,t,i);return s.on("headers",((e,t)=>{!t._query.sid&&(this.opts.cookie&&(e["Set-Cookie"]=[(0,l.serialize)(this.opts.cookie.name,r,this.opts.cookie)]),this.emit("initial_headers",e,t)),this.emit("headers",e,t)})),s.onRequest(t),this.clients[r]=o,this.clientsCount++,o.once("close",(()=>{delete this.clients[r],this.clientsCount--})),this.emit("connection",o),s}async onWebTransportSession(e){const t=setTimeout((()=>{f("the client failed to establish a bidirectional stream in the given period"),e.close()}),this.opts.upgradeTimeout),n=e.incomingBidirectionalStreams.getReader(),i=await n.read();if(i.done)return void f("session is closed");const r=i.value,o=(0,d.createPacketDecoderStream)(this.opts.maxHttpBufferSize,"nodebuffer"),a=r.readable.pipeThrough(o).getReader(),{value:u,done:l}=await a.read();if(l)return void f("stream is closed");if(clearTimeout(t),"open"!==u.type)return f("invalid WebTransport handshake"),e.close();if(void 0===u.data){const t=new p.WebTransport(e,r,a),n=s.generateId();f('handshaking client "%s" (WebTransport)',n);const i=new c.Socket(n,this,t,null,4);return this.clients[n]=i,this.clientsCount++,i.once("close",(()=>{delete this.clients[n],this.clientsCount--})),void this.emit("connection",i)}const h=function(e){try{const t=JSON.parse(e);if("string"==typeof t.sid)return t.sid}catch(e){}}(u.data);if(!h)return f("invalid WebTransport handshake"),e.close();const m=this.clients[h];if(m)if(m.upgrading)f("transport has already been trying to upgrade"),e.close();else if(m.upgraded)f("transport had already been upgraded"),e.close();else{f("upgrading existing transport");const t=new p.WebTransport(e,r,a);m.maybeUpgrade(t)}else f("upgrade attempt for closed client"),e.close()}}t.BaseServer=g,g.errors={UNKNOWN_TRANSPORT:0,UNKNOWN_SID:1,BAD_HANDSHAKE_METHOD:2,BAD_REQUEST:3,FORBIDDEN:4,UNSUPPORTED_PROTOCOL_VERSION:5},g.errorMessages={0:"Transport unknown",1:"Session ID unknown",2:"Bad handshake method",3:"Bad request",4:"Forbidden",5:"Unsupported protocol version"};class y{constructor(e,t){this.req=e,this.socket=t,e[m]={}}setHeader(e,t){this.req[m][e]=t}getHeader(e){return this.req[m][e]}removeHeader(e){delete this.req[m][e]}write(){}writeHead(){}end(){this.socket.destroy()}}class b extends g{init(){~this.opts.transports.indexOf("websocket")&&(this.ws&&this.ws.close(),this.ws=new this.opts.wsEngine({noServer:!0,clientTracking:!1,perMessageDeflate:this.opts.perMessageDeflate,maxPayload:this.opts.maxHttpBufferSize}),"function"==typeof this.ws.on&&this.ws.on("headers",((e,t)=>{const n=t[m]||{};delete t[m],!t._query.sid&&this.emit("initial_headers",n,t),this.emit("headers",n,t),f("writing headers: %j",n),Object.keys(n).forEach((t=>{e.push(`${t}: ${n[t]}`)}))})))}cleanup(){this.ws&&(f("closing webSocketServer"),this.ws.close())}prepare(e){e._query||(e._query=~e.url.indexOf("?")?i.parse((0,r.parse)(e.url).query):{})}createTransport(e,t){return new o.default[e](t)}handleRequest(e,t){f('handling "%s" http request "%s"',e.method,e.url),this.prepare(e),e.res=t;const n=(n,i)=>{if(void 0!==n)return this.emit("connection_error",{req:e,code:n,message:b.errorMessages[n],context:i}),void v(t,n,i);if(e._query.sid)f("setting new request for existing client"),this.clients[e._query.sid].transport.onRequest(e);else{const n=(e,n)=>v(t,e,n);this.handshake(e._query.transport,e,n)}};this._applyMiddlewares(e,t,(t=>{t?n(b.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!1,n)}))}handleUpgrade(e,t,n){this.prepare(e);const i=new y(e,t),r=(r,s)=>{if(void 0!==r)return this.emit("connection_error",{req:e,code:r,message:b.errorMessages[r],context:s}),void w(t,r,s);const o=Buffer.from(n);n=null,i.writeHead(),this.ws.handleUpgrade(e,t,o,(n=>{this.onWebSocket(e,t,n)}))};this._applyMiddlewares(e,i,(t=>{t?r(b.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(e,!0,r)}))}onWebSocket(e,t,n){if(n.on("error",r),void 0!==o.default[e._query.transport]&&!o.default[e._query.transport].prototype.handlesUpgrades)return f("transport doesnt handle upgraded requests"),void n.close();const i=e._query.sid;if(e.websocket=n,i){const t=this.clients[i];if(t)if(t.upgrading)f("transport has already been trying to upgrade"),n.close();else if(t.upgraded)f("transport had already been upgraded"),n.close();else{f("upgrading existing transport"),n.removeListener("error",r);const i=this.createTransport(e._query.transport,e);i.perMessageDeflate=this.opts.perMessageDeflate,t.maybeUpgrade(i)}else f("upgrade attempt for closed client"),n.close()}else{const n=(e,n)=>w(t,e,n);this.handshake(e._query.transport,e,n)}function r(){f("websocket error before upgrade")}}attach(e,t={}){const n=this._computePath(t),i=t.destroyUpgradeTimeout||1e3;function r(e){return n===e.url.slice(0,n.length)}const s=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("close",this.close.bind(this)),e.on("listening",this.init.bind(this)),e.on("request",((t,i)=>{if(r(t))f('intercepting request for path "%s"',n),this.handleRequest(t,i);else{let n=0;const r=s.length;for(;n<r;n++)s[n].call(e,t,i)}})),~this.opts.transports.indexOf("websocket")&&e.on("upgrade",((e,n,s)=>{r(e)?this.handleUpgrade(e,n,s):!1!==t.destroyUpgrade&&setTimeout((function(){if(n.writable&&n.bytesWritten<=0)return n.on("error",(e=>{f("error while destroying upgrade: %s",e.message)})),n.end()}),i)}))}}function v(e,t,n){const i=t===b.errors.FORBIDDEN?403:400,r=n&&n.message?n.message:b.errorMessages[t];e.writeHead(i,{"Content-Type":"application/json"}),e.end(JSON.stringify({code:t,message:r}))}function w(e,t,n={}){if(e.on("error",(()=>{f("ignoring error from closed connection")})),e.writable){const i=n.message||b.errorMessages[t],r=Buffer.byteLength(i);e.write("HTTP/1.1 400 Bad Request\r\nConnection: close\r\nContent-type: text/html\r\nContent-Length: "+r+"\r\n\r\n"+i)}e.destroy()}t.Server=b;const _=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},84520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const i=n(24434),r=n(45753),s=n(53557),o=(0,r.default)("engine:socket");class a extends i.EventEmitter{constructor(e,t,n,i,r){super(),this._readyState="opening",this.upgrading=!1,this.upgraded=!1,this.writeBuffer=[],this.packetsFn=[],this.sentCallbackFn=[],this.cleanupFn=[],this.id=e,this.server=t,this.request=i,this.protocol=r,i&&(i.websocket&&i.websocket._socket?this.remoteAddress=i.websocket._socket.remoteAddress:this.remoteAddress=i.connection.remoteAddress),this.pingTimeoutTimer=null,this.pingIntervalTimer=null,this.setTransport(n),this.onOpen()}get readyState(){return this._readyState}set readyState(e){o("readyState updated from %s to %s",this._readyState,e),this._readyState=e}onOpen(){this.readyState="open",this.transport.sid=this.id,this.sendPacket("open",JSON.stringify({sid:this.id,upgrades:this.getAvailableUpgrades(),pingInterval:this.server.opts.pingInterval,pingTimeout:this.server.opts.pingTimeout,maxPayload:this.server.opts.maxHttpBufferSize})),this.server.opts.initialPacket&&this.sendPacket("message",this.server.opts.initialPacket),this.emit("open"),3===this.protocol?this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout):this.schedulePing()}onPacket(e){if("open"!==this.readyState)return o("packet received with closed socket");switch(o(`received packet ${e.type}`),this.emit("packet",e),this.resetPingTimeout(this.server.opts.pingInterval+this.server.opts.pingTimeout),e.type){case"ping":if(3!==this.transport.protocol)return void this.onError("invalid heartbeat direction");o("got ping"),this.sendPacket("pong"),this.emit("heartbeat");break;case"pong":if(3===this.transport.protocol)return void this.onError("invalid heartbeat direction");o("got pong"),this.pingIntervalTimer.refresh(),this.emit("heartbeat");break;case"error":this.onClose("parse error");break;case"message":this.emit("data",e.data),this.emit("message",e.data)}}onError(e){o("transport error"),this.onClose("transport error",e)}schedulePing(){this.pingIntervalTimer=(0,s.setTimeout)((()=>{o("writing ping packet - expecting pong within %sms",this.server.opts.pingTimeout),this.sendPacket("ping"),this.resetPingTimeout(this.server.opts.pingTimeout)}),this.server.opts.pingInterval)}resetPingTimeout(e){(0,s.clearTimeout)(this.pingTimeoutTimer),this.pingTimeoutTimer=(0,s.setTimeout)((()=>{"closed"!==this.readyState&&this.onClose("ping timeout")}),e)}setTransport(e){const t=this.onError.bind(this),n=this.onPacket.bind(this),i=this.flush.bind(this),r=this.onClose.bind(this,"transport close");this.transport=e,this.transport.once("error",t),this.transport.on("packet",n),this.transport.on("drain",i),this.transport.once("close",r),this.setupSendCallback(),this.cleanupFn.push((function(){e.removeListener("error",t),e.removeListener("packet",n),e.removeListener("drain",i),e.removeListener("close",r)}))}maybeUpgrade(e){o('might upgrade socket transport from "%s" to "%s"',this.transport.name,e.name),this.upgrading=!0;const t=(0,s.setTimeout)((()=>{o("client did not complete upgrade - closing transport"),a(),"open"===e.readyState&&e.close()}),this.server.opts.upgradeTimeout);let n;const i=t=>{"ping"===t.type&&"probe"===t.data?(o("got probe ping packet, sending pong"),e.send([{type:"pong",data:"probe"}]),this.emit("upgrading",e),clearInterval(n),n=setInterval(r,100)):"upgrade"===t.type&&"closed"!==this.readyState?(o("got upgrade packet - upgrading"),a(),this.transport.discard(),this.upgraded=!0,this.clearTransport(),this.setTransport(e),this.emit("upgrade",e),this.flush(),"closing"===this.readyState&&e.close((()=>{this.onClose("forced close")}))):(a(),e.close())},r=()=>{"polling"===this.transport.name&&this.transport.writable&&(o("writing a noop packet to polling for fast upgrade"),this.transport.send([{type:"noop"}]))},a=()=>{this.upgrading=!1,clearInterval(n),(0,s.clearTimeout)(t),e.removeListener("packet",i),e.removeListener("close",u),e.removeListener("error",c),this.removeListener("close",l)},c=t=>{o("client did not complete upgrade - %s",t),a(),e.close(),e=null},u=()=>{c("transport closed")},l=()=>{c("socket closed")};e.on("packet",i),e.once("close",u),e.once("error",c),this.once("close",l)}clearTransport(){let e;const t=this.cleanupFn.length;for(let n=0;n<t;n++)e=this.cleanupFn.shift(),e();this.transport.on("error",(function(){o("error triggered by discarded transport")})),this.transport.close(),(0,s.clearTimeout)(this.pingTimeoutTimer)}onClose(e,t){"closed"!==this.readyState&&(this.readyState="closed",(0,s.clearTimeout)(this.pingIntervalTimer),(0,s.clearTimeout)(this.pingTimeoutTimer),process.nextTick((()=>{this.writeBuffer=[]})),this.packetsFn=[],this.sentCallbackFn=[],this.clearTransport(),this.emit("close",e,t))}setupSendCallback(){const e=()=>{if(this.sentCallbackFn.length>0){const e=this.sentCallbackFn.splice(0,1)[0];if("function"==typeof e)o("executing send callback"),e(this.transport);else if(Array.isArray(e)){o("executing batch send callback");const t=e.length;let n=0;for(;n<t;n++)"function"==typeof e[n]&&e[n](this.transport)}}};this.transport.on("drain",e),this.cleanupFn.push((()=>{this.transport.removeListener("drain",e)}))}send(e,t,n){return this.sendPacket("message",e,t,n),this}write(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n={},i){if("function"==typeof n&&(i=n,n={}),"closing"!==this.readyState&&"closed"!==this.readyState){o('sending packet "%s" (%s)',e,t),n.compress=!1!==n.compress;const r={type:e,options:n};t&&(r.data=t),this.emit("packetCreate",r),this.writeBuffer.push(r),i&&this.packetsFn.push(i),this.flush()}}flush(){if("closed"!==this.readyState&&this.transport.writable&&this.writeBuffer.length){o("flushing buffer to transport"),this.emit("flush",this.writeBuffer),this.server.emit("flush",this,this.writeBuffer);const e=this.writeBuffer;this.writeBuffer=[],this.transport.supportsFraming?this.sentCallbackFn.push.apply(this.sentCallbackFn,this.packetsFn):this.sentCallbackFn.push(this.packetsFn),this.packetsFn=[],this.transport.send(e),this.emit("drain"),this.server.emit("drain",this)}}getAvailableUpgrades(){const e=[],t=this.server.upgrades(this.transport.name);let n=0;const i=t.length;for(;n<i;++n){const i=t[n];-1!==this.server.opts.transports.indexOf(i)&&e.push(i)}return e}close(e){if("open"===this.readyState){if(this.readyState="closing",this.writeBuffer.length)return o("there are %d remaining packets in the buffer, waiting for the 'drain' event",this.writeBuffer.length),void this.once("drain",(()=>{o("all packets have been sent, closing the transport"),this.closeTransport(e)}));o("the buffer is empty, closing the transport right away",e),this.closeTransport(e)}}closeTransport(e){o("closing the transport (discard? %s)",e),e&&this.transport.discard(),this.transport.close(this.onClose.bind(this,"forced close"))}}t.Socket=a},56716:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const i=n(24434),r=n(46376),s=n(1319),o=(0,n(45753).default)("engine:transport");function a(){}class c extends i.EventEmitter{constructor(e){super(),this.writable=!1,this._readyState="open",this.discarded=!1,this.protocol="4"===e._query.EIO?4:3,this.parser=4===this.protocol?r:s,this.supportsBinary=!(e._query&&e._query.b64)}get readyState(){return this._readyState}set readyState(e){o("readyState updated from %s to %s (%s)",this._readyState,e,this.name),this._readyState=e}discard(){this.discarded=!0}onRequest(e){o("setting request"),this.req=e}close(e){"closed"!==this.readyState&&"closing"!==this.readyState&&(this.readyState="closing",this.doClose(e||a))}onError(e,t){if(this.listeners("error").length){const n=new Error(e);n.type="TransportError",n.description=t,this.emit("error",n)}else o("ignored transport error %s (%s)",e,t)}onPacket(e){this.emit("packet",e)}onData(e){this.onPacket(this.parser.decodePacket(e))}onClose(){this.readyState="closed",this.emit("close")}}t.Transport=c},40940:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16459),r=n(21419);t.default={polling:i.Polling,websocket:r.WebSocket}},16459:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const i=n(56716),r=n(43106),s=n(22594),o=(0,n(45753).default)("engine:polling"),a={gzip:r.createGzip,deflate:r.createDeflate};class c extends i.Transport{constructor(e){super(e),this.closeTimeout=3e4}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){const t=e.res;e.res=null,"get"===e.getMethod()?this.onPollRequest(e,t):"post"===e.getMethod()?this.onDataRequest(e,t):(t.writeStatus("500 Internal Server Error"),t.end())}onPollRequest(e,t){if(this.req)return o("request overlap"),this.onError("overlap from client"),t.writeStatus("500 Internal Server Error"),void t.end();o("setting request"),this.req=e,this.res=t,e.cleanup=()=>{this.req=this.res=null},t.onAborted((()=>{this.writable=!1,this.onError("poll connection closed prematurely")})),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(o("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq)return this.onError("data request overlap from client"),t.writeStatus("500 Internal Server Error"),void t.end();const n=Number(e.headers["content-length"]);if(!n)return this.onError("content-length header required"),void t.writeStatus("411 Length Required").end();if(n>this.maxHttpBufferSize)return this.onError("payload too large"),void t.writeStatus("413 Payload Too Large").end();if("application/octet-stream"===e.headers["content-type"]&&4===this.protocol)return this.onError("invalid content");let i;this.dataReq=e,this.dataRes=t;let r=0;const s={"Content-Type":"text/html"};this.headers(e,s);for(let e in s)t.writeHeader(e,String(s[e]));const o=e=>{this.onData(e.toString()),this.onDataRequestCleanup(),t.cork((()=>{t.end("ok")}))};t.onAborted((()=>{this.onDataRequestCleanup(),this.onError("data request connection closed prematurely")})),t.onData(((e,s)=>{const a=r+e.byteLength;if(a>n)return this.onError("content-length mismatch"),void t.close();if(!i){if(s)return void o(Buffer.from(e));i=Buffer.allocUnsafe(n)}if(Buffer.from(e).copy(i,r),s)return a!=n?(this.onError("content-length mismatch"),t.writeStatus("400 Content-Length Mismatch").end(),void this.onDataRequestCleanup()):void o(i);r=a}))}onDataRequestCleanup(){this.dataReq=this.dataRes=null}onData(e){o('received "%s"',e);const t=e=>{if("close"===e.type)return o("got xhr close packet"),this.onClose(),!1;this.onPacket(e)};3===this.protocol?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(o("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const t=t=>{const n=e.some((e=>e.options&&e.options.compress));this.write(t,{compress:n})};3===this.protocol?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){o('writing "%s"',e),this.doWrite(e,t,(()=>{this.req.cleanup()}))}doWrite(e,t,n){const i="string"==typeof e,r={"Content-Type":i?"text/plain; charset=UTF-8":"application/octet-stream"},o=e=>{this.headers(this.req,r),this.res.cork((()=>{Object.keys(r).forEach((e=>{this.res.writeHeader(e,String(r[e]))})),this.res.end(e)})),n()};if(!this.httpCompression||!t.compress)return void o(e);if((i?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)return void o(e);const a=s(this.req).encodings(["gzip","deflate"]);a?this.compress(e,a,((e,t)=>{if(e)return this.res.writeStatus("500 Internal Server Error"),this.res.end(),void n(e);r["Content-Encoding"]=a,o(t)})):o(e)}compress(e,t,n){o("compressing");const i=[];let r=0;a[t](this.httpCompression).on("error",n).on("data",(function(e){i.push(e),r+=e.length})).on("end",(function(){n(null,Buffer.concat(i,r))})).end(e)}doClose(e){let t;o("closing");const n=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(o("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(o("transport discarded - closing right away"),n()):(o("transport not writable - buffering orderly close"),this.shouldClose=n,t=setTimeout(n,this.closeTimeout))}headers(e,t){t=t||{};const n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),t["cache-control"]="no-store",this.emit("headers",t,e),t}}t.Polling=c},21419:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocket=void 0;const i=n(56716),r=(0,n(45753).default)("engine:ws");class s extends i.Transport{constructor(e){super(e),this.writable=!1,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t+1===e.length,s=e=>{const t="string"!=typeof e,n=this.perMessageDeflate&&Buffer.byteLength(e)>this.perMessageDeflate.threshold;r('writing "%s"',e),this.socket.send(e,t,n),i&&(this.writable=!0,this.emit("drain"))};n.options&&"string"==typeof n.options.wsPreEncoded?s(n.options.wsPreEncoded):this.parser.encodePacket(n,this.supportsBinary,s)}}doClose(e){r("closing"),e&&e(),this.socket.end()}}t.WebSocket=s},73036:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(99627),r=n(53672),s=n(80427),o=n(40525);function a(e){return"string"==typeof e._query.j?new r.JSONP(e):new i.Polling(e)}t.default={polling:a,websocket:s.WebSocket,webtransport:o.WebTransport},a.upgradesTo=["websocket","webtransport"]},53672:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JSONP=void 0;const i=n(99627),r=n(83480),s=/\\\\n/g,o=/(\\)?\\n/g;class a extends i.Polling{constructor(e){super(e),this.head="___eio["+(e._query.j||"").replace(/[^0-9]/g,"")+"](",this.foot=");"}onData(e){"string"==typeof(e=r.parse(e).d)&&(e=e.replace(o,(function(e,t){return t?e:"\n"})),super.onData(e.replace(s,"\\n")))}doWrite(e,t,n){const i=JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029");e=this.head+i+this.foot,super.doWrite(e,t,n)}}t.JSONP=a},99627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Polling=void 0;const i=n(56716),r=n(43106),s=n(22594),o=(0,n(45753).default)("engine:polling"),a={gzip:r.createGzip,deflate:r.createDeflate};class c extends i.Transport{constructor(e){super(e),this.closeTimeout=3e4}get name(){return"polling"}get supportsFraming(){return!1}onRequest(e){const t=e.res;e.res=null,"GET"===e.method?this.onPollRequest(e,t):"POST"===e.method?this.onDataRequest(e,t):(t.writeHead(500),t.end())}onPollRequest(e,t){if(this.req)return o("request overlap"),this.onError("overlap from client"),t.writeHead(400),void t.end();o("setting request"),this.req=e,this.res=t;const n=()=>{this.onError("poll connection closed prematurely")};e.cleanup=()=>{e.removeListener("close",n),this.req=this.res=null},e.on("close",n),this.writable=!0,this.emit("drain"),this.writable&&this.shouldClose&&(o("triggering empty send to append close packet"),this.send([{type:"noop"}]))}onDataRequest(e,t){if(this.dataReq)return this.onError("data request overlap from client"),t.writeHead(400),void t.end();const n="application/octet-stream"===e.headers["content-type"];if(n&&4===this.protocol)return this.onError("invalid content");this.dataReq=e,this.dataRes=t;let i=n?Buffer.concat([]):"";const r=()=>{e.removeListener("data",o),e.removeListener("end",a),e.removeListener("close",s),this.dataReq=this.dataRes=i=null},s=()=>{r(),this.onError("data request connection closed prematurely")},o=e=>{let s;n?(i=Buffer.concat([i,e]),s=i.length):(i+=e,s=Buffer.byteLength(i)),s>this.maxHttpBufferSize&&(t.writeHead(413).end(),r())},a=()=>{this.onData(i),t.writeHead(200,this.headers(e,{"Content-Type":"text/html","Content-Length":2})),t.end("ok"),r()};e.on("close",s),n||e.setEncoding("utf8"),e.on("data",o),e.on("end",a)}onData(e){o('received "%s"',e);const t=e=>{if("close"===e.type)return o("got xhr close packet"),this.onClose(),!1;this.onPacket(e)};3===this.protocol?this.parser.decodePayload(e,t):this.parser.decodePayload(e).forEach(t)}onClose(){this.writable&&this.send([{type:"noop"}]),super.onClose()}send(e){this.writable=!1,this.shouldClose&&(o("appending close packet to payload"),e.push({type:"close"}),this.shouldClose(),this.shouldClose=null);const t=t=>{const n=e.some((e=>e.options&&e.options.compress));this.write(t,{compress:n})};3===this.protocol?this.parser.encodePayload(e,this.supportsBinary,t):this.parser.encodePayload(e,t)}write(e,t){o('writing "%s"',e),this.doWrite(e,t,(()=>{this.req.cleanup()}))}doWrite(e,t,n){const i="string"==typeof e,r={"Content-Type":i?"text/plain; charset=UTF-8":"application/octet-stream"},o=e=>{r["Content-Length"]="string"==typeof e?Buffer.byteLength(e):e.length,this.res.writeHead(200,this.headers(this.req,r)),this.res.end(e),n()};if(!this.httpCompression||!t.compress)return void o(e);if((i?Buffer.byteLength(e):e.length)<this.httpCompression.threshold)return void o(e);const a=s(this.req).encodings(["gzip","deflate"]);a?this.compress(e,a,((e,t)=>{if(e)return this.res.writeHead(500),this.res.end(),void n(e);r["Content-Encoding"]=a,o(t)})):o(e)}compress(e,t,n){o("compressing");const i=[];let r=0;a[t](this.httpCompression).on("error",n).on("data",(function(e){i.push(e),r+=e.length})).on("end",(function(){n(null,Buffer.concat(i,r))})).end(e)}doClose(e){let t;o("closing"),this.dataReq&&(o("aborting ongoing data request"),this.dataReq.destroy());const n=()=>{clearTimeout(t),e(),this.onClose()};this.writable?(o("transport writable - closing right away"),this.send([{type:"close"}]),n()):this.discarded?(o("transport discarded - closing right away"),n()):(o("transport not writable - buffering orderly close"),this.shouldClose=n,t=setTimeout(n,this.closeTimeout))}headers(e,t){t=t||{};const n=e.headers["user-agent"];return n&&(~n.indexOf(";MSIE")||~n.indexOf("Trident/"))&&(t["X-XSS-Protection"]="0"),t["cache-control"]="no-store",this.emit("headers",t,e),t}}t.Polling=c},80427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebSocket=void 0;const i=n(56716),r=(0,n(45753).default)("engine:ws");class s extends i.Transport{constructor(e){super(e),this.socket=e.websocket,this.socket.on("message",((e,t)=>{const n=t?e:e.toString();r('received "%s"',n),super.onData(n)})),this.socket.once("close",this.onClose.bind(this)),this.socket.on("error",this.onError.bind(this)),this.writable=!0,this.perMessageDeflate=null}get name(){return"websocket"}get handlesUpgrades(){return!0}get supportsFraming(){return!0}send(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],i=t+1===e.length,s={};n.options&&(s.compress=n.options.compress);const o=e=>{if(e)return this.onError("write error",e.stack);i&&(this.writable=!0,this.emit("drain"))},a=e=>{this.perMessageDeflate&&("string"==typeof e?Buffer.byteLength(e):e.length)<this.perMessageDeflate.threshold&&(s.compress=!1),r('writing "%s"',e),this.socket.send(e,s,o)};n.options&&"string"==typeof n.options.wsPreEncoded?a(n.options.wsPreEncoded):this._canSendPreEncodedFrame(n)?this.socket._sender.sendFrame(n.options.wsPreEncodedFrame,o):this.parser.encodePacket(n,this.supportsBinary,a)}}_canSendPreEncodedFrame(e){var t,n,i;return!this.perMessageDeflate&&"function"==typeof(null===(n=null===(t=this.socket)||void 0===t?void 0:t._sender)||void 0===n?void 0:n.sendFrame)&&void 0!==(null===(i=e.options)||void 0===i?void 0:i.wsPreEncodedFrame)}doClose(e){r("closing"),this.socket.close(),e&&e()}}t.WebSocket=s},40525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebTransport=void 0;const i=n(56716),r=n(45753),s=n(46376),o=(0,r.default)("engine:webtransport");class a extends i.Transport{constructor(e,t,n){super({_query:{EIO:"4"}}),this.session=e;const i=(0,s.createPacketEncoderStream)();i.readable.pipeTo(t.writable).catch((()=>{o("the stream was closed")})),this.writer=i.writable.getWriter(),(async()=>{try{for(;;){const{value:e,done:t}=await n.read();if(t){o("session is closed");break}o("received chunk: %o",e),this.onPacket(e)}}catch(e){o("error while reading: %s",e.message)}})(),e.closed.then((()=>this.onClose())),this.writable=!0}get name(){return"webtransport"}get supportsFraming(){return!0}async send(e){this.writable=!1;try{for(let t=0;t<e.length;t++){const n=e[t];await this.writer.write(n)}}catch(e){o("error while writing: %s",e.message)}this.writable=!0,this.emit("drain")}doClose(e){o("closing WebTransport session"),this.session.close(),e&&e()}}t.WebTransport=a},57741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uServer=void 0;const i=n(45753),r=n(15038),s=n(40940),o=(0,i.default)("engine:uws");class a extends r.BaseServer{init(){}cleanup(){}prepare(e,t){e.method=e.getMethod().toUpperCase(),e.url=e.getUrl();const n=new URLSearchParams(e.getQuery());e._query=Object.fromEntries(n.entries()),e.headers={},e.forEach(((t,n)=>{e.headers[t]=n})),e.connection={remoteAddress:Buffer.from(t.getRemoteAddressAsText()).toString()},t.onAborted((()=>{o("response has been aborted")}))}createTransport(e,t){return new s.default[e](t)}attach(e,t={}){const n=this._computePath(t);e.any(n,this.handleRequest.bind(this)).ws(n,{compression:t.compression,idleTimeout:t.idleTimeout,maxBackpressure:t.maxBackpressure,maxPayloadLength:this.opts.maxHttpBufferSize,upgrade:this.handleUpgrade.bind(this),open:e=>{const t=e.getUserData().transport;t.socket=e,t.writable=!0,t.emit("drain")},message:(e,t,n)=>{e.getUserData().transport.onData(n?t:Buffer.from(t).toString())},close:(e,t,n)=>{e.getUserData().transport.onClose(t,n)}})}_applyMiddlewares(e,t,n){if(0===this.middlewares.length)return n();e.res=new c(t),super._applyMiddlewares(e,e.res,(t=>{e.res.writeHead(),n(t)}))}handleRequest(e,t){o('handling "%s" http request "%s"',t.getMethod(),t.getUrl()),this.prepare(t,e),t.res=e;const n=(n,i)=>{if(void 0!==n)return this.emit("connection_error",{req:t,code:n,message:r.Server.errorMessages[n],context:i}),void this.abortRequest(t.res,n,i);if(t._query.sid)o("setting new request for existing client"),this.clients[t._query.sid].transport.onRequest(t);else{const n=(t,n)=>this.abortRequest(e,t,n);this.handshake(t._query.transport,t,n)}};this._applyMiddlewares(t,e,(e=>{e?n(r.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!1,n)}))}handleUpgrade(e,t,n){o("on upgrade"),this.prepare(t,e),t.res=e;const i=async(i,s)=>{if(void 0!==i)return this.emit("connection_error",{req:t,code:i,message:r.Server.errorMessages[i],context:s}),void this.abortRequest(e,i,s);const a=t._query.sid;let c;if(a){const n=this.clients[a];n?n.upgrading?(o("transport has already been trying to upgrade"),e.close()):n.upgraded?(o("transport had already been upgraded"),e.close()):(o("upgrading existing transport"),c=this.createTransport(t._query.transport,t),n.maybeUpgrade(c)):(o("upgrade attempt for closed client"),e.close())}else if(c=await this.handshake(t._query.transport,t,((t,n)=>this.abortRequest(e,t,n))),!c)return;t.res.writeStatus("101 Switching Protocols"),e.upgrade({transport:c},t.getHeader("sec-websocket-key"),t.getHeader("sec-websocket-protocol"),t.getHeader("sec-websocket-extensions"),n)};this._applyMiddlewares(t,e,(e=>{e?i(r.Server.errors.BAD_REQUEST,{name:"MIDDLEWARE_FAILURE"}):this.verify(t,!0,i)}))}abortRequest(e,t,n){const i=t===r.Server.errors.FORBIDDEN?"403 Forbidden":"400 Bad Request",s=n&&n.message?n.message:r.Server.errorMessages[t];e.writeStatus(i),e.writeHeader("Content-Type","application/json"),e.end(JSON.stringify({code:t,message:s}))}}t.uServer=a;class c{constructor(e){this.res=e,this.statusWritten=!1,this.headers=[],this.isAborted=!1}set statusCode(e){e&&this.writeStatus(200===e?"200 OK":"204 No Content")}writeHead(e){this.statusCode=e}setHeader(e,t){Array.isArray(t)?t.forEach((t=>{this.writeHeader(e,t)})):this.writeHeader(e,t)}removeHeader(){}getHeader(){}writeStatus(e){if(!this.isAborted)return this.res.writeStatus(e),this.statusWritten=!0,this.writeBufferedHeaders(),this}writeHeader(e,t){this.isAborted||"Content-Length"!==e&&(this.statusWritten?this.res.writeHeader(e,t):this.headers.push([e,t]))}writeBufferedHeaders(){this.headers.forEach((([e,t])=>{this.res.writeHeader(e,t)}))}end(e){this.isAborted||this.res.cork((()=>{this.statusWritten||this.writeBufferedHeaders(),this.res.end(e)}))}onData(e){this.isAborted||this.res.onData(e)}onAborted(e){this.isAborted||this.res.onAborted((()=>{this.isAborted=!0,e()}))}cork(e){this.isAborted||this.res.cork(e)}}},29274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertValidPattern=void 0,t.assertValidPattern=e=>{if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")}},81674:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AST=void 0;const i=n(73843),r=n(34116),s=new Set(["!","?","+","*","@"]),o=e=>s.has(e),a="(?!\\.)",c=new Set(["[","."]),u=new Set(["..","."]),l=new Set("().*{}+?[]^$\\!"),h="[^/]",p=h+"*?",d=h+"+?";class f{type;#zt;#Gt;#Vt=!1;#Kt=[];#Yt;#Jt;#Zt;#Xt=!1;#Qt;#en;#tn=!1;constructor(e,t,n={}){this.type=e,e&&(this.#Gt=!0),this.#Yt=t,this.#zt=this.#Yt?this.#Yt.#zt:this,this.#Qt=this.#zt===this?n:this.#zt.#Qt,this.#Zt=this.#zt===this?[]:this.#zt.#Zt,"!"!==e||this.#zt.#Xt||this.#Zt.push(this),this.#Jt=this.#Yt?this.#Yt.#Kt.length:0}get hasMagic(){if(void 0!==this.#Gt)return this.#Gt;for(const e of this.#Kt)if("string"!=typeof e&&(e.type||e.hasMagic))return this.#Gt=!0;return this.#Gt}toString(){return void 0!==this.#en?this.#en:this.type?this.#en=this.type+"("+this.#Kt.map((e=>String(e))).join("|")+")":this.#en=this.#Kt.map((e=>String(e))).join("")}#nn(){if(this!==this.#zt)throw new Error("should only call on root");if(this.#Xt)return this;let e;for(this.toString(),this.#Xt=!0;e=this.#Zt.pop();){if("!"!==e.type)continue;let t=e,n=t.#Yt;for(;n;){for(let i=t.#Jt+1;!n.type&&i<n.#Kt.length;i++)for(const t of e.#Kt){if("string"==typeof t)throw new Error("string part in extglob AST??");t.copyIn(n.#Kt[i])}t=n,n=t.#Yt}}return this}push(...e){for(const t of e)if(""!==t){if("string"!=typeof t&&!(t instanceof f&&t.#Yt===this))throw new Error("invalid part: "+t);this.#Kt.push(t)}}toJSON(){const e=null===this.type?this.#Kt.slice().map((e=>"string"==typeof e?e:e.toJSON())):[this.type,...this.#Kt.map((e=>e.toJSON()))];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===this.#zt||this.#zt.#Xt&&"!"===this.#Yt?.type)&&e.push({}),e}isStart(){if(this.#zt===this)return!0;if(!this.#Yt?.isStart())return!1;if(0===this.#Jt)return!0;const e=this.#Yt;for(let t=0;t<this.#Jt;t++){const n=e.#Kt[t];if(!(n instanceof f&&"!"===n.type))return!1}return!0}isEnd(){if(this.#zt===this)return!0;if("!"===this.#Yt?.type)return!0;if(!this.#Yt?.isEnd())return!1;if(!this.type)return this.#Yt?.isEnd();const e=this.#Yt?this.#Yt.#Kt.length:0;return this.#Jt===e-1}copyIn(e){"string"==typeof e?this.push(e):this.push(e.clone(this))}clone(e){const t=new f(this.type,e);for(const e of this.#Kt)t.copyIn(e);return t}static#in(e,t,n,i){let r=!1,s=!1,a=-1,c=!1;if(null===t.type){let u=n,l="";for(;u<e.length;){const n=e.charAt(u++);if(r||"\\"===n)r=!r,l+=n;else if(s)u===a+1?"^"!==n&&"!"!==n||(c=!0):"]"!==n||u===a+2&&c||(s=!1),l+=n;else if("["!==n)if(i.noext||!o(n)||"("!==e.charAt(u))l+=n;else{t.push(l),l="";const r=new f(n,t);u=f.#in(e,r,u,i),t.push(r)}else s=!0,a=u,c=!1,l+=n}return t.push(l),u}let u=n+1,l=new f(null,t);const h=[];let p="";for(;u<e.length;){const n=e.charAt(u++);if(r||"\\"===n)r=!r,p+=n;else if(s)u===a+1?"^"!==n&&"!"!==n||(c=!0):"]"!==n||u===a+2&&c||(s=!1),p+=n;else if("["!==n)if(o(n)&&"("===e.charAt(u)){l.push(p),p="";const t=new f(n,l);l.push(t),u=f.#in(e,t,u,i)}else if("|"!==n){if(")"===n)return""===p&&0===t.#Kt.length&&(t.#tn=!0),l.push(p),p="",t.push(...h,l),u;p+=n}else l.push(p),p="",h.push(l),l=new f(null,t);else s=!0,a=u,c=!1,p+=n}return t.type=null,t.#Gt=void 0,t.#Kt=[e.substring(n-1)],u}static fromGlob(e,t={}){const n=new f(null,void 0,t);return f.#in(e,n,0,t),n}toMMPattern(){if(this!==this.#zt)return this.#zt.toMMPattern();const e=this.toString(),[t,n,i,r]=this.toRegExpSource();if(!(i||this.#Gt||this.#Qt.nocase&&!this.#Qt.nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const s=(this.#Qt.nocase?"i":"")+(r?"u":"");return Object.assign(new RegExp(`^${t}$`,s),{_src:t,_glob:e})}get options(){return this.#Qt}toRegExpSource(e){const t=e??!!this.#Qt.dot;if(this.#zt===this&&this.#nn(),!this.type){const n=this.isStart()&&this.isEnd(),i=this.#Kt.map((t=>{const[i,r,s,o]="string"==typeof t?f.#rn(t,this.#Gt,n):t.toRegExpSource(e);return this.#Gt=this.#Gt||s,this.#Vt=this.#Vt||o,i})).join("");let s="";if(this.isStart()&&"string"==typeof this.#Kt[0]&&(1!==this.#Kt.length||!u.has(this.#Kt[0]))){const n=c,r=t&&n.has(i.charAt(0))||i.startsWith("\\.")&&n.has(i.charAt(2))||i.startsWith("\\.\\.")&&n.has(i.charAt(4)),o=!t&&!e&&n.has(i.charAt(0));s=r?"(?!(?:^|/)\\.\\.?(?:$|/))":o?a:""}let o="";return this.isEnd()&&this.#zt.#Xt&&"!"===this.#Yt?.type&&(o="(?:$|\\/)"),[s+i+o,(0,r.unescape)(i),this.#Gt=!!this.#Gt,this.#Vt]}const n="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let s=this.#sn(t);if(this.isStart()&&this.isEnd()&&!s&&"!"!==this.type){const e=this.toString();return this.#Kt=[e],this.type=null,this.#Gt=void 0,[e,(0,r.unescape)(this.toString()),!1,!1]}let o=!n||e||t?"":this.#sn(!0);o===s&&(o=""),o&&(s=`(?:${s})(?:${o})*?`);let l="";return l="!"===this.type&&this.#tn?(this.isStart()&&!t?a:"")+d:i+s+("!"===this.type?"))"+(!this.isStart()||t||e?"":a)+p+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[l,(0,r.unescape)(s),this.#Gt=!!this.#Gt,this.#Vt]}#sn(e){return this.#Kt.map((t=>{if("string"==typeof t)throw new Error("string type in extglob ast??");const[n,i,r,s]=t.toRegExpSource(e);return this.#Vt=this.#Vt||s,n})).filter((e=>!(this.isStart()&&this.isEnd()&&!e))).join("|")}static#rn(e,t,n=!1){let s=!1,o="",a=!1;for(let r=0;r<e.length;r++){const c=e.charAt(r);if(s)s=!1,o+=(l.has(c)?"\\":"")+c;else if("\\"!==c){if("["===c){const[n,s,c,u]=(0,i.parseClass)(e,r);if(c){o+=n,a=a||s,r+=c-1,t=t||u;continue}}"*"!==c?"?"!==c?o+=c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=h,t=!0):(o+=n&&"*"===e?d:p,t=!0)}else r===e.length-1?o+="\\\\":s=!0}return[o,(0,r.unescape)(e),!!t,a]}}t.AST=f},73843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseClass=void 0;const n={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},i=e=>e.replace(/[[\]\\-]/g,"\\$&"),r=e=>e.join("");t.parseClass=(e,t)=>{const s=t;if("["!==e.charAt(s))throw new Error("not in a brace expression");const o=[],a=[];let c=s+1,u=!1,l=!1,h=!1,p=!1,d=s,f="";e:for(;c<e.length;){const t=e.charAt(c);if("!"!==t&&"^"!==t||c!==s+1){if("]"===t&&u&&!h){d=c+1;break}if(u=!0,"\\"!==t||h){if("["===t&&!h)for(const[t,[i,r,u]]of Object.entries(n))if(e.startsWith(t,c)){if(f)return["$.",!1,e.length-s,!0];c+=t.length,u?a.push(i):o.push(i),l=l||r;continue e}h=!1,f?(t>f?o.push(i(f)+"-"+i(t)):t===f&&o.push(i(t)),f="",c++):e.startsWith("-]",c+1)?(o.push(i(t+"-")),c+=2):e.startsWith("-",c+1)?(f=t,c+=2):(o.push(i(t)),c++)}else h=!0,c++}else p=!0,c++}if(d<c)return["",!1,0,!1];if(!o.length&&!a.length)return["$.",!1,e.length-s,!0];if(0===a.length&&1===o.length&&/^\\?.$/.test(o[0])&&!p){return[(m=2===o[0].length?o[0].slice(-1):o[0],m.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-s,!1]}var m;const g="["+(p?"^":"")+r(o)+"]",y="["+(p?"":"^")+r(a)+"]";return[o.length&&a.length?"("+g+"|"+y+")":o.length?g:y,l,d-s,!0]}},92363:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escape=void 0,t.escape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},78722:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=i(n(68928)),s=n(29274),o=n(81674),a=n(92363),c=n(34116);t.minimatch=(e,t,n={})=>((0,s.assertValidPattern)(t),!(!n.nocomment&&"#"===t.charAt(0))&&new F(t,n).match(e));const u=/^\*+([^+@!?\*\[\(]*)$/,l=e=>t=>!t.startsWith(".")&&t.endsWith(e),h=e=>t=>t.endsWith(e),p=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),d=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),f=/^\*+\.\*+$/,m=e=>!e.startsWith(".")&&e.includes("."),g=e=>"."!==e&&".."!==e&&e.includes("."),y=/^\.\*+$/,b=e=>"."!==e&&".."!==e&&e.startsWith("."),v=/^\*+$/,w=e=>0!==e.length&&!e.startsWith("."),_=e=>0!==e.length&&"."!==e&&".."!==e,S=/^\?+([^+@!?\*\[\(]*)?$/,E=([e,t=""])=>{const n=k([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},x=([e,t=""])=>{const n=R([e]);return t?(t=t.toLowerCase(),e=>n(e)&&e.toLowerCase().endsWith(t)):n},D=([e,t=""])=>{const n=R([e]);return t?e=>n(e)&&e.endsWith(t):n},C=([e,t=""])=>{const n=k([e]);return t?e=>n(e)&&e.endsWith(t):n},k=([e])=>{const t=e.length;return e=>e.length===t&&!e.startsWith(".")},R=([e])=>{const t=e.length;return e=>e.length===t&&"."!==e&&".."!==e},A="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";t.sep="win32"===A?"\\":"/",t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR,t.filter=(e,n={})=>i=>(0,t.minimatch)(i,e,n),t.minimatch.filter=t.filter;const T=(e,t={})=>Object.assign({},e,t);t.defaults=e=>{if(!e||"object"!=typeof e||!Object.keys(e).length)return t.minimatch;const n=t.minimatch;return Object.assign(((t,i,r={})=>n(t,i,T(e,r))),{Minimatch:class extends n.Minimatch{constructor(t,n={}){super(t,T(e,n))}static defaults(t){return n.defaults(T(e,t)).Minimatch}},AST:class extends n.AST{constructor(t,n,i={}){super(t,n,T(e,i))}static fromGlob(t,i={}){return n.AST.fromGlob(t,T(e,i))}},unescape:(t,i={})=>n.unescape(t,T(e,i)),escape:(t,i={})=>n.escape(t,T(e,i)),filter:(t,i={})=>n.filter(t,T(e,i)),defaults:t=>n.defaults(T(e,t)),makeRe:(t,i={})=>n.makeRe(t,T(e,i)),braceExpand:(t,i={})=>n.braceExpand(t,T(e,i)),match:(t,i,r={})=>n.match(t,i,T(e,r)),sep:n.sep,GLOBSTAR:t.GLOBSTAR})},t.minimatch.defaults=t.defaults,t.braceExpand=(e,t={})=>((0,s.assertValidPattern)(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:(0,r.default)(e)),t.minimatch.braceExpand=t.braceExpand,t.makeRe=(e,t={})=>new F(e,t).makeRe(),t.minimatch.makeRe=t.makeRe,t.match=(e,t,n={})=>{const i=new F(t,n);return e=e.filter((e=>i.match(e))),i.options.nonull&&!e.length&&e.push(t),e},t.minimatch.match=t.match;const O=/[?*]|[+@!]\(.*?\)|\[|\]/;class F{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(e,t={}){(0,s.assertValidPattern)(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||A,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||!1===t.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==t.windowsNoMagicRoot?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if("string"!=typeof t)return!0;return!1}debug(...e){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=(...e)=>console.error(...e)),this.debug(this.pattern,this.globSet);const n=this.globSet.map((e=>this.slashSplit(e)));this.globParts=this.preprocess(n),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((e,t,n)=>{if(this.isWindows&&this.windowsNoMagicRoot){const t=!(""!==e[0]||""!==e[1]||"?"!==e[2]&&O.test(e[2])||O.test(e[3])),n=/^[a-z]:/i.test(e[0]);if(t)return[...e.slice(0,4),...e.slice(4).map((e=>this.parse(e)))];if(n)return[e[0],...e.slice(1).map((e=>this.parse(e)))]}return e.map((e=>this.parse(e)))}));if(this.debug(this.pattern,i),this.set=i.filter((e=>-1===e.indexOf(!1))),this.isWindows)for(let e=0;e<this.set.length;e++){const t=this.set[e];""===t[0]&&""===t[1]&&"?"===this.globParts[e][2]&&"string"==typeof t[3]&&/^[a-z]:$/i.test(t[3])&&(t[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let t=0;t<e.length;t++)for(let n=0;n<e[t].length;n++)"**"===e[t][n]&&(e[t][n]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map((e=>{let t=-1;for(;-1!==(t=e.indexOf("**",t+1));){let n=t;for(;"**"===e[n+1];)n++;n!==t&&e.splice(t,n-t)}return e}))}levelOneOptimize(e){return e.map((e=>0===(e=e.reduce(((e,t)=>{const n=e[e.length-1];return"**"===t&&"**"===n?e:".."===t&&n&&".."!==n&&"."!==n&&"**"!==n?(e.pop(),e):(e.push(t),e)}),[])).length?[""]:e))}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let n=1;n<e.length-1;n++){const i=e[n];1===n&&""===i&&""===e[0]||"."!==i&&""!==i||(t=!0,e.splice(n,1),n--)}"."!==e[0]||2!==e.length||"."!==e[1]&&""!==e[1]||(t=!0,e.pop())}let n=0;for(;-1!==(n=e.indexOf("..",n+1));){const i=e[n-1];i&&"."!==i&&".."!==i&&"**"!==i&&(t=!0,e.splice(n-1,2),n-=2)}}while(t);return 0===e.length?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let n of e){let i=-1;for(;-1!==(i=n.indexOf("**",i+1));){let r=i;for(;"**"===n[r+1];)r++;r>i&&n.splice(i+1,r-i);let s=n[i+1];const o=n[i+2],a=n[i+3];if(".."!==s)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;t=!0,n.splice(i,1);const c=n.slice(0);c[i]="**",e.push(c),i--}if(!this.preserveMultipleSlashes){for(let e=1;e<n.length-1;e++){const i=n[e];1===e&&""===i&&""===n[0]||"."!==i&&""!==i||(t=!0,n.splice(e,1),e--)}"."!==n[0]||2!==n.length||"."!==n[1]&&""!==n[1]||(t=!0,n.pop())}let r=0;for(;-1!==(r=n.indexOf("..",r+1));){const e=n[r-1];if(e&&"."!==e&&".."!==e&&"**"!==e){t=!0;const e=1===r&&"**"===n[r+1]?["."]:[];n.splice(r-1,2,...e),0===n.length&&n.push(""),r-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let n=t+1;n<e.length;n++){const i=this.partsMatch(e[t],e[n],!this.preserveMultipleSlashes);if(i){e[t]=[],e[n]=i;break}}return e.filter((e=>e.length))}partsMatch(e,t,n=!1){let i=0,r=0,s=[],o="";for(;i<e.length&&r<t.length;)if(e[i]===t[r])s.push("b"===o?t[r]:e[i]),i++,r++;else if(n&&"**"===e[i]&&t[r]===e[i+1])s.push(e[i]),i++;else if(n&&"**"===t[r]&&e[i]===t[r+1])s.push(t[r]),r++;else if("*"!==e[i]||!t[r]||!this.options.dot&&t[r].startsWith(".")||"**"===t[r]){if("*"!==t[r]||!e[i]||!this.options.dot&&e[i].startsWith(".")||"**"===e[i])return!1;if("a"===o)return!1;o="b",s.push(t[r]),i++,r++}else{if("b"===o)return!1;o="a",s.push(e[i]),i++,r++}return e.length===t.length&&s}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,n=0;for(let i=0;i<e.length&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.slice(n)),this.negate=t}matchOne(e,n,i=!1){const r=this.options;if(this.isWindows){const t="string"==typeof e[0]&&/^[a-z]:$/i.test(e[0]),i=!t&&""===e[0]&&""===e[1]&&"?"===e[2]&&/^[a-z]:$/i.test(e[3]),r="string"==typeof n[0]&&/^[a-z]:$/i.test(n[0]),s=i?3:t?0:void 0,o=!r&&""===n[0]&&""===n[1]&&"?"===n[2]&&"string"==typeof n[3]&&/^[a-z]:$/i.test(n[3])?3:r?0:void 0;if("number"==typeof s&&"number"==typeof o){const[t,i]=[e[s],n[o]];t.toLowerCase()===i.toLowerCase()&&(n[o]=t,o>s?n=n.slice(o):s>o&&(e=e.slice(s)))}}const{optimizationLevel:s=1}=this.options;s>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:n}),this.debug("matchOne",e.length,n.length);for(var o=0,a=0,c=e.length,u=n.length;o<c&&a<u;o++,a++){this.debug("matchOne loop");var l=n[a],h=e[o];if(this.debug(n,l,h),!1===l)return!1;if(l===t.GLOBSTAR){this.debug("GLOBSTAR",[n,l,h]);var p=o,d=a+1;if(d===u){for(this.debug("** at the end");o<c;o++)if("."===e[o]||".."===e[o]||!r.dot&&"."===e[o].charAt(0))return!1;return!0}for(;p<c;){var f=e[p];if(this.debug("\nglobstar while",e,p,n,d,f),this.matchOne(e.slice(p),n.slice(d),i))return this.debug("globstar found match!",p,c,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,p,n,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!i||(this.debug("\n>>> no match, partial?",e,p,n,d),p!==c))}let s;if("string"==typeof l?(s=h===l,this.debug("string match",l,h,s)):(s=l.test(h),this.debug("pattern match",l,h,s)),!s)return!1}if(o===c&&a===u)return!0;if(o===c)return i;if(a===u)return o===c-1&&""===e[o];throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(e){(0,s.assertValidPattern)(e);const n=this.options;if("**"===e)return t.GLOBSTAR;if(""===e)return"";let i,r=null;(i=e.match(v))?r=n.dot?_:w:(i=e.match(u))?r=(n.nocase?n.dot?d:p:n.dot?h:l)(i[1]):(i=e.match(S))?r=(n.nocase?n.dot?x:E:n.dot?D:C)(i):(i=e.match(f))?r=n.dot?g:m:(i=e.match(y))&&(r=b);const a=o.AST.fromGlob(e,this.options).toMMPattern();return r&&"object"==typeof a&&Reflect.defineProperty(a,"test",{value:r}),a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const n=this.options,i=n.noglobstar?"[^/]*?":n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=new Set(n.nocase?["i"]:[]);let s=e.map((e=>{const n=e.map((e=>{if(e instanceof RegExp)for(const t of e.flags.split(""))r.add(t);return"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e===t.GLOBSTAR?t.GLOBSTAR:e._src}));return n.forEach(((e,r)=>{const s=n[r+1],o=n[r-1];e===t.GLOBSTAR&&o!==t.GLOBSTAR&&(void 0===o?void 0!==s&&s!==t.GLOBSTAR?n[r+1]="(?:\\/|"+i+"\\/)?"+s:n[r]=i:void 0===s?n[r-1]=o+"(?:\\/|"+i+")?":s!==t.GLOBSTAR&&(n[r-1]=o+"(?:\\/|\\/"+i+"\\/)"+s,n[r+1]=t.GLOBSTAR))})),n.filter((e=>e!==t.GLOBSTAR)).join("/")})).join("|");const[o,a]=e.length>1?["(?:",")"]:["",""];s="^"+o+s+a+"$",this.negate&&(s="^(?!"+s+").+$");try{this.regexp=new RegExp(s,[...r].join(""))}catch(e){this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;const n=this.options;this.isWindows&&(e=e.split("\\").join("/"));const i=this.slashSplit(e);this.debug(this.pattern,"split",i);const r=this.set;this.debug(this.pattern,"set",r);let s=i[i.length-1];if(!s)for(let e=i.length-2;!s&&e>=0;e--)s=i[e];for(let e=0;e<r.length;e++){const o=r[e];let a=i;if(n.matchBase&&1===o.length&&(a=[s]),this.matchOne(a,o,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate}static defaults(e){return t.minimatch.defaults(e).Minimatch}}t.Minimatch=F;var P=n(81674);Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return P.AST}});var I=n(92363);Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return I.escape}});var L=n(34116);Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return L.unescape}}),t.minimatch.AST=o.AST,t.minimatch.Minimatch=F,t.minimatch.escape=a.escape,t.minimatch.unescape=c.unescape},34116:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=void 0,t.unescape=(e,{windowsPathsNoEscape:t=!1}={})=>t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},45420:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const r="object"==typeof process&&process?process:{stdout:null,stderr:null},s=n(78474),o=i(n(57075)),a=n(46193);t.isStream=e=>!!e&&"object"==typeof e&&(e instanceof H||e instanceof o.default||(0,t.isReadable)(e)||(0,t.isWritable)(e)),t.isReadable=e=>!!e&&"object"==typeof e&&e instanceof s.EventEmitter&&"function"==typeof e.pipe&&e.pipe!==o.default.Writable.prototype.pipe,t.isWritable=e=>!!e&&"object"==typeof e&&e instanceof s.EventEmitter&&"function"==typeof e.write&&"function"==typeof e.end;const c=Symbol("EOF"),u=Symbol("maybeEmitEnd"),l=Symbol("emittedEnd"),h=Symbol("emittingEnd"),p=Symbol("emittedError"),d=Symbol("closed"),f=Symbol("read"),m=Symbol("flush"),g=Symbol("flushChunk"),y=Symbol("encoding"),b=Symbol("decoder"),v=Symbol("flowing"),w=Symbol("paused"),_=Symbol("resume"),S=Symbol("buffer"),E=Symbol("pipes"),x=Symbol("bufferLength"),D=Symbol("bufferPush"),C=Symbol("bufferShift"),k=Symbol("objectMode"),R=Symbol("destroyed"),A=Symbol("error"),T=Symbol("emitData"),O=Symbol("emitEnd"),F=Symbol("emitEnd2"),P=Symbol("async"),I=Symbol("abort"),L=Symbol("aborted"),N=Symbol("signal"),B=Symbol("dataListeners"),j=Symbol("discarded"),M=e=>Promise.resolve().then(e),$=e=>e();class q{src;dest;opts;ondrain;constructor(e,t,n){this.src=e,this.dest=t,this.opts=n,this.ondrain=()=>e[_](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(e){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class U extends q{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,t,n){super(e,t,n),this.proxyErrors=e=>t.emit("error",e),e.on("error",this.proxyErrors)}}class H extends s.EventEmitter{[v]=!1;[w]=!1;[E]=[];[S]=[];[k];[y];[P];[b];[c]=!1;[l]=!1;[h]=!1;[d]=!1;[p]=null;[x]=0;[R]=!1;[N];[L]=!1;[B]=0;[j]=!1;writable=!0;readable=!0;constructor(...e){const t=e[0]||{};if(super(),t.objectMode&&"string"==typeof t.encoding)throw new TypeError("Encoding and objectMode may not be used together");var n;t.objectMode?(this[k]=!0,this[y]=null):!(n=t).objectMode&&n.encoding&&"buffer"!==n.encoding?(this[y]=t.encoding,this[k]=!1):(this[k]=!1,this[y]=null),this[P]=!!t.async,this[b]=this[y]?new a.StringDecoder(this[y]):null,t&&!0===t.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),t&&!0===t.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[E]});const{signal:i}=t;i&&(this[N]=i,i.aborted?this[I]():i.addEventListener("abort",(()=>this[I]())))}get bufferLength(){return this[x]}get encoding(){return this[y]}set encoding(e){throw new Error("Encoding must be set at instantiation time")}setEncoding(e){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[k]}set objectMode(e){throw new Error("objectMode must be set at instantiation time")}get async(){return this[P]}set async(e){this[P]=this[P]||!!e}[I](){this[L]=!0,this.emit("abort",this[N]?.reason),this.destroy(this[N]?.reason)}get aborted(){return this[L]}set aborted(e){}write(e,t,n){if(this[L])return!1;if(this[c])throw new Error("write after end");if(this[R])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof t&&(n=t,t="utf8"),t||(t="utf8");const i=this[P]?M:$;if(!this[k]&&!Buffer.isBuffer(e))if(r=e,!Buffer.isBuffer(r)&&ArrayBuffer.isView(r))e=Buffer.from(e.buffer,e.byteOffset,e.byteLength);else if((e=>e instanceof ArrayBuffer||!!e&&"object"==typeof e&&e.constructor&&"ArrayBuffer"===e.constructor.name&&e.byteLength>=0)(e))e=Buffer.from(e);else if("string"!=typeof e)throw new Error("Non-contiguous data written to non-objectMode stream");var r;return this[k]?(this[v]&&0!==this[x]&&this[m](!0),this[v]?this.emit("data",e):this[D](e),0!==this[x]&&this.emit("readable"),n&&i(n),this[v]):e.length?("string"!=typeof e||t===this[y]&&!this[b]?.lastNeed||(e=Buffer.from(e,t)),Buffer.isBuffer(e)&&this[y]&&(e=this[b].write(e)),this[v]&&0!==this[x]&&this[m](!0),this[v]?this.emit("data",e):this[D](e),0!==this[x]&&this.emit("readable"),n&&i(n),this[v]):(0!==this[x]&&this.emit("readable"),n&&i(n),this[v])}read(e){if(this[R])return null;if(this[j]=!1,0===this[x]||0===e||e&&e>this[x])return this[u](),null;this[k]&&(e=null),this[S].length>1&&!this[k]&&(this[S]=[this[y]?this[S].join(""):Buffer.concat(this[S],this[x])]);const t=this[f](e||null,this[S][0]);return this[u](),t}[f](e,t){if(this[k])this[C]();else{const n=t;e===n.length||null===e?this[C]():"string"==typeof n?(this[S][0]=n.slice(e),t=n.slice(0,e),this[x]-=e):(this[S][0]=n.subarray(e),t=n.subarray(0,e),this[x]-=e)}return this.emit("data",t),this[S].length||this[c]||this.emit("drain"),t}end(e,t,n){return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t="utf8"),void 0!==e&&this.write(e,t),n&&this.once("end",n),this[c]=!0,this.writable=!1,!this[v]&&this[w]||this[u](),this}[_](){this[R]||(this[B]||this[E].length||(this[j]=!0),this[w]=!1,this[v]=!0,this.emit("resume"),this[S].length?this[m]():this[c]?this[u]():this.emit("drain"))}resume(){return this[_]()}pause(){this[v]=!1,this[w]=!0,this[j]=!1}get destroyed(){return this[R]}get flowing(){return this[v]}get paused(){return this[w]}[D](e){this[k]?this[x]+=1:this[x]+=e.length,this[S].push(e)}[C](){return this[k]?this[x]-=1:this[x]-=this[S][0].length,this[S].shift()}[m](e=!1){do{}while(this[g](this[C]())&&this[S].length);e||this[S].length||this[c]||this.emit("drain")}[g](e){return this.emit("data",e),this[v]}pipe(e,t){if(this[R])return e;this[j]=!1;const n=this[l];return t=t||{},e===r.stdout||e===r.stderr?t.end=!1:t.end=!1!==t.end,t.proxyErrors=!!t.proxyErrors,n?t.end&&e.end():(this[E].push(t.proxyErrors?new U(this,e,t):new q(this,e,t)),this[P]?M((()=>this[_]())):this[_]()),e}unpipe(e){const t=this[E].find((t=>t.dest===e));t&&(1===this[E].length?(this[v]&&0===this[B]&&(this[v]=!1),this[E]=[]):this[E].splice(this[E].indexOf(t),1),t.unpipe())}addListener(e,t){return this.on(e,t)}on(e,t){const n=super.on(e,t);if("data"===e)this[j]=!1,this[B]++,this[E].length||this[v]||this[_]();else if("readable"===e&&0!==this[x])super.emit("readable");else if((e=>"end"===e||"finish"===e||"prefinish"===e)(e)&&this[l])super.emit(e),this.removeAllListeners(e);else if("error"===e&&this[p]){const e=t;this[P]?M((()=>e.call(this,this[p]))):e.call(this,this[p])}return n}removeListener(e,t){return this.off(e,t)}off(e,t){const n=super.off(e,t);return"data"===e&&(this[B]=this.listeners("data").length,0!==this[B]||this[j]||this[E].length||(this[v]=!1)),n}removeAllListeners(e){const t=super.removeAllListeners(e);return"data"!==e&&void 0!==e||(this[B]=0,this[j]||this[E].length||(this[v]=!1)),t}get emittedEnd(){return this[l]}[u](){this[h]||this[l]||this[R]||0!==this[S].length||!this[c]||(this[h]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[h]=!1)}emit(e,...t){const n=t[0];if("error"!==e&&"close"!==e&&e!==R&&this[R])return!1;if("data"===e)return!(!this[k]&&!n)&&(this[P]?(M((()=>this[T](n))),!0):this[T](n));if("end"===e)return this[O]();if("close"===e){if(this[d]=!0,!this[l]&&!this[R])return!1;const e=super.emit("close");return this.removeAllListeners("close"),e}if("error"===e){this[p]=n,super.emit(A,n);const e=!(this[N]&&!this.listeners("error").length)&&super.emit("error",n);return this[u](),e}if("resume"===e){const e=super.emit("resume");return this[u](),e}if("finish"===e||"prefinish"===e){const t=super.emit(e);return this.removeAllListeners(e),t}const i=super.emit(e,...t);return this[u](),i}[T](e){for(const t of this[E])!1===t.dest.write(e)&&this.pause();const t=!this[j]&&super.emit("data",e);return this[u](),t}[O](){return!this[l]&&(this[l]=!0,this.readable=!1,this[P]?(M((()=>this[F]())),!0):this[F]())}[F](){if(this[b]){const e=this[b].end();if(e){for(const t of this[E])t.dest.write(e);this[j]||super.emit("data",e)}}for(const e of this[E])e.end();const e=super.emit("end");return this.removeAllListeners("end"),e}async collect(){const e=Object.assign([],{dataLength:0});this[k]||(e.dataLength=0);const t=this.promise();return this.on("data",(t=>{e.push(t),this[k]||(e.dataLength+=t.length)})),await t,e}async concat(){if(this[k])throw new Error("cannot concat in objectMode");const e=await this.collect();return this[y]?e.join(""):Buffer.concat(e,e.dataLength)}async promise(){return new Promise(((e,t)=>{this.on(R,(()=>t(new Error("stream destroyed")))),this.on("error",(e=>t(e))),this.on("end",(()=>e()))}))}[Symbol.asyncIterator](){this[j]=!1;let e=!1;const t=async()=>(this.pause(),e=!0,{value:void 0,done:!0});return{next:()=>{if(e)return t();const n=this.read();if(null!==n)return Promise.resolve({done:!1,value:n});if(this[c])return t();let i,r;const s=e=>{this.off("data",o),this.off("end",a),this.off(R,u),t(),r(e)},o=e=>{this.off("error",s),this.off("end",a),this.off(R,u),this.pause(),i({value:e,done:!!this[c]})},a=()=>{this.off("error",s),this.off("data",o),this.off(R,u),t(),i({done:!0,value:void 0})},u=()=>s(new Error("stream destroyed"));return new Promise(((e,t)=>{r=t,i=e,this.once(R,u),this.once("error",s),this.once("end",a),this.once("data",o)}))},throw:t,return:t,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[j]=!1;let e=!1;const t=()=>(this.pause(),this.off(A,t),this.off(R,t),this.off("end",t),e=!0,{done:!0,value:void 0});return this.once("end",t),this.once(A,t),this.once(R,t),{next:()=>{if(e)return t();const n=this.read();return null===n?t():{done:!1,value:n}},throw:t,return:t,[Symbol.iterator](){return this}}}destroy(e){return this[R]?(e?this.emit("error",e):this.emit(R),this):(this[R]=!0,this[j]=!0,this[S].length=0,this[x]=0,"function"!=typeof this.close||this[d]||this.close(),e?this.emit("error",e):this.emit(R),this)}static get isStream(){return t.isStream}}t.Minipass=H},84926:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const i=n(79133);function r(e,t){if(!e)return e;if((0,i.isBinary)(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let i=0;i<e.length;i++)n[i]=r(e[i],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=r(e[i],t));return n}return e}function s(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=s(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=s(e[n],t));return e}t.deconstructPacket=function(e){const t=[],n=e.data,i=e;return i.data=r(n,t),i.attachments=t.length,{packet:i,buffers:t}},t.reconstructPacket=function(e,t){return e.data=s(e.data,t),delete e.attachments,e}},84627:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const i=n(24454),r=n(84926),s=n(79133),o=(0,n(45753).default)("socket.io-parser"),a=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"];var c;function u(e){return"[object Object]"===Object.prototype.toString.call(e)}t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(c=t.PacketType||(t.PacketType={})),t.Encoder=class{constructor(e){this.replacer=e}encode(e){return o("encoding packet %j",e),e.type!==c.EVENT&&e.type!==c.ACK||!(0,s.hasBinary)(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==c.BINARY_EVENT&&e.type!==c.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),o("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=(0,r.deconstructPacket)(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}};class l extends i.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===c.BINARY_EVENT;n||t.type===c.BINARY_ACK?(t.type=n?c.EVENT:c.ACK,this.reconstructor=new h(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!(0,s.isBinary)(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===c[n.type])throw new Error("unknown packet type "+n.type);if(n.type===c.BINARY_EVENT||n.type===c.BINARY_ACK){const i=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(i,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(r)}if("/"===e.charAt(t+1)){const i=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(i,t)}else n.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const i=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(i,t+1))}if(e.charAt(++t)){const i=this.tryParse(e.substr(t));if(!l.isPayloadValid(n.type,i))throw new Error("invalid payload");n.data=i}return o("decoded %s as %j",e,n),n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case c.CONNECT:return u(t);case c.DISCONNECT:return void 0===t;case c.CONNECT_ERROR:return"string"==typeof t||u(t);case c.EVENT:case c.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===a.indexOf(t[0]));case c.ACK:case c.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}t.Decoder=l;class h{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=(0,r.reconstructPacket)(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},79133:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"==typeof ArrayBuffer,i=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);function o(e){return n&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||r&&e instanceof Blob||s&&e instanceof File}t.isBinary=o,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(e(t[n]))return!0;return!1}if(o(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}},27740:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteSocket=t.BroadcastOperator=void 0;const i=n(62079),r=n(84627);class s{constructor(e,t=new Set,n=new Set,i={}){this.adapter=e,this.rooms=t,this.exceptRooms=n,this.flags=i}to(e){const t=new Set(this.rooms);return Array.isArray(e)?e.forEach((e=>t.add(e))):t.add(e),new s(this.adapter,t,this.exceptRooms,this.flags)}in(e){return this.to(e)}except(e){const t=new Set(this.exceptRooms);return Array.isArray(e)?e.forEach((e=>t.add(e))):t.add(e),new s(this.adapter,this.rooms,t,this.flags)}compress(e){const t=Object.assign({},this.flags,{compress:e});return new s(this.adapter,this.rooms,this.exceptRooms,t)}get volatile(){const e=Object.assign({},this.flags,{volatile:!0});return new s(this.adapter,this.rooms,this.exceptRooms,e)}get local(){const e=Object.assign({},this.flags,{local:!0});return new s(this.adapter,this.rooms,this.exceptRooms,e)}timeout(e){const t=Object.assign({},this.flags,{timeout:e});return new s(this.adapter,this.rooms,this.exceptRooms,t)}emit(e,...t){if(i.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const n=[e,...t],s={type:r.PacketType.EVENT,data:n};if("function"!=typeof n[n.length-1])return this.adapter.broadcast(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags}),!0;const o=n.pop();let a=!1,c=[];const u=setTimeout((()=>{a=!0,o.apply(this,[new Error("operation has timed out"),this.flags.expectSingleResponse?null:c])}),this.flags.timeout);let l=-1,h=0,p=0;const d=()=>{a||l!==h||c.length!==p||(clearTimeout(u),o.apply(this,[null,this.flags.expectSingleResponse?c[0]:c]))};return this.adapter.broadcastWithAck(s,{rooms:this.rooms,except:this.exceptRooms,flags:this.flags},(e=>{p+=e,h++,d()}),(e=>{c.push(e),d()})),this.adapter.serverCount().then((e=>{l=e,d()})),!0}emitWithAck(e,...t){return new Promise(((n,i)=>{t.push(((e,t)=>e?(e.responses=t,i(e)):n(t))),this.emit(e,...t)}))}allSockets(){if(!this.adapter)throw new Error("No adapter for this namespace, are you trying to get the list of clients of a dynamic namespace?");return this.adapter.sockets(this.rooms)}fetchSockets(){return this.adapter.fetchSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags}).then((e=>e.map((e=>e instanceof i.Socket?e:new o(this.adapter,e)))))}socketsJoin(e){this.adapter.addSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}socketsLeave(e){this.adapter.delSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},Array.isArray(e)?e:[e])}disconnectSockets(e=!1){this.adapter.disconnectSockets({rooms:this.rooms,except:this.exceptRooms,flags:this.flags},e)}}t.BroadcastOperator=s;class o{constructor(e,t){this.id=t.id,this.handshake=t.handshake,this.rooms=new Set(t.rooms),this.data=t.data,this.operator=new s(e,new Set([this.id]),new Set,{expectSingleResponse:!0})}timeout(e){return this.operator.timeout(e)}emit(e,...t){return this.operator.emit(e,...t)}join(e){return this.operator.socketsJoin(e)}leave(e){return this.operator.socketsLeave(e)}disconnect(e=!1){return this.operator.disconnectSockets(e),this}}t.RemoteSocket=o},54837:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const i=n(84627),r=n(45753),s=n(87016),o=r("socket.io:client");t.Client=class{constructor(e,t){this.sockets=new Map,this.nsps=new Map,this.server=e,this.conn=t,this.encoder=e.encoder,this.decoder=new e._parser.Decoder,this.id=t.id,this.setup()}get request(){return this.conn.request}setup(){this.onclose=this.onclose.bind(this),this.ondata=this.ondata.bind(this),this.onerror=this.onerror.bind(this),this.ondecoded=this.ondecoded.bind(this),this.decoder.on("decoded",this.ondecoded),this.conn.on("data",this.ondata),this.conn.on("error",this.onerror),this.conn.on("close",this.onclose),this.connectTimeout=setTimeout((()=>{0===this.nsps.size?(o("no namespace joined yet, close the client"),this.close()):o("the client has already joined a namespace, nothing to do")}),this.server._connectTimeout)}connect(e,t={}){if(this.server._nsps.has(e))return o("connecting to namespace %s",e),this.doConnect(e,t);this.server._checkNamespace(e,t,(n=>{n?this.doConnect(e,t):(o("creation of namespace %s was denied",e),this._packet({type:i.PacketType.CONNECT_ERROR,nsp:e,data:{message:"Invalid namespace"}}))}))}doConnect(e,t){const n=this.server.of(e);n._add(this,t,(e=>{this.sockets.set(e.id,e),this.nsps.set(n.name,e),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}))}_disconnect(){for(const e of this.sockets.values())e.disconnect();this.sockets.clear(),this.close()}_remove(e){if(this.sockets.has(e.id)){const t=this.sockets.get(e.id).nsp.name;this.sockets.delete(e.id),this.nsps.delete(t)}else o("ignoring remove for %s",e.id)}close(){"open"===this.conn.readyState&&(o("forcing transport close"),this.conn.close(),this.onclose("forced server close"))}_packet(e,t={}){if("open"!==this.conn.readyState)return void o("ignoring packet write %j",e);const n=t.preEncoded?e:this.encoder.encode(e);this.writeToEngine(n,t)}writeToEngine(e,t){if(t.volatile&&!this.conn.transport.writable)return void o("volatile packet is discarded since the transport is not currently writable");const n=Array.isArray(e)?e:[e];for(const e of n)this.conn.write(e,t)}ondata(e){try{this.decoder.add(e)}catch(e){o("invalid packet format"),this.onerror(e)}}ondecoded(e){let t,n;if(3===this.conn.protocol){const i=s.parse(e.nsp,!0);t=i.pathname,n=i.query}else t=e.nsp,n=e.data;const r=this.nsps.get(t);r||e.type!==i.PacketType.CONNECT?r&&e.type!==i.PacketType.CONNECT&&e.type!==i.PacketType.CONNECT_ERROR?process.nextTick((function(){r._onpacket(e)})):(o("invalid state (packet type: %s)",e.type),this.close()):this.connect(t,n)}onerror(e){for(const t of this.sockets.values())t._onerror(e);this.conn.close()}onclose(e,t){o("client close with reason %s",e),this.destroy();for(const n of this.sockets.values())n._onclose(e,t);this.sockets.clear(),this.decoder.destroy()}destroy(){this.conn.removeListener("data",this.ondata),this.conn.removeListener("error",this.onerror),this.conn.removeListener("close",this.onclose),this.decoder.removeListener("decoded",this.ondecoded),this.connectTimeout&&(clearTimeout(this.connectTimeout),this.connectTimeout=void 0)}}},91244:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.Socket=t.Server=void 0;const a=n(58611),c=n(79896),u=n(43106),l=n(22594),h=n(2203),p=n(16928),d=n(48701),f=n(54837),m=n(24434),g=n(45851);Object.defineProperty(t,"Namespace",{enumerable:!0,get:function(){return g.Namespace}});const y=n(18856),b=n(95841),v=s(n(84627)),w=o(n(45753)),_=n(62079);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return _.Socket}});const S=n(1520),E=n(67985),x=o(n(19728)),D=(0,w.default)("socket.io:server"),C=n(53733).rE,k=/\.map/;class R extends S.StrictEventEmitter{constructor(e,t={}){super(),this._nsps=new Map,this.parentNsps=new Map,this.parentNamespacesFromRegExp=new Map,"object"==typeof e&&e instanceof Object&&!e.listen&&(t=e,e=void 0),this.path(t.path||"/socket.io"),this.connectTimeout(t.connectTimeout||45e3),this.serveClient(!1!==t.serveClient),this._parser=t.parser||v,this.encoder=new this._parser.Encoder,this.opts=t,t.connectionStateRecovery?(t.connectionStateRecovery=Object.assign({maxDisconnectionDuration:12e4,skipMiddlewares:!0},t.connectionStateRecovery),this.adapter(t.adapter||b.SessionAwareAdapter)):this.adapter(t.adapter||b.Adapter),t.cleanupEmptyChildNamespaces=!!t.cleanupEmptyChildNamespaces,this.sockets=this.of("/"),(e||"number"==typeof e)&&this.attach(e),this.opts.cors&&(this._corsMiddleware=(0,x.default)(this.opts.cors))}get _opts(){return this.opts}serveClient(e){return arguments.length?(this._serveClient=e,this):this._serveClient}_checkNamespace(e,t,n){if(0===this.parentNsps.size)return n(!1);const i=this.parentNsps.keys(),r=()=>{const s=i.next();if(s.done)return n(!1);s.value(e,t,((t,i)=>{if(t||!i)return r();if(this._nsps.has(e))return D("dynamic namespace %s already exists",e),n(this._nsps.get(e));const o=this.parentNsps.get(s.value).createChild(e);D("dynamic namespace %s was created",e),n(o)}))};r()}path(e){if(!arguments.length)return this._path;this._path=e.replace(/\/$/,"");const t=this._path.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return this.clientPathRegex=new RegExp("^"+t+"/socket\\.io(\\.msgpack|\\.esm)?(\\.min)?\\.js(\\.map)?(?:\\?|$)"),this}connectTimeout(e){return void 0===e?this._connectTimeout:(this._connectTimeout=e,this)}adapter(e){if(!arguments.length)return this._adapter;this._adapter=e;for(const e of this._nsps.values())e._initAdapter();return this}listen(e,t={}){return this.attach(e,t)}attach(e,t={}){if("function"==typeof e)throw new Error("You are trying to attach socket.io to an express request handler function. Please pass a http.Server instance.");if(Number(e)==e&&(e=Number(e)),"number"==typeof e){D("creating http server and binding to %d",e);const t=e;(e=a.createServer(((e,t)=>{t.writeHead(404),t.end()}))).listen(t)}return Object.assign(t,this.opts),t.path=t.path||this._path,this.initEngine(e,t),this}attachApp(e,t={}){Object.assign(t,this.opts),t.path=t.path||this._path,D("creating uWebSockets.js-based engine with opts %j",t);const n=new d.uServer(t);n.attach(e,t),this.bind(n),this._serveClient&&e.get(`${this._path}/*`,((e,t)=>{if(!this.clientPathRegex.test(t.getUrl()))return void t.setYield(!0);const n=t.getUrl().replace(this._path,"").replace(/\?.*$/,"").replace(/^\//,""),i=k.test(n),r=i?"map":"source",s='"'+C+'"',o="W/"+s,a=t.getHeader("if-none-match");if(a&&(s===a||o===a))return D("serve client %s 304",r),e.writeStatus("304 Not Modified"),void e.end();D("serve client %s",r),e.writeHeader("cache-control","public, max-age=0"),e.writeHeader("content-type","application/"+(i?"json":"javascript")+"; charset=utf-8"),e.writeHeader("etag",s);const c=p.join(__dirname,"../client-dist/",n);(0,E.serveFile)(e,c)})),(0,E.patchAdapter)(e)}initEngine(e,t){D("creating engine.io instance with opts %j",t),this.eio=(0,d.attach)(e,t),this._serveClient&&this.attachServe(e),this.httpServer=e,this.bind(this.eio)}attachServe(e){D("attaching client serving req handler");const t=e.listeners("request").slice(0);e.removeAllListeners("request"),e.on("request",((n,i)=>{if(this.clientPathRegex.test(n.url))this._corsMiddleware?this._corsMiddleware(n,i,(()=>{this.serve(n,i)})):this.serve(n,i);else for(let r=0;r<t.length;r++)t[r].call(e,n,i)}))}serve(e,t){const n=e.url.replace(this._path,"").replace(/\?.*$/,""),i=k.test(n),r=i?"map":"source",s='"'+C+'"',o="W/"+s,a=e.headers["if-none-match"];if(a&&(s===a||o===a))return D("serve client %s 304",r),t.writeHead(304),void t.end();D("serve client %s",r),t.setHeader("Cache-Control","public, max-age=0"),t.setHeader("Content-Type","application/"+(i?"json":"javascript")+"; charset=utf-8"),t.setHeader("ETag",s),R.sendFile(n,e,t)}static sendFile(e,t,n){const i=(0,c.createReadStream)(p.join(__dirname,"../client-dist/",e)),r=e=>{e&&n.end()};switch(l(t).encodings(["br","gzip","deflate"])){case"br":n.writeHead(200,{"content-encoding":"br"}),(0,h.pipeline)(i,(0,u.createBrotliCompress)(),n,r);break;case"gzip":n.writeHead(200,{"content-encoding":"gzip"}),(0,h.pipeline)(i,(0,u.createGzip)(),n,r);break;case"deflate":n.writeHead(200,{"content-encoding":"deflate"}),(0,h.pipeline)(i,(0,u.createDeflate)(),n,r);break;default:n.writeHead(200),(0,h.pipeline)(i,n,r)}}bind(e){return this.engine=e,this.engine.on("connection",this.onconnection.bind(this)),this}onconnection(e){D("incoming connection with id %s",e.id);const t=new f.Client(this,e);return 3===e.protocol&&t.connect("/"),this}of(e,t){if("function"==typeof e||e instanceof RegExp){const n=new y.ParentNamespace(this);return D("initializing parent namespace %s",n.name),"function"==typeof e?this.parentNsps.set(e,n):(this.parentNsps.set(((t,n,i)=>i(null,e.test(t))),n),this.parentNamespacesFromRegExp.set(e,n)),t&&n.on("connect",t),n}"/"!==String(e)[0]&&(e="/"+e);let n=this._nsps.get(e);if(!n){for(const[t,n]of this.parentNamespacesFromRegExp)if(t.test(e))return D("attaching namespace %s to parent namespace %s",e,t),n.createChild(e);D("initializing namespace %s",e),n=new g.Namespace(this,e),this._nsps.set(e,n),"/"!==e&&this.sockets.emitReserved("new_namespace",n)}return t&&n.on("connect",t),n}close(e){this._nsps.forEach((e=>{e.sockets.forEach((e=>{e._onclose("server shutting down")})),e.adapter.close()})),this.engine.close(),(0,E.restoreAdapter)(),this.httpServer?this.httpServer.close(e):e&&e()}use(e){return this.sockets.use(e),this}to(e){return this.sockets.to(e)}in(e){return this.sockets.in(e)}except(e){return this.sockets.except(e)}send(...e){return this.sockets.emit("message",...e),this}write(...e){return this.sockets.emit("message",...e),this}serverSideEmit(e,...t){return this.sockets.serverSideEmit(e,...t)}serverSideEmitWithAck(e,...t){return this.sockets.serverSideEmitWithAck(e,...t)}allSockets(){return this.sockets.allSockets()}compress(e){return this.sockets.compress(e)}get volatile(){return this.sockets.volatile}get local(){return this.sockets.local}timeout(e){return this.sockets.timeout(e)}fetchSockets(){return this.sockets.fetchSockets()}socketsJoin(e){return this.sockets.socketsJoin(e)}socketsLeave(e){return this.sockets.socketsLeave(e)}disconnectSockets(e=!1){return this.sockets.disconnectSockets(e)}}t.Server=R,Object.keys(m.EventEmitter.prototype).filter((function(e){return"function"==typeof m.EventEmitter.prototype[e]})).forEach((function(e){R.prototype[e]=function(){return this.sockets[e].apply(this.sockets,arguments)}})),e.exports=(e,t)=>new R(e,t),e.exports.Server=R,e.exports.Namespace=g.Namespace,e.exports.Socket=_.Socket,n(62079)},45851:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Namespace=t.RESERVED_EVENTS=void 0;const r=n(62079),s=n(1520),o=i(n(45753)),a=n(27740),c=(0,o.default)("socket.io:namespace");t.RESERVED_EVENTS=new Set(["connect","connection","new_namespace"]);class u extends s.StrictEventEmitter{constructor(e,t){super(),this.sockets=new Map,this._fns=[],this._ids=0,this.server=e,this.name=t,this._initAdapter()}_initAdapter(){this.adapter=new(this.server.adapter())(this)}use(e){return this._fns.push(e),this}run(e,t){const n=this._fns.slice(0);if(!n.length)return t(null);!function i(r){n[r](e,(function(e){return e?t(e):n[r+1]?void i(r+1):t(null)}))}(0)}to(e){return new a.BroadcastOperator(this.adapter).to(e)}in(e){return new a.BroadcastOperator(this.adapter).in(e)}except(e){return new a.BroadcastOperator(this.adapter).except(e)}async _add(e,t,n){var i;c("adding socket to nsp %s",this.name);const r=await this._createSocket(e,t);if((null===(i=this.server.opts.connectionStateRecovery)||void 0===i?void 0:i.skipMiddlewares)&&r.recovered&&"open"===e.conn.readyState)return this._doConnect(r,n);this.run(r,(t=>{process.nextTick((()=>"open"!==e.conn.readyState?(c("next called after client was closed - ignoring socket"),void r._cleanup()):t?(c("middleware error, sending CONNECT_ERROR packet to the client"),r._cleanup(),3===e.conn.protocol?r._error(t.data||t.message):r._error({message:t.message,data:t.data})):void this._doConnect(r,n)))}))}async _createSocket(e,t){const n=t.pid,i=t.offset;if(this.server.opts.connectionStateRecovery&&"string"==typeof n&&"string"==typeof i){let s;try{s=await this.adapter.restoreSession(n,i)}catch(e){c("error while restoring session: %s",e)}if(s)return c("connection state recovered for sid %s",s.sid),new r.Socket(this,e,t,s)}return new r.Socket(this,e,t)}_doConnect(e,t){this.sockets.set(e.id,e),e._onconnect(),t&&t(e),this.emitReserved("connect",e),this.emitReserved("connection",e)}_remove(e){this.sockets.has(e.id)?this.sockets.delete(e.id):c("ignoring remove for %s",e.id)}emit(e,...t){return new a.BroadcastOperator(this.adapter).emit(e,...t)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}serverSideEmit(e,...n){if(t.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);return n.unshift(e),this.adapter.serverSideEmit(n),!0}serverSideEmitWithAck(e,...t){return new Promise(((n,i)=>{t.push(((e,t)=>e?(e.responses=t,i(e)):n(t))),this.serverSideEmit(e,...t)}))}_onServerSideEmit(e){super.emitUntyped.apply(this,e)}allSockets(){return new a.BroadcastOperator(this.adapter).allSockets()}compress(e){return new a.BroadcastOperator(this.adapter).compress(e)}get volatile(){return new a.BroadcastOperator(this.adapter).volatile}get local(){return new a.BroadcastOperator(this.adapter).local}timeout(e){return new a.BroadcastOperator(this.adapter).timeout(e)}fetchSockets(){return new a.BroadcastOperator(this.adapter).fetchSockets()}socketsJoin(e){return new a.BroadcastOperator(this.adapter).socketsJoin(e)}socketsLeave(e){return new a.BroadcastOperator(this.adapter).socketsLeave(e)}disconnectSockets(e=!1){return new a.BroadcastOperator(this.adapter).disconnectSockets(e)}}t.Namespace=u},18856:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ParentNamespace=void 0;const r=n(45851),s=n(95841),o=(0,i(n(45753)).default)("socket.io:parent-namespace");class a extends r.Namespace{constructor(e){super(e,"/_"+a.count++),this.children=new Set}_initAdapter(){this.adapter=new c(this,this.children)}emit(e,...t){return this.children.forEach((n=>{n.emit(e,...t)})),!0}createChild(e){o("creating child namespace %s",e);const t=new r.Namespace(this.server,e);if(t._fns=this._fns.slice(0),this.listeners("connect").forEach((e=>t.on("connect",e))),this.listeners("connection").forEach((e=>t.on("connection",e))),this.children.add(t),this.server._opts.cleanupEmptyChildNamespaces){const n=t._remove;t._remove=i=>{n.call(t,i),0===t.sockets.size&&(o("closing child namespace %s",e),t.adapter.close(),this.server._nsps.delete(t.name),this.children.delete(t))}}return this.server._nsps.set(e,t),this.server.sockets.emitReserved("new_namespace",t),t}fetchSockets(){throw new Error("fetchSockets() is not supported on parent namespaces")}}t.ParentNamespace=a,a.count=0;class c extends s.Adapter{constructor(e,t){super(e),this.children=t}broadcast(e,t){this.children.forEach((n=>{n.adapter.broadcast(e,t)}))}}},62079:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.RESERVED_EVENTS=void 0;const r=n(84627),s=i(n(45753)),o=n(1520),a=i(n(74845)),c=n(27740),u=(0,s.default)("socket.io:socket"),l=new Set(["transport error","transport close","forced close","ping timeout","server shutting down","forced server close"]);function h(){}t.RESERVED_EVENTS=new Set(["connect","connect_error","disconnect","disconnecting","newListener","removeListener"]);class p extends o.StrictEventEmitter{constructor(e,t,n,i){super(),this.nsp=e,this.client=t,this.recovered=!1,this.data={},this.connected=!1,this.acks=new Map,this.fns=[],this.flags={},this.server=e.server,this.adapter=this.nsp.adapter,i?(this.id=i.sid,this.pid=i.pid,i.rooms.forEach((e=>this.join(e))),this.data=i.data,i.missedPackets.forEach((e=>{this.packet({type:r.PacketType.EVENT,data:e})})),this.recovered=!0):(3===t.conn.protocol?this.id="/"!==e.name?e.name+"#"+t.id:t.id:this.id=a.default.generateId(),this.server._opts.connectionStateRecovery&&(this.pid=a.default.generateId())),this.handshake=this.buildHandshake(n),this.on("error",h)}buildHandshake(e){var t,n,i,r;return{headers:(null===(t=this.request)||void 0===t?void 0:t.headers)||{},time:new Date+"",address:this.conn.remoteAddress,xdomain:!!(null===(n=this.request)||void 0===n?void 0:n.headers.origin),secure:!this.request||!!this.request.connection.encrypted,issued:+new Date,url:null===(i=this.request)||void 0===i?void 0:i.url,query:(null===(r=this.request)||void 0===r?void 0:r._query)||{},auth:e}}emit(e,...n){if(t.RESERVED_EVENTS.has(e))throw new Error(`"${String(e)}" is a reserved event name`);const i=[e,...n],s={type:r.PacketType.EVENT,data:i};if("function"==typeof i[i.length-1]){const e=this.nsp._ids++;u("emitting packet with ack id %d",e),this.registerAckCallback(e,i.pop()),s.id=e}const o=Object.assign({},this.flags);return this.flags={},this.nsp.server.opts.connectionStateRecovery?this.adapter.broadcast(s,{rooms:new Set([this.id]),except:new Set,flags:o}):(this.notifyOutgoingListeners(s),this.packet(s,o)),!0}emitWithAck(e,...t){const n=void 0!==this.flags.timeout;return new Promise(((i,r)=>{t.push(((e,t)=>n?e?r(e):i(t):i(e))),this.emit(e,...t)}))}registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void this.acks.set(e,t);const i=setTimeout((()=>{u("event with ack id %d has timed out after %d ms",e,n),this.acks.delete(e),t.call(this,new Error("operation has timed out"))}),n);this.acks.set(e,((...e)=>{clearTimeout(i),t.apply(this,[null,...e])}))}to(e){return this.newBroadcastOperator().to(e)}in(e){return this.newBroadcastOperator().in(e)}except(e){return this.newBroadcastOperator().except(e)}send(...e){return this.emit("message",...e),this}write(...e){return this.emit("message",...e),this}packet(e,t={}){e.nsp=this.nsp.name,t.compress=!1!==t.compress,this.client._packet(e,t)}join(e){return u("join room %s",e),this.adapter.addAll(this.id,new Set(Array.isArray(e)?e:[e]))}leave(e){return u("leave room %s",e),this.adapter.del(this.id,e)}leaveAll(){this.adapter.delAll(this.id)}_onconnect(){u("socket connected - writing packet"),this.connected=!0,this.join(this.id),3===this.conn.protocol?this.packet({type:r.PacketType.CONNECT}):this.packet({type:r.PacketType.CONNECT,data:{sid:this.id,pid:this.pid}})}_onpacket(e){switch(u("got packet %j",e),e.type){case r.PacketType.EVENT:case r.PacketType.BINARY_EVENT:this.onevent(e);break;case r.PacketType.ACK:case r.PacketType.BINARY_ACK:this.onack(e);break;case r.PacketType.DISCONNECT:this.ondisconnect()}}onevent(e){const t=e.data||[];if(u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}this.dispatch(t)}ack(e){const t=this;let n=!1;return function(){if(n)return;const i=Array.prototype.slice.call(arguments);u("sending ack %j",i),t.packet({id:e,type:r.PacketType.ACK,data:i}),n=!0}}onack(e){const t=this.acks.get(e.id);"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),this.acks.delete(e.id)):u("bad ack %s",e.id)}ondisconnect(){u("got disconnect packet"),this._onclose("client namespace disconnect")}_onerror(e){this.emitReserved("error",e)}_onclose(e,t){if(!this.connected)return this;u("closing socket - reason %s",e),this.emitReserved("disconnecting",e,t),this.server._opts.connectionStateRecovery&&l.has(e)&&(u("connection state recovery is enabled for sid %s",this.id),this.adapter.persistSession({sid:this.id,pid:this.pid,rooms:[...this.rooms],data:this.data})),this._cleanup(),this.client._remove(this),this.connected=!1,this.emitReserved("disconnect",e,t)}_cleanup(){this.leaveAll(),this.nsp._remove(this),this.join=h}_error(e){this.packet({type:r.PacketType.CONNECT_ERROR,data:e})}disconnect(e=!1){return this.connected?(e?this.client._disconnect():(this.packet({type:r.PacketType.DISCONNECT}),this._onclose("server namespace disconnect")),this):this}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}get broadcast(){return this.newBroadcastOperator()}get local(){return this.newBroadcastOperator().local}timeout(e){return this.flags.timeout=e,this}dispatch(e){u("dispatching an event %j",e),this.run(e,(t=>{process.nextTick((()=>{if(t)return this._onerror(t);this.connected?super.emitUntyped.apply(this,e):u("ignore packet received after disconnection")}))}))}use(e){return this.fns.push(e),this}run(e,t){const n=this.fns.slice(0);if(!n.length)return t(null);!function i(r){n[r](e,(function(e){return e?t(e):n[r+1]?void i(r+1):t(null)}))}(0)}get disconnected(){return!this.connected}get request(){return this.client.request}get conn(){return this.client.conn}get rooms(){return this.adapter.socketRooms(this.id)||new Set}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}newBroadcastOperator(){const e=Object.assign({},this.flags);return this.flags={},new c.BroadcastOperator(this.adapter,new Set,new Set([this.id]),e)}}t.Socket=p},1520:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StrictEventEmitter=void 0;const i=n(24434);class r extends i.EventEmitter{on(e,t){return super.on(e,t)}once(e,t){return super.once(e,t)}emit(e,...t){return super.emit(e,...t)}emitReserved(e,...t){return super.emit(e,...t)}emitUntyped(e,...t){return super.emit(e,...t)}listeners(e){return super.listeners(e)}}t.StrictEventEmitter=r},67985:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.serveFile=t.restoreAdapter=t.patchAdapter=void 0;const r=n(95841),s=n(79896),o=(0,i(n(45753)).default)("socket.io:adapter-uws"),{addAll:a,del:c,broadcast:u}=r.Adapter.prototype;function l(e,t,n,i){const r=t.conn.id,s=t.conn.transport.socket;n&&(o("subscribe connection %s to topic %s",r,e),s.subscribe(e)),i.forEach((t=>{const n=`${e}${t}`;o("subscribe connection %s to topic %s",r,n),s.subscribe(n)}))}t.patchAdapter=function(e){r.Adapter.prototype.addAll=function(e,t){const n=!this.sids.has(e);a.call(this,e,t);const i=this.nsp.sockets.get(e);i&&("websocket"!==i.conn.transport.name?n&&i.conn.on("upgrade",(()=>{const t=this.sids.get(e);t&&l(this.nsp.name,i,n,t)})):l(this.nsp.name,i,n,t))},r.Adapter.prototype.del=function(e,t){c.call(this,e,t);const n=this.nsp.sockets.get(e);if(n&&"websocket"===n.conn.transport.name){const e=n.conn.id,i=n.conn.transport.socket,r=`${this.nsp.name}${t}`;o("unsubscribe connection %s from topic %s",e,r),i.unsubscribe(r)}},r.Adapter.prototype.broadcast=function(t,n){if(!(n.rooms.size<=1&&0===n.except.size))return void u.call(this,t,n);const i=n.flags||{},r={preEncoded:!0,volatile:i.volatile,compress:i.compress};t.nsp=this.nsp.name;const s=this.encoder.encode(t),a=0===n.rooms.size?this.nsp.name:`${this.nsp.name}${n.rooms.keys().next().value}`;o("fast publish to %s",a),s.forEach((t=>{const n="string"!=typeof t;e.publish(a,n?t:"4"+t,n)})),this.apply(n,(e=>{"websocket"!==e.conn.transport.name&&e.client.writeToEngine(s,r)}))}},t.restoreAdapter=function(){r.Adapter.prototype.addAll=a,r.Adapter.prototype.del=c,r.Adapter.prototype.broadcast=u},t.serveFile=function(e,t){const{size:n}=(0,s.statSync)(t),i=(0,s.createReadStream)(t),r=()=>!i.destroyed&&i.destroy();e.onAborted(r),i.on("data",(t=>{const r=(e=>{const{buffer:t,byteOffset:n,byteLength:i}=e;return t.slice(n,n+i)})(t),s=e.getWriteOffset(),[o,a]=e.tryEnd(r,n);a||o||(i.pause(),e.onWritable((t=>{const[o,a]=e.tryEnd(r.slice(t-s),n);return!a&&o&&i.resume(),o})))})).on("error",(e=>{throw r(),e})).on("end",r)}},24454:(e,t,n)=>{"use strict";function i(e){if(e)return function(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}(e)}n.r(t),n.d(t,{Emitter:()=>i}),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},i.prototype.emitReserved=i.prototype.emit,i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}},22268:(e,t,n)=>{"use strict";function i(e,...t){return(...n)=>e(...t,...n)}function r(e){return function(...t){var n=t.pop();return e.call(this,t,n)}}n.r(t),n.d(t,{all:()=>fe,allLimit:()=>me,allSeries:()=>ge,any:()=>nt,anyLimit:()=>it,anySeries:()=>rt,apply:()=>i,applyEach:()=>T,applyEachSeries:()=>P,asyncify:()=>h,auto:()=>N,autoInject:()=>q,cargo:()=>z,cargoQueue:()=>G,compose:()=>Y,concat:()=>X,concatLimit:()=>Z,concatSeries:()=>Q,constant:()=>ee,default:()=>gt,detect:()=>ne,detectLimit:()=>ie,detectSeries:()=>re,dir:()=>oe,doDuring:()=>ae,doUntil:()=>ce,doWhilst:()=>ae,during:()=>dt,each:()=>le,eachLimit:()=>he,eachOf:()=>R,eachOfLimit:()=>D,eachOfSeries:()=>O,eachSeries:()=>pe,ensureAsync:()=>de,every:()=>fe,everyLimit:()=>me,everySeries:()=>ge,filter:()=>we,filterLimit:()=>_e,filterSeries:()=>Se,find:()=>ne,findLimit:()=>ie,findSeries:()=>re,flatMap:()=>X,flatMapLimit:()=>Z,flatMapSeries:()=>Q,foldl:()=>V,foldr:()=>He,forEach:()=>le,forEachLimit:()=>he,forEachOf:()=>R,forEachOfLimit:()=>D,forEachOfSeries:()=>O,forEachSeries:()=>pe,forever:()=>Ee,groupBy:()=>De,groupByLimit:()=>xe,groupBySeries:()=>Ce,inject:()=>V,log:()=>ke,map:()=>A,mapLimit:()=>J,mapSeries:()=>F,mapValues:()=>Ae,mapValuesLimit:()=>Re,mapValuesSeries:()=>Te,memoize:()=>Oe,nextTick:()=>Fe,parallel:()=>Ie,parallelLimit:()=>Le,priorityQueue:()=>qe,queue:()=>Ne,race:()=>Ue,reduce:()=>V,reduceRight:()=>He,reflect:()=>We,reflectAll:()=>ze,reject:()=>Ve,rejectLimit:()=>Ke,rejectSeries:()=>Ye,retry:()=>Qe,retryable:()=>et,select:()=>we,selectLimit:()=>_e,selectSeries:()=>Se,seq:()=>K,series:()=>tt,setImmediate:()=>l,some:()=>nt,someLimit:()=>it,someSeries:()=>rt,sortBy:()=>st,timeout:()=>ot,times:()=>ct,timesLimit:()=>at,timesSeries:()=>ut,transform:()=>lt,tryEach:()=>ht,unmemoize:()=>pt,until:()=>ft,waterfall:()=>mt,whilst:()=>dt,wrapSync:()=>h});var s="function"==typeof queueMicrotask&&queueMicrotask,o="function"==typeof setImmediate&&setImmediate,a="object"==typeof process&&"function"==typeof process.nextTick;function c(e){setTimeout(e,0)}function u(e){return(t,...n)=>e((()=>t(...n)))}var l=u(s?queueMicrotask:o?setImmediate:a?process.nextTick:c);function h(e){return f(e)?function(...t){const n=t.pop();return p(e.apply(this,t),n)}:r((function(t,n){var i;try{i=e.apply(this,t)}catch(e){return n(e)}if(i&&"function"==typeof i.then)return p(i,n);n(null,i)}))}function p(e,t){return e.then((e=>{d(t,null,e)}),(e=>{d(t,e&&(e instanceof Error||e.message)?e:new Error(e))}))}function d(e,t,n){try{e(t,n)}catch(e){l((e=>{throw e}),e)}}function f(e){return"AsyncFunction"===e[Symbol.toStringTag]}function m(e){if("function"!=typeof e)throw new Error("expected a function");return f(e)?h(e):e}function g(e,t){if(t||(t=e.length),!t)throw new Error("arity is undefined");return function(...n){return"function"==typeof n[t-1]?e.apply(this,n):new Promise(((i,r)=>{n[t-1]=(e,...t)=>{if(e)return r(e);i(t.length>1?t:t[0])},e.apply(this,n)}))}}function y(e){return function(t,...n){return g((function(i){var r=this;return e(t,((e,t)=>{m(e).apply(r,n.concat(t))}),i)}))}}function b(e,t,n,i){t=t||[];var r=[],s=0,o=m(n);return e(t,((e,t,n)=>{var i=s++;o(e,((e,t)=>{r[i]=t,n(e)}))}),(e=>{i(e,r)}))}function v(e){return e&&"number"==typeof e.length&&e.length>=0&&e.length%1==0}const w={};function _(e){function t(...t){if(null!==e){var n=e;e=null,n.apply(this,t)}}return Object.assign(t,e),t}function S(e){return function(...t){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,t)}}function E(e,t,n,i){let r=!1,s=!1,o=!1,a=0,c=0;function u(){a>=t||o||r||(o=!0,e.next().then((({value:e,done:t})=>{if(!s&&!r){if(o=!1,t)return r=!0,void(a<=0&&i(null));a++,n(e,c,l),c++,u()}})).catch(h))}function l(e,t){if(a-=1,!s)return e?h(e):!1===e?(r=!0,void(s=!0)):t===w||r&&a<=0?(r=!0,i(null)):void u()}function h(e){s||(o=!1,r=!0,i(e))}u()}var x=e=>(t,n,i)=>{if(i=_(i),e<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!t)return i(null);if("AsyncGenerator"===t[Symbol.toStringTag])return E(t,e,n,i);if(function(e){return"function"==typeof e[Symbol.asyncIterator]}(t))return E(t[Symbol.asyncIterator](),e,n,i);var r=function(e){if(v(e))return function(e){var t=-1,n=e.length;return function(){return++t<n?{value:e[t],key:t}:null}}(e);var t=function(e){return e[Symbol.iterator]&&e[Symbol.iterator]()}(e);return t?function(e){var t=-1;return function(){var n=e.next();return n.done?null:(t++,{value:n.value,key:t})}}(t):function(e){var t=e?Object.keys(e):[],n=-1,i=t.length;return function r(){var s=t[++n];return"__proto__"===s?r():n<i?{value:e[s],key:s}:null}}(e)}(t),s=!1,o=!1,a=0,c=!1;function u(e,t){if(!o)if(a-=1,e)s=!0,i(e);else if(!1===e)s=!0,o=!0;else{if(t===w||s&&a<=0)return s=!0,i(null);c||l()}}function l(){for(c=!0;a<e&&!s;){var t=r();if(null===t)return s=!0,void(a<=0&&i(null));a+=1,n(t.value,t.key,S(u))}c=!1}l()},D=g((function(e,t,n,i){return x(t)(e,m(n),i)}),4);function C(e,t,n){n=_(n);var i=0,r=0,{length:s}=e,o=!1;function a(e,t){!1===e&&(o=!0),!0!==o&&(e?n(e):++r!==s&&t!==w||n(null))}for(0===s&&n(null);i<s;i++)t(e[i],i,S(a))}function k(e,t,n){return D(e,1/0,t,n)}var R=g((function(e,t,n){return(v(e)?C:k)(e,m(t),n)}),3),A=g((function(e,t,n){return b(R,e,t,n)}),3),T=y(A),O=g((function(e,t,n){return D(e,1,t,n)}),3),F=g((function(e,t,n){return b(O,e,t,n)}),3),P=y(F);const I=Symbol("promiseCallback");function L(){let e,t;function n(n,...i){if(n)return t(n);e(i.length>1?i:i[0])}return n[I]=new Promise(((n,i)=>{e=n,t=i})),n}function N(e,t,n){"number"!=typeof t&&(n=t,t=null),n=_(n||L());var i=Object.keys(e).length;if(!i)return n(null);t||(t=i);var r={},s=0,o=!1,a=!1,c=Object.create(null),u=[],l=[],h={};function p(e,t){u.push((()=>function(e,t){if(!a){var i=S(((t,...i)=>{if(s--,!1!==t)if(i.length<2&&([i]=i),t){var u={};if(Object.keys(r).forEach((e=>{u[e]=r[e]})),u[e]=i,a=!0,c=Object.create(null),o)return;n(t,u)}else r[e]=i,(c[e]||[]).forEach((e=>e())),d();else o=!0}));s++;var u=m(t[t.length-1]);t.length>1?u(r,i):u(i)}}(e,t)))}function d(){if(!o){if(0===u.length&&0===s)return n(null,r);for(;u.length&&s<t;)u.shift()()}}function f(t){var n=[];return Object.keys(e).forEach((i=>{const r=e[i];Array.isArray(r)&&r.indexOf(t)>=0&&n.push(i)})),n}return Object.keys(e).forEach((t=>{var n=e[t];if(!Array.isArray(n))return p(t,[n]),void l.push(t);var i=n.slice(0,n.length-1),r=i.length;if(0===r)return p(t,n),void l.push(t);h[t]=r,i.forEach((s=>{if(!e[s])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+s+"` in "+i.join(", "));var o,a;(a=c[o=s])||(a=c[o]=[]),a.push((()=>{0==--r&&p(t,n)}))}))})),function(){for(var e=0;l.length;)e++,f(l.pop()).forEach((e=>{0==--h[e]&&l.push(e)}));if(e!==i)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d(),n[I]}var B=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,j=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,M=/,/,$=/(=.+)?(\s*)$/;function q(e,t){var n={};return Object.keys(e).forEach((t=>{var i,r=e[t],s=f(r),o=!s&&1===r.length||s&&0===r.length;if(Array.isArray(r))i=[...r],r=i.pop(),n[t]=i.concat(i.length>0?a:r);else if(o)n[t]=r;else{if(i=function(e){const t=function(e){let t="",n=0,i=e.indexOf("*/");for(;n<e.length;)if("/"===e[n]&&"/"===e[n+1]){let t=e.indexOf("\n",n);n=-1===t?e.length:t}else if(-1!==i&&"/"===e[n]&&"*"===e[n+1]){let r=e.indexOf("*/",n);-1!==r?(n=r+2,i=e.indexOf("*/",n)):(t+=e[n],n++)}else t+=e[n],n++;return t}(e.toString());let n=t.match(B);if(n||(n=t.match(j)),!n)throw new Error("could not parse args in autoInject\nSource:\n"+t);let[,i]=n;return i.replace(/\s/g,"").split(M).map((e=>e.replace($,"").trim()))}(r),0===r.length&&!s&&0===i.length)throw new Error("autoInject task functions require explicit parameters.");s||i.pop(),n[t]=i.concat(a)}function a(e,t){var n=i.map((t=>e[t]));n.push(t),m(r)(...n)}})),N(n,t)}class U{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,t){t.prev=e,t.next=e.next,e.next?e.next.prev=t:this.tail=t,e.next=t,this.length+=1}insertBefore(e,t){t.prev=e.prev,t.next=e,e.prev?e.prev.next=t:this.head=t,e.prev=t,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):H(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):H(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var t=this.head;t;){var{next:n}=t;e(t)&&this.removeLink(t),t=n}return this}}function H(e,t){e.length=1,e.head=e.tail=t}function W(e,t,n){if(null==t)t=1;else if(0===t)throw new RangeError("Concurrency must not be zero");var i=m(e),r=0,s=[];const o={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function a(e,t){return e?t?void(o[e]=o[e].filter((e=>e!==t))):o[e]=[]:Object.keys(o).forEach((e=>o[e]=[]))}function c(e,...t){o[e].forEach((e=>e(...t)))}var u=!1;function h(e,t,n,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");var r,s;function o(e,...t){return e?n?s(e):r():t.length<=1?r(t[0]):void r(t)}y.started=!0;var a=y._createTaskItem(e,n?o:i||o);if(t?y._tasks.unshift(a):y._tasks.push(a),u||(u=!0,l((()=>{u=!1,y.process()}))),n||!i)return new Promise(((e,t)=>{r=e,s=t}))}function p(e){return function(t,...n){r-=1;for(var i=0,o=e.length;i<o;i++){var a=e[i],u=s.indexOf(a);0===u?s.shift():u>0&&s.splice(u,1),a.callback(t,...n),null!=t&&c("error",t,a.data)}r<=y.concurrency-y.buffer&&c("unsaturated"),y.idle()&&c("drain"),y.process()}}function d(e){return!(0!==e.length||!y.idle()||(l((()=>c("drain"))),0))}const f=e=>t=>{if(!t)return new Promise(((t,n)=>{!function(e){const i=(...r)=>{a(e,i),((e,i)=>{if(e)return n(e);t(i)})(...r)};o[e].push(i)}(e)}));a(e),function(e,t){o[e].push(t)}(e,t)};var g=!1,y={_tasks:new U,_createTaskItem:(e,t)=>({data:e,callback:t}),*[Symbol.iterator](){yield*y._tasks[Symbol.iterator]()},concurrency:t,payload:n,buffer:t/4,started:!1,paused:!1,push(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>h(e,!1,!1,t)))}return h(e,!1,!1,t)},pushAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>h(e,!1,!0,t)))}return h(e,!1,!0,t)},kill(){a(),y._tasks.empty()},unshift(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>h(e,!0,!1,t)))}return h(e,!0,!1,t)},unshiftAsync(e,t){if(Array.isArray(e)){if(d(e))return;return e.map((e=>h(e,!0,!0,t)))}return h(e,!0,!0,t)},remove(e){y._tasks.remove(e)},process(){if(!g){for(g=!0;!y.paused&&r<y.concurrency&&y._tasks.length;){var e=[],t=[],n=y._tasks.length;y.payload&&(n=Math.min(n,y.payload));for(var o=0;o<n;o++){var a=y._tasks.shift();e.push(a),s.push(a),t.push(a.data)}r+=1,0===y._tasks.length&&c("empty"),r===y.concurrency&&c("saturated");var u=S(p(e));i(t,u)}g=!1}},length:()=>y._tasks.length,running:()=>r,workersList:()=>s,idle:()=>y._tasks.length+r===0,pause(){y.paused=!0},resume(){!1!==y.paused&&(y.paused=!1,l(y.process))}};return Object.defineProperties(y,{saturated:{writable:!1,value:f("saturated")},unsaturated:{writable:!1,value:f("unsaturated")},empty:{writable:!1,value:f("empty")},drain:{writable:!1,value:f("drain")},error:{writable:!1,value:f("error")}}),y}function z(e,t){return W(e,1,t)}function G(e,t,n){return W(e,t,n)}var V=g((function(e,t,n,i){i=_(i);var r=m(n);return O(e,((e,n,i)=>{r(t,e,((e,n)=>{t=n,i(e)}))}),(e=>i(e,t)))}),4);function K(...e){var t=e.map(m);return function(...e){var n=this,i=e[e.length-1];return"function"==typeof i?e.pop():i=L(),V(t,e,((e,t,i)=>{t.apply(n,e.concat(((e,...t)=>{i(e,t)})))}),((e,t)=>i(e,...t))),i[I]}}function Y(...e){return K(...e.reverse())}var J=g((function(e,t,n,i){return b(x(t),e,n,i)}),4),Z=g((function(e,t,n,i){var r=m(n);return J(e,t,((e,t)=>{r(e,((e,...n)=>e?t(e):t(e,n)))}),((e,t)=>{for(var n=[],r=0;r<t.length;r++)t[r]&&(n=n.concat(...t[r]));return i(e,n)}))}),4),X=g((function(e,t,n){return Z(e,1/0,t,n)}),3),Q=g((function(e,t,n){return Z(e,1,t,n)}),3);function ee(...e){return function(...t){return t.pop()(null,...e)}}function te(e,t){return(n,i,r,s)=>{var o,a=!1;const c=m(r);n(i,((n,i,r)=>{c(n,((i,s)=>i||!1===i?r(i):e(s)&&!o?(a=!0,o=t(!0,n),r(null,w)):void r()))}),(e=>{if(e)return s(e);s(null,a?o:t(!1))}))}}var ne=g((function(e,t,n){return te((e=>e),((e,t)=>t))(R,e,t,n)}),3),ie=g((function(e,t,n,i){return te((e=>e),((e,t)=>t))(x(t),e,n,i)}),4),re=g((function(e,t,n){return te((e=>e),((e,t)=>t))(x(1),e,t,n)}),3);function se(e){return(t,...n)=>m(t)(...n,((t,...n)=>{"object"==typeof console&&(t?console.error&&console.error(t):console[e]&&n.forEach((t=>console[e](t))))}))}var oe=se("dir"),ae=g((function(e,t,n){n=S(n);var i,r=m(e),s=m(t);function o(e,...t){if(e)return n(e);!1!==e&&(i=t,s(...t,a))}function a(e,t){return e?n(e):!1!==e?t?void r(o):n(null,...i):void 0}return a(null,!0)}),3);function ce(e,t,n){const i=m(t);return ae(e,((...e)=>{const t=e.pop();i(...e,((e,n)=>t(e,!n)))}),n)}function ue(e){return(t,n,i)=>e(t,i)}var le=g((function(e,t,n){return R(e,ue(m(t)),n)}),3),he=g((function(e,t,n,i){return x(t)(e,ue(m(n)),i)}),4),pe=g((function(e,t,n){return he(e,1,t,n)}),3);function de(e){return f(e)?e:function(...t){var n=t.pop(),i=!0;t.push(((...e)=>{i?l((()=>n(...e))):n(...e)})),e.apply(this,t),i=!1}}var fe=g((function(e,t,n){return te((e=>!e),(e=>!e))(R,e,t,n)}),3),me=g((function(e,t,n,i){return te((e=>!e),(e=>!e))(x(t),e,n,i)}),4),ge=g((function(e,t,n){return te((e=>!e),(e=>!e))(O,e,t,n)}),3);function ye(e,t,n,i){var r=new Array(t.length);e(t,((e,t,i)=>{n(e,((e,n)=>{r[t]=!!n,i(e)}))}),(e=>{if(e)return i(e);for(var n=[],s=0;s<t.length;s++)r[s]&&n.push(t[s]);i(null,n)}))}function be(e,t,n,i){var r=[];e(t,((e,t,i)=>{n(e,((n,s)=>{if(n)return i(n);s&&r.push({index:t,value:e}),i(n)}))}),(e=>{if(e)return i(e);i(null,r.sort(((e,t)=>e.index-t.index)).map((e=>e.value)))}))}function ve(e,t,n,i){return(v(t)?ye:be)(e,t,m(n),i)}var we=g((function(e,t,n){return ve(R,e,t,n)}),3),_e=g((function(e,t,n,i){return ve(x(t),e,n,i)}),4),Se=g((function(e,t,n){return ve(O,e,t,n)}),3),Ee=g((function(e,t){var n=S(t),i=m(de(e));return function e(t){if(t)return n(t);!1!==t&&i(e)}()}),2),xe=g((function(e,t,n,i){var r=m(n);return J(e,t,((e,t)=>{r(e,((n,i)=>n?t(n):t(n,{key:i,val:e})))}),((e,t)=>{for(var n={},{hasOwnProperty:r}=Object.prototype,s=0;s<t.length;s++)if(t[s]){var{key:o}=t[s],{val:a}=t[s];r.call(n,o)?n[o].push(a):n[o]=[a]}return i(e,n)}))}),4);function De(e,t,n){return xe(e,1/0,t,n)}function Ce(e,t,n){return xe(e,1,t,n)}var ke=se("log"),Re=g((function(e,t,n,i){i=_(i);var r={},s=m(n);return x(t)(e,((e,t,n)=>{s(e,t,((e,i)=>{if(e)return n(e);r[t]=i,n(e)}))}),(e=>i(e,r)))}),4);function Ae(e,t,n){return Re(e,1/0,t,n)}function Te(e,t,n){return Re(e,1,t,n)}function Oe(e,t=e=>e){var n=Object.create(null),i=Object.create(null),s=m(e),o=r(((e,r)=>{var o=t(...e);o in n?l((()=>r(null,...n[o]))):o in i?i[o].push(r):(i[o]=[r],s(...e,((e,...t)=>{e||(n[o]=t);var r=i[o];delete i[o];for(var s=0,a=r.length;s<a;s++)r[s](e,...t)})))}));return o.memo=n,o.unmemoized=e,o}var Fe=u(a?process.nextTick:o?setImmediate:c),Pe=g(((e,t,n)=>{var i=v(t)?[]:{};e(t,((e,t,n)=>{m(e)(((e,...r)=>{r.length<2&&([r]=r),i[t]=r,n(e)}))}),(e=>n(e,i)))}),3);function Ie(e,t){return Pe(R,e,t)}function Le(e,t,n){return Pe(x(t),e,n)}function Ne(e,t){var n=m(e);return W(((e,t)=>{n(e[0],t)}),t,1)}class Be{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let t;for(;e>0&&$e(this.heap[e],this.heap[t=Me(e)]);){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}percDown(e){let t;for(;(t=je(e))<this.heap.length&&(t+1<this.heap.length&&$e(this.heap[t+1],this.heap[t])&&(t+=1),!$e(this.heap[e],this.heap[t]));){let n=this.heap[e];this.heap[e]=this.heap[t],this.heap[t]=n,e=t}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let t=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[t]=this.heap[n],t++);this.heap.splice(t);for(let e=Me(this.heap.length-1);e>=0;e--)this.percDown(e);return this}}function je(e){return 1+(e<<1)}function Me(e){return(e+1>>1)-1}function $e(e,t){return e.priority!==t.priority?e.priority<t.priority:e.pushCount<t.pushCount}function qe(e,t){var n=Ne(e,t),{push:i,pushAsync:r}=n;function s(e,t){return Array.isArray(e)?e.map((e=>({data:e,priority:t}))):{data:e,priority:t}}return n._tasks=new Be,n._createTaskItem=({data:e,priority:t},n)=>({data:e,priority:t,callback:n}),n.push=function(e,t=0,n){return i(s(e,t),n)},n.pushAsync=function(e,t=0,n){return r(s(e,t),n)},delete n.unshift,delete n.unshiftAsync,n}var Ue=g((function(e,t){if(t=_(t),!Array.isArray(e))return t(new TypeError("First argument to race must be an array of functions"));if(!e.length)return t();for(var n=0,i=e.length;n<i;n++)m(e[n])(t)}),2);function He(e,t,n,i){var r=[...e].reverse();return V(r,t,n,i)}function We(e){var t=m(e);return r((function(e,n){return e.push(((e,...t)=>{let i={};if(e&&(i.error=e),t.length>0){var r=t;t.length<=1&&([r]=t),i.value=r}n(null,i)})),t.apply(this,e)}))}function ze(e){var t;return Array.isArray(e)?t=e.map(We):(t={},Object.keys(e).forEach((n=>{t[n]=We.call(this,e[n])}))),t}function Ge(e,t,n,i){const r=m(n);return ve(e,t,((e,t)=>{r(e,((e,n)=>{t(e,!n)}))}),i)}var Ve=g((function(e,t,n){return Ge(R,e,t,n)}),3),Ke=g((function(e,t,n,i){return Ge(x(t),e,n,i)}),4),Ye=g((function(e,t,n){return Ge(O,e,t,n)}),3);function Je(e){return function(){return e}}const Ze=5,Xe=0;function Qe(e,t,n){var i={times:Ze,intervalFunc:Je(Xe)};if(arguments.length<3&&"function"==typeof e?(n=t||L(),t=e):(function(e,t){if("object"==typeof t)e.times=+t.times||Ze,e.intervalFunc="function"==typeof t.interval?t.interval:Je(+t.interval||Xe),e.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");e.times=+t||Ze}}(i,e),n=n||L()),"function"!=typeof t)throw new Error("Invalid arguments for async.retry");var r=m(t),s=1;return function e(){r(((t,...r)=>{!1!==t&&(t&&s++<i.times&&("function"!=typeof i.errorFilter||i.errorFilter(t))?setTimeout(e,i.intervalFunc(s-1)):n(t,...r))}))}(),n[I]}function et(e,t){t||(t=e,e=null);let n=e&&e.arity||t.length;f(t)&&(n+=1);var i=m(t);return r(((t,r)=>{function s(e){i(...t,e)}return(t.length<n-1||null==r)&&(t.push(r),r=L()),e?Qe(e,s,r):Qe(s,r),r[I]}))}function tt(e,t){return Pe(O,e,t)}var nt=g((function(e,t,n){return te(Boolean,(e=>e))(R,e,t,n)}),3),it=g((function(e,t,n,i){return te(Boolean,(e=>e))(x(t),e,n,i)}),4),rt=g((function(e,t,n){return te(Boolean,(e=>e))(O,e,t,n)}),3),st=g((function(e,t,n){var i=m(t);return A(e,((e,t)=>{i(e,((n,i)=>{if(n)return t(n);t(n,{value:e,criteria:i})}))}),((e,t)=>{if(e)return n(e);n(null,t.sort(r).map((e=>e.value)))}));function r(e,t){var n=e.criteria,i=t.criteria;return n<i?-1:n>i?1:0}}),3);function ot(e,t,n){var i=m(e);return r(((r,s)=>{var o,a=!1;r.push(((...e)=>{a||(s(...e),clearTimeout(o))})),o=setTimeout((function(){var t=e.name||"anonymous",i=new Error('Callback function "'+t+'" timed out.');i.code="ETIMEDOUT",n&&(i.info=n),a=!0,s(i)}),t),i(...r)}))}function at(e,t,n,i){var r=m(n);return J(function(e){for(var t=Array(e);e--;)t[e]=e;return t}(e),t,r,i)}function ct(e,t,n){return at(e,1/0,t,n)}function ut(e,t,n){return at(e,1,t,n)}function lt(e,t,n,i){arguments.length<=3&&"function"==typeof t&&(i=n,n=t,t=Array.isArray(e)?[]:{}),i=_(i||L());var r=m(n);return R(e,((e,n,i)=>{r(t,e,n,i)}),(e=>i(e,t))),i[I]}var ht=g((function(e,t){var n,i=null;return pe(e,((e,t)=>{m(e)(((e,...r)=>{if(!1===e)return t(e);r.length<2?[n]=r:n=r,i=e,t(e?null:{})}))}),(()=>t(i,n)))}));function pt(e){return(...t)=>(e.unmemoized||e)(...t)}var dt=g((function(e,t,n){n=S(n);var i=m(t),r=m(e),s=[];function o(e,...t){if(e)return n(e);s=t,!1!==e&&r(a)}function a(e,t){return e?n(e):!1!==e?t?void i(o):n(null,...s):void 0}return r(a)}),3);function ft(e,t,n){const i=m(e);return dt((e=>i(((t,n)=>e(t,!n)))),t,n)}var mt=g((function(e,t){if(t=_(t),!Array.isArray(e))return t(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return t();var n=0;function i(t){m(e[n++])(...t,S(r))}function r(r,...s){if(!1!==r)return r||n===e.length?t(r,...s):void i(s)}i([])})),gt={apply:i,applyEach:T,applyEachSeries:P,asyncify:h,auto:N,autoInject:q,cargo:z,cargoQueue:G,compose:Y,concat:X,concatLimit:Z,concatSeries:Q,constant:ee,detect:ne,detectLimit:ie,detectSeries:re,dir:oe,doUntil:ce,doWhilst:ae,each:le,eachLimit:he,eachOf:R,eachOfLimit:D,eachOfSeries:O,eachSeries:pe,ensureAsync:de,every:fe,everyLimit:me,everySeries:ge,filter:we,filterLimit:_e,filterSeries:Se,forever:Ee,groupBy:De,groupByLimit:xe,groupBySeries:Ce,log:ke,map:A,mapLimit:J,mapSeries:F,mapValues:Ae,mapValuesLimit:Re,mapValuesSeries:Te,memoize:Oe,nextTick:Fe,parallel:Ie,parallelLimit:Le,priorityQueue:qe,queue:Ne,race:Ue,reduce:V,reduceRight:He,reflect:We,reflectAll:ze,reject:Ve,rejectLimit:Ke,rejectSeries:Ye,retry:Qe,retryable:et,seq:K,series:tt,setImmediate:l,some:nt,someLimit:it,someSeries:rt,sortBy:st,timeout:ot,times:ct,timesLimit:at,timesSeries:ut,transform:lt,tryEach:ht,unmemoize:pt,until:ft,waterfall:mt,whilst:dt,all:fe,allLimit:me,allSeries:ge,any:nt,anyLimit:it,anySeries:rt,find:ne,findLimit:ie,findSeries:re,flatMap:X,flatMapLimit:Z,flatMapSeries:Q,forEach:le,forEachSeries:pe,forEachLimit:he,forEachOf:R,forEachOfSeries:O,forEachOfLimit:D,inject:V,foldl:V,foldr:He,select:we,selectLimit:_e,selectSeries:Se,wrapSync:h,during:dt,doDuring:ae}},81813:e=>{"use strict";e.exports=JSON.parse('{"application/1d-interleaved-parityfec":{"source":"iana"},"application/3gpdash-qoe-report+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/3gpp-ims+xml":{"source":"iana","compressible":true},"application/3gpphal+json":{"source":"iana","compressible":true},"application/3gpphalforms+json":{"source":"iana","compressible":true},"application/a2l":{"source":"iana"},"application/ace+cbor":{"source":"iana"},"application/activemessage":{"source":"iana"},"application/activity+json":{"source":"iana","compressible":true},"application/alto-costmap+json":{"source":"iana","compressible":true},"application/alto-costmapfilter+json":{"source":"iana","compressible":true},"application/alto-directory+json":{"source":"iana","compressible":true},"application/alto-endpointcost+json":{"source":"iana","compressible":true},"application/alto-endpointcostparams+json":{"source":"iana","compressible":true},"application/alto-endpointprop+json":{"source":"iana","compressible":true},"application/alto-endpointpropparams+json":{"source":"iana","compressible":true},"application/alto-error+json":{"source":"iana","compressible":true},"application/alto-networkmap+json":{"source":"iana","compressible":true},"application/alto-networkmapfilter+json":{"source":"iana","compressible":true},"application/alto-updatestreamcontrol+json":{"source":"iana","compressible":true},"application/alto-updatestreamparams+json":{"source":"iana","compressible":true},"application/aml":{"source":"iana"},"application/andrew-inset":{"source":"iana","extensions":["ez"]},"application/applefile":{"source":"iana"},"application/applixware":{"source":"apache","extensions":["aw"]},"application/at+jwt":{"source":"iana"},"application/atf":{"source":"iana"},"application/atfx":{"source":"iana"},"application/atom+xml":{"source":"iana","compressible":true,"extensions":["atom"]},"application/atomcat+xml":{"source":"iana","compressible":true,"extensions":["atomcat"]},"application/atomdeleted+xml":{"source":"iana","compressible":true,"extensions":["atomdeleted"]},"application/atomicmail":{"source":"iana"},"application/atomsvc+xml":{"source":"iana","compressible":true,"extensions":["atomsvc"]},"application/atsc-dwd+xml":{"source":"iana","compressible":true,"extensions":["dwd"]},"application/atsc-dynamic-event-message":{"source":"iana"},"application/atsc-held+xml":{"source":"iana","compressible":true,"extensions":["held"]},"application/atsc-rdt+json":{"source":"iana","compressible":true},"application/atsc-rsat+xml":{"source":"iana","compressible":true,"extensions":["rsat"]},"application/atxml":{"source":"iana"},"application/auth-policy+xml":{"source":"iana","compressible":true},"application/bacnet-xdd+zip":{"source":"iana","compressible":false},"application/batch-smtp":{"source":"iana"},"application/bdoc":{"compressible":false,"extensions":["bdoc"]},"application/beep+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/calendar+json":{"source":"iana","compressible":true},"application/calendar+xml":{"source":"iana","compressible":true,"extensions":["xcs"]},"application/call-completion":{"source":"iana"},"application/cals-1840":{"source":"iana"},"application/captive+json":{"source":"iana","compressible":true},"application/cbor":{"source":"iana"},"application/cbor-seq":{"source":"iana"},"application/cccex":{"source":"iana"},"application/ccmp+xml":{"source":"iana","compressible":true},"application/ccxml+xml":{"source":"iana","compressible":true,"extensions":["ccxml"]},"application/cdfx+xml":{"source":"iana","compressible":true,"extensions":["cdfx"]},"application/cdmi-capability":{"source":"iana","extensions":["cdmia"]},"application/cdmi-container":{"source":"iana","extensions":["cdmic"]},"application/cdmi-domain":{"source":"iana","extensions":["cdmid"]},"application/cdmi-object":{"source":"iana","extensions":["cdmio"]},"application/cdmi-queue":{"source":"iana","extensions":["cdmiq"]},"application/cdni":{"source":"iana"},"application/cea":{"source":"iana"},"application/cea-2018+xml":{"source":"iana","compressible":true},"application/cellml+xml":{"source":"iana","compressible":true},"application/cfw":{"source":"iana"},"application/city+json":{"source":"iana","compressible":true},"application/clr":{"source":"iana"},"application/clue+xml":{"source":"iana","compressible":true},"application/clue_info+xml":{"source":"iana","compressible":true},"application/cms":{"source":"iana"},"application/cnrp+xml":{"source":"iana","compressible":true},"application/coap-group+json":{"source":"iana","compressible":true},"application/coap-payload":{"source":"iana"},"application/commonground":{"source":"iana"},"application/conference-info+xml":{"source":"iana","compressible":true},"application/cose":{"source":"iana"},"application/cose-key":{"source":"iana"},"application/cose-key-set":{"source":"iana"},"application/cpl+xml":{"source":"iana","compressible":true,"extensions":["cpl"]},"application/csrattrs":{"source":"iana"},"application/csta+xml":{"source":"iana","compressible":true},"application/cstadata+xml":{"source":"iana","compressible":true},"application/csvm+json":{"source":"iana","compressible":true},"application/cu-seeme":{"source":"apache","extensions":["cu"]},"application/cwt":{"source":"iana"},"application/cybercash":{"source":"iana"},"application/dart":{"compressible":true},"application/dash+xml":{"source":"iana","compressible":true,"extensions":["mpd"]},"application/dash-patch+xml":{"source":"iana","compressible":true,"extensions":["mpp"]},"application/dashdelta":{"source":"iana"},"application/davmount+xml":{"source":"iana","compressible":true,"extensions":["davmount"]},"application/dca-rft":{"source":"iana"},"application/dcd":{"source":"iana"},"application/dec-dx":{"source":"iana"},"application/dialog-info+xml":{"source":"iana","compressible":true},"application/dicom":{"source":"iana"},"application/dicom+json":{"source":"iana","compressible":true},"application/dicom+xml":{"source":"iana","compressible":true},"application/dii":{"source":"iana"},"application/dit":{"source":"iana"},"application/dns":{"source":"iana"},"application/dns+json":{"source":"iana","compressible":true},"application/dns-message":{"source":"iana"},"application/docbook+xml":{"source":"apache","compressible":true,"extensions":["dbk"]},"application/dots+cbor":{"source":"iana"},"application/dskpp+xml":{"source":"iana","compressible":true},"application/dssc+der":{"source":"iana","extensions":["dssc"]},"application/dssc+xml":{"source":"iana","compressible":true,"extensions":["xdssc"]},"application/dvcs":{"source":"iana"},"application/ecmascript":{"source":"iana","compressible":true,"extensions":["es","ecma"]},"application/edi-consent":{"source":"iana"},"application/edi-x12":{"source":"iana","compressible":false},"application/edifact":{"source":"iana","compressible":false},"application/efi":{"source":"iana"},"application/elm+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/elm+xml":{"source":"iana","compressible":true},"application/emergencycalldata.cap+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/emergencycalldata.comment+xml":{"source":"iana","compressible":true},"application/emergencycalldata.control+xml":{"source":"iana","compressible":true},"application/emergencycalldata.deviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.ecall.msd":{"source":"iana"},"application/emergencycalldata.providerinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.serviceinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.subscriberinfo+xml":{"source":"iana","compressible":true},"application/emergencycalldata.veds+xml":{"source":"iana","compressible":true},"application/emma+xml":{"source":"iana","compressible":true,"extensions":["emma"]},"application/emotionml+xml":{"source":"iana","compressible":true,"extensions":["emotionml"]},"application/encaprtp":{"source":"iana"},"application/epp+xml":{"source":"iana","compressible":true},"application/epub+zip":{"source":"iana","compressible":false,"extensions":["epub"]},"application/eshop":{"source":"iana"},"application/exi":{"source":"iana","extensions":["exi"]},"application/expect-ct-report+json":{"source":"iana","compressible":true},"application/express":{"source":"iana","extensions":["exp"]},"application/fastinfoset":{"source":"iana"},"application/fastsoap":{"source":"iana"},"application/fdt+xml":{"source":"iana","compressible":true,"extensions":["fdt"]},"application/fhir+json":{"source":"iana","charset":"UTF-8","compressible":true},"application/fhir+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/fido.trusted-apps+json":{"compressible":true},"application/fits":{"source":"iana"},"application/flexfec":{"source":"iana"},"application/font-sfnt":{"source":"iana"},"application/font-tdpfr":{"source":"iana","extensions":["pfr"]},"application/font-woff":{"source":"iana","compressible":false},"application/framework-attributes+xml":{"source":"iana","compressible":true},"application/geo+json":{"source":"iana","compressible":true,"extensions":["geojson"]},"application/geo+json-seq":{"source":"iana"},"application/geopackage+sqlite3":{"source":"iana"},"application/geoxacml+xml":{"source":"iana","compressible":true},"application/gltf-buffer":{"source":"iana"},"application/gml+xml":{"source":"iana","compressible":true,"extensions":["gml"]},"application/gpx+xml":{"source":"apache","compressible":true,"extensions":["gpx"]},"application/gxf":{"source":"apache","extensions":["gxf"]},"application/gzip":{"source":"iana","compressible":false,"extensions":["gz"]},"application/h224":{"source":"iana"},"application/held+xml":{"source":"iana","compressible":true},"application/hjson":{"extensions":["hjson"]},"application/http":{"source":"iana"},"application/hyperstudio":{"source":"iana","extensions":["stk"]},"application/ibe-key-request+xml":{"source":"iana","compressible":true},"application/ibe-pkg-reply+xml":{"source":"iana","compressible":true},"application/ibe-pp-data":{"source":"iana"},"application/iges":{"source":"iana"},"application/im-iscomposing+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/index":{"source":"iana"},"application/index.cmd":{"source":"iana"},"application/index.obj":{"source":"iana"},"application/index.response":{"source":"iana"},"application/index.vnd":{"source":"iana"},"application/inkml+xml":{"source":"iana","compressible":true,"extensions":["ink","inkml"]},"application/iotp":{"source":"iana"},"application/ipfix":{"source":"iana","extensions":["ipfix"]},"application/ipp":{"source":"iana"},"application/isup":{"source":"iana"},"application/its+xml":{"source":"iana","compressible":true,"extensions":["its"]},"application/java-archive":{"source":"apache","compressible":false,"extensions":["jar","war","ear"]},"application/java-serialized-object":{"source":"apache","compressible":false,"extensions":["ser"]},"application/java-vm":{"source":"apache","compressible":false,"extensions":["class"]},"application/javascript":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["js","mjs"]},"application/jf2feed+json":{"source":"iana","compressible":true},"application/jose":{"source":"iana"},"application/jose+json":{"source":"iana","compressible":true},"application/jrd+json":{"source":"iana","compressible":true},"application/jscalendar+json":{"source":"iana","compressible":true},"application/json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["json","map"]},"application/json-patch+json":{"source":"iana","compressible":true},"application/json-seq":{"source":"iana"},"application/json5":{"extensions":["json5"]},"application/jsonml+json":{"source":"apache","compressible":true,"extensions":["jsonml"]},"application/jwk+json":{"source":"iana","compressible":true},"application/jwk-set+json":{"source":"iana","compressible":true},"application/jwt":{"source":"iana"},"application/kpml-request+xml":{"source":"iana","compressible":true},"application/kpml-response+xml":{"source":"iana","compressible":true},"application/ld+json":{"source":"iana","compressible":true,"extensions":["jsonld"]},"application/lgr+xml":{"source":"iana","compressible":true,"extensions":["lgr"]},"application/link-format":{"source":"iana"},"application/load-control+xml":{"source":"iana","compressible":true},"application/lost+xml":{"source":"iana","compressible":true,"extensions":["lostxml"]},"application/lostsync+xml":{"source":"iana","compressible":true},"application/lpf+zip":{"source":"iana","compressible":false},"application/lxf":{"source":"iana"},"application/mac-binhex40":{"source":"iana","extensions":["hqx"]},"application/mac-compactpro":{"source":"apache","extensions":["cpt"]},"application/macwriteii":{"source":"iana"},"application/mads+xml":{"source":"iana","compressible":true,"extensions":["mads"]},"application/manifest+json":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["webmanifest"]},"application/marc":{"source":"iana","extensions":["mrc"]},"application/marcxml+xml":{"source":"iana","compressible":true,"extensions":["mrcx"]},"application/mathematica":{"source":"iana","extensions":["ma","nb","mb"]},"application/mathml+xml":{"source":"iana","compressible":true,"extensions":["mathml"]},"application/mathml-content+xml":{"source":"iana","compressible":true},"application/mathml-presentation+xml":{"source":"iana","compressible":true},"application/mbms-associated-procedure-description+xml":{"source":"iana","compressible":true},"application/mbms-deregister+xml":{"source":"iana","compressible":true},"application/mbms-envelope+xml":{"source":"iana","compressible":true},"application/mbms-msk+xml":{"source":"iana","compressible":true},"application/mbms-msk-response+xml":{"source":"iana","compressible":true},"application/mbms-protection-description+xml":{"source":"iana","compressible":true},"application/mbms-reception-report+xml":{"source":"iana","compressible":true},"application/mbms-register+xml":{"source":"iana","compressible":true},"application/mbms-register-response+xml":{"source":"iana","compressible":true},"application/mbms-schedule+xml":{"source":"iana","compressible":true},"application/mbms-user-service-description+xml":{"source":"iana","compressible":true},"application/mbox":{"source":"iana","extensions":["mbox"]},"application/media-policy-dataset+xml":{"source":"iana","compressible":true,"extensions":["mpf"]},"application/media_control+xml":{"source":"iana","compressible":true},"application/mediaservercontrol+xml":{"source":"iana","compressible":true,"extensions":["mscml"]},"application/merge-patch+json":{"source":"iana","compressible":true},"application/metalink+xml":{"source":"apache","compressible":true,"extensions":["metalink"]},"application/metalink4+xml":{"source":"iana","compressible":true,"extensions":["meta4"]},"application/mets+xml":{"source":"iana","compressible":true,"extensions":["mets"]},"application/mf4":{"source":"iana"},"application/mikey":{"source":"iana"},"application/mipc":{"source":"iana"},"application/missing-blocks+cbor-seq":{"source":"iana"},"application/mmt-aei+xml":{"source":"iana","compressible":true,"extensions":["maei"]},"application/mmt-usd+xml":{"source":"iana","compressible":true,"extensions":["musd"]},"application/mods+xml":{"source":"iana","compressible":true,"extensions":["mods"]},"application/moss-keys":{"source":"iana"},"application/moss-signature":{"source":"iana"},"application/mosskey-data":{"source":"iana"},"application/mosskey-request":{"source":"iana"},"application/mp21":{"source":"iana","extensions":["m21","mp21"]},"application/mp4":{"source":"iana","extensions":["mp4s","m4p"]},"application/mpeg4-generic":{"source":"iana"},"application/mpeg4-iod":{"source":"iana"},"application/mpeg4-iod-xmt":{"source":"iana"},"application/mrb-consumer+xml":{"source":"iana","compressible":true},"application/mrb-publish+xml":{"source":"iana","compressible":true},"application/msc-ivr+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msc-mixer+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/msword":{"source":"iana","compressible":false,"extensions":["doc","dot"]},"application/mud+json":{"source":"iana","compressible":true},"application/multipart-core":{"source":"iana"},"application/mxf":{"source":"iana","extensions":["mxf"]},"application/n-quads":{"source":"iana","extensions":["nq"]},"application/n-triples":{"source":"iana","extensions":["nt"]},"application/nasdata":{"source":"iana"},"application/news-checkgroups":{"source":"iana","charset":"US-ASCII"},"application/news-groupinfo":{"source":"iana","charset":"US-ASCII"},"application/news-transmission":{"source":"iana"},"application/nlsml+xml":{"source":"iana","compressible":true},"application/node":{"source":"iana","extensions":["cjs"]},"application/nss":{"source":"iana"},"application/oauth-authz-req+jwt":{"source":"iana"},"application/oblivious-dns-message":{"source":"iana"},"application/ocsp-request":{"source":"iana"},"application/ocsp-response":{"source":"iana"},"application/octet-stream":{"source":"iana","compressible":false,"extensions":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{"source":"iana","extensions":["oda"]},"application/odm+xml":{"source":"iana","compressible":true},"application/odx":{"source":"iana"},"application/oebps-package+xml":{"source":"iana","compressible":true,"extensions":["opf"]},"application/ogg":{"source":"iana","compressible":false,"extensions":["ogx"]},"application/omdoc+xml":{"source":"apache","compressible":true,"extensions":["omdoc"]},"application/onenote":{"source":"apache","extensions":["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{"source":"iana","compressible":true},"application/oscore":{"source":"iana"},"application/oxps":{"source":"iana","extensions":["oxps"]},"application/p21":{"source":"iana"},"application/p21+zip":{"source":"iana","compressible":false},"application/p2p-overlay+xml":{"source":"iana","compressible":true,"extensions":["relo"]},"application/parityfec":{"source":"iana"},"application/passport":{"source":"iana"},"application/patch-ops-error+xml":{"source":"iana","compressible":true,"extensions":["xer"]},"application/pdf":{"source":"iana","compressible":false,"extensions":["pdf"]},"application/pdx":{"source":"iana"},"application/pem-certificate-chain":{"source":"iana"},"application/pgp-encrypted":{"source":"iana","compressible":false,"extensions":["pgp"]},"application/pgp-keys":{"source":"iana","extensions":["asc"]},"application/pgp-signature":{"source":"iana","extensions":["asc","sig"]},"application/pics-rules":{"source":"apache","extensions":["prf"]},"application/pidf+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pidf-diff+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/pkcs10":{"source":"iana","extensions":["p10"]},"application/pkcs12":{"source":"iana"},"application/pkcs7-mime":{"source":"iana","extensions":["p7m","p7c"]},"application/pkcs7-signature":{"source":"iana","extensions":["p7s"]},"application/pkcs8":{"source":"iana","extensions":["p8"]},"application/pkcs8-encrypted":{"source":"iana"},"application/pkix-attr-cert":{"source":"iana","extensions":["ac"]},"application/pkix-cert":{"source":"iana","extensions":["cer"]},"application/pkix-crl":{"source":"iana","extensions":["crl"]},"application/pkix-pkipath":{"source":"iana","extensions":["pkipath"]},"application/pkixcmp":{"source":"iana","extensions":["pki"]},"application/pls+xml":{"source":"iana","compressible":true,"extensions":["pls"]},"application/poc-settings+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/postscript":{"source":"iana","compressible":true,"extensions":["ai","eps","ps"]},"application/ppsp-tracker+json":{"source":"iana","compressible":true},"application/problem+json":{"source":"iana","compressible":true},"application/problem+xml":{"source":"iana","compressible":true},"application/provenance+xml":{"source":"iana","compressible":true,"extensions":["provx"]},"application/prs.alvestrand.titrax-sheet":{"source":"iana"},"application/prs.cww":{"source":"iana","extensions":["cww"]},"application/prs.cyn":{"source":"iana","charset":"7-BIT"},"application/prs.hpub+zip":{"source":"iana","compressible":false},"application/prs.nprend":{"source":"iana"},"application/prs.plucker":{"source":"iana"},"application/prs.rdf-xml-crypt":{"source":"iana"},"application/prs.xsf+xml":{"source":"iana","compressible":true},"application/pskc+xml":{"source":"iana","compressible":true,"extensions":["pskcxml"]},"application/pvd+json":{"source":"iana","compressible":true},"application/qsig":{"source":"iana"},"application/raml+yaml":{"compressible":true,"extensions":["raml"]},"application/raptorfec":{"source":"iana"},"application/rdap+json":{"source":"iana","compressible":true},"application/rdf+xml":{"source":"iana","compressible":true,"extensions":["rdf","owl"]},"application/reginfo+xml":{"source":"iana","compressible":true,"extensions":["rif"]},"application/relax-ng-compact-syntax":{"source":"iana","extensions":["rnc"]},"application/remote-printing":{"source":"iana"},"application/reputon+json":{"source":"iana","compressible":true},"application/resource-lists+xml":{"source":"iana","compressible":true,"extensions":["rl"]},"application/resource-lists-diff+xml":{"source":"iana","compressible":true,"extensions":["rld"]},"application/rfc+xml":{"source":"iana","compressible":true},"application/riscos":{"source":"iana"},"application/rlmi+xml":{"source":"iana","compressible":true},"application/rls-services+xml":{"source":"iana","compressible":true,"extensions":["rs"]},"application/route-apd+xml":{"source":"iana","compressible":true,"extensions":["rapd"]},"application/route-s-tsid+xml":{"source":"iana","compressible":true,"extensions":["sls"]},"application/route-usd+xml":{"source":"iana","compressible":true,"extensions":["rusd"]},"application/rpki-ghostbusters":{"source":"iana","extensions":["gbr"]},"application/rpki-manifest":{"source":"iana","extensions":["mft"]},"application/rpki-publication":{"source":"iana"},"application/rpki-roa":{"source":"iana","extensions":["roa"]},"application/rpki-updown":{"source":"iana"},"application/rsd+xml":{"source":"apache","compressible":true,"extensions":["rsd"]},"application/rss+xml":{"source":"apache","compressible":true,"extensions":["rss"]},"application/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"application/rtploopback":{"source":"iana"},"application/rtx":{"source":"iana"},"application/samlassertion+xml":{"source":"iana","compressible":true},"application/samlmetadata+xml":{"source":"iana","compressible":true},"application/sarif+json":{"source":"iana","compressible":true},"application/sarif-external-properties+json":{"source":"iana","compressible":true},"application/sbe":{"source":"iana"},"application/sbml+xml":{"source":"iana","compressible":true,"extensions":["sbml"]},"application/scaip+xml":{"source":"iana","compressible":true},"application/scim+json":{"source":"iana","compressible":true},"application/scvp-cv-request":{"source":"iana","extensions":["scq"]},"application/scvp-cv-response":{"source":"iana","extensions":["scs"]},"application/scvp-vp-request":{"source":"iana","extensions":["spq"]},"application/scvp-vp-response":{"source":"iana","extensions":["spp"]},"application/sdp":{"source":"iana","extensions":["sdp"]},"application/secevent+jwt":{"source":"iana"},"application/senml+cbor":{"source":"iana"},"application/senml+json":{"source":"iana","compressible":true},"application/senml+xml":{"source":"iana","compressible":true,"extensions":["senmlx"]},"application/senml-etch+cbor":{"source":"iana"},"application/senml-etch+json":{"source":"iana","compressible":true},"application/senml-exi":{"source":"iana"},"application/sensml+cbor":{"source":"iana"},"application/sensml+json":{"source":"iana","compressible":true},"application/sensml+xml":{"source":"iana","compressible":true,"extensions":["sensmlx"]},"application/sensml-exi":{"source":"iana"},"application/sep+xml":{"source":"iana","compressible":true},"application/sep-exi":{"source":"iana"},"application/session-info":{"source":"iana"},"application/set-payment":{"source":"iana"},"application/set-payment-initiation":{"source":"iana","extensions":["setpay"]},"application/set-registration":{"source":"iana"},"application/set-registration-initiation":{"source":"iana","extensions":["setreg"]},"application/sgml":{"source":"iana"},"application/sgml-open-catalog":{"source":"iana"},"application/shf+xml":{"source":"iana","compressible":true,"extensions":["shf"]},"application/sieve":{"source":"iana","extensions":["siv","sieve"]},"application/simple-filter+xml":{"source":"iana","compressible":true},"application/simple-message-summary":{"source":"iana"},"application/simplesymbolcontainer":{"source":"iana"},"application/sipc":{"source":"iana"},"application/slate":{"source":"iana"},"application/smil":{"source":"iana"},"application/smil+xml":{"source":"iana","compressible":true,"extensions":["smi","smil"]},"application/smpte336m":{"source":"iana"},"application/soap+fastinfoset":{"source":"iana"},"application/soap+xml":{"source":"iana","compressible":true},"application/sparql-query":{"source":"iana","extensions":["rq"]},"application/sparql-results+xml":{"source":"iana","compressible":true,"extensions":["srx"]},"application/spdx+json":{"source":"iana","compressible":true},"application/spirits-event+xml":{"source":"iana","compressible":true},"application/sql":{"source":"iana"},"application/srgs":{"source":"iana","extensions":["gram"]},"application/srgs+xml":{"source":"iana","compressible":true,"extensions":["grxml"]},"application/sru+xml":{"source":"iana","compressible":true,"extensions":["sru"]},"application/ssdl+xml":{"source":"apache","compressible":true,"extensions":["ssdl"]},"application/ssml+xml":{"source":"iana","compressible":true,"extensions":["ssml"]},"application/stix+json":{"source":"iana","compressible":true},"application/swid+xml":{"source":"iana","compressible":true,"extensions":["swidtag"]},"application/tamp-apex-update":{"source":"iana"},"application/tamp-apex-update-confirm":{"source":"iana"},"application/tamp-community-update":{"source":"iana"},"application/tamp-community-update-confirm":{"source":"iana"},"application/tamp-error":{"source":"iana"},"application/tamp-sequence-adjust":{"source":"iana"},"application/tamp-sequence-adjust-confirm":{"source":"iana"},"application/tamp-status-query":{"source":"iana"},"application/tamp-status-response":{"source":"iana"},"application/tamp-update":{"source":"iana"},"application/tamp-update-confirm":{"source":"iana"},"application/tar":{"compressible":true},"application/taxii+json":{"source":"iana","compressible":true},"application/td+json":{"source":"iana","compressible":true},"application/tei+xml":{"source":"iana","compressible":true,"extensions":["tei","teicorpus"]},"application/tetra_isi":{"source":"iana"},"application/thraud+xml":{"source":"iana","compressible":true,"extensions":["tfi"]},"application/timestamp-query":{"source":"iana"},"application/timestamp-reply":{"source":"iana"},"application/timestamped-data":{"source":"iana","extensions":["tsd"]},"application/tlsrpt+gzip":{"source":"iana"},"application/tlsrpt+json":{"source":"iana","compressible":true},"application/tnauthlist":{"source":"iana"},"application/token-introspection+jwt":{"source":"iana"},"application/toml":{"compressible":true,"extensions":["toml"]},"application/trickle-ice-sdpfrag":{"source":"iana"},"application/trig":{"source":"iana","extensions":["trig"]},"application/ttml+xml":{"source":"iana","compressible":true,"extensions":["ttml"]},"application/tve-trigger":{"source":"iana"},"application/tzif":{"source":"iana"},"application/tzif-leap":{"source":"iana"},"application/ubjson":{"compressible":false,"extensions":["ubj"]},"application/ulpfec":{"source":"iana"},"application/urc-grpsheet+xml":{"source":"iana","compressible":true},"application/urc-ressheet+xml":{"source":"iana","compressible":true,"extensions":["rsheet"]},"application/urc-targetdesc+xml":{"source":"iana","compressible":true,"extensions":["td"]},"application/urc-uisocketdesc+xml":{"source":"iana","compressible":true},"application/vcard+json":{"source":"iana","compressible":true},"application/vcard+xml":{"source":"iana","compressible":true},"application/vemmi":{"source":"iana"},"application/vividence.scriptfile":{"source":"apache"},"application/vnd.1000minds.decision-model+xml":{"source":"iana","compressible":true,"extensions":["1km"]},"application/vnd.3gpp-prose+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-prose-pc3ch+xml":{"source":"iana","compressible":true},"application/vnd.3gpp-v2x-local-service-information":{"source":"iana"},"application/vnd.3gpp.5gnas":{"source":"iana"},"application/vnd.3gpp.access-transfer-events+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.bsf+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gmop+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.gtpc":{"source":"iana"},"application/vnd.3gpp.interworking-data":{"source":"iana"},"application/vnd.3gpp.lpp":{"source":"iana"},"application/vnd.3gpp.mc-signalling-ear":{"source":"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-payload":{"source":"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-signalling":{"source":"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcdata-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-floor-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-signed+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-ue-init-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcptt-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-location-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-service-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-transmission-request+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-ue-config+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mcvideo-user-profile+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.mid-call+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ngap":{"source":"iana"},"application/vnd.3gpp.pfcp":{"source":"iana"},"application/vnd.3gpp.pic-bw-large":{"source":"iana","extensions":["plb"]},"application/vnd.3gpp.pic-bw-small":{"source":"iana","extensions":["psb"]},"application/vnd.3gpp.pic-bw-var":{"source":"iana","extensions":["pvb"]},"application/vnd.3gpp.s1ap":{"source":"iana"},"application/vnd.3gpp.sms":{"source":"iana"},"application/vnd.3gpp.sms+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-ext+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.srvcc-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.state-and-event-info+xml":{"source":"iana","compressible":true},"application/vnd.3gpp.ussd+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.bcmcsinfo+xml":{"source":"iana","compressible":true},"application/vnd.3gpp2.sms":{"source":"iana"},"application/vnd.3gpp2.tcap":{"source":"iana","extensions":["tcap"]},"application/vnd.3lightssoftware.imagescal":{"source":"iana"},"application/vnd.3m.post-it-notes":{"source":"iana","extensions":["pwn"]},"application/vnd.accpac.simply.aso":{"source":"iana","extensions":["aso"]},"application/vnd.accpac.simply.imp":{"source":"iana","extensions":["imp"]},"application/vnd.acucobol":{"source":"iana","extensions":["acu"]},"application/vnd.acucorp":{"source":"iana","extensions":["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{"source":"apache","compressible":false,"extensions":["air"]},"application/vnd.adobe.flash.movie":{"source":"iana"},"application/vnd.adobe.formscentral.fcdt":{"source":"iana","extensions":["fcdt"]},"application/vnd.adobe.fxp":{"source":"iana","extensions":["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{"source":"iana"},"application/vnd.adobe.xdp+xml":{"source":"iana","compressible":true,"extensions":["xdp"]},"application/vnd.adobe.xfdf":{"source":"iana","extensions":["xfdf"]},"application/vnd.aether.imp":{"source":"iana"},"application/vnd.afpc.afplinedata":{"source":"iana"},"application/vnd.afpc.afplinedata-pagedef":{"source":"iana"},"application/vnd.afpc.cmoca-cmresource":{"source":"iana"},"application/vnd.afpc.foca-charset":{"source":"iana"},"application/vnd.afpc.foca-codedfont":{"source":"iana"},"application/vnd.afpc.foca-codepage":{"source":"iana"},"application/vnd.afpc.modca":{"source":"iana"},"application/vnd.afpc.modca-cmtable":{"source":"iana"},"application/vnd.afpc.modca-formdef":{"source":"iana"},"application/vnd.afpc.modca-mediummap":{"source":"iana"},"application/vnd.afpc.modca-objectcontainer":{"source":"iana"},"application/vnd.afpc.modca-overlay":{"source":"iana"},"application/vnd.afpc.modca-pagesegment":{"source":"iana"},"application/vnd.age":{"source":"iana","extensions":["age"]},"application/vnd.ah-barcode":{"source":"iana"},"application/vnd.ahead.space":{"source":"iana","extensions":["ahead"]},"application/vnd.airzip.filesecure.azf":{"source":"iana","extensions":["azf"]},"application/vnd.airzip.filesecure.azs":{"source":"iana","extensions":["azs"]},"application/vnd.amadeus+json":{"source":"iana","compressible":true},"application/vnd.amazon.ebook":{"source":"apache","extensions":["azw"]},"application/vnd.amazon.mobi8-ebook":{"source":"iana"},"application/vnd.americandynamics.acc":{"source":"iana","extensions":["acc"]},"application/vnd.amiga.ami":{"source":"iana","extensions":["ami"]},"application/vnd.amundsen.maze+xml":{"source":"iana","compressible":true},"application/vnd.android.ota":{"source":"iana"},"application/vnd.android.package-archive":{"source":"apache","compressible":false,"extensions":["apk"]},"application/vnd.anki":{"source":"iana"},"application/vnd.anser-web-certificate-issue-initiation":{"source":"iana","extensions":["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{"source":"apache","extensions":["fti"]},"application/vnd.antix.game-component":{"source":"iana","extensions":["atx"]},"application/vnd.apache.arrow.file":{"source":"iana"},"application/vnd.apache.arrow.stream":{"source":"iana"},"application/vnd.apache.thrift.binary":{"source":"iana"},"application/vnd.apache.thrift.compact":{"source":"iana"},"application/vnd.apache.thrift.json":{"source":"iana"},"application/vnd.api+json":{"source":"iana","compressible":true},"application/vnd.aplextor.warrp+json":{"source":"iana","compressible":true},"application/vnd.apothekende.reservation+json":{"source":"iana","compressible":true},"application/vnd.apple.installer+xml":{"source":"iana","compressible":true,"extensions":["mpkg"]},"application/vnd.apple.keynote":{"source":"iana","extensions":["key"]},"application/vnd.apple.mpegurl":{"source":"iana","extensions":["m3u8"]},"application/vnd.apple.numbers":{"source":"iana","extensions":["numbers"]},"application/vnd.apple.pages":{"source":"iana","extensions":["pages"]},"application/vnd.apple.pkpass":{"compressible":false,"extensions":["pkpass"]},"application/vnd.arastra.swi":{"source":"iana"},"application/vnd.aristanetworks.swi":{"source":"iana","extensions":["swi"]},"application/vnd.artisan+json":{"source":"iana","compressible":true},"application/vnd.artsquare":{"source":"iana"},"application/vnd.astraea-software.iota":{"source":"iana","extensions":["iota"]},"application/vnd.audiograph":{"source":"iana","extensions":["aep"]},"application/vnd.autopackage":{"source":"iana"},"application/vnd.avalon+json":{"source":"iana","compressible":true},"application/vnd.avistar+xml":{"source":"iana","compressible":true},"application/vnd.balsamiq.bmml+xml":{"source":"iana","compressible":true,"extensions":["bmml"]},"application/vnd.balsamiq.bmpr":{"source":"iana"},"application/vnd.banana-accounting":{"source":"iana"},"application/vnd.bbf.usp.error":{"source":"iana"},"application/vnd.bbf.usp.msg":{"source":"iana"},"application/vnd.bbf.usp.msg+json":{"source":"iana","compressible":true},"application/vnd.bekitzur-stech+json":{"source":"iana","compressible":true},"application/vnd.bint.med-content":{"source":"iana"},"application/vnd.biopax.rdf+xml":{"source":"iana","compressible":true},"application/vnd.blink-idb-value-wrapper":{"source":"iana"},"application/vnd.blueice.multipass":{"source":"iana","extensions":["mpm"]},"application/vnd.bluetooth.ep.oob":{"source":"iana"},"application/vnd.bluetooth.le.oob":{"source":"iana"},"application/vnd.bmi":{"source":"iana","extensions":["bmi"]},"application/vnd.bpf":{"source":"iana"},"application/vnd.bpf3":{"source":"iana"},"application/vnd.businessobjects":{"source":"iana","extensions":["rep"]},"application/vnd.byu.uapi+json":{"source":"iana","compressible":true},"application/vnd.cab-jscript":{"source":"iana"},"application/vnd.canon-cpdl":{"source":"iana"},"application/vnd.canon-lips":{"source":"iana"},"application/vnd.capasystems-pg+json":{"source":"iana","compressible":true},"application/vnd.cendio.thinlinc.clientconf":{"source":"iana"},"application/vnd.century-systems.tcp_stream":{"source":"iana"},"application/vnd.chemdraw+xml":{"source":"iana","compressible":true,"extensions":["cdxml"]},"application/vnd.chess-pgn":{"source":"iana"},"application/vnd.chipnuts.karaoke-mmd":{"source":"iana","extensions":["mmd"]},"application/vnd.ciedi":{"source":"iana"},"application/vnd.cinderella":{"source":"iana","extensions":["cdy"]},"application/vnd.cirpack.isdn-ext":{"source":"iana"},"application/vnd.citationstyles.style+xml":{"source":"iana","compressible":true,"extensions":["csl"]},"application/vnd.claymore":{"source":"iana","extensions":["cla"]},"application/vnd.cloanto.rp9":{"source":"iana","extensions":["rp9"]},"application/vnd.clonk.c4group":{"source":"iana","extensions":["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{"source":"iana","extensions":["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{"source":"iana","extensions":["c11amz"]},"application/vnd.coffeescript":{"source":"iana"},"application/vnd.collabio.xodocuments.document":{"source":"iana"},"application/vnd.collabio.xodocuments.document-template":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation":{"source":"iana"},"application/vnd.collabio.xodocuments.presentation-template":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{"source":"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{"source":"iana"},"application/vnd.collection+json":{"source":"iana","compressible":true},"application/vnd.collection.doc+json":{"source":"iana","compressible":true},"application/vnd.collection.next+json":{"source":"iana","compressible":true},"application/vnd.comicbook+zip":{"source":"iana","compressible":false},"application/vnd.comicbook-rar":{"source":"iana"},"application/vnd.commerce-battelle":{"source":"iana"},"application/vnd.commonspace":{"source":"iana","extensions":["csp"]},"application/vnd.contact.cmsg":{"source":"iana","extensions":["cdbcmsg"]},"application/vnd.coreos.ignition+json":{"source":"iana","compressible":true},"application/vnd.cosmocaller":{"source":"iana","extensions":["cmc"]},"application/vnd.crick.clicker":{"source":"iana","extensions":["clkx"]},"application/vnd.crick.clicker.keyboard":{"source":"iana","extensions":["clkk"]},"application/vnd.crick.clicker.palette":{"source":"iana","extensions":["clkp"]},"application/vnd.crick.clicker.template":{"source":"iana","extensions":["clkt"]},"application/vnd.crick.clicker.wordbank":{"source":"iana","extensions":["clkw"]},"application/vnd.criticaltools.wbs+xml":{"source":"iana","compressible":true,"extensions":["wbs"]},"application/vnd.cryptii.pipe+json":{"source":"iana","compressible":true},"application/vnd.crypto-shade-file":{"source":"iana"},"application/vnd.cryptomator.encrypted":{"source":"iana"},"application/vnd.cryptomator.vault":{"source":"iana"},"application/vnd.ctc-posml":{"source":"iana","extensions":["pml"]},"application/vnd.ctct.ws+xml":{"source":"iana","compressible":true},"application/vnd.cups-pdf":{"source":"iana"},"application/vnd.cups-postscript":{"source":"iana"},"application/vnd.cups-ppd":{"source":"iana","extensions":["ppd"]},"application/vnd.cups-raster":{"source":"iana"},"application/vnd.cups-raw":{"source":"iana"},"application/vnd.curl":{"source":"iana"},"application/vnd.curl.car":{"source":"apache","extensions":["car"]},"application/vnd.curl.pcurl":{"source":"apache","extensions":["pcurl"]},"application/vnd.cyan.dean.root+xml":{"source":"iana","compressible":true},"application/vnd.cybank":{"source":"iana"},"application/vnd.cyclonedx+json":{"source":"iana","compressible":true},"application/vnd.cyclonedx+xml":{"source":"iana","compressible":true},"application/vnd.d2l.coursepackage1p0+zip":{"source":"iana","compressible":false},"application/vnd.d3m-dataset":{"source":"iana"},"application/vnd.d3m-problem":{"source":"iana"},"application/vnd.dart":{"source":"iana","compressible":true,"extensions":["dart"]},"application/vnd.data-vision.rdz":{"source":"iana","extensions":["rdz"]},"application/vnd.datapackage+json":{"source":"iana","compressible":true},"application/vnd.dataresource+json":{"source":"iana","compressible":true},"application/vnd.dbf":{"source":"iana","extensions":["dbf"]},"application/vnd.debian.binary-package":{"source":"iana"},"application/vnd.dece.data":{"source":"iana","extensions":["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{"source":"iana","compressible":true,"extensions":["uvt","uvvt"]},"application/vnd.dece.unspecified":{"source":"iana","extensions":["uvx","uvvx"]},"application/vnd.dece.zip":{"source":"iana","extensions":["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{"source":"iana","extensions":["fe_launch"]},"application/vnd.desmume.movie":{"source":"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{"source":"iana"},"application/vnd.dm.delegation+xml":{"source":"iana","compressible":true},"application/vnd.dna":{"source":"iana","extensions":["dna"]},"application/vnd.document+json":{"source":"iana","compressible":true},"application/vnd.dolby.mlp":{"source":"apache","extensions":["mlp"]},"application/vnd.dolby.mobile.1":{"source":"iana"},"application/vnd.dolby.mobile.2":{"source":"iana"},"application/vnd.doremir.scorecloud-binary-document":{"source":"iana"},"application/vnd.dpgraph":{"source":"iana","extensions":["dpg"]},"application/vnd.dreamfactory":{"source":"iana","extensions":["dfac"]},"application/vnd.drive+json":{"source":"iana","compressible":true},"application/vnd.ds-keypoint":{"source":"apache","extensions":["kpxx"]},"application/vnd.dtg.local":{"source":"iana"},"application/vnd.dtg.local.flash":{"source":"iana"},"application/vnd.dtg.local.html":{"source":"iana"},"application/vnd.dvb.ait":{"source":"iana","extensions":["ait"]},"application/vnd.dvb.dvbisl+xml":{"source":"iana","compressible":true},"application/vnd.dvb.dvbj":{"source":"iana"},"application/vnd.dvb.esgcontainer":{"source":"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess":{"source":"iana"},"application/vnd.dvb.ipdcesgaccess2":{"source":"iana"},"application/vnd.dvb.ipdcesgpdd":{"source":"iana"},"application/vnd.dvb.ipdcroaming":{"source":"iana"},"application/vnd.dvb.iptv.alfec-base":{"source":"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{"source":"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-container+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-generic+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-msglist+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-request+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-ia-registration-response+xml":{"source":"iana","compressible":true},"application/vnd.dvb.notif-init+xml":{"source":"iana","compressible":true},"application/vnd.dvb.pfr":{"source":"iana"},"application/vnd.dvb.service":{"source":"iana","extensions":["svc"]},"application/vnd.dxr":{"source":"iana"},"application/vnd.dynageo":{"source":"iana","extensions":["geo"]},"application/vnd.dzr":{"source":"iana"},"application/vnd.easykaraoke.cdgdownload":{"source":"iana"},"application/vnd.ecdis-update":{"source":"iana"},"application/vnd.ecip.rlp":{"source":"iana"},"application/vnd.eclipse.ditto+json":{"source":"iana","compressible":true},"application/vnd.ecowin.chart":{"source":"iana","extensions":["mag"]},"application/vnd.ecowin.filerequest":{"source":"iana"},"application/vnd.ecowin.fileupdate":{"source":"iana"},"application/vnd.ecowin.series":{"source":"iana"},"application/vnd.ecowin.seriesrequest":{"source":"iana"},"application/vnd.ecowin.seriesupdate":{"source":"iana"},"application/vnd.efi.img":{"source":"iana"},"application/vnd.efi.iso":{"source":"iana"},"application/vnd.emclient.accessrequest+xml":{"source":"iana","compressible":true},"application/vnd.enliven":{"source":"iana","extensions":["nml"]},"application/vnd.enphase.envoy":{"source":"iana"},"application/vnd.eprints.data+xml":{"source":"iana","compressible":true},"application/vnd.epson.esf":{"source":"iana","extensions":["esf"]},"application/vnd.epson.msf":{"source":"iana","extensions":["msf"]},"application/vnd.epson.quickanime":{"source":"iana","extensions":["qam"]},"application/vnd.epson.salt":{"source":"iana","extensions":["slt"]},"application/vnd.epson.ssf":{"source":"iana","extensions":["ssf"]},"application/vnd.ericsson.quickcall":{"source":"iana"},"application/vnd.espass-espass+zip":{"source":"iana","compressible":false},"application/vnd.eszigno3+xml":{"source":"iana","compressible":true,"extensions":["es3","et3"]},"application/vnd.etsi.aoc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.asic-e+zip":{"source":"iana","compressible":false},"application/vnd.etsi.asic-s+zip":{"source":"iana","compressible":false},"application/vnd.etsi.cug+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvcommand+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-bc+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-cod+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsad-npvr+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvservice+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvsync+xml":{"source":"iana","compressible":true},"application/vnd.etsi.iptvueprofile+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mcid+xml":{"source":"iana","compressible":true},"application/vnd.etsi.mheg5":{"source":"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{"source":"iana","compressible":true},"application/vnd.etsi.pstn+xml":{"source":"iana","compressible":true},"application/vnd.etsi.sci+xml":{"source":"iana","compressible":true},"application/vnd.etsi.simservs+xml":{"source":"iana","compressible":true},"application/vnd.etsi.timestamp-token":{"source":"iana"},"application/vnd.etsi.tsl+xml":{"source":"iana","compressible":true},"application/vnd.etsi.tsl.der":{"source":"iana"},"application/vnd.eu.kasparian.car+json":{"source":"iana","compressible":true},"application/vnd.eudora.data":{"source":"iana"},"application/vnd.evolv.ecig.profile":{"source":"iana"},"application/vnd.evolv.ecig.settings":{"source":"iana"},"application/vnd.evolv.ecig.theme":{"source":"iana"},"application/vnd.exstream-empower+zip":{"source":"iana","compressible":false},"application/vnd.exstream-package":{"source":"iana"},"application/vnd.ezpix-album":{"source":"iana","extensions":["ez2"]},"application/vnd.ezpix-package":{"source":"iana","extensions":["ez3"]},"application/vnd.f-secure.mobile":{"source":"iana"},"application/vnd.familysearch.gedcom+zip":{"source":"iana","compressible":false},"application/vnd.fastcopy-disk-image":{"source":"iana"},"application/vnd.fdf":{"source":"iana","extensions":["fdf"]},"application/vnd.fdsn.mseed":{"source":"iana","extensions":["mseed"]},"application/vnd.fdsn.seed":{"source":"iana","extensions":["seed","dataless"]},"application/vnd.ffsns":{"source":"iana"},"application/vnd.ficlab.flb+zip":{"source":"iana","compressible":false},"application/vnd.filmit.zfc":{"source":"iana"},"application/vnd.fints":{"source":"iana"},"application/vnd.firemonkeys.cloudcell":{"source":"iana"},"application/vnd.flographit":{"source":"iana","extensions":["gph"]},"application/vnd.fluxtime.clip":{"source":"iana","extensions":["ftc"]},"application/vnd.font-fontforge-sfd":{"source":"iana"},"application/vnd.framemaker":{"source":"iana","extensions":["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{"source":"iana","extensions":["fnc"]},"application/vnd.frogans.ltf":{"source":"iana","extensions":["ltf"]},"application/vnd.fsc.weblaunch":{"source":"iana","extensions":["fsc"]},"application/vnd.fujifilm.fb.docuworks":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{"source":"iana"},"application/vnd.fujifilm.fb.docuworks.container":{"source":"iana"},"application/vnd.fujifilm.fb.jfi+xml":{"source":"iana","compressible":true},"application/vnd.fujitsu.oasys":{"source":"iana","extensions":["oas"]},"application/vnd.fujitsu.oasys2":{"source":"iana","extensions":["oa2"]},"application/vnd.fujitsu.oasys3":{"source":"iana","extensions":["oa3"]},"application/vnd.fujitsu.oasysgp":{"source":"iana","extensions":["fg5"]},"application/vnd.fujitsu.oasysprs":{"source":"iana","extensions":["bh2"]},"application/vnd.fujixerox.art-ex":{"source":"iana"},"application/vnd.fujixerox.art4":{"source":"iana"},"application/vnd.fujixerox.ddd":{"source":"iana","extensions":["ddd"]},"application/vnd.fujixerox.docuworks":{"source":"iana","extensions":["xdw"]},"application/vnd.fujixerox.docuworks.binder":{"source":"iana","extensions":["xbd"]},"application/vnd.fujixerox.docuworks.container":{"source":"iana"},"application/vnd.fujixerox.hbpl":{"source":"iana"},"application/vnd.fut-misnet":{"source":"iana"},"application/vnd.futoin+cbor":{"source":"iana"},"application/vnd.futoin+json":{"source":"iana","compressible":true},"application/vnd.fuzzysheet":{"source":"iana","extensions":["fzs"]},"application/vnd.genomatix.tuxedo":{"source":"iana","extensions":["txd"]},"application/vnd.gentics.grd+json":{"source":"iana","compressible":true},"application/vnd.geo+json":{"source":"iana","compressible":true},"application/vnd.geocube+xml":{"source":"iana","compressible":true},"application/vnd.geogebra.file":{"source":"iana","extensions":["ggb"]},"application/vnd.geogebra.slides":{"source":"iana"},"application/vnd.geogebra.tool":{"source":"iana","extensions":["ggt"]},"application/vnd.geometry-explorer":{"source":"iana","extensions":["gex","gre"]},"application/vnd.geonext":{"source":"iana","extensions":["gxt"]},"application/vnd.geoplan":{"source":"iana","extensions":["g2w"]},"application/vnd.geospace":{"source":"iana","extensions":["g3w"]},"application/vnd.gerber":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt":{"source":"iana"},"application/vnd.globalplatform.card-content-mgt-response":{"source":"iana"},"application/vnd.gmx":{"source":"iana","extensions":["gmx"]},"application/vnd.google-apps.document":{"compressible":false,"extensions":["gdoc"]},"application/vnd.google-apps.presentation":{"compressible":false,"extensions":["gslides"]},"application/vnd.google-apps.spreadsheet":{"compressible":false,"extensions":["gsheet"]},"application/vnd.google-earth.kml+xml":{"source":"iana","compressible":true,"extensions":["kml"]},"application/vnd.google-earth.kmz":{"source":"iana","compressible":false,"extensions":["kmz"]},"application/vnd.gov.sk.e-form+xml":{"source":"iana","compressible":true},"application/vnd.gov.sk.e-form+zip":{"source":"iana","compressible":false},"application/vnd.gov.sk.xmldatacontainer+xml":{"source":"iana","compressible":true},"application/vnd.grafeq":{"source":"iana","extensions":["gqf","gqs"]},"application/vnd.gridmp":{"source":"iana"},"application/vnd.groove-account":{"source":"iana","extensions":["gac"]},"application/vnd.groove-help":{"source":"iana","extensions":["ghf"]},"application/vnd.groove-identity-message":{"source":"iana","extensions":["gim"]},"application/vnd.groove-injector":{"source":"iana","extensions":["grv"]},"application/vnd.groove-tool-message":{"source":"iana","extensions":["gtm"]},"application/vnd.groove-tool-template":{"source":"iana","extensions":["tpl"]},"application/vnd.groove-vcard":{"source":"iana","extensions":["vcg"]},"application/vnd.hal+json":{"source":"iana","compressible":true},"application/vnd.hal+xml":{"source":"iana","compressible":true,"extensions":["hal"]},"application/vnd.handheld-entertainment+xml":{"source":"iana","compressible":true,"extensions":["zmm"]},"application/vnd.hbci":{"source":"iana","extensions":["hbci"]},"application/vnd.hc+json":{"source":"iana","compressible":true},"application/vnd.hcl-bireports":{"source":"iana"},"application/vnd.hdt":{"source":"iana"},"application/vnd.heroku+json":{"source":"iana","compressible":true},"application/vnd.hhe.lesson-player":{"source":"iana","extensions":["les"]},"application/vnd.hl7cda+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hl7v2+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.hp-hpgl":{"source":"iana","extensions":["hpgl"]},"application/vnd.hp-hpid":{"source":"iana","extensions":["hpid"]},"application/vnd.hp-hps":{"source":"iana","extensions":["hps"]},"application/vnd.hp-jlyt":{"source":"iana","extensions":["jlt"]},"application/vnd.hp-pcl":{"source":"iana","extensions":["pcl"]},"application/vnd.hp-pclxl":{"source":"iana","extensions":["pclxl"]},"application/vnd.httphone":{"source":"iana"},"application/vnd.hydrostatix.sof-data":{"source":"iana","extensions":["sfd-hdstx"]},"application/vnd.hyper+json":{"source":"iana","compressible":true},"application/vnd.hyper-item+json":{"source":"iana","compressible":true},"application/vnd.hyperdrive+json":{"source":"iana","compressible":true},"application/vnd.hzn-3d-crossword":{"source":"iana"},"application/vnd.ibm.afplinedata":{"source":"iana"},"application/vnd.ibm.electronic-media":{"source":"iana"},"application/vnd.ibm.minipay":{"source":"iana","extensions":["mpy"]},"application/vnd.ibm.modcap":{"source":"iana","extensions":["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{"source":"iana","extensions":["irm"]},"application/vnd.ibm.secure-container":{"source":"iana","extensions":["sc"]},"application/vnd.iccprofile":{"source":"iana","extensions":["icc","icm"]},"application/vnd.ieee.1905":{"source":"iana"},"application/vnd.igloader":{"source":"iana","extensions":["igl"]},"application/vnd.imagemeter.folder+zip":{"source":"iana","compressible":false},"application/vnd.imagemeter.image+zip":{"source":"iana","compressible":false},"application/vnd.immervision-ivp":{"source":"iana","extensions":["ivp"]},"application/vnd.immervision-ivu":{"source":"iana","extensions":["ivu"]},"application/vnd.ims.imsccv1p1":{"source":"iana"},"application/vnd.ims.imsccv1p2":{"source":"iana"},"application/vnd.ims.imsccv1p3":{"source":"iana"},"application/vnd.ims.lis.v2.result+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolproxy.id+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings+json":{"source":"iana","compressible":true},"application/vnd.ims.lti.v2.toolsettings.simple+json":{"source":"iana","compressible":true},"application/vnd.informedcontrol.rms+xml":{"source":"iana","compressible":true},"application/vnd.informix-visionary":{"source":"iana"},"application/vnd.infotech.project":{"source":"iana"},"application/vnd.infotech.project+xml":{"source":"iana","compressible":true},"application/vnd.innopath.wamp.notification":{"source":"iana"},"application/vnd.insors.igm":{"source":"iana","extensions":["igm"]},"application/vnd.intercon.formnet":{"source":"iana","extensions":["xpw","xpx"]},"application/vnd.intergeo":{"source":"iana","extensions":["i2g"]},"application/vnd.intertrust.digibox":{"source":"iana"},"application/vnd.intertrust.nncp":{"source":"iana"},"application/vnd.intu.qbo":{"source":"iana","extensions":["qbo"]},"application/vnd.intu.qfx":{"source":"iana","extensions":["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.conceptitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.knowledgeitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.newsmessage+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.packageitem+xml":{"source":"iana","compressible":true},"application/vnd.iptc.g2.planningitem+xml":{"source":"iana","compressible":true},"application/vnd.ipunplugged.rcprofile":{"source":"iana","extensions":["rcprofile"]},"application/vnd.irepository.package+xml":{"source":"iana","compressible":true,"extensions":["irp"]},"application/vnd.is-xpr":{"source":"iana","extensions":["xpr"]},"application/vnd.isac.fcs":{"source":"iana","extensions":["fcs"]},"application/vnd.iso11783-10+zip":{"source":"iana","compressible":false},"application/vnd.jam":{"source":"iana","extensions":["jam"]},"application/vnd.japannet-directory-service":{"source":"iana"},"application/vnd.japannet-jpnstore-wakeup":{"source":"iana"},"application/vnd.japannet-payment-wakeup":{"source":"iana"},"application/vnd.japannet-registration":{"source":"iana"},"application/vnd.japannet-registration-wakeup":{"source":"iana"},"application/vnd.japannet-setstore-wakeup":{"source":"iana"},"application/vnd.japannet-verification":{"source":"iana"},"application/vnd.japannet-verification-wakeup":{"source":"iana"},"application/vnd.jcp.javame.midlet-rms":{"source":"iana","extensions":["rms"]},"application/vnd.jisp":{"source":"iana","extensions":["jisp"]},"application/vnd.joost.joda-archive":{"source":"iana","extensions":["joda"]},"application/vnd.jsk.isdn-ngn":{"source":"iana"},"application/vnd.kahootz":{"source":"iana","extensions":["ktz","ktr"]},"application/vnd.kde.karbon":{"source":"iana","extensions":["karbon"]},"application/vnd.kde.kchart":{"source":"iana","extensions":["chrt"]},"application/vnd.kde.kformula":{"source":"iana","extensions":["kfo"]},"application/vnd.kde.kivio":{"source":"iana","extensions":["flw"]},"application/vnd.kde.kontour":{"source":"iana","extensions":["kon"]},"application/vnd.kde.kpresenter":{"source":"iana","extensions":["kpr","kpt"]},"application/vnd.kde.kspread":{"source":"iana","extensions":["ksp"]},"application/vnd.kde.kword":{"source":"iana","extensions":["kwd","kwt"]},"application/vnd.kenameaapp":{"source":"iana","extensions":["htke"]},"application/vnd.kidspiration":{"source":"iana","extensions":["kia"]},"application/vnd.kinar":{"source":"iana","extensions":["kne","knp"]},"application/vnd.koan":{"source":"iana","extensions":["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{"source":"iana","extensions":["sse"]},"application/vnd.las":{"source":"iana"},"application/vnd.las.las+json":{"source":"iana","compressible":true},"application/vnd.las.las+xml":{"source":"iana","compressible":true,"extensions":["lasxml"]},"application/vnd.laszip":{"source":"iana"},"application/vnd.leap+json":{"source":"iana","compressible":true},"application/vnd.liberty-request+xml":{"source":"iana","compressible":true},"application/vnd.llamagraphics.life-balance.desktop":{"source":"iana","extensions":["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{"source":"iana","compressible":true,"extensions":["lbe"]},"application/vnd.logipipe.circuit+zip":{"source":"iana","compressible":false},"application/vnd.loom":{"source":"iana"},"application/vnd.lotus-1-2-3":{"source":"iana","extensions":["123"]},"application/vnd.lotus-approach":{"source":"iana","extensions":["apr"]},"application/vnd.lotus-freelance":{"source":"iana","extensions":["pre"]},"application/vnd.lotus-notes":{"source":"iana","extensions":["nsf"]},"application/vnd.lotus-organizer":{"source":"iana","extensions":["org"]},"application/vnd.lotus-screencam":{"source":"iana","extensions":["scm"]},"application/vnd.lotus-wordpro":{"source":"iana","extensions":["lwp"]},"application/vnd.macports.portpkg":{"source":"iana","extensions":["portpkg"]},"application/vnd.mapbox-vector-tile":{"source":"iana","extensions":["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.conftoken+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.license+xml":{"source":"iana","compressible":true},"application/vnd.marlin.drm.mdcf":{"source":"iana"},"application/vnd.mason+json":{"source":"iana","compressible":true},"application/vnd.maxar.archive.3tz+zip":{"source":"iana","compressible":false},"application/vnd.maxmind.maxmind-db":{"source":"iana"},"application/vnd.mcd":{"source":"iana","extensions":["mcd"]},"application/vnd.medcalcdata":{"source":"iana","extensions":["mc1"]},"application/vnd.mediastation.cdkey":{"source":"iana","extensions":["cdkey"]},"application/vnd.meridian-slingshot":{"source":"iana"},"application/vnd.mfer":{"source":"iana","extensions":["mwf"]},"application/vnd.mfmp":{"source":"iana","extensions":["mfm"]},"application/vnd.micro+json":{"source":"iana","compressible":true},"application/vnd.micrografx.flo":{"source":"iana","extensions":["flo"]},"application/vnd.micrografx.igx":{"source":"iana","extensions":["igx"]},"application/vnd.microsoft.portable-executable":{"source":"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{"source":"iana"},"application/vnd.miele+json":{"source":"iana","compressible":true},"application/vnd.mif":{"source":"iana","extensions":["mif"]},"application/vnd.minisoft-hp3000-save":{"source":"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{"source":"iana"},"application/vnd.mobius.daf":{"source":"iana","extensions":["daf"]},"application/vnd.mobius.dis":{"source":"iana","extensions":["dis"]},"application/vnd.mobius.mbk":{"source":"iana","extensions":["mbk"]},"application/vnd.mobius.mqy":{"source":"iana","extensions":["mqy"]},"application/vnd.mobius.msl":{"source":"iana","extensions":["msl"]},"application/vnd.mobius.plc":{"source":"iana","extensions":["plc"]},"application/vnd.mobius.txf":{"source":"iana","extensions":["txf"]},"application/vnd.mophun.application":{"source":"iana","extensions":["mpn"]},"application/vnd.mophun.certificate":{"source":"iana","extensions":["mpc"]},"application/vnd.motorola.flexsuite":{"source":"iana"},"application/vnd.motorola.flexsuite.adsi":{"source":"iana"},"application/vnd.motorola.flexsuite.fis":{"source":"iana"},"application/vnd.motorola.flexsuite.gotap":{"source":"iana"},"application/vnd.motorola.flexsuite.kmr":{"source":"iana"},"application/vnd.motorola.flexsuite.ttc":{"source":"iana"},"application/vnd.motorola.flexsuite.wem":{"source":"iana"},"application/vnd.motorola.iprm":{"source":"iana"},"application/vnd.mozilla.xul+xml":{"source":"iana","compressible":true,"extensions":["xul"]},"application/vnd.ms-3mfdocument":{"source":"iana"},"application/vnd.ms-artgalry":{"source":"iana","extensions":["cil"]},"application/vnd.ms-asf":{"source":"iana"},"application/vnd.ms-cab-compressed":{"source":"iana","extensions":["cab"]},"application/vnd.ms-color.iccprofile":{"source":"apache"},"application/vnd.ms-excel":{"source":"iana","compressible":false,"extensions":["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{"source":"iana","extensions":["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{"source":"iana","extensions":["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{"source":"iana","extensions":["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{"source":"iana","extensions":["xltm"]},"application/vnd.ms-fontobject":{"source":"iana","compressible":true,"extensions":["eot"]},"application/vnd.ms-htmlhelp":{"source":"iana","extensions":["chm"]},"application/vnd.ms-ims":{"source":"iana","extensions":["ims"]},"application/vnd.ms-lrm":{"source":"iana","extensions":["lrm"]},"application/vnd.ms-office.activex+xml":{"source":"iana","compressible":true},"application/vnd.ms-officetheme":{"source":"iana","extensions":["thmx"]},"application/vnd.ms-opentype":{"source":"apache","compressible":true},"application/vnd.ms-outlook":{"compressible":false,"extensions":["msg"]},"application/vnd.ms-package.obfuscated-opentype":{"source":"apache"},"application/vnd.ms-pki.seccat":{"source":"apache","extensions":["cat"]},"application/vnd.ms-pki.stl":{"source":"apache","extensions":["stl"]},"application/vnd.ms-playready.initiator+xml":{"source":"iana","compressible":true},"application/vnd.ms-powerpoint":{"source":"iana","compressible":false,"extensions":["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{"source":"iana","extensions":["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{"source":"iana","extensions":["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{"source":"iana","extensions":["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{"source":"iana","extensions":["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{"source":"iana","extensions":["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{"source":"iana","compressible":true},"application/vnd.ms-printing.printticket+xml":{"source":"apache","compressible":true},"application/vnd.ms-printschematicket+xml":{"source":"iana","compressible":true},"application/vnd.ms-project":{"source":"iana","extensions":["mpp","mpt"]},"application/vnd.ms-tnef":{"source":"iana"},"application/vnd.ms-windows.devicepairing":{"source":"iana"},"application/vnd.ms-windows.nwprinting.oob":{"source":"iana"},"application/vnd.ms-windows.printerpairing":{"source":"iana"},"application/vnd.ms-windows.wsd.oob":{"source":"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.lic-resp":{"source":"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{"source":"iana"},"application/vnd.ms-wmdrm.meter-resp":{"source":"iana"},"application/vnd.ms-word.document.macroenabled.12":{"source":"iana","extensions":["docm"]},"application/vnd.ms-word.template.macroenabled.12":{"source":"iana","extensions":["dotm"]},"application/vnd.ms-works":{"source":"iana","extensions":["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{"source":"iana","extensions":["wpl"]},"application/vnd.ms-xpsdocument":{"source":"iana","compressible":false,"extensions":["xps"]},"application/vnd.msa-disk-image":{"source":"iana"},"application/vnd.mseq":{"source":"iana","extensions":["mseq"]},"application/vnd.msign":{"source":"iana"},"application/vnd.multiad.creator":{"source":"iana"},"application/vnd.multiad.creator.cif":{"source":"iana"},"application/vnd.music-niff":{"source":"iana"},"application/vnd.musician":{"source":"iana","extensions":["mus"]},"application/vnd.muvee.style":{"source":"iana","extensions":["msty"]},"application/vnd.mynfc":{"source":"iana","extensions":["taglet"]},"application/vnd.nacamar.ybrid+json":{"source":"iana","compressible":true},"application/vnd.ncd.control":{"source":"iana"},"application/vnd.ncd.reference":{"source":"iana"},"application/vnd.nearst.inv+json":{"source":"iana","compressible":true},"application/vnd.nebumind.line":{"source":"iana"},"application/vnd.nervana":{"source":"iana"},"application/vnd.netfpx":{"source":"iana"},"application/vnd.neurolanguage.nlu":{"source":"iana","extensions":["nlu"]},"application/vnd.nimn":{"source":"iana"},"application/vnd.nintendo.nitro.rom":{"source":"iana"},"application/vnd.nintendo.snes.rom":{"source":"iana"},"application/vnd.nitf":{"source":"iana","extensions":["ntf","nitf"]},"application/vnd.noblenet-directory":{"source":"iana","extensions":["nnd"]},"application/vnd.noblenet-sealer":{"source":"iana","extensions":["nns"]},"application/vnd.noblenet-web":{"source":"iana","extensions":["nnw"]},"application/vnd.nokia.catalogs":{"source":"iana"},"application/vnd.nokia.conml+wbxml":{"source":"iana"},"application/vnd.nokia.conml+xml":{"source":"iana","compressible":true},"application/vnd.nokia.iptv.config+xml":{"source":"iana","compressible":true},"application/vnd.nokia.isds-radio-presets":{"source":"iana"},"application/vnd.nokia.landmark+wbxml":{"source":"iana"},"application/vnd.nokia.landmark+xml":{"source":"iana","compressible":true},"application/vnd.nokia.landmarkcollection+xml":{"source":"iana","compressible":true},"application/vnd.nokia.n-gage.ac+xml":{"source":"iana","compressible":true,"extensions":["ac"]},"application/vnd.nokia.n-gage.data":{"source":"iana","extensions":["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{"source":"iana","extensions":["n-gage"]},"application/vnd.nokia.ncd":{"source":"iana"},"application/vnd.nokia.pcd+wbxml":{"source":"iana"},"application/vnd.nokia.pcd+xml":{"source":"iana","compressible":true},"application/vnd.nokia.radio-preset":{"source":"iana","extensions":["rpst"]},"application/vnd.nokia.radio-presets":{"source":"iana","extensions":["rpss"]},"application/vnd.novadigm.edm":{"source":"iana","extensions":["edm"]},"application/vnd.novadigm.edx":{"source":"iana","extensions":["edx"]},"application/vnd.novadigm.ext":{"source":"iana","extensions":["ext"]},"application/vnd.ntt-local.content-share":{"source":"iana"},"application/vnd.ntt-local.file-transfer":{"source":"iana"},"application/vnd.ntt-local.ogw_remote-access":{"source":"iana"},"application/vnd.ntt-local.sip-ta_remote":{"source":"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{"source":"iana"},"application/vnd.oasis.opendocument.chart":{"source":"iana","extensions":["odc"]},"application/vnd.oasis.opendocument.chart-template":{"source":"iana","extensions":["otc"]},"application/vnd.oasis.opendocument.database":{"source":"iana","extensions":["odb"]},"application/vnd.oasis.opendocument.formula":{"source":"iana","extensions":["odf"]},"application/vnd.oasis.opendocument.formula-template":{"source":"iana","extensions":["odft"]},"application/vnd.oasis.opendocument.graphics":{"source":"iana","compressible":false,"extensions":["odg"]},"application/vnd.oasis.opendocument.graphics-template":{"source":"iana","extensions":["otg"]},"application/vnd.oasis.opendocument.image":{"source":"iana","extensions":["odi"]},"application/vnd.oasis.opendocument.image-template":{"source":"iana","extensions":["oti"]},"application/vnd.oasis.opendocument.presentation":{"source":"iana","compressible":false,"extensions":["odp"]},"application/vnd.oasis.opendocument.presentation-template":{"source":"iana","extensions":["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{"source":"iana","compressible":false,"extensions":["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{"source":"iana","extensions":["ots"]},"application/vnd.oasis.opendocument.text":{"source":"iana","compressible":false,"extensions":["odt"]},"application/vnd.oasis.opendocument.text-master":{"source":"iana","extensions":["odm"]},"application/vnd.oasis.opendocument.text-template":{"source":"iana","extensions":["ott"]},"application/vnd.oasis.opendocument.text-web":{"source":"iana","extensions":["oth"]},"application/vnd.obn":{"source":"iana"},"application/vnd.ocf+cbor":{"source":"iana"},"application/vnd.oci.image.manifest.v1+json":{"source":"iana","compressible":true},"application/vnd.oftn.l10n+json":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessdownload+xml":{"source":"iana","compressible":true},"application/vnd.oipf.contentaccessstreaming+xml":{"source":"iana","compressible":true},"application/vnd.oipf.cspg-hexbinary":{"source":"iana"},"application/vnd.oipf.dae.svg+xml":{"source":"iana","compressible":true},"application/vnd.oipf.dae.xhtml+xml":{"source":"iana","compressible":true},"application/vnd.oipf.mippvcontrolmessage+xml":{"source":"iana","compressible":true},"application/vnd.oipf.pae.gem":{"source":"iana"},"application/vnd.oipf.spdiscovery+xml":{"source":"iana","compressible":true},"application/vnd.oipf.spdlist+xml":{"source":"iana","compressible":true},"application/vnd.oipf.ueprofile+xml":{"source":"iana","compressible":true},"application/vnd.oipf.userprofile+xml":{"source":"iana","compressible":true},"application/vnd.olpc-sugar":{"source":"iana","extensions":["xo"]},"application/vnd.oma-scws-config":{"source":"iana"},"application/vnd.oma-scws-http-request":{"source":"iana"},"application/vnd.oma-scws-http-response":{"source":"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.drm-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.imd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.ltkm":{"source":"iana"},"application/vnd.oma.bcast.notification+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.provisioningtrigger":{"source":"iana"},"application/vnd.oma.bcast.sgboot":{"source":"iana"},"application/vnd.oma.bcast.sgdd+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sgdu":{"source":"iana"},"application/vnd.oma.bcast.simple-symbol-container":{"source":"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.sprov+xml":{"source":"iana","compressible":true},"application/vnd.oma.bcast.stkm":{"source":"iana"},"application/vnd.oma.cab-address-book+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-feature-handler+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-pcc+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-subs-invite+xml":{"source":"iana","compressible":true},"application/vnd.oma.cab-user-prefs+xml":{"source":"iana","compressible":true},"application/vnd.oma.dcd":{"source":"iana"},"application/vnd.oma.dcdc":{"source":"iana"},"application/vnd.oma.dd2+xml":{"source":"iana","compressible":true,"extensions":["dd2"]},"application/vnd.oma.drm.risd+xml":{"source":"iana","compressible":true},"application/vnd.oma.group-usage-list+xml":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+cbor":{"source":"iana"},"application/vnd.oma.lwm2m+json":{"source":"iana","compressible":true},"application/vnd.oma.lwm2m+tlv":{"source":"iana"},"application/vnd.oma.pal+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.detailed-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.final-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.groups+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.invocation-descriptor+xml":{"source":"iana","compressible":true},"application/vnd.oma.poc.optimized-progress-report+xml":{"source":"iana","compressible":true},"application/vnd.oma.push":{"source":"iana"},"application/vnd.oma.scidm.messages+xml":{"source":"iana","compressible":true},"application/vnd.oma.xcap-directory+xml":{"source":"iana","compressible":true},"application/vnd.omads-email+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-file+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omads-folder+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.omaloc-supl-init":{"source":"iana"},"application/vnd.onepager":{"source":"iana"},"application/vnd.onepagertamp":{"source":"iana"},"application/vnd.onepagertamx":{"source":"iana"},"application/vnd.onepagertat":{"source":"iana"},"application/vnd.onepagertatp":{"source":"iana"},"application/vnd.onepagertatx":{"source":"iana"},"application/vnd.openblox.game+xml":{"source":"iana","compressible":true,"extensions":["obgx"]},"application/vnd.openblox.game-binary":{"source":"iana"},"application/vnd.openeye.oeb":{"source":"iana"},"application/vnd.openofficeorg.extension":{"source":"apache","extensions":["oxt"]},"application/vnd.openstreetmap.data+xml":{"source":"iana","compressible":true,"extensions":["osm"]},"application/vnd.opentimestamps.ots":{"source":"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawing+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{"source":"iana","compressible":false,"extensions":["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slide":{"source":"iana","extensions":["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{"source":"iana","extensions":["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.template":{"source":"iana","extensions":["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{"source":"iana","compressible":false,"extensions":["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{"source":"iana","extensions":["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.theme+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.vmldrawing":{"source":"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{"source":"iana","compressible":false,"extensions":["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{"source":"iana","extensions":["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.core-properties+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{"source":"iana","compressible":true},"application/vnd.openxmlformats-package.relationships+xml":{"source":"iana","compressible":true},"application/vnd.oracle.resource+json":{"source":"iana","compressible":true},"application/vnd.orange.indata":{"source":"iana"},"application/vnd.osa.netdeploy":{"source":"iana"},"application/vnd.osgeo.mapguide.package":{"source":"iana","extensions":["mgp"]},"application/vnd.osgi.bundle":{"source":"iana"},"application/vnd.osgi.dp":{"source":"iana","extensions":["dp"]},"application/vnd.osgi.subsystem":{"source":"iana","extensions":["esa"]},"application/vnd.otps.ct-kip+xml":{"source":"iana","compressible":true},"application/vnd.oxli.countgraph":{"source":"iana"},"application/vnd.pagerduty+json":{"source":"iana","compressible":true},"application/vnd.palm":{"source":"iana","extensions":["pdb","pqa","oprc"]},"application/vnd.panoply":{"source":"iana"},"application/vnd.paos.xml":{"source":"iana"},"application/vnd.patentdive":{"source":"iana"},"application/vnd.patientecommsdoc":{"source":"iana"},"application/vnd.pawaafile":{"source":"iana","extensions":["paw"]},"application/vnd.pcos":{"source":"iana"},"application/vnd.pg.format":{"source":"iana","extensions":["str"]},"application/vnd.pg.osasli":{"source":"iana","extensions":["ei6"]},"application/vnd.piaccess.application-licence":{"source":"iana"},"application/vnd.picsel":{"source":"iana","extensions":["efif"]},"application/vnd.pmi.widget":{"source":"iana","extensions":["wg"]},"application/vnd.poc.group-advertisement+xml":{"source":"iana","compressible":true},"application/vnd.pocketlearn":{"source":"iana","extensions":["plf"]},"application/vnd.powerbuilder6":{"source":"iana","extensions":["pbd"]},"application/vnd.powerbuilder6-s":{"source":"iana"},"application/vnd.powerbuilder7":{"source":"iana"},"application/vnd.powerbuilder7-s":{"source":"iana"},"application/vnd.powerbuilder75":{"source":"iana"},"application/vnd.powerbuilder75-s":{"source":"iana"},"application/vnd.preminet":{"source":"iana"},"application/vnd.previewsystems.box":{"source":"iana","extensions":["box"]},"application/vnd.proteus.magazine":{"source":"iana","extensions":["mgz"]},"application/vnd.psfs":{"source":"iana"},"application/vnd.publishare-delta-tree":{"source":"iana","extensions":["qps"]},"application/vnd.pvi.ptid1":{"source":"iana","extensions":["ptid"]},"application/vnd.pwg-multiplexed":{"source":"iana"},"application/vnd.pwg-xhtml-print+xml":{"source":"iana","compressible":true},"application/vnd.qualcomm.brew-app-res":{"source":"iana"},"application/vnd.quarantainenet":{"source":"iana"},"application/vnd.quark.quarkxpress":{"source":"iana","extensions":["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{"source":"iana"},"application/vnd.radisys.moml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-conn+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-audit-stream+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-conf+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-base+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-detect+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-group+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-speech+xml":{"source":"iana","compressible":true},"application/vnd.radisys.msml-dialog-transform+xml":{"source":"iana","compressible":true},"application/vnd.rainstor.data":{"source":"iana"},"application/vnd.rapid":{"source":"iana"},"application/vnd.rar":{"source":"iana","extensions":["rar"]},"application/vnd.realvnc.bed":{"source":"iana","extensions":["bed"]},"application/vnd.recordare.musicxml":{"source":"iana","extensions":["mxl"]},"application/vnd.recordare.musicxml+xml":{"source":"iana","compressible":true,"extensions":["musicxml"]},"application/vnd.renlearn.rlprint":{"source":"iana"},"application/vnd.resilient.logic":{"source":"iana"},"application/vnd.restful+json":{"source":"iana","compressible":true},"application/vnd.rig.cryptonote":{"source":"iana","extensions":["cryptonote"]},"application/vnd.rim.cod":{"source":"apache","extensions":["cod"]},"application/vnd.rn-realmedia":{"source":"apache","extensions":["rm"]},"application/vnd.rn-realmedia-vbr":{"source":"apache","extensions":["rmvb"]},"application/vnd.route66.link66+xml":{"source":"iana","compressible":true,"extensions":["link66"]},"application/vnd.rs-274x":{"source":"iana"},"application/vnd.ruckus.download":{"source":"iana"},"application/vnd.s3sms":{"source":"iana"},"application/vnd.sailingtracker.track":{"source":"iana","extensions":["st"]},"application/vnd.sar":{"source":"iana"},"application/vnd.sbm.cid":{"source":"iana"},"application/vnd.sbm.mid2":{"source":"iana"},"application/vnd.scribus":{"source":"iana"},"application/vnd.sealed.3df":{"source":"iana"},"application/vnd.sealed.csf":{"source":"iana"},"application/vnd.sealed.doc":{"source":"iana"},"application/vnd.sealed.eml":{"source":"iana"},"application/vnd.sealed.mht":{"source":"iana"},"application/vnd.sealed.net":{"source":"iana"},"application/vnd.sealed.ppt":{"source":"iana"},"application/vnd.sealed.tiff":{"source":"iana"},"application/vnd.sealed.xls":{"source":"iana"},"application/vnd.sealedmedia.softseal.html":{"source":"iana"},"application/vnd.sealedmedia.softseal.pdf":{"source":"iana"},"application/vnd.seemail":{"source":"iana","extensions":["see"]},"application/vnd.seis+json":{"source":"iana","compressible":true},"application/vnd.sema":{"source":"iana","extensions":["sema"]},"application/vnd.semd":{"source":"iana","extensions":["semd"]},"application/vnd.semf":{"source":"iana","extensions":["semf"]},"application/vnd.shade-save-file":{"source":"iana"},"application/vnd.shana.informed.formdata":{"source":"iana","extensions":["ifm"]},"application/vnd.shana.informed.formtemplate":{"source":"iana","extensions":["itp"]},"application/vnd.shana.informed.interchange":{"source":"iana","extensions":["iif"]},"application/vnd.shana.informed.package":{"source":"iana","extensions":["ipk"]},"application/vnd.shootproof+json":{"source":"iana","compressible":true},"application/vnd.shopkick+json":{"source":"iana","compressible":true},"application/vnd.shp":{"source":"iana"},"application/vnd.shx":{"source":"iana"},"application/vnd.sigrok.session":{"source":"iana"},"application/vnd.simtech-mindmapper":{"source":"iana","extensions":["twd","twds"]},"application/vnd.siren+json":{"source":"iana","compressible":true},"application/vnd.smaf":{"source":"iana","extensions":["mmf"]},"application/vnd.smart.notebook":{"source":"iana"},"application/vnd.smart.teacher":{"source":"iana","extensions":["teacher"]},"application/vnd.snesdev-page-table":{"source":"iana"},"application/vnd.software602.filler.form+xml":{"source":"iana","compressible":true,"extensions":["fo"]},"application/vnd.software602.filler.form-xml-zip":{"source":"iana"},"application/vnd.solent.sdkm+xml":{"source":"iana","compressible":true,"extensions":["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{"source":"iana","extensions":["dxp"]},"application/vnd.spotfire.sfs":{"source":"iana","extensions":["sfs"]},"application/vnd.sqlite3":{"source":"iana"},"application/vnd.sss-cod":{"source":"iana"},"application/vnd.sss-dtf":{"source":"iana"},"application/vnd.sss-ntf":{"source":"iana"},"application/vnd.stardivision.calc":{"source":"apache","extensions":["sdc"]},"application/vnd.stardivision.draw":{"source":"apache","extensions":["sda"]},"application/vnd.stardivision.impress":{"source":"apache","extensions":["sdd"]},"application/vnd.stardivision.math":{"source":"apache","extensions":["smf"]},"application/vnd.stardivision.writer":{"source":"apache","extensions":["sdw","vor"]},"application/vnd.stardivision.writer-global":{"source":"apache","extensions":["sgl"]},"application/vnd.stepmania.package":{"source":"iana","extensions":["smzip"]},"application/vnd.stepmania.stepchart":{"source":"iana","extensions":["sm"]},"application/vnd.street-stream":{"source":"iana"},"application/vnd.sun.wadl+xml":{"source":"iana","compressible":true,"extensions":["wadl"]},"application/vnd.sun.xml.calc":{"source":"apache","extensions":["sxc"]},"application/vnd.sun.xml.calc.template":{"source":"apache","extensions":["stc"]},"application/vnd.sun.xml.draw":{"source":"apache","extensions":["sxd"]},"application/vnd.sun.xml.draw.template":{"source":"apache","extensions":["std"]},"application/vnd.sun.xml.impress":{"source":"apache","extensions":["sxi"]},"application/vnd.sun.xml.impress.template":{"source":"apache","extensions":["sti"]},"application/vnd.sun.xml.math":{"source":"apache","extensions":["sxm"]},"application/vnd.sun.xml.writer":{"source":"apache","extensions":["sxw"]},"application/vnd.sun.xml.writer.global":{"source":"apache","extensions":["sxg"]},"application/vnd.sun.xml.writer.template":{"source":"apache","extensions":["stw"]},"application/vnd.sus-calendar":{"source":"iana","extensions":["sus","susp"]},"application/vnd.svd":{"source":"iana","extensions":["svd"]},"application/vnd.swiftview-ics":{"source":"iana"},"application/vnd.sycle+xml":{"source":"iana","compressible":true},"application/vnd.syft+json":{"source":"iana","compressible":true},"application/vnd.symbian.install":{"source":"apache","extensions":["sis","sisx"]},"application/vnd.syncml+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xsm"]},"application/vnd.syncml.dm+wbxml":{"source":"iana","charset":"UTF-8","extensions":["bdm"]},"application/vnd.syncml.dm+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["xdm"]},"application/vnd.syncml.dm.notification":{"source":"iana"},"application/vnd.syncml.dmddf+wbxml":{"source":"iana"},"application/vnd.syncml.dmddf+xml":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{"source":"iana"},"application/vnd.syncml.dmtnds+xml":{"source":"iana","charset":"UTF-8","compressible":true},"application/vnd.syncml.ds.notification":{"source":"iana"},"application/vnd.tableschema+json":{"source":"iana","compressible":true},"application/vnd.tao.intent-module-archive":{"source":"iana","extensions":["tao"]},"application/vnd.tcpdump.pcap":{"source":"iana","extensions":["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{"source":"iana","compressible":true},"application/vnd.tmd.mediaflex.api+xml":{"source":"iana","compressible":true},"application/vnd.tml":{"source":"iana"},"application/vnd.tmobile-livetv":{"source":"iana","extensions":["tmo"]},"application/vnd.tri.onesource":{"source":"iana"},"application/vnd.trid.tpt":{"source":"iana","extensions":["tpt"]},"application/vnd.triscape.mxs":{"source":"iana","extensions":["mxs"]},"application/vnd.trueapp":{"source":"iana","extensions":["tra"]},"application/vnd.truedoc":{"source":"iana"},"application/vnd.ubisoft.webplayer":{"source":"iana"},"application/vnd.ufdl":{"source":"iana","extensions":["ufd","ufdl"]},"application/vnd.uiq.theme":{"source":"iana","extensions":["utz"]},"application/vnd.umajin":{"source":"iana","extensions":["umj"]},"application/vnd.unity":{"source":"iana","extensions":["unityweb"]},"application/vnd.uoml+xml":{"source":"iana","compressible":true,"extensions":["uoml"]},"application/vnd.uplanet.alert":{"source":"iana"},"application/vnd.uplanet.alert-wbxml":{"source":"iana"},"application/vnd.uplanet.bearer-choice":{"source":"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{"source":"iana"},"application/vnd.uplanet.cacheop":{"source":"iana"},"application/vnd.uplanet.cacheop-wbxml":{"source":"iana"},"application/vnd.uplanet.channel":{"source":"iana"},"application/vnd.uplanet.channel-wbxml":{"source":"iana"},"application/vnd.uplanet.list":{"source":"iana"},"application/vnd.uplanet.list-wbxml":{"source":"iana"},"application/vnd.uplanet.listcmd":{"source":"iana"},"application/vnd.uplanet.listcmd-wbxml":{"source":"iana"},"application/vnd.uplanet.signal":{"source":"iana"},"application/vnd.uri-map":{"source":"iana"},"application/vnd.valve.source.material":{"source":"iana"},"application/vnd.vcx":{"source":"iana","extensions":["vcx"]},"application/vnd.vd-study":{"source":"iana"},"application/vnd.vectorworks":{"source":"iana"},"application/vnd.vel+json":{"source":"iana","compressible":true},"application/vnd.verimatrix.vcas":{"source":"iana"},"application/vnd.veritone.aion+json":{"source":"iana","compressible":true},"application/vnd.veryant.thin":{"source":"iana"},"application/vnd.ves.encrypted":{"source":"iana"},"application/vnd.vidsoft.vidconference":{"source":"iana"},"application/vnd.visio":{"source":"iana","extensions":["vsd","vst","vss","vsw"]},"application/vnd.visionary":{"source":"iana","extensions":["vis"]},"application/vnd.vividence.scriptfile":{"source":"iana"},"application/vnd.vsf":{"source":"iana","extensions":["vsf"]},"application/vnd.wap.sic":{"source":"iana"},"application/vnd.wap.slc":{"source":"iana"},"application/vnd.wap.wbxml":{"source":"iana","charset":"UTF-8","extensions":["wbxml"]},"application/vnd.wap.wmlc":{"source":"iana","extensions":["wmlc"]},"application/vnd.wap.wmlscriptc":{"source":"iana","extensions":["wmlsc"]},"application/vnd.webturbo":{"source":"iana","extensions":["wtb"]},"application/vnd.wfa.dpp":{"source":"iana"},"application/vnd.wfa.p2p":{"source":"iana"},"application/vnd.wfa.wsc":{"source":"iana"},"application/vnd.windows.devicepairing":{"source":"iana"},"application/vnd.wmc":{"source":"iana"},"application/vnd.wmf.bootstrap":{"source":"iana"},"application/vnd.wolfram.mathematica":{"source":"iana"},"application/vnd.wolfram.mathematica.package":{"source":"iana"},"application/vnd.wolfram.player":{"source":"iana","extensions":["nbp"]},"application/vnd.wordperfect":{"source":"iana","extensions":["wpd"]},"application/vnd.wqd":{"source":"iana","extensions":["wqd"]},"application/vnd.wrq-hp3000-labelled":{"source":"iana"},"application/vnd.wt.stf":{"source":"iana","extensions":["stf"]},"application/vnd.wv.csp+wbxml":{"source":"iana"},"application/vnd.wv.csp+xml":{"source":"iana","compressible":true},"application/vnd.wv.ssp+xml":{"source":"iana","compressible":true},"application/vnd.xacml+json":{"source":"iana","compressible":true},"application/vnd.xara":{"source":"iana","extensions":["xar"]},"application/vnd.xfdl":{"source":"iana","extensions":["xfdl"]},"application/vnd.xfdl.webform":{"source":"iana"},"application/vnd.xmi+xml":{"source":"iana","compressible":true},"application/vnd.xmpie.cpkg":{"source":"iana"},"application/vnd.xmpie.dpkg":{"source":"iana"},"application/vnd.xmpie.plan":{"source":"iana"},"application/vnd.xmpie.ppkg":{"source":"iana"},"application/vnd.xmpie.xlim":{"source":"iana"},"application/vnd.yamaha.hv-dic":{"source":"iana","extensions":["hvd"]},"application/vnd.yamaha.hv-script":{"source":"iana","extensions":["hvs"]},"application/vnd.yamaha.hv-voice":{"source":"iana","extensions":["hvp"]},"application/vnd.yamaha.openscoreformat":{"source":"iana","extensions":["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{"source":"iana","compressible":true,"extensions":["osfpvg"]},"application/vnd.yamaha.remote-setup":{"source":"iana"},"application/vnd.yamaha.smaf-audio":{"source":"iana","extensions":["saf"]},"application/vnd.yamaha.smaf-phrase":{"source":"iana","extensions":["spf"]},"application/vnd.yamaha.through-ngn":{"source":"iana"},"application/vnd.yamaha.tunnel-udpencap":{"source":"iana"},"application/vnd.yaoweme":{"source":"iana"},"application/vnd.yellowriver-custom-menu":{"source":"iana","extensions":["cmp"]},"application/vnd.youtube.yt":{"source":"iana"},"application/vnd.zul":{"source":"iana","extensions":["zir","zirz"]},"application/vnd.zzazz.deck+xml":{"source":"iana","compressible":true,"extensions":["zaz"]},"application/voicexml+xml":{"source":"iana","compressible":true,"extensions":["vxml"]},"application/voucher-cms+json":{"source":"iana","compressible":true},"application/vq-rtcpxr":{"source":"iana"},"application/wasm":{"source":"iana","compressible":true,"extensions":["wasm"]},"application/watcherinfo+xml":{"source":"iana","compressible":true,"extensions":["wif"]},"application/webpush-options+json":{"source":"iana","compressible":true},"application/whoispp-query":{"source":"iana"},"application/whoispp-response":{"source":"iana"},"application/widget":{"source":"iana","extensions":["wgt"]},"application/winhlp":{"source":"apache","extensions":["hlp"]},"application/wita":{"source":"iana"},"application/wordperfect5.1":{"source":"iana"},"application/wsdl+xml":{"source":"iana","compressible":true,"extensions":["wsdl"]},"application/wspolicy+xml":{"source":"iana","compressible":true,"extensions":["wspolicy"]},"application/x-7z-compressed":{"source":"apache","compressible":false,"extensions":["7z"]},"application/x-abiword":{"source":"apache","extensions":["abw"]},"application/x-ace-compressed":{"source":"apache","extensions":["ace"]},"application/x-amf":{"source":"apache"},"application/x-apple-diskimage":{"source":"apache","extensions":["dmg"]},"application/x-arj":{"compressible":false,"extensions":["arj"]},"application/x-authorware-bin":{"source":"apache","extensions":["aab","x32","u32","vox"]},"application/x-authorware-map":{"source":"apache","extensions":["aam"]},"application/x-authorware-seg":{"source":"apache","extensions":["aas"]},"application/x-bcpio":{"source":"apache","extensions":["bcpio"]},"application/x-bdoc":{"compressible":false,"extensions":["bdoc"]},"application/x-bittorrent":{"source":"apache","extensions":["torrent"]},"application/x-blorb":{"source":"apache","extensions":["blb","blorb"]},"application/x-bzip":{"source":"apache","compressible":false,"extensions":["bz"]},"application/x-bzip2":{"source":"apache","compressible":false,"extensions":["bz2","boz"]},"application/x-cbr":{"source":"apache","extensions":["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{"source":"apache","extensions":["vcd"]},"application/x-cfs-compressed":{"source":"apache","extensions":["cfs"]},"application/x-chat":{"source":"apache","extensions":["chat"]},"application/x-chess-pgn":{"source":"apache","extensions":["pgn"]},"application/x-chrome-extension":{"extensions":["crx"]},"application/x-cocoa":{"source":"nginx","extensions":["cco"]},"application/x-compress":{"source":"apache"},"application/x-conference":{"source":"apache","extensions":["nsc"]},"application/x-cpio":{"source":"apache","extensions":["cpio"]},"application/x-csh":{"source":"apache","extensions":["csh"]},"application/x-deb":{"compressible":false},"application/x-debian-package":{"source":"apache","extensions":["deb","udeb"]},"application/x-dgc-compressed":{"source":"apache","extensions":["dgc"]},"application/x-director":{"source":"apache","extensions":["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{"source":"apache","extensions":["wad"]},"application/x-dtbncx+xml":{"source":"apache","compressible":true,"extensions":["ncx"]},"application/x-dtbook+xml":{"source":"apache","compressible":true,"extensions":["dtb"]},"application/x-dtbresource+xml":{"source":"apache","compressible":true,"extensions":["res"]},"application/x-dvi":{"source":"apache","compressible":false,"extensions":["dvi"]},"application/x-envoy":{"source":"apache","extensions":["evy"]},"application/x-eva":{"source":"apache","extensions":["eva"]},"application/x-font-bdf":{"source":"apache","extensions":["bdf"]},"application/x-font-dos":{"source":"apache"},"application/x-font-framemaker":{"source":"apache"},"application/x-font-ghostscript":{"source":"apache","extensions":["gsf"]},"application/x-font-libgrx":{"source":"apache"},"application/x-font-linux-psf":{"source":"apache","extensions":["psf"]},"application/x-font-pcf":{"source":"apache","extensions":["pcf"]},"application/x-font-snf":{"source":"apache","extensions":["snf"]},"application/x-font-speedo":{"source":"apache"},"application/x-font-sunos-news":{"source":"apache"},"application/x-font-type1":{"source":"apache","extensions":["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{"source":"apache"},"application/x-freearc":{"source":"apache","extensions":["arc"]},"application/x-futuresplash":{"source":"apache","extensions":["spl"]},"application/x-gca-compressed":{"source":"apache","extensions":["gca"]},"application/x-glulx":{"source":"apache","extensions":["ulx"]},"application/x-gnumeric":{"source":"apache","extensions":["gnumeric"]},"application/x-gramps-xml":{"source":"apache","extensions":["gramps"]},"application/x-gtar":{"source":"apache","extensions":["gtar"]},"application/x-gzip":{"source":"apache"},"application/x-hdf":{"source":"apache","extensions":["hdf"]},"application/x-httpd-php":{"compressible":true,"extensions":["php"]},"application/x-install-instructions":{"source":"apache","extensions":["install"]},"application/x-iso9660-image":{"source":"apache","extensions":["iso"]},"application/x-iwork-keynote-sffkey":{"extensions":["key"]},"application/x-iwork-numbers-sffnumbers":{"extensions":["numbers"]},"application/x-iwork-pages-sffpages":{"extensions":["pages"]},"application/x-java-archive-diff":{"source":"nginx","extensions":["jardiff"]},"application/x-java-jnlp-file":{"source":"apache","compressible":false,"extensions":["jnlp"]},"application/x-javascript":{"compressible":true},"application/x-keepass2":{"extensions":["kdbx"]},"application/x-latex":{"source":"apache","compressible":false,"extensions":["latex"]},"application/x-lua-bytecode":{"extensions":["luac"]},"application/x-lzh-compressed":{"source":"apache","extensions":["lzh","lha"]},"application/x-makeself":{"source":"nginx","extensions":["run"]},"application/x-mie":{"source":"apache","extensions":["mie"]},"application/x-mobipocket-ebook":{"source":"apache","extensions":["prc","mobi"]},"application/x-mpegurl":{"compressible":false},"application/x-ms-application":{"source":"apache","extensions":["application"]},"application/x-ms-shortcut":{"source":"apache","extensions":["lnk"]},"application/x-ms-wmd":{"source":"apache","extensions":["wmd"]},"application/x-ms-wmz":{"source":"apache","extensions":["wmz"]},"application/x-ms-xbap":{"source":"apache","extensions":["xbap"]},"application/x-msaccess":{"source":"apache","extensions":["mdb"]},"application/x-msbinder":{"source":"apache","extensions":["obd"]},"application/x-mscardfile":{"source":"apache","extensions":["crd"]},"application/x-msclip":{"source":"apache","extensions":["clp"]},"application/x-msdos-program":{"extensions":["exe"]},"application/x-msdownload":{"source":"apache","extensions":["exe","dll","com","bat","msi"]},"application/x-msmediaview":{"source":"apache","extensions":["mvb","m13","m14"]},"application/x-msmetafile":{"source":"apache","extensions":["wmf","wmz","emf","emz"]},"application/x-msmoney":{"source":"apache","extensions":["mny"]},"application/x-mspublisher":{"source":"apache","extensions":["pub"]},"application/x-msschedule":{"source":"apache","extensions":["scd"]},"application/x-msterminal":{"source":"apache","extensions":["trm"]},"application/x-mswrite":{"source":"apache","extensions":["wri"]},"application/x-netcdf":{"source":"apache","extensions":["nc","cdf"]},"application/x-ns-proxy-autoconfig":{"compressible":true,"extensions":["pac"]},"application/x-nzb":{"source":"apache","extensions":["nzb"]},"application/x-perl":{"source":"nginx","extensions":["pl","pm"]},"application/x-pilot":{"source":"nginx","extensions":["prc","pdb"]},"application/x-pkcs12":{"source":"apache","compressible":false,"extensions":["p12","pfx"]},"application/x-pkcs7-certificates":{"source":"apache","extensions":["p7b","spc"]},"application/x-pkcs7-certreqresp":{"source":"apache","extensions":["p7r"]},"application/x-pki-message":{"source":"iana"},"application/x-rar-compressed":{"source":"apache","compressible":false,"extensions":["rar"]},"application/x-redhat-package-manager":{"source":"nginx","extensions":["rpm"]},"application/x-research-info-systems":{"source":"apache","extensions":["ris"]},"application/x-sea":{"source":"nginx","extensions":["sea"]},"application/x-sh":{"source":"apache","compressible":true,"extensions":["sh"]},"application/x-shar":{"source":"apache","extensions":["shar"]},"application/x-shockwave-flash":{"source":"apache","compressible":false,"extensions":["swf"]},"application/x-silverlight-app":{"source":"apache","extensions":["xap"]},"application/x-sql":{"source":"apache","extensions":["sql"]},"application/x-stuffit":{"source":"apache","compressible":false,"extensions":["sit"]},"application/x-stuffitx":{"source":"apache","extensions":["sitx"]},"application/x-subrip":{"source":"apache","extensions":["srt"]},"application/x-sv4cpio":{"source":"apache","extensions":["sv4cpio"]},"application/x-sv4crc":{"source":"apache","extensions":["sv4crc"]},"application/x-t3vm-image":{"source":"apache","extensions":["t3"]},"application/x-tads":{"source":"apache","extensions":["gam"]},"application/x-tar":{"source":"apache","compressible":true,"extensions":["tar"]},"application/x-tcl":{"source":"apache","extensions":["tcl","tk"]},"application/x-tex":{"source":"apache","extensions":["tex"]},"application/x-tex-tfm":{"source":"apache","extensions":["tfm"]},"application/x-texinfo":{"source":"apache","extensions":["texinfo","texi"]},"application/x-tgif":{"source":"apache","extensions":["obj"]},"application/x-ustar":{"source":"apache","extensions":["ustar"]},"application/x-virtualbox-hdd":{"compressible":true,"extensions":["hdd"]},"application/x-virtualbox-ova":{"compressible":true,"extensions":["ova"]},"application/x-virtualbox-ovf":{"compressible":true,"extensions":["ovf"]},"application/x-virtualbox-vbox":{"compressible":true,"extensions":["vbox"]},"application/x-virtualbox-vbox-extpack":{"compressible":false,"extensions":["vbox-extpack"]},"application/x-virtualbox-vdi":{"compressible":true,"extensions":["vdi"]},"application/x-virtualbox-vhd":{"compressible":true,"extensions":["vhd"]},"application/x-virtualbox-vmdk":{"compressible":true,"extensions":["vmdk"]},"application/x-wais-source":{"source":"apache","extensions":["src"]},"application/x-web-app-manifest+json":{"compressible":true,"extensions":["webapp"]},"application/x-www-form-urlencoded":{"source":"iana","compressible":true},"application/x-x509-ca-cert":{"source":"iana","extensions":["der","crt","pem"]},"application/x-x509-ca-ra-cert":{"source":"iana"},"application/x-x509-next-ca-cert":{"source":"iana"},"application/x-xfig":{"source":"apache","extensions":["fig"]},"application/x-xliff+xml":{"source":"apache","compressible":true,"extensions":["xlf"]},"application/x-xpinstall":{"source":"apache","compressible":false,"extensions":["xpi"]},"application/x-xz":{"source":"apache","extensions":["xz"]},"application/x-zmachine":{"source":"apache","extensions":["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{"source":"iana"},"application/xacml+xml":{"source":"iana","compressible":true},"application/xaml+xml":{"source":"apache","compressible":true,"extensions":["xaml"]},"application/xcap-att+xml":{"source":"iana","compressible":true,"extensions":["xav"]},"application/xcap-caps+xml":{"source":"iana","compressible":true,"extensions":["xca"]},"application/xcap-diff+xml":{"source":"iana","compressible":true,"extensions":["xdf"]},"application/xcap-el+xml":{"source":"iana","compressible":true,"extensions":["xel"]},"application/xcap-error+xml":{"source":"iana","compressible":true},"application/xcap-ns+xml":{"source":"iana","compressible":true,"extensions":["xns"]},"application/xcon-conference-info+xml":{"source":"iana","compressible":true},"application/xcon-conference-info-diff+xml":{"source":"iana","compressible":true},"application/xenc+xml":{"source":"iana","compressible":true,"extensions":["xenc"]},"application/xhtml+xml":{"source":"iana","compressible":true,"extensions":["xhtml","xht"]},"application/xhtml-voice+xml":{"source":"apache","compressible":true},"application/xliff+xml":{"source":"iana","compressible":true,"extensions":["xlf"]},"application/xml":{"source":"iana","compressible":true,"extensions":["xml","xsl","xsd","rng"]},"application/xml-dtd":{"source":"iana","compressible":true,"extensions":["dtd"]},"application/xml-external-parsed-entity":{"source":"iana"},"application/xml-patch+xml":{"source":"iana","compressible":true},"application/xmpp+xml":{"source":"iana","compressible":true},"application/xop+xml":{"source":"iana","compressible":true,"extensions":["xop"]},"application/xproc+xml":{"source":"apache","compressible":true,"extensions":["xpl"]},"application/xslt+xml":{"source":"iana","compressible":true,"extensions":["xsl","xslt"]},"application/xspf+xml":{"source":"apache","compressible":true,"extensions":["xspf"]},"application/xv+xml":{"source":"iana","compressible":true,"extensions":["mxml","xhvml","xvml","xvm"]},"application/yang":{"source":"iana","extensions":["yang"]},"application/yang-data+json":{"source":"iana","compressible":true},"application/yang-data+xml":{"source":"iana","compressible":true},"application/yang-patch+json":{"source":"iana","compressible":true},"application/yang-patch+xml":{"source":"iana","compressible":true},"application/yin+xml":{"source":"iana","compressible":true,"extensions":["yin"]},"application/zip":{"source":"iana","compressible":false,"extensions":["zip"]},"application/zlib":{"source":"iana"},"application/zstd":{"source":"iana"},"audio/1d-interleaved-parityfec":{"source":"iana"},"audio/32kadpcm":{"source":"iana"},"audio/3gpp":{"source":"iana","compressible":false,"extensions":["3gpp"]},"audio/3gpp2":{"source":"iana"},"audio/aac":{"source":"iana"},"audio/ac3":{"source":"iana"},"audio/adpcm":{"source":"apache","extensions":["adp"]},"audio/amr":{"source":"iana","extensions":["amr"]},"audio/amr-wb":{"source":"iana"},"audio/amr-wb+":{"source":"iana"},"audio/aptx":{"source":"iana"},"audio/asc":{"source":"iana"},"audio/atrac-advanced-lossless":{"source":"iana"},"audio/atrac-x":{"source":"iana"},"audio/atrac3":{"source":"iana"},"audio/basic":{"source":"iana","compressible":false,"extensions":["au","snd"]},"audio/bv16":{"source":"iana"},"audio/bv32":{"source":"iana"},"audio/clearmode":{"source":"iana"},"audio/cn":{"source":"iana"},"audio/dat12":{"source":"iana"},"audio/dls":{"source":"iana"},"audio/dsr-es201108":{"source":"iana"},"audio/dsr-es202050":{"source":"iana"},"audio/dsr-es202211":{"source":"iana"},"audio/dsr-es202212":{"source":"iana"},"audio/dv":{"source":"iana"},"audio/dvi4":{"source":"iana"},"audio/eac3":{"source":"iana"},"audio/encaprtp":{"source":"iana"},"audio/evrc":{"source":"iana"},"audio/evrc-qcp":{"source":"iana"},"audio/evrc0":{"source":"iana"},"audio/evrc1":{"source":"iana"},"audio/evrcb":{"source":"iana"},"audio/evrcb0":{"source":"iana"},"audio/evrcb1":{"source":"iana"},"audio/evrcnw":{"source":"iana"},"audio/evrcnw0":{"source":"iana"},"audio/evrcnw1":{"source":"iana"},"audio/evrcwb":{"source":"iana"},"audio/evrcwb0":{"source":"iana"},"audio/evrcwb1":{"source":"iana"},"audio/evs":{"source":"iana"},"audio/flexfec":{"source":"iana"},"audio/fwdred":{"source":"iana"},"audio/g711-0":{"source":"iana"},"audio/g719":{"source":"iana"},"audio/g722":{"source":"iana"},"audio/g7221":{"source":"iana"},"audio/g723":{"source":"iana"},"audio/g726-16":{"source":"iana"},"audio/g726-24":{"source":"iana"},"audio/g726-32":{"source":"iana"},"audio/g726-40":{"source":"iana"},"audio/g728":{"source":"iana"},"audio/g729":{"source":"iana"},"audio/g7291":{"source":"iana"},"audio/g729d":{"source":"iana"},"audio/g729e":{"source":"iana"},"audio/gsm":{"source":"iana"},"audio/gsm-efr":{"source":"iana"},"audio/gsm-hr-08":{"source":"iana"},"audio/ilbc":{"source":"iana"},"audio/ip-mr_v2.5":{"source":"iana"},"audio/isac":{"source":"apache"},"audio/l16":{"source":"iana"},"audio/l20":{"source":"iana"},"audio/l24":{"source":"iana","compressible":false},"audio/l8":{"source":"iana"},"audio/lpc":{"source":"iana"},"audio/melp":{"source":"iana"},"audio/melp1200":{"source":"iana"},"audio/melp2400":{"source":"iana"},"audio/melp600":{"source":"iana"},"audio/mhas":{"source":"iana"},"audio/midi":{"source":"apache","extensions":["mid","midi","kar","rmi"]},"audio/mobile-xmf":{"source":"iana","extensions":["mxmf"]},"audio/mp3":{"compressible":false,"extensions":["mp3"]},"audio/mp4":{"source":"iana","compressible":false,"extensions":["m4a","mp4a"]},"audio/mp4a-latm":{"source":"iana"},"audio/mpa":{"source":"iana"},"audio/mpa-robust":{"source":"iana"},"audio/mpeg":{"source":"iana","compressible":false,"extensions":["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{"source":"iana"},"audio/musepack":{"source":"apache"},"audio/ogg":{"source":"iana","compressible":false,"extensions":["oga","ogg","spx","opus"]},"audio/opus":{"source":"iana"},"audio/parityfec":{"source":"iana"},"audio/pcma":{"source":"iana"},"audio/pcma-wb":{"source":"iana"},"audio/pcmu":{"source":"iana"},"audio/pcmu-wb":{"source":"iana"},"audio/prs.sid":{"source":"iana"},"audio/qcelp":{"source":"iana"},"audio/raptorfec":{"source":"iana"},"audio/red":{"source":"iana"},"audio/rtp-enc-aescm128":{"source":"iana"},"audio/rtp-midi":{"source":"iana"},"audio/rtploopback":{"source":"iana"},"audio/rtx":{"source":"iana"},"audio/s3m":{"source":"apache","extensions":["s3m"]},"audio/scip":{"source":"iana"},"audio/silk":{"source":"apache","extensions":["sil"]},"audio/smv":{"source":"iana"},"audio/smv-qcp":{"source":"iana"},"audio/smv0":{"source":"iana"},"audio/sofa":{"source":"iana"},"audio/sp-midi":{"source":"iana"},"audio/speex":{"source":"iana"},"audio/t140c":{"source":"iana"},"audio/t38":{"source":"iana"},"audio/telephone-event":{"source":"iana"},"audio/tetra_acelp":{"source":"iana"},"audio/tetra_acelp_bb":{"source":"iana"},"audio/tone":{"source":"iana"},"audio/tsvcis":{"source":"iana"},"audio/uemclip":{"source":"iana"},"audio/ulpfec":{"source":"iana"},"audio/usac":{"source":"iana"},"audio/vdvi":{"source":"iana"},"audio/vmr-wb":{"source":"iana"},"audio/vnd.3gpp.iufp":{"source":"iana"},"audio/vnd.4sb":{"source":"iana"},"audio/vnd.audiokoz":{"source":"iana"},"audio/vnd.celp":{"source":"iana"},"audio/vnd.cisco.nse":{"source":"iana"},"audio/vnd.cmles.radio-events":{"source":"iana"},"audio/vnd.cns.anp1":{"source":"iana"},"audio/vnd.cns.inf1":{"source":"iana"},"audio/vnd.dece.audio":{"source":"iana","extensions":["uva","uvva"]},"audio/vnd.digital-winds":{"source":"iana","extensions":["eol"]},"audio/vnd.dlna.adts":{"source":"iana"},"audio/vnd.dolby.heaac.1":{"source":"iana"},"audio/vnd.dolby.heaac.2":{"source":"iana"},"audio/vnd.dolby.mlp":{"source":"iana"},"audio/vnd.dolby.mps":{"source":"iana"},"audio/vnd.dolby.pl2":{"source":"iana"},"audio/vnd.dolby.pl2x":{"source":"iana"},"audio/vnd.dolby.pl2z":{"source":"iana"},"audio/vnd.dolby.pulse.1":{"source":"iana"},"audio/vnd.dra":{"source":"iana","extensions":["dra"]},"audio/vnd.dts":{"source":"iana","extensions":["dts"]},"audio/vnd.dts.hd":{"source":"iana","extensions":["dtshd"]},"audio/vnd.dts.uhd":{"source":"iana"},"audio/vnd.dvb.file":{"source":"iana"},"audio/vnd.everad.plj":{"source":"iana"},"audio/vnd.hns.audio":{"source":"iana"},"audio/vnd.lucent.voice":{"source":"iana","extensions":["lvp"]},"audio/vnd.ms-playready.media.pya":{"source":"iana","extensions":["pya"]},"audio/vnd.nokia.mobile-xmf":{"source":"iana"},"audio/vnd.nortel.vbk":{"source":"iana"},"audio/vnd.nuera.ecelp4800":{"source":"iana","extensions":["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{"source":"iana","extensions":["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{"source":"iana","extensions":["ecelp9600"]},"audio/vnd.octel.sbc":{"source":"iana"},"audio/vnd.presonus.multitrack":{"source":"iana"},"audio/vnd.qcelp":{"source":"iana"},"audio/vnd.rhetorex.32kadpcm":{"source":"iana"},"audio/vnd.rip":{"source":"iana","extensions":["rip"]},"audio/vnd.rn-realaudio":{"compressible":false},"audio/vnd.sealedmedia.softseal.mpeg":{"source":"iana"},"audio/vnd.vmx.cvsd":{"source":"iana"},"audio/vnd.wave":{"compressible":false},"audio/vorbis":{"source":"iana","compressible":false},"audio/vorbis-config":{"source":"iana"},"audio/wav":{"compressible":false,"extensions":["wav"]},"audio/wave":{"compressible":false,"extensions":["wav"]},"audio/webm":{"source":"apache","compressible":false,"extensions":["weba"]},"audio/x-aac":{"source":"apache","compressible":false,"extensions":["aac"]},"audio/x-aiff":{"source":"apache","extensions":["aif","aiff","aifc"]},"audio/x-caf":{"source":"apache","compressible":false,"extensions":["caf"]},"audio/x-flac":{"source":"apache","extensions":["flac"]},"audio/x-m4a":{"source":"nginx","extensions":["m4a"]},"audio/x-matroska":{"source":"apache","extensions":["mka"]},"audio/x-mpegurl":{"source":"apache","extensions":["m3u"]},"audio/x-ms-wax":{"source":"apache","extensions":["wax"]},"audio/x-ms-wma":{"source":"apache","extensions":["wma"]},"audio/x-pn-realaudio":{"source":"apache","extensions":["ram","ra"]},"audio/x-pn-realaudio-plugin":{"source":"apache","extensions":["rmp"]},"audio/x-realaudio":{"source":"nginx","extensions":["ra"]},"audio/x-tta":{"source":"apache"},"audio/x-wav":{"source":"apache","extensions":["wav"]},"audio/xm":{"source":"apache","extensions":["xm"]},"chemical/x-cdx":{"source":"apache","extensions":["cdx"]},"chemical/x-cif":{"source":"apache","extensions":["cif"]},"chemical/x-cmdf":{"source":"apache","extensions":["cmdf"]},"chemical/x-cml":{"source":"apache","extensions":["cml"]},"chemical/x-csml":{"source":"apache","extensions":["csml"]},"chemical/x-pdb":{"source":"apache"},"chemical/x-xyz":{"source":"apache","extensions":["xyz"]},"font/collection":{"source":"iana","extensions":["ttc"]},"font/otf":{"source":"iana","compressible":true,"extensions":["otf"]},"font/sfnt":{"source":"iana"},"font/ttf":{"source":"iana","compressible":true,"extensions":["ttf"]},"font/woff":{"source":"iana","extensions":["woff"]},"font/woff2":{"source":"iana","extensions":["woff2"]},"image/aces":{"source":"iana","extensions":["exr"]},"image/apng":{"compressible":false,"extensions":["apng"]},"image/avci":{"source":"iana","extensions":["avci"]},"image/avcs":{"source":"iana","extensions":["avcs"]},"image/avif":{"source":"iana","compressible":false,"extensions":["avif"]},"image/bmp":{"source":"iana","compressible":true,"extensions":["bmp"]},"image/cgm":{"source":"iana","extensions":["cgm"]},"image/dicom-rle":{"source":"iana","extensions":["drle"]},"image/emf":{"source":"iana","extensions":["emf"]},"image/fits":{"source":"iana","extensions":["fits"]},"image/g3fax":{"source":"iana","extensions":["g3"]},"image/gif":{"source":"iana","compressible":false,"extensions":["gif"]},"image/heic":{"source":"iana","extensions":["heic"]},"image/heic-sequence":{"source":"iana","extensions":["heics"]},"image/heif":{"source":"iana","extensions":["heif"]},"image/heif-sequence":{"source":"iana","extensions":["heifs"]},"image/hej2k":{"source":"iana","extensions":["hej2"]},"image/hsj2":{"source":"iana","extensions":["hsj2"]},"image/ief":{"source":"iana","extensions":["ief"]},"image/jls":{"source":"iana","extensions":["jls"]},"image/jp2":{"source":"iana","compressible":false,"extensions":["jp2","jpg2"]},"image/jpeg":{"source":"iana","compressible":false,"extensions":["jpeg","jpg","jpe"]},"image/jph":{"source":"iana","extensions":["jph"]},"image/jphc":{"source":"iana","extensions":["jhc"]},"image/jpm":{"source":"iana","compressible":false,"extensions":["jpm"]},"image/jpx":{"source":"iana","compressible":false,"extensions":["jpx","jpf"]},"image/jxr":{"source":"iana","extensions":["jxr"]},"image/jxra":{"source":"iana","extensions":["jxra"]},"image/jxrs":{"source":"iana","extensions":["jxrs"]},"image/jxs":{"source":"iana","extensions":["jxs"]},"image/jxsc":{"source":"iana","extensions":["jxsc"]},"image/jxsi":{"source":"iana","extensions":["jxsi"]},"image/jxss":{"source":"iana","extensions":["jxss"]},"image/ktx":{"source":"iana","extensions":["ktx"]},"image/ktx2":{"source":"iana","extensions":["ktx2"]},"image/naplps":{"source":"iana"},"image/pjpeg":{"compressible":false},"image/png":{"source":"iana","compressible":false,"extensions":["png"]},"image/prs.btif":{"source":"iana","extensions":["btif"]},"image/prs.pti":{"source":"iana","extensions":["pti"]},"image/pwg-raster":{"source":"iana"},"image/sgi":{"source":"apache","extensions":["sgi"]},"image/svg+xml":{"source":"iana","compressible":true,"extensions":["svg","svgz"]},"image/t38":{"source":"iana","extensions":["t38"]},"image/tiff":{"source":"iana","compressible":false,"extensions":["tif","tiff"]},"image/tiff-fx":{"source":"iana","extensions":["tfx"]},"image/vnd.adobe.photoshop":{"source":"iana","compressible":true,"extensions":["psd"]},"image/vnd.airzip.accelerator.azv":{"source":"iana","extensions":["azv"]},"image/vnd.cns.inf2":{"source":"iana"},"image/vnd.dece.graphic":{"source":"iana","extensions":["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{"source":"iana","extensions":["djvu","djv"]},"image/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"image/vnd.dwg":{"source":"iana","extensions":["dwg"]},"image/vnd.dxf":{"source":"iana","extensions":["dxf"]},"image/vnd.fastbidsheet":{"source":"iana","extensions":["fbs"]},"image/vnd.fpx":{"source":"iana","extensions":["fpx"]},"image/vnd.fst":{"source":"iana","extensions":["fst"]},"image/vnd.fujixerox.edmics-mmr":{"source":"iana","extensions":["mmr"]},"image/vnd.fujixerox.edmics-rlc":{"source":"iana","extensions":["rlc"]},"image/vnd.globalgraphics.pgb":{"source":"iana"},"image/vnd.microsoft.icon":{"source":"iana","compressible":true,"extensions":["ico"]},"image/vnd.mix":{"source":"iana"},"image/vnd.mozilla.apng":{"source":"iana"},"image/vnd.ms-dds":{"compressible":true,"extensions":["dds"]},"image/vnd.ms-modi":{"source":"iana","extensions":["mdi"]},"image/vnd.ms-photo":{"source":"apache","extensions":["wdp"]},"image/vnd.net-fpx":{"source":"iana","extensions":["npx"]},"image/vnd.pco.b16":{"source":"iana","extensions":["b16"]},"image/vnd.radiance":{"source":"iana"},"image/vnd.sealed.png":{"source":"iana"},"image/vnd.sealedmedia.softseal.gif":{"source":"iana"},"image/vnd.sealedmedia.softseal.jpg":{"source":"iana"},"image/vnd.svf":{"source":"iana"},"image/vnd.tencent.tap":{"source":"iana","extensions":["tap"]},"image/vnd.valve.source.texture":{"source":"iana","extensions":["vtf"]},"image/vnd.wap.wbmp":{"source":"iana","extensions":["wbmp"]},"image/vnd.xiff":{"source":"iana","extensions":["xif"]},"image/vnd.zbrush.pcx":{"source":"iana","extensions":["pcx"]},"image/webp":{"source":"apache","extensions":["webp"]},"image/wmf":{"source":"iana","extensions":["wmf"]},"image/x-3ds":{"source":"apache","extensions":["3ds"]},"image/x-cmu-raster":{"source":"apache","extensions":["ras"]},"image/x-cmx":{"source":"apache","extensions":["cmx"]},"image/x-freehand":{"source":"apache","extensions":["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{"source":"apache","compressible":true,"extensions":["ico"]},"image/x-jng":{"source":"nginx","extensions":["jng"]},"image/x-mrsid-image":{"source":"apache","extensions":["sid"]},"image/x-ms-bmp":{"source":"nginx","compressible":true,"extensions":["bmp"]},"image/x-pcx":{"source":"apache","extensions":["pcx"]},"image/x-pict":{"source":"apache","extensions":["pic","pct"]},"image/x-portable-anymap":{"source":"apache","extensions":["pnm"]},"image/x-portable-bitmap":{"source":"apache","extensions":["pbm"]},"image/x-portable-graymap":{"source":"apache","extensions":["pgm"]},"image/x-portable-pixmap":{"source":"apache","extensions":["ppm"]},"image/x-rgb":{"source":"apache","extensions":["rgb"]},"image/x-tga":{"source":"apache","extensions":["tga"]},"image/x-xbitmap":{"source":"apache","extensions":["xbm"]},"image/x-xcf":{"compressible":false},"image/x-xpixmap":{"source":"apache","extensions":["xpm"]},"image/x-xwindowdump":{"source":"apache","extensions":["xwd"]},"message/cpim":{"source":"iana"},"message/delivery-status":{"source":"iana"},"message/disposition-notification":{"source":"iana","extensions":["disposition-notification"]},"message/external-body":{"source":"iana"},"message/feedback-report":{"source":"iana"},"message/global":{"source":"iana","extensions":["u8msg"]},"message/global-delivery-status":{"source":"iana","extensions":["u8dsn"]},"message/global-disposition-notification":{"source":"iana","extensions":["u8mdn"]},"message/global-headers":{"source":"iana","extensions":["u8hdr"]},"message/http":{"source":"iana","compressible":false},"message/imdn+xml":{"source":"iana","compressible":true},"message/news":{"source":"iana"},"message/partial":{"source":"iana","compressible":false},"message/rfc822":{"source":"iana","compressible":true,"extensions":["eml","mime"]},"message/s-http":{"source":"iana"},"message/sip":{"source":"iana"},"message/sipfrag":{"source":"iana"},"message/tracking-status":{"source":"iana"},"message/vnd.si.simp":{"source":"iana"},"message/vnd.wfa.wsc":{"source":"iana","extensions":["wsc"]},"model/3mf":{"source":"iana","extensions":["3mf"]},"model/e57":{"source":"iana"},"model/gltf+json":{"source":"iana","compressible":true,"extensions":["gltf"]},"model/gltf-binary":{"source":"iana","compressible":true,"extensions":["glb"]},"model/iges":{"source":"iana","compressible":false,"extensions":["igs","iges"]},"model/mesh":{"source":"iana","compressible":false,"extensions":["msh","mesh","silo"]},"model/mtl":{"source":"iana","extensions":["mtl"]},"model/obj":{"source":"iana","extensions":["obj"]},"model/step":{"source":"iana"},"model/step+xml":{"source":"iana","compressible":true,"extensions":["stpx"]},"model/step+zip":{"source":"iana","compressible":false,"extensions":["stpz"]},"model/step-xml+zip":{"source":"iana","compressible":false,"extensions":["stpxz"]},"model/stl":{"source":"iana","extensions":["stl"]},"model/vnd.collada+xml":{"source":"iana","compressible":true,"extensions":["dae"]},"model/vnd.dwf":{"source":"iana","extensions":["dwf"]},"model/vnd.flatland.3dml":{"source":"iana"},"model/vnd.gdl":{"source":"iana","extensions":["gdl"]},"model/vnd.gs-gdl":{"source":"apache"},"model/vnd.gs.gdl":{"source":"iana"},"model/vnd.gtw":{"source":"iana","extensions":["gtw"]},"model/vnd.moml+xml":{"source":"iana","compressible":true},"model/vnd.mts":{"source":"iana","extensions":["mts"]},"model/vnd.opengex":{"source":"iana","extensions":["ogex"]},"model/vnd.parasolid.transmit.binary":{"source":"iana","extensions":["x_b"]},"model/vnd.parasolid.transmit.text":{"source":"iana","extensions":["x_t"]},"model/vnd.pytha.pyox":{"source":"iana"},"model/vnd.rosette.annotated-data-model":{"source":"iana"},"model/vnd.sap.vds":{"source":"iana","extensions":["vds"]},"model/vnd.usdz+zip":{"source":"iana","compressible":false,"extensions":["usdz"]},"model/vnd.valve.source.compiled-map":{"source":"iana","extensions":["bsp"]},"model/vnd.vtu":{"source":"iana","extensions":["vtu"]},"model/vrml":{"source":"iana","compressible":false,"extensions":["wrl","vrml"]},"model/x3d+binary":{"source":"apache","compressible":false,"extensions":["x3db","x3dbz"]},"model/x3d+fastinfoset":{"source":"iana","extensions":["x3db"]},"model/x3d+vrml":{"source":"apache","compressible":false,"extensions":["x3dv","x3dvz"]},"model/x3d+xml":{"source":"iana","compressible":true,"extensions":["x3d","x3dz"]},"model/x3d-vrml":{"source":"iana","extensions":["x3dv"]},"multipart/alternative":{"source":"iana","compressible":false},"multipart/appledouble":{"source":"iana"},"multipart/byteranges":{"source":"iana"},"multipart/digest":{"source":"iana"},"multipart/encrypted":{"source":"iana","compressible":false},"multipart/form-data":{"source":"iana","compressible":false},"multipart/header-set":{"source":"iana"},"multipart/mixed":{"source":"iana"},"multipart/multilingual":{"source":"iana"},"multipart/parallel":{"source":"iana"},"multipart/related":{"source":"iana","compressible":false},"multipart/report":{"source":"iana"},"multipart/signed":{"source":"iana","compressible":false},"multipart/vnd.bint.med-plus":{"source":"iana"},"multipart/voice-message":{"source":"iana"},"multipart/x-mixed-replace":{"source":"iana"},"text/1d-interleaved-parityfec":{"source":"iana"},"text/cache-manifest":{"source":"iana","compressible":true,"extensions":["appcache","manifest"]},"text/calendar":{"source":"iana","extensions":["ics","ifb"]},"text/calender":{"compressible":true},"text/cmd":{"compressible":true},"text/coffeescript":{"extensions":["coffee","litcoffee"]},"text/cql":{"source":"iana"},"text/cql-expression":{"source":"iana"},"text/cql-identifier":{"source":"iana"},"text/css":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["css"]},"text/csv":{"source":"iana","compressible":true,"extensions":["csv"]},"text/csv-schema":{"source":"iana"},"text/directory":{"source":"iana"},"text/dns":{"source":"iana"},"text/ecmascript":{"source":"iana"},"text/encaprtp":{"source":"iana"},"text/enriched":{"source":"iana"},"text/fhirpath":{"source":"iana"},"text/flexfec":{"source":"iana"},"text/fwdred":{"source":"iana"},"text/gff3":{"source":"iana"},"text/grammar-ref-list":{"source":"iana"},"text/html":{"source":"iana","compressible":true,"extensions":["html","htm","shtml"]},"text/jade":{"extensions":["jade"]},"text/javascript":{"source":"iana","compressible":true},"text/jcr-cnd":{"source":"iana"},"text/jsx":{"compressible":true,"extensions":["jsx"]},"text/less":{"compressible":true,"extensions":["less"]},"text/markdown":{"source":"iana","compressible":true,"extensions":["markdown","md"]},"text/mathml":{"source":"nginx","extensions":["mml"]},"text/mdx":{"compressible":true,"extensions":["mdx"]},"text/mizar":{"source":"iana"},"text/n3":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["n3"]},"text/parameters":{"source":"iana","charset":"UTF-8"},"text/parityfec":{"source":"iana"},"text/plain":{"source":"iana","compressible":true,"extensions":["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{"source":"iana","charset":"UTF-8"},"text/prs.fallenstein.rst":{"source":"iana"},"text/prs.lines.tag":{"source":"iana","extensions":["dsc"]},"text/prs.prop.logic":{"source":"iana"},"text/raptorfec":{"source":"iana"},"text/red":{"source":"iana"},"text/rfc822-headers":{"source":"iana"},"text/richtext":{"source":"iana","compressible":true,"extensions":["rtx"]},"text/rtf":{"source":"iana","compressible":true,"extensions":["rtf"]},"text/rtp-enc-aescm128":{"source":"iana"},"text/rtploopback":{"source":"iana"},"text/rtx":{"source":"iana"},"text/sgml":{"source":"iana","extensions":["sgml","sgm"]},"text/shaclc":{"source":"iana"},"text/shex":{"source":"iana","extensions":["shex"]},"text/slim":{"extensions":["slim","slm"]},"text/spdx":{"source":"iana","extensions":["spdx"]},"text/strings":{"source":"iana"},"text/stylus":{"extensions":["stylus","styl"]},"text/t140":{"source":"iana"},"text/tab-separated-values":{"source":"iana","compressible":true,"extensions":["tsv"]},"text/troff":{"source":"iana","extensions":["t","tr","roff","man","me","ms"]},"text/turtle":{"source":"iana","charset":"UTF-8","extensions":["ttl"]},"text/ulpfec":{"source":"iana"},"text/uri-list":{"source":"iana","compressible":true,"extensions":["uri","uris","urls"]},"text/vcard":{"source":"iana","compressible":true,"extensions":["vcard"]},"text/vnd.a":{"source":"iana"},"text/vnd.abc":{"source":"iana"},"text/vnd.ascii-art":{"source":"iana"},"text/vnd.curl":{"source":"iana","extensions":["curl"]},"text/vnd.curl.dcurl":{"source":"apache","extensions":["dcurl"]},"text/vnd.curl.mcurl":{"source":"apache","extensions":["mcurl"]},"text/vnd.curl.scurl":{"source":"apache","extensions":["scurl"]},"text/vnd.debian.copyright":{"source":"iana","charset":"UTF-8"},"text/vnd.dmclientscript":{"source":"iana"},"text/vnd.dvb.subtitle":{"source":"iana","extensions":["sub"]},"text/vnd.esmertec.theme-descriptor":{"source":"iana","charset":"UTF-8"},"text/vnd.familysearch.gedcom":{"source":"iana","extensions":["ged"]},"text/vnd.ficlab.flt":{"source":"iana"},"text/vnd.fly":{"source":"iana","extensions":["fly"]},"text/vnd.fmi.flexstor":{"source":"iana","extensions":["flx"]},"text/vnd.gml":{"source":"iana"},"text/vnd.graphviz":{"source":"iana","extensions":["gv"]},"text/vnd.hans":{"source":"iana"},"text/vnd.hgl":{"source":"iana"},"text/vnd.in3d.3dml":{"source":"iana","extensions":["3dml"]},"text/vnd.in3d.spot":{"source":"iana","extensions":["spot"]},"text/vnd.iptc.newsml":{"source":"iana"},"text/vnd.iptc.nitf":{"source":"iana"},"text/vnd.latex-z":{"source":"iana"},"text/vnd.motorola.reflex":{"source":"iana"},"text/vnd.ms-mediapackage":{"source":"iana"},"text/vnd.net2phone.commcenter.command":{"source":"iana"},"text/vnd.radisys.msml-basic-layout":{"source":"iana"},"text/vnd.senx.warpscript":{"source":"iana"},"text/vnd.si.uricatalogue":{"source":"iana"},"text/vnd.sosi":{"source":"iana"},"text/vnd.sun.j2me.app-descriptor":{"source":"iana","charset":"UTF-8","extensions":["jad"]},"text/vnd.trolltech.linguist":{"source":"iana","charset":"UTF-8"},"text/vnd.wap.si":{"source":"iana"},"text/vnd.wap.sl":{"source":"iana"},"text/vnd.wap.wml":{"source":"iana","extensions":["wml"]},"text/vnd.wap.wmlscript":{"source":"iana","extensions":["wmls"]},"text/vtt":{"source":"iana","charset":"UTF-8","compressible":true,"extensions":["vtt"]},"text/x-asm":{"source":"apache","extensions":["s","asm"]},"text/x-c":{"source":"apache","extensions":["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{"source":"nginx","extensions":["htc"]},"text/x-fortran":{"source":"apache","extensions":["f","for","f77","f90"]},"text/x-gwt-rpc":{"compressible":true},"text/x-handlebars-template":{"extensions":["hbs"]},"text/x-java-source":{"source":"apache","extensions":["java"]},"text/x-jquery-tmpl":{"compressible":true},"text/x-lua":{"extensions":["lua"]},"text/x-markdown":{"compressible":true,"extensions":["mkd"]},"text/x-nfo":{"source":"apache","extensions":["nfo"]},"text/x-opml":{"source":"apache","extensions":["opml"]},"text/x-org":{"compressible":true,"extensions":["org"]},"text/x-pascal":{"source":"apache","extensions":["p","pas"]},"text/x-processing":{"compressible":true,"extensions":["pde"]},"text/x-sass":{"extensions":["sass"]},"text/x-scss":{"extensions":["scss"]},"text/x-setext":{"source":"apache","extensions":["etx"]},"text/x-sfv":{"source":"apache","extensions":["sfv"]},"text/x-suse-ymp":{"compressible":true,"extensions":["ymp"]},"text/x-uuencode":{"source":"apache","extensions":["uu"]},"text/x-vcalendar":{"source":"apache","extensions":["vcs"]},"text/x-vcard":{"source":"apache","extensions":["vcf"]},"text/xml":{"source":"iana","compressible":true,"extensions":["xml"]},"text/xml-external-parsed-entity":{"source":"iana"},"text/yaml":{"compressible":true,"extensions":["yaml","yml"]},"video/1d-interleaved-parityfec":{"source":"iana"},"video/3gpp":{"source":"iana","extensions":["3gp","3gpp"]},"video/3gpp-tt":{"source":"iana"},"video/3gpp2":{"source":"iana","extensions":["3g2"]},"video/av1":{"source":"iana"},"video/bmpeg":{"source":"iana"},"video/bt656":{"source":"iana"},"video/celb":{"source":"iana"},"video/dv":{"source":"iana"},"video/encaprtp":{"source":"iana"},"video/ffv1":{"source":"iana"},"video/flexfec":{"source":"iana"},"video/h261":{"source":"iana","extensions":["h261"]},"video/h263":{"source":"iana","extensions":["h263"]},"video/h263-1998":{"source":"iana"},"video/h263-2000":{"source":"iana"},"video/h264":{"source":"iana","extensions":["h264"]},"video/h264-rcdo":{"source":"iana"},"video/h264-svc":{"source":"iana"},"video/h265":{"source":"iana"},"video/iso.segment":{"source":"iana","extensions":["m4s"]},"video/jpeg":{"source":"iana","extensions":["jpgv"]},"video/jpeg2000":{"source":"iana"},"video/jpm":{"source":"apache","extensions":["jpm","jpgm"]},"video/jxsv":{"source":"iana"},"video/mj2":{"source":"iana","extensions":["mj2","mjp2"]},"video/mp1s":{"source":"iana"},"video/mp2p":{"source":"iana"},"video/mp2t":{"source":"iana","extensions":["ts"]},"video/mp4":{"source":"iana","compressible":false,"extensions":["mp4","mp4v","mpg4"]},"video/mp4v-es":{"source":"iana"},"video/mpeg":{"source":"iana","compressible":false,"extensions":["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{"source":"iana"},"video/mpv":{"source":"iana"},"video/nv":{"source":"iana"},"video/ogg":{"source":"iana","compressible":false,"extensions":["ogv"]},"video/parityfec":{"source":"iana"},"video/pointer":{"source":"iana"},"video/quicktime":{"source":"iana","compressible":false,"extensions":["qt","mov"]},"video/raptorfec":{"source":"iana"},"video/raw":{"source":"iana"},"video/rtp-enc-aescm128":{"source":"iana"},"video/rtploopback":{"source":"iana"},"video/rtx":{"source":"iana"},"video/scip":{"source":"iana"},"video/smpte291":{"source":"iana"},"video/smpte292m":{"source":"iana"},"video/ulpfec":{"source":"iana"},"video/vc1":{"source":"iana"},"video/vc2":{"source":"iana"},"video/vnd.cctv":{"source":"iana"},"video/vnd.dece.hd":{"source":"iana","extensions":["uvh","uvvh"]},"video/vnd.dece.mobile":{"source":"iana","extensions":["uvm","uvvm"]},"video/vnd.dece.mp4":{"source":"iana"},"video/vnd.dece.pd":{"source":"iana","extensions":["uvp","uvvp"]},"video/vnd.dece.sd":{"source":"iana","extensions":["uvs","uvvs"]},"video/vnd.dece.video":{"source":"iana","extensions":["uvv","uvvv"]},"video/vnd.directv.mpeg":{"source":"iana"},"video/vnd.directv.mpeg-tts":{"source":"iana"},"video/vnd.dlna.mpeg-tts":{"source":"iana"},"video/vnd.dvb.file":{"source":"iana","extensions":["dvb"]},"video/vnd.fvt":{"source":"iana","extensions":["fvt"]},"video/vnd.hns.video":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.1dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-1010":{"source":"iana"},"video/vnd.iptvforum.2dparityfec-2005":{"source":"iana"},"video/vnd.iptvforum.ttsavc":{"source":"iana"},"video/vnd.iptvforum.ttsmpeg2":{"source":"iana"},"video/vnd.motorola.video":{"source":"iana"},"video/vnd.motorola.videop":{"source":"iana"},"video/vnd.mpegurl":{"source":"iana","extensions":["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{"source":"iana","extensions":["pyv"]},"video/vnd.nokia.interleaved-multimedia":{"source":"iana"},"video/vnd.nokia.mp4vr":{"source":"iana"},"video/vnd.nokia.videovoip":{"source":"iana"},"video/vnd.objectvideo":{"source":"iana"},"video/vnd.radgamettools.bink":{"source":"iana"},"video/vnd.radgamettools.smacker":{"source":"iana"},"video/vnd.sealed.mpeg1":{"source":"iana"},"video/vnd.sealed.mpeg4":{"source":"iana"},"video/vnd.sealed.swf":{"source":"iana"},"video/vnd.sealedmedia.softseal.mov":{"source":"iana"},"video/vnd.uvvu.mp4":{"source":"iana","extensions":["uvu","uvvu"]},"video/vnd.vivo":{"source":"iana","extensions":["viv"]},"video/vnd.youtube.yt":{"source":"iana"},"video/vp8":{"source":"iana"},"video/vp9":{"source":"iana"},"video/webm":{"source":"apache","compressible":false,"extensions":["webm"]},"video/x-f4v":{"source":"apache","extensions":["f4v"]},"video/x-fli":{"source":"apache","extensions":["fli"]},"video/x-flv":{"source":"apache","compressible":false,"extensions":["flv"]},"video/x-m4v":{"source":"apache","extensions":["m4v"]},"video/x-matroska":{"source":"apache","compressible":false,"extensions":["mkv","mk3d","mks"]},"video/x-mng":{"source":"apache","extensions":["mng"]},"video/x-ms-asf":{"source":"apache","extensions":["asf","asx"]},"video/x-ms-vob":{"source":"apache","extensions":["vob"]},"video/x-ms-wm":{"source":"apache","extensions":["wm"]},"video/x-ms-wmv":{"source":"apache","compressible":false,"extensions":["wmv"]},"video/x-ms-wmx":{"source":"apache","extensions":["wmx"]},"video/x-ms-wvx":{"source":"apache","extensions":["wvx"]},"video/x-msvideo":{"source":"apache","extensions":["avi"]},"video/x-sgi-movie":{"source":"apache","extensions":["movie"]},"video/x-smv":{"source":"apache","extensions":["smv"]},"x-conference/x-cooltalk":{"source":"apache","extensions":["ice"]},"x-shader/x-fragment":{"compressible":true},"x-shader/x-vertex":{"compressible":true}}')},53733:e=>{"use strict";e.exports={rE:"4.7.5"}},62208:e=>{"use strict";e.exports=JSON.parse('{"add_face":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":"[[lay]](https://famibee.github.io/SKYNovel/tag.html#lay)face"},{"name":"fn","required":"","def":"name","rangetype":"","comment":"png"},{"name":"dx","required":"","def":"0","rangetype":"","comment":""},{"name":"dy","required":"","def":"0","rangetype":"","comment":""},{"name":"blendmode","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"add_face","txt":"add_face name=${1{{}}}"}],"detail":"[[lay]](https://famibee.github.io/SKYNovel/tag.html#lay)face\\n\\n\\n### \\n~~~skynovel\\n[add_face name=a_normal fn= dx=0 dy=0]\\n[add_face name=a_10_10 fn= dx=10 dy=10]\\n[add_face name=a_screen fn= dx=0 dy=0 blendmode=screen]\\n~~~\\nname\\n\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_lay_face)"},"add_filter":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":""},{"name":"page","required":"","def":"fore","rangetype":"forebackboth","comment":"both"},{"name":"filter","required":"y","def":"","rangetype":"","comment":""},{"name":"enabled","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"add_filter","txt":"add_filter layer=${1{{}}} page=${2|fore,back,both|} filter=${3{{}}}"}],"detail":""},"add_frame":{"sum":"  \\nHTML","param":[{"name":"id","required":"y","def":"","rangetype":"","comment":""},{"name":"src","required":"y","def":"","rangetype":"HTML","comment":"htmlfn"},{"name":"alpha","required":"","def":"1.0","rangetype":"0.01.0","comment":"00.51"},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"rotate","required":"","def":"0","rangetype":"-360360","comment":""},{"name":"visible","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"b_color","required":"","def":"","rangetype":"0x000000","comment":" html"},{"name":"x","required":"","def":"0","rangetype":"","comment":""},{"name":"y","required":"","def":"0","rangetype":"","comment":""},{"name":"width","required":"","def":"","rangetype":"1","comment":""},{"name":"height","required":"","def":"","rangetype":"1","comment":""}],"snippet":[{"nm":"add_frame","txt":"add_frame id=${1{{}}} src=${2{{HTML}}} visible=${3|true,false|}"}],"detail":"$(warning) HTML iframe   \\nconst.sn.frm.\\n\\n### \\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n$(play)[HTML](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"add_lay":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"class","required":"y","def":"","rangetype":"grptxt","comment":"grptxt"}],"snippet":[{"nm":"add_lay","txt":"add_lay layer=${1:} class=${2|grp,txt|}"}],"detail":"### \\n~~~skynovel\\n[add_lay layer=base class=grp]\\n[add_lay layer=0 class=grp]\\n[add_lay layer=mes class=txt]\\n~~~"},"autowc":{"sum":"  \\n\\ntexttime\\ntime","param":[{"name":"enabled","required":"","def":"","rangetype":"truefalse","comment":"false"},{"name":"text","required":"","def":"","rangetype":"","comment":""},{"name":"time","required":"","def":"","rangetype":"0","comment":""}],"snippet":[{"nm":"autowc","txt":"autowc enabled=${1|true,false|} text=${2:\'\'} time=${3:\'50,100\'}"}],"detail":"\\n\\n### \\n~~~skynovel\\n[autowc enabled=true text=\\"\\" time=\\"50,100,150\\"]\\n[autowc enabled=true text=\\"\\" time=\\"100,100,100\\"]\\n[autowc enabled=false]\\n~~~\\n\\n\\n### \\n~~~skynovel\\n;x [autowc enabled=true text=\\"\\" time=\\"100,100\\"]\\n;x [autowc enabled=true text=\\"\\" time=\\"100,100,100,100\\"]\\n;x [autowc enabled=true text=\\"\\"]\\n;x [autowc enabled=true time=\\"100,100,100\\"]\\n;x [autowc enabled=true]\\n;x [autowc enabled=true text=\\"\\" time=\\"\\"]\\n;x [autowc text=\\"\\" time=\\"\\"]\\n~~~"},"bracket2macro":{"sum":"  \\ntext","param":[{"name":"text","required":"y","def":"","rangetype":"","comment":";[]=&  \\n/[\\\\w\\\\s;[]=&]/  \\n"},{"name":"name","required":"y","def":"","rangetype":"","comment":"  \\n[[macro]](https://famibee.github.io/SKYNovel/tag.html#macro)  \\ntext text"}],"snippet":[{"nm":"bracket2macro","txt":"bracket2macro text=${1:} name=${2{{}}}"}],"detail":"\\n\\n\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=log_and_play)"},"button":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"back","rangetype":"foreback","comment":""},{"name":"pic","required":"y","def":"","rangetype":"","comment":"  \\n"},{"name":"text","required":"...","def":"","rangetype":"","comment":"  \\npictext"},{"name":"b_pic","required":"","def":"","rangetype":"","comment":""},{"name":"width","required":"","def":"100","rangetype":"1","comment":"1/3"},{"name":"height","required":"","def":"30","rangetype":"1","comment":"1/3  \\n"},{"name":"style","required":"","def":"","rangetype":"PIXI TextStyleJSON","comment":""},{"name":"style_hover","required":"","def":"","rangetype":"PIXI TextStyleJSON","comment":"  \\nstyle"},{"name":"style_clicked","required":"","def":"","rangetype":"PIXI TextStyleJSON","comment":"  \\nstyle"},{"name":"alpha","required":"","def":"1.0","rangetype":"0.01.0","comment":"00.51"},{"name":"left","required":"","def":"0","rangetype":"","comment":""},{"name":"top","required":"","def":"0","rangetype":"","comment":"[[lay]](https://famibee.github.io/SKYNovel/tag.html#lay)"},{"name":"rotation","required":"","def":"0","rangetype":"-180180","comment":"01800-180 "},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"pivot_x","required":"","def":"0.0","rangetype":"","comment":""},{"name":"pivot_y","required":"","def":"0.0","rangetype":"","comment":""},{"name":"enabled","required":"","def":"true","rangetype":"truefalse","comment":"false  \\n  \\n"},{"name":"call","required":"","def":"false","rangetype":"truefalse","comment":"true[[call]](https://famibee.github.io/SKYNovel/tag.html#call)false[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)  \\ncall=true[[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"fn","required":"","def":"","rangetype":"","comment":""},{"name":"label","required":"","def":"","rangetype":"","comment":"","undefined":"&sn.eventLabel"},{"name":"url","required":"y","def":"fnlabel ","rangetype":"URL","comment":"URL fnlabel "},{"name":"global","required":"","def":"false","rangetype":"truefalse","comment":"[[event]](https://famibee.github.io/SKYNovel/tag.html#event)  \\n[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)true"},{"name":"arg","required":"","def":"","rangetype":"","comment":"&sn.eventArg"},{"name":"onenter","required":"","def":"","rangetype":"","comment":" [[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"onleave","required":"","def":"","rangetype":"","comment":" [[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"clickse","required":"","def":"","rangetype":"","comment":""},{"name":"enterse","required":"","def":"","rangetype":"","comment":""},{"name":"leavese","required":"","def":"","rangetype":"","comment":""},{"name":"clicksebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"entersebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"leavesebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"blendmode","required":"","def":"","rangetype":"","comment":""},{"name":"hint","required":"","def":"","rangetype":"","comment":""},{"name":"hint_style","required":"","def":"","rangetype":"CSS style","comment":"hint CSS"},{"name":"hint_opt","required":"","def":"","rangetype":"","comment":"@popperjs/core"}],"snippet":[{"nm":"button","txt":"button text=${1:} left=${2:0} top=${3:0} ${4{{}}}"}],"detail":"[[record_place]](https://famibee.github.io/SKYNovel/tag.html#record_place)\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ch_button)"},"call":{"sum":"  \\n","param":[{"name":"fn","required":"","def":"","rangetype":"","comment":"[call fn=ext_*]"},{"name":"label","required":"","def":"","rangetype":"","comment":"","undefined":"&sn.eventLabel"},{"name":"count","required":"","def":"false","rangetype":"truefalse","comment":""},{"name":"clear_local_event","required":"","def":"","rangetype":"truefalse","comment":"true[[clear_event]](https://famibee.github.io/SKYNovel/tag.html#clear_event)"}],"snippet":[{"nm":"call","txt":"call ${1{{}}}"}],"detail":"[[return]](https://famibee.github.io/SKYNovel/tag.html#return)\\n\\n$(info)"},"ch":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":" [[r]](https://famibee.github.io/SKYNovel/tag.html#r) "},{"name":"record","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n  \\n[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)style[span style=\'\'][[span]](https://famibee.github.io/SKYNovel/tag.html#span)"},{"name":"ch_in_style","required":"","def":"","rangetype":"","comment":"[[ch_in_style]](https://famibee.github.io/SKYNovel/tag.html#ch_in_style)"},{"name":"ch_out_style","required":"","def":"","rangetype":"","comment":"[[ch_out_style]](https://famibee.github.io/SKYNovel/tag.html#ch_out_style)"}],"snippet":[{"nm":"ch","txt":"ch layer=${1{{}}} page=${2|fore,back|} text=${3:} ch_in_style=${4{{}}} ch_out_style=${5{{}}}"}],"detail":"[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)\\n\\n[ch text=&test]\\n[ch text=test]\\n[ch text=\\"&a + b\\"]\\n\\n&&[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)\\n&test&\\n&\'test\'&\\n&a + b&\\n\\n&\\n[ch text=\\"&\'&\'\\"]\\n\\n[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)style\\n\\n\\n[span style=\'background-image: linear-gradient(70deg, tomato 0%, lightskyblue 100%); border-radius: 8px;\']SPAN[[span]](https://famibee.github.io/SKYNovel/tag.html#span)\\n[ch text=\'CH\' style=\'background-image: linear-gradient(70deg, tomato 0%, lightskyblue 100%); border-radius: 8px;\']"},"ch_in_style":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"wait","required":"","def":"500","rangetype":"0","comment":"0"},{"name":"alpha","required":"","def":"0.0","rangetype":"0.01.0","comment":"00.51"},{"name":"x","required":"","def":"\'=0\'","rangetype":"","comment":"  \\n500 X500  \\n\'=500\' +500  \\n\'=-500\' -500"},{"name":"y","required":"","def":"\'=0\'","rangetype":"","comment":""},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"rotate","required":"","def":"0","rangetype":"-360360","comment":""},{"name":"join","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"ease","required":"","def":"\'ease-out\'","rangetype":"animation-timing-function","comment":"[CSSanimation-timing-function ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)"}],"snippet":[{"nm":"ch_in_style","txt":"ch_in_style name=${1:} wait=${2:500}"}],"detail":"[[lay]](https://famibee.github.io/SKYNovel/tag.html#lay)[[span]](https://famibee.github.io/SKYNovel/tag.html#span) ch_in_style\\n[CSSanimation-timing-function ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ch_in_out)"},"ch_out_style":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"wait","required":"","def":"500","rangetype":"0","comment":"0"},{"name":"alpha","required":"","def":"0.0","rangetype":"0.01.0","comment":"00.51"},{"name":"x","required":"","def":"\'=0\'","rangetype":"","comment":"  \\n500 X500  \\n\'=500\' +500  \\n\'=-500\' -500"},{"name":"y","required":"","def":"\'=0\'","rangetype":"","comment":""},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"rotate","required":"","def":"0","rangetype":"-360360","comment":""},{"name":"join","required":"","def":"false","rangetype":"truefalse","comment":"truefalse"},{"name":"ease","required":"","def":"\'ease-out\'","rangetype":"animation-timing-function","comment":"[CSSanimation-timing-function ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)"}],"snippet":[{"nm":"ch_out_style","txt":"ch_out_style name=${1:} wait=${2:500}"}],"detail":"[[lay]](https://famibee.github.io/SKYNovel/tag.html#lay)[[span]](https://famibee.github.io/SKYNovel/tag.html#span) ch_out_style  \\n[[wait]](https://famibee.github.io/SKYNovel/tag.html#wait)\\n[CSSanimation-timing-function ](https://developer.mozilla.org/ja/docs/Web/CSS/animation-timing-function)\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ch_in_out)"},"char2macro":{"sum":"  \\n","param":[{"name":"char","required":"y","def":"","rangetype":"","comment":"  \\n;[]=&  \\n/[\\\\w\\\\s;[]=&]/  \\n"},{"name":"name","required":"y","def":"","rangetype":"","comment":"  \\n[[macro]](https://famibee.github.io/SKYNovel/tag.html#macro)"}],"snippet":[{"nm":"char2macro","txt":"char2macro char=${1:} name=${2{{}}}"}],"detail":"\\n\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=txt_back)"},"clear_event":{"sum":"  \\n","param":[{"name":"global","required":"","def":"false","rangetype":"truefalse","comment":"true  \\nfalse"}],"snippet":[{"nm":"clear_event","txt":"clear_event global=${1|false,true|}"}],"detail":""},"clear_filter":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":""},{"name":"page","required":"","def":"fore","rangetype":"forebackboth","comment":"both"}],"snippet":[{"nm":"clear_filter","txt":"clear_filter layer=${1{{}}} page=${2|fore,back,both|}"}],"detail":""},"clear_lay":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":""},{"name":"page","required":"","def":"fore","rangetype":"forebackboth","comment":"both"},{"name":"clear_filter","required":"","def":"false","rangetype":"truefalse","comment":"true"}],"snippet":[{"nm":"clear_lay","txt":"clear_lay layer=${1{{}}} page=${2|fore,back,both|}"}],"detail":"alphablendModerotationscaleXscaleY\\nb_colorb_alpha [lay back_clear=true]"},"clear_text":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""}],"snippet":[{"nm":"clear_text","txt":"clear_text layer=${1{{}}} page=${2|fore,back|}"}],"detail":""},"clearsysvar":{"sum":"  \\nsys:","param":[],"snippet":[{"nm":"clearsysvar","txt":"clearsysvar"}],"detail":""},"clearvar":{"sum":"   \\nsave:","param":[],"snippet":[{"nm":"clearvar","txt":"clearvar"}],"detail":""},"close":{"sum":"  \\n","param":[],"snippet":[{"nm":"close","txt":"close"}],"detail":""},"copybookmark":{"sum":"  \\n","param":[{"name":"from","required":"y","def":"","rangetype":"0","comment":""},{"name":"to","required":"y","def":"","rangetype":"0","comment":""}],"snippet":[{"nm":"copybookmark","txt":"copybookmark from=${1:} to=${2:}"}],"detail":""},"current":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"current","txt":"current layer=${1{{}}}"}],"detail":""},"dump_lay":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"dump_lay","txt":"dump_lay layer=${1{{}}}"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"dump_script":{"sum":"  \\nAPI","param":[{"name":"set_fnc","required":"y","def":"","rangetype":"GlobalThis","comment":"...API"},{"name":"need_err","required":"","def":"true","rangetype":"truefalse","comment":"HTMLset_fnc"}],"snippet":[{"nm":"dump_script","txt":"dump_script"}],"detail":""},"dump_stack":{"sum":"  \\n[call]","param":[],"snippet":[{"nm":"dump_stack","txt":"dump_stack"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"dump_val":{"sum":"  \\n","param":[],"snippet":[{"nm":"dump_val","txt":"dump_val"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=debug)"},"else":{"sum":"if  \\nelse\\n","param":[],"snippet":[{"nm":"else","txt":"else"}],"detail":""},"elsif":{"sum":"if  \\nelsif\\n","param":[{"name":"exp","required":"y","def":"","rangetype":"","comment":"true  \\nfalse[[elsif]](https://famibee.github.io/SKYNovel/tag.html#elsif)[[else]](https://famibee.github.io/SKYNovel/tag.html#else)"}],"snippet":[{"nm":"elsif","txt":"elsif exp=${1:Boolean}"}],"detail":""},"enable_event":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"enabled","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"enable_event","txt":"enable_event global=${1|false,true|}"}],"detail":"[[s]](https://famibee.github.io/SKYNovel/tag.html#s) "},"enable_filter":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":""},{"name":"page","required":"","def":"fore","rangetype":"forebackboth","comment":"both"},{"name":"index","required":"","def":"0","rangetype":"0","comment":"  \\n01index"},{"name":"enabled","required":"true","def":"truefalse","rangetype":""}],"snippet":[{"nm":"enable_filter","txt":"enable_filter layer=${1{{}}} page=${2|fore,back,both|} index=${3:} enabled=${4|true,false|}"}],"detail":""},"endif":{"sum":"if  \\nendif\\n","param":[],"snippet":[{"nm":"endif","txt":"endif"}],"detail":""},"endlet_ml":{"sum":"  \\n[let_ml][endlet_ml]","param":[],"snippet":[{"nm":"endlet_ml","txt":"endlet_ml"}],"detail":""},"endlink":{"sum":"  \\n[link]","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""}],"snippet":[{"nm":"endlink","txt":"endlink layer=${1{{}}} page=${2|fore,back|}"}],"detail":""},"endmacro":{"sum":"  \\n[macro][endmacro]","param":[],"snippet":[{"nm":"endmacro","txt":"endmacro"}],"detail":""},"er":{"sum":"  \\n[clear_lay]","param":[{"name":"rec_page_break","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"clear_filter","required":"","def":"false","rangetype":"truefalse","comment":"true"}],"snippet":[{"nm":"er","txt":"er"}],"detail":""},"erasebookmark":{"sum":"  \\n","param":[{"name":"place","required":"y","def":"","rangetype":"0","comment":""}],"snippet":[{"nm":"erasebookmark","txt":"erasebookmark place=${1:}"}],"detail":""},"event":{"sum":"  \\n[s]","param":[{"name":"key","required":"y","def":"","rangetype":"","comment":"  \\nABC  \\n1key=alt+enter  \\n2key=alt+ctrl+shift+enter"},{"name":"call","required":"","def":"false","rangetype":"truefalse","comment":"true[[call]](https://famibee.github.io/SKYNovel/tag.html#call)false[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)  \\ncall=true[[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"fn","required":"y","def":"","rangetype":"","comment":"[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)  \\ncall[[return]](https://famibee.github.io/SKYNovel/tag.html#return)[[s]](https://famibee.github.io/SKYNovel/tag.html#s)"},{"name":"label","required":"y","def":"","rangetype":"","comment":"[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)  \\n&sn.eventLabel"},{"name":"url","required":"y","def":"fnlabel ","rangetype":"URL","comment":"URL fnlabel "},{"name":"global","required":"","def":"false","rangetype":"truefalse","comment":"true"},{"name":"arg","required":"","def":"","rangetype":"","comment":"&sn.eventArg"},{"name":"del","required":"","def":"false","rangetype":"truefalse","comment":"true  \\nfn/label/calldel"},{"name":"need_err","required":"","def":"true","rangetype":"truefalse","comment":"HTMLkey"}],"snippet":[{"nm":"event","txt":"event key=${1{{}}} ${2{{}}} global=${3|true,false|}"}],"detail":"global=false"},"export":{"sum":"  \\n\\n\\n\\n.swpd.spd\\n\\n\\n\\nsn:exported\\n[event key=\'sn:exported\' ]\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=import)","param":[],"snippet":[{"nm":"export","txt":"export"}],"detail":""},"fadebgm":{"sum":"BGM  \\nBGM","param":[{"name":"volume","required":"y","def":"","rangetype":"0.01.0","comment":""},{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""}],"snippet":[{"nm":"fadebgm","txt":"fadebgm volume=${1:0.0} time=${2:1000}"}],"detail":""},"fadeoutbgm":{"sum":"BGM  \\nBGM","param":[{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"stop","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""}],"snippet":[{"nm":"fadeoutbgm","txt":"fadeoutbgm time=${1:1000}"}],"detail":""},"fadeoutse":{"sum":"  \\n","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"stop","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""}],"snippet":[{"nm":"fadeoutse","txt":"fadeoutse buf=${1{{}}} time=${2:1000}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"fadese":{"sum":"  \\n","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"volume","required":"y","def":"","rangetype":"0.01.0","comment":""},{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""}],"snippet":[{"nm":"fadese","txt":"fadese buf=${1{{}}} volume=${2:0.0} time=${3:1000}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"finish_trans":{"sum":"  \\n[trans]","param":[],"snippet":[{"nm":"finish_trans","txt":"finish_trans"}],"detail":""},"frame":{"sum":"  \\n","param":[{"name":"id","required":"y","def":"","rangetype":"","comment":"[[add_fram]](https://famibee.github.io/SKYNovel/tag.html#add_fram)"},{"name":"alpha","required":"","def":"1.0","rangetype":"0.01.0","comment":"00.51"},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"rotate","required":"","def":"0","rangetype":"-360360","comment":""},{"name":"visible","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"disabled","required":"","def":"false","rangetype":"truefalse","comment":"true[[event]](https://famibee.github.io/SKYNovel/tag.html#event)dom=false"},{"name":"b_color","required":"","def":"","rangetype":"0x000000","comment":" html"},{"name":"x","required":"","def":"0","rangetype":"","comment":""},{"name":"y","required":"","def":"0","rangetype":"","comment":""},{"name":"width","required":"","def":"","rangetype":"1","comment":""},{"name":"height","required":"","def":"","rangetype":"1","comment":""}],"snippet":[{"nm":"frame","txt":"frame id=${1{{}}}"}],"detail":"$(play)[HTML](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"graph":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"pic","required":"y","def":"","rangetype":"","comment":"png"},{"name":"r","required":"","def":"","rangetype":"","comment":""},{"name":"width","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"height","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"}],"snippet":[{"nm":"graph","txt":"graph pic=${1{{}}}"}],"detail":"png\\n\\n"},"if":{"sum":"if  \\nif","param":[{"name":"exp","required":"y","def":"","rangetype":"","comment":"true  \\nfalse[[elsif]](https://famibee.github.io/SKYNovel/tag.html#elsif)[[else]](https://famibee.github.io/SKYNovel/tag.html#else)"}],"snippet":[{"nm":"if","txt":"if exp=${1:Boolean}][endif"}],"detail":"[](https://famibee.github.io/SKYNovel/dev.html#cond)\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ruby)"},"import":{"sum":"  \\n\\n\\n\\n.swpd.spd\\n\\n\\nsn:imported\\n[event key=\'sn:imported\' ]\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=import)","param":[],"snippet":[{"nm":"import","txt":"import"}],"detail":""},"jump":{"sum":"  \\n","param":[{"name":"fn","required":"","def":"","rangetype":"","comment":""},{"name":"label","required":"","def":"","rangetype":"","comment":""},{"name":"count","required":"","def":"false","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"jump","txt":"jump ${1{{}}}"}],"detail":"\\n\\n### \\n~~~skynovel\\n*aaa\\n\\n[jump label=*aaa]\\n~~~\\n\\n  \\n**after**  \\n**before**  \\n\\n\\n### \\n~~~skynovel\\n[jump label=****after]\\n*** ; before\\n**\\n\\n[jump label=**after]\\n;**\\n\\n**\\n[l]\\n\\n[jump label=**before]\\n**\\n[s]\\n**\\n****    ; after\\n\\n[jump label=***before]\\n~~~\\n\\n*****\\n"},"l":{"sum":"  \\n[waitclick]","param":[{"name":"visible","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"x","required":"","def":"0","rangetype":"","comment":""},{"name":"y","required":"","def":"0","rangetype":"","comment":""},{"name":"width","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"height","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"l","txt":"l visible=${1|true,false|}"}],"detail":"breaklinepng\\n\\n[[event]](https://famibee.github.io/SKYNovel/tag.html#event)"},"lay":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"visible","required":"","def":"","rangetype":"truefalse","comment":"truefalse"},{"name":"alpha","required":"","def":"1.0","rangetype":"0.01.0","comment":"00.51"},{"name":"blendmode","required":"","def":"","rangetype":"","comment":""},{"name":"pos","required":"","def":"c","rangetype":"clr","comment":"clr"},{"name":"left","required":"","def":"0","rangetype":"","comment":""},{"name":"center","required":"","def":"0","rangetype":"","comment":""},{"name":"right","required":"","def":"0","rangetype":"","comment":""},{"name":"s_right","required":"","def":"0","rangetype":"","comment":""},{"name":"top","required":"","def":"0","rangetype":"","comment":""},{"name":"middle","required":"","def":"0","rangetype":"","comment":""},{"name":"bottom","required":"","def":"0","rangetype":"","comment":""},{"name":"s_bottom","required":"","def":"0","rangetype":"","comment":""},{"name":"rotation","required":"","def":"0","rangetype":"-180180","comment":"01800-180"},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":""},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":""},{"name":"float","required":"","def":"","rangetype":"truefalse","comment":"true"},{"name":"index","required":"","def":"","rangetype":"0","comment":"index  \\n01index"},{"name":"dive","required":"","def":"","rangetype":"","comment":"dive  \\nplg:"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n[[span]](https://famibee.github.io/SKYNovel/tag.html#span)[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch) style   \\ncolor: red;color: blue;  \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\ncolor: red;color: blue;  \\n"},{"name":"r_align","required":"","def":"","rangetype":"leftcenterrightjustify121even1ruby","comment":"  \\n> left   \\n> center   \\n> right   \\n> justify   \\n> 121 1-2-1(JIS)12  \\n> even   \\n> 1ruby 1  \\n  \\n center  \\n  \\n  \\n[](https://famibee.github.io/SKYNovel_gallery/index.html?cur=built_in_ruby)"},{"name":"ch_in_style","required":"","def":"","rangetype":"","comment":"[[ch_in_style]](https://famibee.github.io/SKYNovel/tag.html#ch_in_style)"},{"name":"ch_out_style","required":"","def":"","rangetype":"","comment":"[[ch_out_style]](https://famibee.github.io/SKYNovel/tag.html#ch_out_style)"},{"name":"fn","required":"y","def":"","rangetype":"","comment":""},{"name":"face","required":"","def":"","rangetype":"","comment":"[fg fn=\\"a\\" face=\\"b,c,d\\"]abcd"},{"name":"width","required":"","def":"","rangetype":"1","comment":"style"},{"name":"height","required":"","def":"","rangetype":"1","comment":"style"},{"name":"pl","required":"","def":"","rangetype":"","comment":"stylepaddingLeft"},{"name":"pr","required":"","def":"","rangetype":"","comment":"stylepaddingRight"},{"name":"pt","required":"","def":"","rangetype":"","comment":"stylepaddingTop"},{"name":"pb","required":"","def":"","rangetype":"","comment":"stylepaddingBottom"},{"name":"noffs","required":"","def":"","rangetype":"","comment":"font-feature-settings  \\n"},{"name":"kinsoku_sol","required":"","def":"","rangetype":"","comment":"  \\n  \\n!?"},{"name":"kinsoku_eol","required":"","def":"","rangetype":"","comment":"  \\n  \\n"},{"name":"kinsoku_dns","required":"","def":"","rangetype":"","comment":"  \\n  \\n"},{"name":"filter","required":"","def":"blur","rangetype":"","comment":"[[add_filter]](https://famibee.github.io/SKYNovel/tag.html#add_filter)[[add_filter]](https://famibee.github.io/SKYNovel/tag.html#add_filter)"},{"name":"enable_filter","required":"true","def":"truefalse","rangetype":""}],"snippet":[{"nm":"lay","txt":"lay layer=${1{{}}} page=${2|fore,back|}"},{"nm":"lay","txt":"lay layer=${1{{}}}"},{"nm":"lay","txt":"lay layer=${1{{}}} fn=${2{{}}} face=${3{{}}}"}],"detail":""},"let":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"  \\nnum011  \\nint  \\nuint  \\nbooltruefalse  \\nstr0101"},{"name":"val2font","required":"","def":"","rangetype":"truefalse","comment":""},{"name":"val2fontNm","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"let","txt":"let name=${1{{}}} text=${2:}"}],"detail":"### \\n~~~skynovel\\n[let name=a text=\'\']\\n[trace text=&a] ; -> \'\'\\n&a=\'abcde\'\\n[trace text=&a] ; -> \'abcde\'\\n\\n\\n[let_substr name=a text=&a pos=2 len=3]\\n[trace text=&a] ; -> \'cde\'\\n[let_substr name=a text=&a pos=1 len=all]\\n[trace text=&a] ; -> \'de\'\\n~~~"},"let_abs":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_abs","txt":"let_abs name=${1{{}}} text=${2:}"}],"detail":"### \\n~~~skynovel\\n[let_abs name=a text=-3.56]\\n[trace text=&a] ; -> 3.56\\n~~~"},"let_char_at":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"pos","required":"","def":"0","rangetype":"0","comment":"0"},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_char_at","txt":"let_char_at name=${1{{}}} text=${2:} pos=${3:}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcde\'\\n[let_char_at name=a text=&a pos=1]\\n[trace text=&a] ; -> \'b\'\\n~~~"},"let_frame":{"sum":"  \\n","param":[{"name":"id","required":"y","def":"","rangetype":"","comment":"[[add_fram]](https://famibee.github.io/SKYNovel/tag.html#add_fram)"},{"name":"var_name","required":"y","def":"","rangetype":"","comment":"/"}],"snippet":[{"nm":"let_frame","txt":"let_frame id=${1{{}}} var_name=${2:/}"}],"detail":"  \\nconst.sn.frm.id.var_name\\n\\n### \\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n$(play)[HTML](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"let_index_of":{"sum":"  \\n start  val ","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":"-1"},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"val","required":"y","def":"","rangetype":"","comment":""},{"name":"start","required":"","def":"0","rangetype":"0","comment":"0"},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_index_of","txt":"let_index_of name=${1{{}}} text=${2:} val=${3:}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcdeFGHIabcde\'\\n[let_index_of name=a text=&a val=cd start=5]\\n[trace text=&a] ; -> 11\\n[let_index_of name=a text=&a val=GG]\\n[trace text=&a] ; -> -1\\n~~~"},"let_length":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_length","txt":"let_length name=${1{{}}} text=${2:}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcde\'\\n[let_length name=a text=&a]\\n[trace text=&a] ; -> 5\\n~~~"},"let_ml":{"sum":"  \\n[let_ml][endlet_ml]","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"let_ml","txt":"let_ml name=${1{{}}}]\\n\\t\\n[endlet_ml"}],"detail":"JSON.\\n\\n### \\n~~~skynovel\\n[let_ml name=a]\\n\\t{\\n\\t\\t\\"b\\": 3,\\n\\t\\t\\"c\\": 5\\n\\t}\\n[endlet_ml]\\n[trace text=&a] ; -> {\\"b\\": 3, \\"c\\": 5}\\n[trace text=&a.b] ; -> 3\\n[trace text=&a.c] ; -> 5\\n~~~\\n\\n[[trans ]](https://famibee.github.io/SKYNovel_gallery/?cur=glsl_slide)GLSL\\n\\n### \\n~~~skynovel\\n[let_ml name=ml]\\n\\tprecision mediump float;\\n\\tvarying vec2 vTextureCoord;\\n\\tuniform sampler2D uSampler;\\n\\tuniform float tick;\\n\\n\\tvoid main(void) {\\n\\t\\tvec2 pos = vTextureCoord;\\n\\t\\tpos.x = pos.x + tick;\\n\\t\\tif (pos.x > 1.0) gl_FragColor = vec4(0);\\n\\t\\telse gl_FragColor = texture2D(uSampler, pos);\\n\\t}\\n[endlet_ml]\\n~~~"},"let_replace":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"reg","required":"y","def":"","rangetype":"","comment":""},{"name":"flags","required":"","def":"","rangetype":"","comment":""},{"name":"val","required":"y","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_replace","txt":"let_replace name=${1{{}}} text=${2:} reg=${3:} val=${4:}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcde\'\\n[let_replace name=a text=&a reg=\'cd\' val=GG]\\n[trace text=&a] ; -> abGGe\\n~~~"},"let_round":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_round","txt":"let_round name=${1{{}}} text=${2:}"}],"detail":"### \\n~~~skynovel\\n[let_round name=a text=3.45]\\n[trace text=&a] ; <- 3\\n~~~"},"let_search":{"sum":"  \\n val ","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"reg","required":"y","def":"","rangetype":"","comment":""},{"name":"flags","required":"","def":"","rangetype":"","comment":""},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_search","txt":"let_search name=${1{{}}} text=${2:} reg=${3:}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcde\'\\n[let_search name=a text=&a reg=\'cd\']\\n[trace text=&a] ; -> 2a(=0),b(=1),c(=2)2\\n~~~"},"let_substr":{"sum":"  \\n","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""},{"name":"pos","required":"","def":"0","rangetype":"","comment":"0-1pos=-3 len=all"},{"name":"len","required":"","def":"1","rangetype":"all","comment":"all pos"},{"name":"cast","required":"","def":"","rangetype":"numintuintboolstr","comment":"[[let]](https://famibee.github.io/SKYNovel/tag.html#let)"}],"snippet":[{"nm":"let_substr","txt":"let_substr name=${1{{}}} text=${2:} pos=${3:} len=${4:all}"}],"detail":"### \\n~~~skynovel\\n&a=\'abcde\'\\n[let_substr name=a text=&a pos=2 len=3]\\n[trace text=&a] ; -> \'cde\'\\n[let_substr name=a text=&a pos=1 len=all]\\n[trace text=&a] ; -> \'de\'\\n~~~"},"link":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"style","required":"","def":"\'background-color: rgba(255,0,0,0.5);\'","rangetype":"CSS style","comment":"CSS "},{"name":"style_hover","required":"","def":"\'background-color: rgba(255,0,0,0.9);\'","rangetype":"CSS style","comment":"CSS "},{"name":"style_clicked","required":"","def":"style","rangetype":"CSS style","comment":"CSS "},{"name":"style_disable","required":"","def":"\'color: gray;\'","rangetype":"CSS style","comment":"enabled=false CSS "},{"name":"r_style","required":"","def":"style","rangetype":"CSS style","comment":"CSS "},{"name":"r_style_hover","required":"","def":"style_hover","rangetype":"CSS style","comment":"CSS "},{"name":"r_style_clicked","required":"","def":"r_style","rangetype":"CSS style","comment":"CSS "},{"name":"r_style_disable","required":"","def":"\'color: gray;\'","rangetype":"CSS style","comment":"enabled=false CSS "},{"name":"ch_in_style","required":"","def":"","rangetype":"","comment":"[[ch_in_style]](https://famibee.github.io/SKYNovel/tag.html#ch_in_style)"},{"name":"ch_out_style","required":"","def":"","rangetype":"","comment":"[[ch_out_style]](https://famibee.github.io/SKYNovel/tag.html#ch_out_style)"},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"},{"name":"enabled","required":"","def":"true","rangetype":"truefalse","comment":"false  \\n  \\n"},{"name":"call","required":"","def":"false","rangetype":"truefalse","comment":"true[[call]](https://famibee.github.io/SKYNovel/tag.html#call)false[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)  \\ncall=true[[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"fn","required":"","def":"","rangetype":"","comment":""},{"name":"label","required":"","def":"","rangetype":"","comment":"","undefined":"&sn.eventLabel"},{"name":"url","required":"y","def":"fnlabel ","rangetype":"URL","comment":"URL fnlabel "},{"name":"global","required":"","def":"false","rangetype":"truefalse","comment":"[[event]](https://famibee.github.io/SKYNovel/tag.html#event)  \\n[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)true"},{"name":"arg","required":"","def":"","rangetype":"","comment":"&sn.eventArg"},{"name":"onenter","required":"","def":"","rangetype":"","comment":" [[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"onleave","required":"","def":"","rangetype":"","comment":" [[return]](https://famibee.github.io/SKYNovel/tag.html#return)"},{"name":"clickse","required":"","def":"","rangetype":"","comment":""},{"name":"enterse","required":"","def":"","rangetype":"","comment":""},{"name":"leavese","required":"","def":"","rangetype":"","comment":""},{"name":"clicksebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"entersebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"leavesebuf","required":"","def":"SYS","rangetype":"","comment":""},{"name":"hint","required":"","def":"","rangetype":"","comment":""},{"name":"hint_style","required":"","def":"","rangetype":"CSS style","comment":"hint CSS"},{"name":"hint_opt","required":"","def":"","rangetype":"","comment":"@popperjs/core"}],"snippet":[{"nm":"link","txt":"link ${1{{}}}][endlink"}],"detail":"[[link]](https://famibee.github.io/SKYNovel/tag.html#link)[[endlink]](https://famibee.github.io/SKYNovel/tag.html#endlink)\\n\\n[[record_place]](https://famibee.github.io/SKYNovel/tag.html#record_place)\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ch_button)"},"load":{"sum":"  \\n","param":[{"name":"place","required":"y","def":"","rangetype":"0","comment":""},{"name":"fn","required":"","def":"","rangetype":"","comment":"[[return]](https://famibee.github.io/SKYNovel/tag.html#return)[[jump]](https://famibee.github.io/SKYNovel/tag.html#jump)fnlabel"},{"name":"label","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"load","txt":"load place=${1:} ${2{{}}}"}],"detail":""},"loadplugin":{"sum":"  \\n","param":[{"name":"fn","required":"y","def":"","rangetype":"CSSURL","comment":"cssWeb"},{"name":"join","required":"","def":"true","rangetype":"truefalse","comment":"true"}],"snippet":[{"nm":"loadplugin","txt":"loadplugin fn=${1:WebCSSURL} join=${2|true,false|}"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=font)"},"log":{"sum":"  \\n","param":[{"name":"text","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"log","txt":"log text=&${1{{}}}"}],"detail":"### \\n~~~skynovel\\n[log text=\'\']\\n~~~"},"macro":{"sum":"  \\n[macro][endmacro]mp:","param":[{"name":"name","required":"y","def":"","rangetype":"","comment":""},{"name":"nowarn_unused","required":"","def":"false","rangetype":"truefalse","comment":"true"},{"name":"sum","required":"","def":"","rangetype":"","comment":""},{"name":"detail","required":"","def":"","rangetype":"","comment":""},{"name":"%()","required":"","def":"","rangetype":"||","comment":"?"},{"name":"design_unit","required":"","def":"false","rangetype":"truefalse","comment":"true"},{"name":"stepin","required":"","def":"true","rangetype":"truefalse","comment":"false"},{"name":"snippet_ext","required":"","def":"","rangetype":"SP_GSMSOUNDFONTSCRIPT","comment":""}],"snippet":[{"nm":"macro","txt":"macro name=${1:}\\n\\tsum=\'\'\\n\\t%aaa=\'||\'\\n]\\n\\t; \\n[endmacro"}],"detail":""},"navigate_to":{"sum":"  \\nWeb","param":[{"name":"url","required":"y","def":"","rangetype":"URL","comment":"URL"}],"snippet":[{"nm":"navigate_to","txt":"navigate_to url=${1:WebURL}"}],"detail":""},"p":{"sum":"  \\n[waitclick]","param":[{"name":"visible","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"},{"name":"er","required":"","def":"","rangetype":"truefalse","comment":"true[[er]](https://famibee.github.io/SKYNovel/tag.html#er)"},{"name":"x","required":"","def":"0","rangetype":"","comment":""},{"name":"y","required":"","def":"0","rangetype":"","comment":""},{"name":"width","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"height","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"p","txt":"p visible=${1|true,false|}"}],"detail":"breakpagepng\\n\\n[[event]](https://famibee.github.io/SKYNovel/tag.html#event)"},"page":{"sum":"  \\n[p]","param":[{"name":"clear","required":"","def":"","rangetype":"truefalse","comment":"true"},{"name":"to","required":"","def":"","rangetype":"prevnext  \\nprev  \\nnext"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS color: yellow;"}],"snippet":[{"nm":"page","txt":"page to=${1|prev,next|}"}],"detail":"[[p]](https://famibee.github.io/SKYNovel/tag.html#p)\\n\\nsave:sn.doRecLog  true [[p]](https://famibee.github.io/SKYNovel/tag.html#p)[[s]](https://famibee.github.io/SKYNovel/tag.html#s)[[l]](https://famibee.github.io/SKYNovel/tag.html#l)[[waitclick]](https://famibee.github.io/SKYNovel/tag.html#waitclick)[[wait]](https://famibee.github.io/SKYNovel/tag.html#wait)[[wv]](https://famibee.github.io/SKYNovel/tag.html#wv)[[wait_tsy]](https://famibee.github.io/SKYNovel/tag.html#wait_tsy)[[wf]](https://famibee.github.io/SKYNovel/tag.html#wf)[[ws]](https://famibee.github.io/SKYNovel/tag.html#ws)"},"pause_tsy":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"id","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"pause_tsy","txt":"pause_tsy layer=${1{{}}}"}],"detail":"layerpage  \\nid\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"playbgm":{"sum":"BGM   \\nBGM[playse]Skipcanskip = false","param":[{"name":"fn","required":"y","def":"","rangetype":"","comment":""},{"name":"loop","required":"","def":"true","rangetype":"truefalse","comment":"trueBGM"},{"name":"volume","required":"","def":"1.0","rangetype":"0.01.0","comment":"sys:const.an.sound.BGM.volume"},{"name":"speed","required":"","def":"1.0","rangetype":"0.01.0","comment":"0:1.0:"},{"name":"pan","required":"0.0","def":"-1.01.0","rangetype":"-1.0=0.0=()1.0="},{"name":"join","required":"","def":"true","rangetype":"truefalse","comment":"true"},{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"trueSkip"},{"name":"start_ms","required":"","def":"0","rangetype":"0","comment":"0"},{"name":"end_ms","required":"","def":"","rangetype":"0","comment":"  \\nms  \\nms"},{"name":"ret_ms","required":"","def":"0","rangetype":"0","comment":"0  \\nend_ms loop=false"}],"snippet":[{"nm":"playbgm","txt":"playbgm fn=${1{{}}}"}],"detail":""},"playse":{"sum":"  \\n","param":[{"name":"fn","required":"y","def":"","rangetype":"","comment":""},{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"loop","required":"","def":"false","rangetype":"truefalse","comment":"trueBGM"},{"name":"volume","required":"","def":"1.0","rangetype":"0.01.0","comment":"sys:const.an.sound.BGM.volume"},{"name":"speed","required":"","def":"1.0","rangetype":"0.01.0","comment":"0:1.0:"},{"name":"pan","required":"0.0","def":"-1.01.0","rangetype":"-1.0=0.0=()1.0="},{"name":"join","required":"","def":"true","rangetype":"truefalse","comment":"true"},{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"trueSkip"},{"name":"start_ms","required":"","def":"0","rangetype":"0","comment":"0"},{"name":"end_ms","required":"","def":"","rangetype":"0","comment":"  \\nms  \\nms"},{"name":"ret_ms","required":"","def":"0","rangetype":"0","comment":"0  \\nend_ms loop=false"}],"snippet":[{"nm":"playse","txt":"playse fn=${1{{}}} buf=${2{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"pop_stack":{"sum":"  \\n\\n","param":[{"name":"clear","required":"","def":"false","rangetype":"truefalse","comment":"true  \\nfalse"}],"snippet":[{"nm":"pop_stack","txt":"pop_stack clear=${1|false,true|}"}],"detail":""},"quake":{"sum":"  \\n","param":[{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"hmax","required":"","def":"10","rangetype":"0","comment":""},{"name":"vmax","required":"","def":"10","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":"- "},{"name":"repeat","required":"","def":"1","rangetype":"0","comment":"0 12"},{"name":"ease","required":"","def":"Linear.None","rangetype":"","comment":"[](https://createjs.com/demos/tweenjs/tween_sparktable)[](https://sole.github.io/tween.js/examples/03_graphs.html)[[tsy]](https://famibee.github.io/SKYNovel/tag.html#tsy)"},{"name":"yoyo","required":"","def":"false","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"quake","txt":"quake time=${1:500} hmax=${2:10} vmax=${3:10}][wq"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_quake)"},"r":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"record","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"}],"snippet":[{"nm":"r","txt":"r"}],"detail":""},"rec_ch":{"sum":"  \\n","param":[{"name":"text","required":"","def":"","rangetype":"","comment":"[[r]](https://famibee.github.io/SKYNovel/tag.html#r)"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n  \\nstyle"}],"snippet":[{"nm":"rec_ch","txt":"rec_ch text=${1:}"}],"detail":"\\nconst.sn.log.jsonJavaScriptJSON.parse()\\n[[r]](https://famibee.github.io/SKYNovel/tag.html#r)"},"rec_r":{"sum":"  \\n","param":[],"snippet":[{"nm":"rec_r","txt":"rec_r"}],"detail":""},"record_place":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":"Save/Load"},{"name":"reset_sound","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"record_place","txt":"record_place"}],"detail":""},"reload_script":{"sum":"  \\n[record_place]  \\n","param":[],"snippet":[{"nm":"reload_script","txt":"reload_script"}],"detail":""},"reset_rec":{"sum":"  \\n","param":[{"name":"text","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"reset_rec","txt":"reset_rec"}],"detail":""},"resume_tsy":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"id","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"resume_tsy","txt":"resume_tsy layer=${1{{}}}"}],"detail":"layerpage  \\nid\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"return":{"sum":"  \\n\\n\\n\\nfnlabel","param":[{"name":"fn","required":"","def":"","rangetype":"","comment":""},{"name":"label","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"return","txt":"return ${1{{}}}"}],"detail":""},"ruby2":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"t","required":"y","def":"","rangetype":"","comment":""},{"name":"r","required":"y","def":"","rangetype":"","comment":""},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"}],"snippet":[{"nm":"ruby2","txt":"ruby2 t=${1:} r=${2:}"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=ruby)"},"s":{"sum":"  \\n\\n[event]","param":[{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"s","txt":"s"}],"detail":""},"save":{"sum":"  \\n","param":[{"name":"place","required":"y","def":"","rangetype":"0","comment":""}],"snippet":[{"nm":"save","txt":"save place=${1:}"}],"detail":"  \\n[[record_place]](https://famibee.github.io/SKYNovel/tag.html#record_place)  \\n\\n[[record_place]](https://famibee.github.io/SKYNovel/tag.html#record_place)  \\n[[save]](https://famibee.github.io/SKYNovel/tag.html#save)"},"set_focus":{"sum":"  \\n[button][link]","param":[{"name":"to","required":"y","def":"","rangetype":"prevnextnull","comment":"prev  \\nnext  \\nnull[[button]](https://famibee.github.io/SKYNovel/tag.html#button)[[link]](https://famibee.github.io/SKYNovel/tag.html#link)"},{"name":"add","required":"y","def":"","rangetype":"querySelectorAll()","comment":"[event key=\'dom=\']HTML  \\n[set_focus add=\'dom=archive:.card-image,.btn_delete\']"},{"name":"del","required":"y","def":"","rangetype":"querySelectorAll()","comment":"  \\n[set_focus del=\'dom=archive:.card-image,.btn_delete\']"},{"name":"need_err","required":"","def":"true","rangetype":"truefalse","comment":"HTMLadddel"}],"snippet":[{"nm":"set_focus","txt":"set_focus to=${1|prev,next,null|}"}],"detail":"[[button]](https://famibee.github.io/SKYNovel/tag.html#button)[[link]](https://famibee.github.io/SKYNovel/tag.html#link)Enter(Return)\\nHTML[event key=\'dom=\']\\n"},"set_frame":{"sum":"  \\n","param":[{"name":"id","required":"y","def":"","rangetype":"","comment":"[[add_fram]](https://famibee.github.io/SKYNovel/tag.html#add_fram)"},{"name":"var_name","required":"y","def":"","rangetype":"","comment":""},{"name":"text","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"set_frame","txt":"set_frame id=${1{{}}} var_name=${2:} text=${3:}"}],"detail":"### \\n~~~skynovel\\n[add_frame id=config src=_config visible=false]\\n[event key=\'dom=config:#close\' label=*exit global=true]\\n\\n[let_frame id=config var_name=val_sldBackAlpha]\\n&sys:TextLayer.Back.Alpha = const.sn.frm.config.val_sldBackAlpha/100\\n[return]\\n\\n*val2ctrl\\n[set_frame id=config var_name=val_sldBackAlpha text=&sys:TextLayer.Back.Alpha*100]\\n[let_frame id=config var_name=val2ctrl function=true]\\n[return]\\n~~~\\n\\n$(play)[HTML](https://famibee.github.io/SKYNovel_gallery/?cur=frame)"},"snapshot":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"fn","required":"","def":"snapshot","rangetype":"","comment":"  \\npngjpg"},{"name":"width","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"height","required":"","def":"","rangetype":"1","comment":"  \\n"},{"name":"smoothing","required":"","def":"false","rangetype":"truefalse","comment":""},{"name":"b_color","required":"","def":"config.anprj","rangetype":"0xFF000000  \\n162222","comment":"png 0x0   \\n 0xFF000000"}],"snippet":[{"nm":"snapshot","txt":"snapshot layer=${1:}"}],"detail":"\\n\\n\\n"},"span":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"ch_in_style","required":"","def":"","rangetype":"","comment":"[[ch_in_style]](https://famibee.github.io/SKYNovel/tag.html#ch_in_style)"},{"name":"ch_out_style","required":"","def":"","rangetype":"","comment":"[[ch_out_style]](https://famibee.github.io/SKYNovel/tag.html#ch_out_style)"},{"name":"r_align","required":"","def":"","rangetype":"leftcenterrightjustify121even1ruby","comment":"  \\n> left   \\n> center   \\n> right   \\n> justify   \\n> 121 1-2-1(JIS)12  \\n> even   \\n> 1ruby 1  \\n  \\n center  \\n  \\n  \\n[](https://famibee.github.io/SKYNovel_gallery/index.html?cur=built_in_ruby)"}],"snippet":[{"nm":"span","txt":"span style=${1:CSSstyle}"}],"detail":"layout [[clear_text]](https://famibee.github.io/SKYNovel/tag.html#clear_text)[[clear_lay]](https://famibee.github.io/SKYNovel/tag.html#clear_lay)layout"},"stop_allse":{"sum":"  \\n","param":[],"snippet":[{"nm":"stop_allse","txt":"stop_allse"}],"detail":""},"stop_quake":{"sum":"  \\n","param":[{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"true"}],"snippet":[{"nm":"stop_quake","txt":"stop_quake canskip=${1|true,false|}"}],"detail":""},"stop_tsy":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"id","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"stop_tsy","txt":"stop_tsy layer=${1{{}}}"}],"detail":"layerpage  \\nid\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"stopbgm":{"sum":"BGM   \\nBGM ","param":[],"snippet":[{"nm":"stopbgm","txt":"stopbgm"}],"detail":""},"stopfadese":{"sum":"  \\n","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""}],"snippet":[{"nm":"stopfadese","txt":"stopfadese buf=${1{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"stopse":{"sum":"  \\n","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""}],"snippet":[{"nm":"stopse","txt":"stopse buf=${1{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"tcy":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"t","required":"y","def":"","rangetype":"","comment":""},{"name":"r","required":"","def":"","rangetype":"","comment":""},{"name":"style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"r_style","required":"","def":"","rangetype":"CSS style","comment":" CSS Style   \\n"},{"name":"wait","required":"","def":"","rangetype":"0","comment":"0"}],"snippet":[{"nm":"tcy","txt":"tcy t=${1:}"}],"detail":"$(play)[451](https://famibee.github.io/SKYNovel_gallery/)"},"title":{"sum":"  \\n","param":[{"name":"text","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"title","txt":"title text=${1:}"}],"detail":""},"toggle_full_screen":{"sum":"  \\n","param":[{"name":"key","required":"","def":"","rangetype":"","comment":"key[[event]](https://famibee.github.io/SKYNovel/tag.html#event)"}],"snippet":[{"nm":"toggle_full_screen","txt":"toggle_full_screen key=${1{{}}}"}],"detail":"tmp:const.sn.displayStatetrue"},"trace":{"sum":"  \\n","param":[{"name":"text","required":"y","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"trace","txt":"trace text=&${1{{}}}"}],"detail":""},"trans":{"sum":"  \\n","param":[{"name":"layer","required":"","def":"","rangetype":"","comment":""},{"name":"time","required":"","def":"0","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""},{"name":"rule","required":"","def":"","rangetype":"","comment":"  \\n"},{"name":"vague","required":"","def":"0.04","rangetype":"0.01.0","comment":"1"},{"name":"ease","required":"","def":"Linear.None","rangetype":"","comment":"  \\n[](https://createjs.com/demos/tweenjs/tween_sparktable)[](https://sole.github.io/tween.js/examples/03_graphs.html)  \\n- [tween.js/README.md at master  tweenjs/tween.js](https://github.com/tweenjs/tween.js/blob/master/README.md)  \\n- [CreateJS  - ICS MEDIA](https://ics.media/tutorial-createjs/tween/)"},{"name":"glsl","required":"","def":"","rangetype":"GLSL","comment":"[](https://famibee.github.io/SKYNovel_gallery/?cur=glsl_slide)  \\n  \\nvTextureCoord  \\nuSampler  \\ntick"}],"snippet":[{"nm":"trans","txt":"trans layer=${1{{}}} time=${2:500} rule=${3{{}}}][wt"}],"detail":"\\n[[wt]](https://famibee.github.io/SKYNovel/tag.html#wt)\\n\\n\\n\\n\\n\\n$(warning)[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)[[wt]](https://famibee.github.io/SKYNovel/tag.html#wt)[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)\\n[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)"},"tsy":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"name","required":"y","def":"layer","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":"- "},{"name":"repeat","required":"","def":"1","rangetype":"0","comment":"0 12"},{"name":"arrive","required":"","def":"false","rangetype":"truefalse","comment":"trueSkipfalse"},{"name":"backlay","required":"","def":"false","rangetype":"truefalse","comment":"trueforeback  \\nalpha, height, rotation, scale_x, scale_y, width, left, top"},{"name":"ease","required":"","def":"Linear.None","rangetype":"","comment":"[](https://createjs.com/demos/tweenjs/tween_sparktable)[](https://sole.github.io/tween.js/examples/03_graphs.html)[[tsy]](https://famibee.github.io/SKYNovel/tag.html#tsy)"},{"name":"yoyo","required":"","def":"false","rangetype":"truefalse","comment":""},{"name":"chain","required":"","def":"","rangetype":"","comment":""},{"name":"alpha","required":"","def":"1.0","rangetype":"","comment":"00.51  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"width","required":"","def":"","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"height","required":"","def":"","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"rotation","required":"","def":"0","rangetype":"","comment":"01800-180  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"x","required":"","def":"0","rangetype":"","comment":"left  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"y","required":"","def":"0","rangetype":"","comment":"top  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"path","required":"","def":"","rangetype":"","comment":"  \\n(){}JSON  \\n"},{"name":"render","required":"","def":"false","rangetype":"truefalse","comment":"true[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)"},{"name":"filter","required":"","def":"blur","rangetype":"","comment":"[[add_filter]](https://famibee.github.io/SKYNovel/tag.html#add_filter)[[add_filter]](https://famibee.github.io/SKYNovel/tag.html#add_filter)"},{"name":"enable_filter","required":"true","def":"truefalse","rangetype":""}],"snippet":[{"nm":"tsy","txt":"tsy layer=${1{{}}} time=${2:}"}],"detail":"\\n\\n| \\t\\t\\t | \\t|\\n--|--\\n| x=500\\t\\t\\t| X500 |\\n| x=\'=500\'\\t\\t| X+500 |\\n| x=\'=-500\'\\t\\t| X-500 |\\n| x=\'250,500\'\\t| +250500 |\\n| x=\'=250,500\'\\t| +250500X |\\n\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"tsy_frame":{"sum":"  \\n","param":[{"name":"id","required":"y","def":"","rangetype":"","comment":"[[add_fram]](https://famibee.github.io/SKYNovel/tag.html#add_fram)"},{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"delay","required":"","def":"0","rangetype":"0","comment":""},{"name":"repeat","required":"","def":"1","rangetype":"0","comment":"0 12"},{"name":"ease","required":"","def":"Linear.None","rangetype":"","comment":"[](https://createjs.com/demos/tweenjs/tween_sparktable)[](https://sole.github.io/tween.js/examples/03_graphs.html)[[tsy]](https://famibee.github.io/SKYNovel/tag.html#tsy)"},{"name":"yoyo","required":"","def":"false","rangetype":"truefalse","comment":""},{"name":"chain","required":"","def":"","rangetype":"","comment":""},{"name":"alpha","required":"","def":"1.0","rangetype":"","comment":"00.51  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"width","required":"","def":"","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"height","required":"","def":"","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"rotation","required":"","def":"0","rangetype":"","comment":"01800-180  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"scale_x","required":"","def":"1.0","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"scale_y","required":"","def":"1.0","rangetype":"","comment":"  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"x","required":"","def":"0","rangetype":"","comment":"left  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"y","required":"","def":"0","rangetype":"","comment":"top  \\n> ****  \\n> x=500 .......... 500  \\n> x=\'=500\' ....... x+500  \\n> x=\'=-500\' ...... x-500  \\n> x=\'250,500\' .... +250500  \\n> x=\'=250,500\' ... +250500x"},{"name":"path","required":"","def":"","rangetype":"","comment":"  \\n(){}JSON  \\n"}],"snippet":[{"nm":"tsy_frame","txt":"tsy_frame id=${1{{}}} time=${2:}"}],"detail":"\\n\\n| \\t\\t\\t | \\t|\\n--|--\\n| x=500\\t\\t\\t| X500 |\\n| x=\'=500\'\\t\\t| X+500 |\\n| x=\'=-500\'\\t\\t| X-500 |\\n| x=\'250,500\'\\t| +250500 |\\n| x=\'=250,500\'\\t| +250500X |"},"update_check":{"sum":"  \\n","param":[{"name":"url","required":"y","def":"","rangetype":"URL","comment":"latest(-mac).ymldmg(exe)WebURL/"}],"snippet":[{"nm":"update_check","txt":"update_check url=${1:WebURL}"}],"detail":"\\n\\n dmg exe"},"volume":{"sum":"BGM  \\nBGM","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"volume","required":"","def":"1.0","rangetype":"0.01.0","comment":"sys:const.an.sound.BGM.volume"}],"snippet":[{"nm":"volume","txt":"volume buf=${1{{}}} volume=${2:1.0}"}],"detail":""},"wait":{"sum":"  \\n\\n[event]","param":[{"name":"time","required":"y","def":"","rangetype":"0","comment":""},{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"[[waitclick]](https://famibee.github.io/SKYNovel/tag.html#waitclick)"}],"snippet":[{"nm":"wait","txt":"wait time=${1:}"}],"detail":""},"wait_tsy":{"sum":"  \\n","param":[{"name":"layer","required":"y","def":"","rangetype":"","comment":""},{"name":"page","required":"","def":"fore","rangetype":"foreback","comment":""},{"name":"id","required":"y","def":"","rangetype":"","comment":""},{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"chk_exist_tw","required":"false","def":"truefalse","rangetype":""}],"snippet":[{"nm":"wait_tsy","txt":"wait_tsy layer=${1{{}}} canskip=${2|true,false|}"}],"detail":"[[event]](https://famibee.github.io/SKYNovel/tag.html#event) 0  \\nlayerpage  \\nid\\n\\n$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_tsy)"},"waitclick":{"sum":"  \\n","param":[],"snippet":[{"nm":"waitclick","txt":"waitclick"}],"detail":""},"wb":{"sum":"BGM   \\nBGM ","param":[{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"true"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"wb","txt":"wb canskip=${1|false,true|}"}],"detail":""},"wf":{"sum":"  \\n ","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"canskip","required":"","def":"false","rangetype":"truefalse","comment":"true"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"wf","txt":"wf buf=${1{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"window":{"sum":"  \\n","param":[{"name":"width","required":"","def":"","rangetype":"1","comment":""},{"name":"height","required":"","def":"","rangetype":"1","comment":""},{"name":"framerate","required":"","def":"","rangetype":"1","comment":""},{"name":"centering","required":"","def":"","rangetype":"truefalse","comment":"true"},{"name":"x","required":"","def":"","rangetype":"","comment":""},{"name":"y","required":"","def":"","rangetype":"","comment":""}],"snippet":[{"nm":"window","txt":"window"}],"detail":""},"wl":{"sum":"BGM   \\nBGM \\nloop=true[playbgm]\\n[playbgm]join=true()","param":[{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"wl","txt":"wl"}],"detail":""},"wq":{"sum":"  \\n\\n[event]","param":[{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"true"}],"snippet":[{"nm":"wq","txt":"wq canskip=${1|true,false|}"}],"detail":"$(play)[](https://famibee.github.io/SKYNovel_gallery/?cur=tag_quake)"},"ws":{"sum":"  \\n  \\nloop=true [playse]join=true()","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"canskip","required":"","def":"false","rangetype":"truefalse","comment":"true"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"stop","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"}],"snippet":[{"nm":"ws","txt":"ws buf=${1{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"},"wt":{"sum":"  \\n[trans]","param":[{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"true"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""}],"snippet":[{"nm":"wt","txt":"wt canskip=${1|true,false|}"}],"detail":"\\n\\n$(warning)[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)[[wt]](https://famibee.github.io/SKYNovel/tag.html#wt)[[ch]](https://famibee.github.io/SKYNovel/tag.html#ch)\\n[[trans]](https://famibee.github.io/SKYNovel/tag.html#trans)"},"wv":{"sum":"  \\n[lay]","param":[{"name":"canskip","required":"","def":"true","rangetype":"truefalse","comment":"[[waitclick]](https://famibee.github.io/SKYNovel/tag.html#waitclick)"},{"name":"global","required":"","def":"true","rangetype":"truefalse","comment":""},{"name":"stop","required":"","def":"true","rangetype":"truefalse","comment":"truefalse"}],"snippet":[{"nm":"wv","txt":"wv canskip=${1|true,false|}"}],"detail":""},"xchgbuf":{"sum":"  \\n","param":[{"name":"buf","required":"","def":"SE","rangetype":"","comment":""},{"name":"buf2","required":"","def":"SE","rangetype":"","comment":""}],"snippet":[{"nm":"xchgbuf","txt":"xchgbuf buf=${1{{}}} buf2=${2{{}}}"}],"detail":"$(play)[BGM](https://famibee.github.io/SKYNovel_gallery/?cur=sound)"}}')}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var r={};(()=>{"use strict";n.r(r),n.d(r,{activate:()=>Te,deactivate:()=>Oe});var e=n(21605),t=n(16928);function i(e){const t=parseInt(String(e),10);return t<0?-t:t}const s=/\.ss?n$/,o={scheme:"file",language:"skynovel"},a="win32"===process.platform,c="darwin"===process.platform;function u(e){return e.replace(/(?:\/\w:)?/,"")}const l=/^(_notes|Icon\r|\.[^\/]+|[^\/]+\.(db|ini|git))$/,h=/^.+\/(_notes|Icon\r|\.[^\/]+|[^\/]+\.(db|ini|git))$/;function p(n,i){for(const r of(0,e.readdirSync)(n,{withFileTypes:!0})){const e=String(r.name).normalize("NFC");if(l.test(e))continue;const s=(0,t.resolve)(n,e);r.isDirectory()?p(s,i):i(s)}}function d(n,i,r){for(const s of(0,e.readdirSync)(n,{withFileTypes:!0})){const e=String(s.name).normalize("NFC");l.test(e)||(s.isDirectory()?r(e):i((0,t.resolve)(n,e),e))}}function f(t,n,i,r=!0,s=t){try{if(!(0,e.existsSync)(t))return void console.error(`No change, No replace src:${t}`);s!==t&&(0,e.ensureFileSync)(s);const o=(0,e.readFileSync)(t,{encoding:"utf8"}),a=String(o.replace(n,i));o!==a?(0,e.writeFileSync)(s,a):r&&console.error(`replaceFile fail by same:${t}`)}catch(e){console.error(`replaceFile src:${t} ${e}`)}}function m(t,n,i=!0,r=t){try{if(!(0,e.existsSync)(t))return void console.error(`No change, No replace src:${t}`);r!==t&&(0,e.ensureFileSync)(r);const s=(0,e.readFileSync)(t,{encoding:"utf8"});let o=s;for(const[e,t]of n)o=o.replace(e,t);s!==o?(0,e.writeFileSync)(r,o):i&&console.error(`replaceRegsFile fail by same:${t}`)}catch(e){console.error(`replaceRegsFile src:${t} ${e}`)}}function g(e){if(null===e)return!1;const t=String(e);return"false"!==t&&Boolean(t)}function y(e){return(0,t.basename)(e,(0,t.extname)(e))}const b={"cnv.font.subset":!1,"cnv.icon.shape":0,"cnv.mat.pic":!1,"cnv.mat.webp_quality":90,"cnv.mat.snd":!1,"cnv.mat.snd.codec":"opus"},v={book:{title:"",creator:"",cre_url:"",publisher:"",pub_url:"",detail:"",version:"1.0"},save_ns:"",window:{width:300,height:300},log:{max_len:1024},init:{bg_color:"#000000",tagch_msecwait:10,auto_msecpagewait:3500,escape:""},debug:{devtool:!1,token:!1,tag:!1,putCh:!1,debugLog:!1,baseTx:!1,masume:!1,variable:!1},code:{},debuger_token:""},w={sum:{baseSize:0,webpSize:0,pathImgCmpWebP:"",pathImgCmpBase:""},hSize:{}},_={sum:{baseSize:0,optSize:0,pathSndOpt:"",pathSndBase:""},hSize:{}},S=/;[^\n]*|(?:&(\S+)|\[let\s+name\s*=\s*(\S+)\s+text)\s*=\s*((["'#]).+?\4|[^;\s]+)(?:[^;\n]*;(.*))?/g;var E=n(91398),x=n(76982),D=n(70857),C=n(79896);class k{ctx;wsFld;cfg;chgTitle;setEscape;cmd;exeTask;#on;#an=b;#cn;#un;#ln;#hn;#pn;#dn;#fn;#mn;#gn;#yn;#bn;#vn;#wn="";#_n;#Sn;#En;#xn;constructor(t,n,i,r,s,o,a){this.ctx=t,this.wsFld=n,this.cfg=i,this.chgTitle=r,this.setEscape=s,this.cmd=o,this.exeTask=a,this.#on=t.workspaceState;let c=b;for(const[e,t]of Object.entries(c)){const n=this.#on.get(e);n?c[e]=n:this.#on.update(e,t)}this.#an=c,this.#Dn(),this.#Cn(),this.#cn=u(n.uri.path),this.#un=this.#cn+"/doc/prj/",this.#ln=this.#un+"prj.json",this.#hn=this.#cn+"/doc/app.js",this.#pn=this.#cn+"/package.json",this.#dn=this.#cn+`/doc/${te}/`,this.#fn=this.#dn.length,this.#bn=this.#cn+"/build/include/readme.txt";const l=t.extensionPath,h=[];(0,e.existsSync)(this.#bn)||h.push((async()=>{await(0,e.ensureFile)(this.#bn),await(0,e.copyFile)(l+"/res/readme.txt",this.#bn)})),this.#gn=this.#cn+"/build/installer.nsh",(0,e.existsSync)(this.#gn)||h.push((()=>(0,e.copyFile)(l+"/res/installer.nsh",this.#gn))),this.#yn=this.#cn+"/build/icon.png",(0,e.existsSync)(this.#yn)||h.push((()=>(0,e.copyFile)(l+"/res/img/icon.png",this.#yn)));const f=this.#cn+"/.vscode/launch.json";(0,e.existsSync)(f)||h.push((()=>(0,e.copyFile)(l+"/res/launch.json",f))),this.#_n=this.#cn+"/build/cnv_mat_pic.json",this.#Sn=this.#cn+"/build/cnv_mat_snd.json",E.workspace.onDidSaveTextDocument((e=>{"/setting.sn"===e.fileName.slice(-11)&&this.#kn()}),null,t.subscriptions);const m=l+"/views/";this.#vn=E.Uri.file(m),h.push((async()=>{r(this.cfg.oCfg.book.title),k.#Rn[n.uri.path]=()=>this.cfg.oCfg.debuger_token,(0,e.existsSync)(this.#_n)?this.#En=(0,e.readJsonSync)(this.#_n,{encoding:"utf8"}):(0,e.writeJsonSync)(this.#_n,this.#En=w),(0,e.existsSync)(this.#Sn)?this.#xn=(0,e.readJsonSync)(this.#Sn,{encoding:"utf8"}):(0,e.writeJsonSync)(this.#Sn,this.#xn=_)}),(async()=>{d(this.#un,(()=>{}),(e=>{e in this.cfg.oCfg.code||(this.cfg.oCfg.code[e]=!1)}))}),(async()=>{this.#wn=(await(0,e.readFile)(m+"setting.htm",{encoding:"utf8"})).replace("<meta_autooff ","<meta ").replaceAll("${nonce}",Ce()).replace('.ts"><\/script>','.js"><\/script>'),"hatsune"!==this.cfg.oCfg.save_ns&&"uc"!==this.cfg.oCfg.save_ns||this.open()}),(async()=>{p(this.#un,(e=>{"/setting.sn"===e.slice(-11)&&this.#An.push(e)})),this.#kn()})),Promise.allSettled(h.map((e=>e())))}getLocalSNVer(){const t=(0,e.readJsonSync)(this.#pn,{encoding:"utf8"}),n=this.#cn+"/CHANGELOG.md";return{verSN:t.dependencies["@famibee/skynovel"]?.slice(1)??"",verTemp:(0,e.existsSync)(n)?(0,e.readFileSync)(n,{encoding:"utf8"}).match(/## v(.+)\s/)?.[1]??"":""}}static#Rn={};static getDebugertoken(e){return e?k.#Rn[e.uri.path]()??"":""}onCreDir({path:e}){this.cfg.oCfg.code[(0,t.basename)(e)]=!1,this.#Tn({cmd:"update.oCfg",oCfg:this.cfg.oCfg})}onDelDir({path:e}){delete this.cfg.oCfg.code[(0,t.basename)(e)],this.#On(),this.#Tn({cmd:"update.oCfg",oCfg:this.cfg.oCfg})}#On(){const t={...this.cfg.oCfg};t.code={};for(const[e,n]of Object.entries(this.cfg.oCfg.code))n&&(t.code[e]=!0);return(0,e.writeFile)(this.#ln,JSON.stringify(t,null,"\t"))}#An=[];onCreSettingSn({path:e}){this.#An.push(e),this.#kn()}onDelSettingSn({path:e}){this.#An=this.#An.filter((t=>t!==e))}#Fn=!0;#kn(){this.#Fn=!0;const t=[],n=this.#An.length;if(1!==n)return this.#mn="",void this.#Tn({cmd:"update.aTemp",err:n<1?"setting.sn ":"setting.sn <br/>"+this.#An.map((e=>`${e}`)).join("<br/>\n"),aTemp:t});this.#mn=this.#An[0];const i=(0,e.readFileSync)(this.#mn,{encoding:"utf8"});for(const[e,n,r,s,o="",a=""]of i.matchAll(S)){if(";"===e.at(0))continue;const i=a.trim();if(""===i||"(HIDE GUI)"===i.slice(0,10))continue;const c=n??r;let u={id:"/setting.sn:"+c,nm:c,lbl:i,type:"txt",val:o?s.slice(1,-1):s};"{"===i.at(0)&&(u={...u,...JSON.parse(i)}),"rng"===u.type||"true"!==s&&"false"!==s||(u.type="chk"),t.push(u)}this.#Tn({cmd:"update.aTemp",err:"",aTemp:t})}async onCreChgOptSnd(e){}async onDelOptSnd(e){}#Pn(){this.onCreChgOptSnd=async()=>{},this.onDelOptSnd=async()=>{}}#Cn(){this.#an["cnv.mat.snd"]?(this.onCreChgOptSnd=async({path:t})=>{if(t=u(t),this.#In.test(t))return;const n=this.#Ln(t);this.#Pn();const i={cmd:"notice.Component",id:"cnv.mat.snd",mode:"wait"};this.#Tn(i),await this.exeTask("cnv_mat_snd",`${n?"base_scan":"prj_scan"} '{"codec":"${this.#an["cnv.mat.snd.codec"]}"}' "${this.#un}" "${this.#dn}"`),i.mode="comp",this.#Tn(i),this.#xn=await(0,e.readJson)(this.#Sn,{encoding:"utf8"}),this.#Nn(),this.#Cn()},this.onDelOptSnd=async({path:t})=>{if(!this.#an["cnv.mat.snd"])return;t=u(t);const n=this.#Ln(t);if(this.#Pn(),!n){const n=t.replace(this.#un,this.#dn);for(const t of["mp3","wav"])await(0,e.remove)(n.replace(/(m4a|aac|ogg)$/,t));return void this.#Cn()}for(const n of["m4a","aac","ogg"])await(0,e.remove)(t.replace(this.#dn,this.#un).replace(this.#Bn,"."+n));const i=y(t);if(i in this.#xn.hSize){const{baseSize:t,optSize:n}=this.#xn.hSize[i];this.#xn.sum.baseSize-=t,this.#xn.sum.optSize-=n,delete this.#xn.hSize[i],await(0,e.writeJson)(this.#Sn,this.#xn,{encoding:"utf8"}),this.#Nn()}this.#Cn()}):this.#Pn()}#In=/\.(m4a|aac|ogg)$/;#Bn=/\.(mp3|wav)$/;async onCreChgOptPic(e){}async onDelOptPic(e){}#jn(){this.onCreChgOptPic=async()=>{},this.onDelOptPic=async()=>{}}#Dn(){this.#an["cnv.mat.pic"]?(this.onCreChgOptPic=async({path:t})=>{if(t=u(t),this.#Mn.test(t))return;const n=this.#Ln(t);this.#jn();const i={cmd:"notice.Component",id:"cnv.mat.pic",mode:"wait"};this.#Tn(i),await this.exeTask("cnv_mat_pic",`${n?"base_scan":"prj_scan"} ${this.oWss["cnv.mat.webp_quality"]} "${this.#un}" "${this.#dn}"`),i.mode="comp",this.#Tn(i),this.#En=await(0,e.readJson)(this.#_n,{encoding:"utf8"}),this.#$n(),this.#Dn()},this.onDelOptPic=async({path:t})=>{if(!this.#an["cnv.mat.pic"])return;t=u(t);const n=this.#Ln(t);if(this.#jn(),!n){const n=t.replace(this.#un,this.#dn);for(const t of["jpeg","jpg","png"])await(0,e.remove)(n.replace(/webp$/,t));return void this.#Dn()}await(0,e.remove)(t.replace(this.#dn,this.#un).replace(this.#qn,".webp"));const i=y(t);if(i in this.#En.hSize){const{baseSize:t,webpSize:n}=this.#En.hSize[i];this.#En.sum.baseSize-=t,this.#En.sum.webpSize-=n,delete this.#En.hSize[i],await(0,e.writeJson)(this.#_n,this.#En,{encoding:"utf8"}),this.#$n()}this.#Dn()}):this.#jn()}#Mn=/\.webp$/;#qn=/\.(jpe?g|png)$/;#Ln(e){return e.slice(0,this.#fn)===this.#dn}get oWss(){return this.#an}#Un=void 0;#Tn=e=>{};#Hn;#Wn;open(){if(!Ae.aReady[1])return;const e=E.window.activeTextEditor?.viewColumn;if(this.#Un)return this.#Un.reveal(e),void this.#zn();(this.#Un=E.window.createWebviewPanel("SKYNovel-setting","",e||E.ViewColumn.One,{enableScripts:!0,localResourceRoots:[this.#vn,E.Uri.file(this.#cn)]})).onDidDispose((()=>this.#Un=void 0),void 0,this.ctx.subscriptions);const t=this.#Un.webview;this.#Hn=t.asWebviewUri(E.Uri.file(this.#cn)),this.#Wn=`${this.#Hn}/build/icon.png`,this.#Tn=e=>t.postMessage(e),t.onDidReceiveMessage((e=>this.#Gn(e)),void 0,this.ctx.subscriptions),this.#zn()}#Vn=void 0;#zn(){const e=[];d(this.#un,(()=>{}),(t=>e.push(t)));const t=this.#Un.webview;t.html=this.#wn.replaceAll("${webview.cspSource}",t.cspSource).replaceAll(/(href|src)="\.\//g,`$1="${t.asWebviewUri(this.#vn)}`)}#Gn(t){const{username:n}=(0,D.userInfo)();switch(t.cmd){case"?":this.#Tn({cmd:"!",oCfg:this.cfg.oCfg,oWss:this.#an,pathIcon:this.#Wn}),this.dispFontInfo(),this.#$n(),this.#Nn(),this.#kn();break;case"update.oCfg":{const n=t,i=this.cfg.oCfg.init.escape,r=this.cfg.oCfg,s=this.cfg.oCfg={...r,book:{...r.book,...n.oCfg.book},save_ns:n.oCfg.save_ns??r.save_ns,window:{...r.window,...n.oCfg.window},log:{...r.log,...n.oCfg.log},init:{...r.init,...n.oCfg.init},debug:{...r.debug,...n.oCfg.debug},code:{...r.code,...n.oCfg.code},debuger_token:n.oCfg.debuger_token??r.debuger_token};s.init.escape!==i&&this.setEscape(),s.debuger_token||=(0,x.randomUUID)(),this.#On(),this.chgTitle(s.book.title);const o=String((new Date).getFullYear()),a=(0,e.readJsonSync)(this.#pn,{encoding:"utf8"});a.name=s.save_ns,a.appBundleId=a.appId=`com.fc2.blog.famibee.skynovel.${s.save_ns}`,a.version=s.book.version,a.productName=s.book.title,a.author=s.book.creator,a.appCopyright=`(c)${s.book.creator}`,a.homepage=s.book.pub_url,a.description=s.book.detail,a.build.appId=a.appId,a.build.productName=s.book.title,a.build.artifactName=`${s.save_ns}-\${version}-\${arch}.\${ext}`,(0,C.writeFileSync)(this.#pn,JSON.stringify(a,null,"\t")),m(this.#hn,[[/(companyName\s*:\s*)(['"]).*\2/,`$1"${s.book.publisher}"`],[/(pkg.appCopyright \+' )\d+/,`$1${o}`]],!1),m(this.#bn,[[/(Version)[^\n]+/g,`$1${s.book.version}`],[/()[^\n]+/g,`$1${s.book.title}`],[/(  )[^\n]+/g,`$1${s.book.creator}`],[/(   )[^\n]+/,`$1${s.book.cre_url}`],[/(Copyright \(C\) )\d+ "([^"]+)"/g,`$1${o} "${s.book.publisher}"`],[/( )[^\n]+/g,`$1${s.book.pub_url}`]],!1),m(this.#gn,[[/(!define PUBLISHER ").+"/,`$1${s.book.publisher}"`]],!1)}break;case"change.range.webp_q_def":{if(!this.#an["cnv.mat.pic"])break;const n=t;this.#on.update("cnv.mat.webp_quality",this.#an["cnv.mat.webp_quality"]=n.webp_q),this.#jn();const i={cmd:"notice.Component",id:"cnv.mat.pic",mode:"wait"};this.#Tn(i),this.cmd("cnv.mat.webp_quality","all_recnv").then((()=>{this.#En=(0,e.readJsonSync)(this.#_n,{encoding:"utf8"}),this.#$n(),i.mode="comp",this.#Tn(i),this.#Dn()}))}break;case"change.range.webp_q":{if(!this.#an["cnv.mat.pic"])break;const n=t,i=this.#En.hSize[n.nm];n.no_def?i.webp_q=n.webp_q:delete i.webp_q,(0,e.writeJsonSync)(this.#_n,this.#En),this.onCreChgOptPic(E.Uri.file(this.#dn+i.fld_nm+"."+i.ext))}break;case"update.oWss":{const n=t,i=[];for(const[t,r]of Object.entries(n.oWss)){const n=this.#an[t];if(n==r)continue;switch(this.#on.update(t,r),this.#an[t]=r,t){case"cnv.font.subset":case"cnv.mat.pic":case"cnv.mat.snd":case"cnv.mat.snd.codec":break;default:continue}const s={cmd:"notice.Component",id:t,mode:"wait"};this.#Tn(s),i.push((()=>this.cmd(t,String(r)).then((i=>{if(i){switch(t){case"cnv.mat.pic":this.#En=(0,e.readJsonSync)(this.#_n,{encoding:"utf8"}),this.#$n();break;case"cnv.mat.snd":case"cnv.mat.snd.codec":this.#xn=(0,e.readJsonSync)(this.#Sn,{encoding:"utf8"}),this.#Nn()}s.mode="comp"}else this.#on.update(t,this.#an[t]=n),s.mode="cancel";this.#Tn(s)}))))}this.#jn(),this.#Pn(),Promise.allSettled(i.map((e=>e()))).then((()=>{this.#Dn(),this.#Cn()}))}break;case"update.aTemp":if(this.#Fn){this.#Fn=!1;break}this.#Vn&&clearTimeout(this.#Vn),this.#Vn=setTimeout((()=>{const e=t,n=[];for(const{nm:t,val:i}of e.aRes)n.push([new RegExp(`(&${t}\\s*=\\s*)((["'#]).+?\\3|[^;\\s]+)`),`$1$3${i}$3`]);m(this.#mn,n,!1)}),500);break;case"info":E.window.showInformationMessage(t.mes);break;case"warn":E.window.showWarningMessage(t.mes);break;case"openURL":we(E.Uri.parse(t.url),this.#cn);break;case"copyTxt":if("copy.folder_save_app"!==t.id)break;switch(process.platform){case"win32":E.env.clipboard.writeText(`C:\\Users\\${n}\\AppData\\Roaming\\${this.cfg.oCfg.save_ns}\\storage\\`);break;case"darwin":E.env.clipboard.writeText(`/Users/${n}/Library/Application Support/${this.cfg.oCfg.save_ns}/storage/`);break;case"linux":E.env.clipboard.writeText(`~/.config/${this.cfg.oCfg.save_ns}/storage/`)}E.window.showInformationMessage("");break;case"selectFile":this.#Kn(t)}}#Kn({title:t,openlabel:n,path:i}){E.window.showOpenDialog({title:`${t}`,openLabel:n??"",canSelectMany:!1,canSelectFiles:!1,canSelectFolders:!1}).then((async t=>{const n=t?.[0]?.fsPath;if(!n)return;const r=await this.exeTask("cut_round",`"${n}" ${this.#an["cnv.icon.shape"]} "${i}"`);this.#Tn({cmd:"updimg",pathIcon:this.#Wn,err_mes:0===r?"":(()=>(0,e.readJsonSync)(this.#cn+"/build/cut_round.json",{encoding:"utf8"}).err)()})}))}#Yn={"::PATH_PRJ_F":"core/font/ ","::PATH_USER_":"OS","::PATH_OS_FO":"OS"};dispFontInfo(){if(!this.#Un)return;const t=this.#cn+"/core/font/subset_font.json";if(!(0,e.existsSync)(t))return void this.#Tn({cmd:"update.cnvFont",aCnvFont:[]});const n=(0,e.readJsonSync)(t),i=Object.entries(n).map((([e,t])=>({nm:e,mes:this.#Yn[t.inp.slice(0,12)],iSize:t.iSize,oSize:t.oSize,err:t.err})));i.sort(),this.#Tn({cmd:"update.cnvFont",aCnvFont:i})}#$n(){this.#Tn({cmd:"update.optImg",oOptImg:{...this.#En,sum:{...this.#En.sum,pathImgCmpWebP:this.#Hn+"/doc/prj/",pathImgCmpBase:this.#Hn+`/doc/${te}/`}}})}#Nn(){this.#Tn({cmd:"update.optSnd",oOptSnd:{...this.#xn,sum:{...this.#xn.sum,pathSndOpt:this.#Hn+"/doc/prj/",pathSndBase:this.#Hn+`/doc/${te}/`}}})}}const R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).slice(1));const A=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,T=function(e){if(!function(e){return"string"==typeof e&&A.test(e)}(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var O=n(77598),F=n.n(O);const P=function(){function e(e,t,n,i){var r;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof t&&(t=T(t)),16!==(null===(r=t)||void 0===r?void 0:r.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(t),s.set(e,t.length),s=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),F().createHash("sha1").update(e).digest()}(s),s[6]=15&s[6]|80,s[8]=63&s[8]|128,n){i=i||0;for(let e=0;e<16;++e)n[i+e]=s[e];return n}return function(e,t=0){return(R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]).toLowerCase()}(s)}try{e.name="v5"}catch(e){}return e.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e}();function I(e){return new Uint8Array((e.match(/../g)??[]).map((e=>parseInt(e,16)))).buffer}function L(e){return[...new Uint8Array(e)].map((e=>e.toString(16).padStart(2,"0"))).join("")}function N(e){return btoa(new Uint8Array(e).reduce(((e,t)=>e+String.fromCharCode(t)),""))}class B{hPass;subtle;#Jn;#Zn;constructor(e,t){this.hPass=e,this.subtle=t,this.#Jn=JSON.stringify(this.hPass),this.#Zn={name:"AES-GCM",iv:I(e.iv)}}get strHPass(){return this.#Jn}#Xn(e){return this.subtle.digest("SHA-512",(new TextEncoder).encode(e))}uuidv5(e){return P(e,this.hPass.pass)}async init(){const e=await this.subtle.importKey("raw",await this.#Xn(this.hPass.pass),"PBKDF2",!1,["deriveKey"]);this.#Qn=await this.subtle.deriveKey({name:"PBKDF2",hash:"SHA-512",iterations:this.hPass.ite,salt:I(this.hPass.salt)},e,{name:this.#Zn.name,length:256},!1,["encrypt","decrypt"])}#Qn;async encAb(e){return await this.subtle.encrypt(this.#Zn,this.#Qn,e)}async enc(e){return N(await this.encAb((new TextEncoder).encode(e)))}async decAb(e){return await this.subtle.decrypt(this.#Zn,this.#Qn,e)}async dec(e){return(new TextDecoder).decode(await this.decAb((t=e,Uint8Array.from(atob(t),(e=>e.charCodeAt(0))))));var t}}var j=n(2203),M=n(20181);class $ extends j.Transform{encry;short_path;static#ei=10240;#ti=$.#ei;#ni=2;#ii;#ri={jpg:1,jpeg:1,png:2,svg:3,webp:4,mp3:10,m4a:11,ogg:12,aac:13,flac:14,wav:15,mp4:20,webm:21,ogv:22};constructor(e,n){super(),this.encry=e,this.short_path=n,this.#ii=M.Buffer.alloc(this.#ni+this.#ti),this.#ii[0]=0,this.#ii[1]=this.#ri[(0,t.extname)(n).slice(1)]??0}_transform(e,t,n){const i=e.length;if(0===this.#ti)return this.push(e),void n();if(i<this.#ti)return this.#ii.set(e,this.#ni),this.#ni+=i,this.#ti-=i,void n();this.#ii.set(e.slice(0,this.#ti),this.#ni),this.#ni+=this.#ti;const r=this.#ti;this.#si().then((()=>{i>r&&this.push(e.slice(r)),n()}))}_final(e){this.#si().then((()=>e()))}async#si(){if(0===this.#ti)return;this.#ti=0;const e=await this.encry.encAb(this.#ii.buffer.slice(0,this.#ni)),t=M.Buffer.alloc(4);t.writeUInt32LE(e.byteLength,0),this.push(t),this.push(new Uint8Array(e))}}let q=";";function U(e){q=e}class H extends E.TreeItem{cfg;pathWs;ctx;static#oi=[{cmd:"SnUpd",icon:"skynovel",label:"",task_type:"Sys",npm:`npm update ${q} npm run webpack:dev`},{cmd:"ReBuild",icon:"refresh",label:"",task_type:"Sys",npm:"npm run rebuild"},{cmd:"PrjSet",icon:"gear",label:"",task_type:"Sys"},{cmd:"Crypto",icon:"gear",label:"",task_type:"Sys",npm:"npm run webpack:dev"},{cmd:"TaskWeb",icon:"browser",label:"",task_type:"Web",npm:"npm run web",exe:!0},{cmd:"TaskApp",icon:"electron",label:"",task_type:"App",npm:"npm run start",exe:!0},{cmd:"",icon:"",label:"",children:[{cmd:"PackWin",icon:"windows",label:"Windows exe x64",npm:`npm run webpack:pro ${q} ./node_modules/.bin/electron-builder -w --x64`},{cmd:"PackWin32",icon:"windows",label:"Windows exe ia32",npm:`npm run webpack:pro ${q} ./node_modules/.bin/electron-builder -w --ia32`},{cmd:"PackMac",icon:"macosx",label:"macOS dmg x64",npm:`npm run webpack:pro ${q} ./node_modules/.bin/electron-builder -m --x64`,forMac:!0},{cmd:"PackMacArm64",icon:"macosx",label:"macOS dmg arm64",npm:`npm run webpack:pro ${q} ./node_modules/.bin/electron-builder -m --arm64`,forMac:!0},{cmd:"PackLinux",icon:"linux",label:"Linux AppImage",npm:`npm run webpack:pro ${q} ./node_modules/.bin/electron-builder -l`},{cmd:"PackFreem",icon:"freem",label:" zip",npm:"npm run webpack:pro"}]}];static create(e,t,n){const i=t.uri.fsPath,r=new H({cmd:"",icon:"",label:"",desc:t.name,children:H.#oi},i,e);return r.collapsibleState=E.TreeItemCollapsibleState.Collapsed,H.regCmds=()=>{},H.#ai[i]=n,r}static#ai={};#St=[];constructor(e,t,n){if(super(a&&e.forMac?"":e.label),this.cfg=e,this.pathWs=t,this.ctx=n,a&&e.forMac)this.description="Windows";else if(this.description=e.desc??"",e.cmd){const t=this.contextValue="skynovel.dev"+e.cmd;H.regCmds(n,t,e)}e.children?(this.iconPath=E.ThemeIcon.Folder,this.collapsibleState=E.TreeItemCollapsibleState.Collapsed,this.#St=e.children.map((e=>new H(e,t,n)))):(this.iconPath=Re(e.icon),this.collapsibleState=E.TreeItemCollapsibleState.None)}static regCmds(e,t,n){""!==n.cmd&&(H.#ci(e,t,n.cmd,n),n.exe&&(H.#ci(e,t+"Dbg",n.cmd+"Dbg",n),H.#ci(e,t+"Stop",n.cmd+"Stop",n)))}static#ci(e,t,n,i){e.subscriptions.push(E.commands.registerCommand(t,(e=>H.#ai[e.pathWs]?.(e,n,i))))}get children(){return this.#St}}class W{sys;oCfg={save_ns:"",window:{width:300,height:300},book:{title:"",creator:"",cre_url:"",publisher:"",pub_url:"",detail:"",version:"1.0"},log:{max_len:1024},init:{bg_color:"#000000",tagch_msecwait:10,auto_msecpagewait:3500,escape:""},debug:{devtool:!1,token:!1,tag:!1,putCh:!1,debugLog:!1,baseTx:!1,masume:!1,variable:!1},code:{},debuger_token:""};userFnTail="";hPathFn2Exts={};constructor(e){this.sys=e}async load(e){if(this.oCfg.save_ns=e?.save_ns??this.oCfg.save_ns,this.oCfg.window.width=Number(e?.window?.width??this.oCfg.window.width),this.oCfg.window.height=Number(e?.window?.height??this.oCfg.window.height),this.oCfg.book={...this.oCfg.book,...e.book},this.oCfg.log.max_len=e.log?.max_len?.max_len??this.oCfg.log.max_len,this.oCfg.init={...this.oCfg.init,...e.init},this.oCfg.debug={...this.oCfg.debug,...e.debug},this.oCfg.debuger_token=e.debuger_token,await this.sys.loadPath(this.hPathFn2Exts,this),this.#ui=this.matchPath("^breakline$","png|jpg|jpeg|json|svg|webp|mp4|webm").length>0,this.#li=this.matchPath("^breakpage$","png|jpg|jpeg|json|svg|webp|mp4|webm").length>0,this.sys.crypto)for(const e of Object.values(this.hPathFn2Exts))for(const[t,n]of Object.entries(e)){if(":id"!==t.slice(-3))continue;const i=n.slice(n.lastIndexOf("/")+1),r=e[t.slice(0,-10)],s=await this.sys.fetch(r),o=await s.text();if(i!==this.sys.hash(o))throw` fn:${r}`}}#ui=!1;get existsBreakline(){return this.#ui}#li=!1;get existsBreakpage(){return this.#li}getNs(){return`skynovel.${this.oCfg.save_ns} - `}#hi=/([^\/\s]+)\.([^\d]\w+)/;searchPath(e,t=""){if(!e)throw"[searchPath] fn";if("http://"===e.slice(0,7))return e;const n=e.match(this.#hi);let i=n?n[1]:e;const r=n?n[2]:"";if(this.userFnTail){const e=i+"@@"+this.userFnTail;if(e in this.hPathFn2Exts)if(""===t)i=e;else for(const n of Object.keys(this.hPathFn2Exts[e]))if(-1!==`|${t}|`.indexOf(`|${n}|`)){i=e;break}}const s=this.hPathFn2Exts[i];if(!s)throw`${e}`;let o="";if(!r){const n=(a=s[":cnt"],parseInt(String(a),10));if(""===t){if(n>1)throw`${e}${t}`;return e}const i=`|${t}|`;if(n>1){let n=0;for(const r of Object.keys(s))if(-1!==i.indexOf(`|${r}|`)&&++n>1)throw`${e}${t}`}for(let e of Object.keys(s))if(i.indexOf(`|${e}|`)>-1)return s[e];throw`${t}=${e}`}var a;if(""!==t&&-1===`|${t}|`.indexOf(`|${r}|`))throw`${r}${t}=${e}`;if(o=s[r],!o)throw`${r}=${e}${t}`;return o}matchPath(e,t=""){const n=[],i=new RegExp(e),r=new RegExp(t);for(const[e,s]of Object.entries(this.hPathFn2Exts)){if(-1===e.search(i))continue;if(""===t){n.push(s);continue}const o={};let a=!1;for(const t of Object.keys(s))-1!==t.search(r)&&(o[t]=e,a=!0);a&&n.push(o)}return n}addPath(e,t){const n={};for(const[e,i]of Object.entries(t))n[e]=(":"===e.at(0)?"":this.sys.cur)+i;this.hPathFn2Exts[e]=n}}var z=n(45949),G=n.n(z);class V{arg;constructor(e){this.arg=e}async loadPath(t,n){const i=this.arg.cur+"path.json",r=await(0,e.readJson)(i,{encoding:"utf8"});for(const[e,n]of Object.entries(r)){const i=t[e]=n;for(const[e,t]of Object.entries(i))":cnt"!==e&&(i[e]=this.arg.cur+t)}}decStr(e,t){return""}get cur(){return this.arg.cur}get crypto(){return this.arg.crypto}set crypto(e){this.arg.crypto=e}async fetch(t){const n=await(0,e.readJson)(t,{encoding:"utf8"});return new Response(n)}hash;$path_downloads="";get path_downloads(){return this.$path_downloads}$path_userdata="";get path_userdata(){return this.$path_userdata}}class K extends W{sys;encry;constructor(e,t){super(e),this.sys=e,this.encry=t}setCryptoMode(e){this.sys.crypto=e}async loadEx(t,n){const i=this.sys.cur+"prj.json",r=this.sys.cur+"path.json";try{let s=await(0,e.readJson)(i,{encoding:"utf8"});s={...v,...s,book:{...v.book,...s.book},window:{...v.window,...s.window},log:{...v.log,...s.log},init:{...v.init,...s.init},debug:{...v.debug,...s.debug},code:{...v.code,...s.code}},await super.load(s),this.hPathFn2Exts=this.#pi(this.sys.cur,n),await(0,e.outputJson)(r,this.hPathFn2Exts),this.sys.crypto&&t(E.Uri.file(r))}catch(e){console.error(`Project loadPrjJs ${e} fpPrj=${i}= fpPath=${r}=`)}}#di=/\.(js|css)$/;#fi=/^(.+)\.(\d+)x(\d+)\.(png|jpe?g)$/;#pi(n,r){const s={},o=[];return d(n,(()=>{}),(r=>{const a=(0,t.resolve)(n,r);d(a,((n,c)=>{this.#mi(s,r,c,o);const u=c.match(this.#di);if(u){const t=(0,e.readFileSync)(n,{encoding:"utf8"}),i=c.slice(0,-u[0].length);s[i][u[1]+":id"]="u5:"+this.encry.uuidv5(t)}const l=c.match(this.#fi);if(!l)return;const h=(0,t.resolve)(a,l[1]+".json");if((0,e.existsSync)(h))return;const{width:p=0,height:d=0}=G()(n),f=i(l[2]),m=i(l[3]),g=p/f,y=d/m,b=l[1],v=l[4],w={frames:{},meta:{app:"skynovel",version:"1.0",image:l[0],format:"RGBA8888",size:{w:p,h:d},scale:1,animationSpeed:1}};let _=0;for(let e=0;e<f;++e)for(let t=0;t<m;++t)w.frames[b+String(++_).padStart(4,"0")+"."+v]={frame:{x:e*g,y:t*y,w:g,h:y},rotated:!1,trimmed:!1,spriteSourceSize:{x:0,y:0,w:p,h:d},sourceSize:{w:g,h:y},pivot:{x:.5,y:.5}};(0,e.writeJsonSync)(h,w),E.window.showInformationMessage(`[SKYNovel] ${c}  ${l[1]}.json `),this.#mi(s,r,`${l[1]}.json`,o)}),(()=>{}))})),r&&(r.delete(this.#gi),o.length>0&&r.set(this.#gi,o)),s}#gi=E.Uri.file("");#mi(e,n,r,s){const{name:o,base:a,ext:c}=(0,t.parse)(r),u=c.slice(1);let l=e[o];if(l){if(u in l)return void s.push(new E.Diagnostic(new E.Range(0,0,0,0),`${a}`,E.DiagnosticSeverity.Error));l[":cnt"]=i(l[":cnt"])+1}else l=e[o]={":cnt":1};l[u]=n+"/"+r}}var Y=n(52566),J=n(99133),Z=n(35317),X=n(85059);const{subtle:Q}=x.webcrypto,ee="crypto_prj",te="prj_base";class ne{ctx;actBar;wsFld;aTiRoot;emPrjTD;hOnEndTask;sendRequest2LSP;#cn;#un;#yi;#bi;#dn;#vi;#wi=!1;#_i=/\.(ss?n|json|html?|jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv|html?)$/;#Si=/\.(sn|ssn|json|html?)$/;#Ei=/\.(jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv)/g;#xi;#Di;#Ci;#ki=Object.create(null);static#Ri=0;static#Ai=3;dspCryptoMode(){}#Ti=[];enableBtn(e){if(e)for(const e of this.#Ti)e.contextValue=e.contextValue?.trimEnd(),this.emPrjTD.fire(e);else for(const e of this.#Ti)e.contextValue+=" ",this.emPrjTD.fire(e)}#Oi;#Fi;#Pi;#vn;#Ii;constructor(n,i,r,s,c,l,p){this.ctx=n,this.actBar=i,this.wsFld=r,this.aTiRoot=s,this.emPrjTD=c,this.hOnEndTask=l,this.sendRequest2LSP=p;const f=r.uri.path;this.#cn=u(f),this.#un=this.#cn+"/doc/prj/",this.#yi=this.#un.length,this.#bi=this.#cn+"/core/plugin/",(0,e.ensureDir)(this.#bi),this.#dn=this.#cn+`/doc/${te}/`,this.#Oi=(e,t={})=>p(e,r.uri,t);const m=n.extensionPath+"/views/";this.#vn=E.Uri.file(m),this.#Ii=(0,e.readFileSync)(m+"folder.htm",{encoding:"utf8"}).replace("<meta_autooff ","<meta ").replaceAll("${nonce}",Ce()).replace('.ts"><\/script>','.js"><\/script>');const g=H.create(n,r,((e,t,n)=>this.#Li(e,t,n)));s.push(g),this.#vi=this.#cn+`/doc/${ee}/`,this.#wi=(0,e.existsSync)(this.#vi);const y=this.#cn+"/pass.json",b=(0,e.existsSync)(y);this.#xi=new B(b?(0,e.readJsonSync)(y,{throws:!1}):{pass:(0,x.randomUUID)(),salt:L((0,x.getRandomValues)(new Uint32Array(16))),iv:L((0,x.getRandomValues)(new Uint32Array(16))),keySize:String(16),ite:500+Math.floor((new Date).getTime()%300),stk:L((0,x.getRandomValues)(new Uint32Array(16)))},Q),b||(0,e.outputFile)(y,this.#xi.strHPass);try{this.#Ci=this.#cn+"/core/diff.json",(0,e.existsSync)(this.#Ci)&&(this.#ki=(0,e.readJsonSync)(this.#Ci))}catch(e){this.#ki=Object.create(null)}const v=new V({cur:this.#un,crypto:this.#wi,dip:""});this.#Pi=new K(v,this.#xi),this.#Ni=new k(n,r,this.#Pi,(e=>{g.label=e,c.fire(g)}),(()=>p("def_esc.upd",r.uri)),((e,t)=>this.#Bi(e,t)),((e,t)=>this.#ji(e,t))),this.#Mi();const w=!(0,e.existsSync)(this.#cn+"/node_modules");w?(this.#$i(),Ae.aReady[1]&&E.window.showInformationMessage("",{modal:!0})):this.#$i(!1);const _=E.workspace.createFileSystemWatcher(new E.RelativePattern(r,`doc/{prj,${te}}/*/**/*.[a-zA-Z][a-zA-Z0-9]*`)),S=E.workspace.createFileSystemWatcher(new E.RelativePattern(r,"doc/prj/prj.json")),C=E.workspace.createFileSystemWatcher(new E.RelativePattern(r,"doc/prj/[a-zA-Z0-9]*")),R=new RegExp(`^${r.uri.path}/doc/prj/.+/setting.sn$`),A={};d(this.#un,(()=>{}),(e=>{A[e]={},d((0,t.resolve)(this.#un,e),((t,n)=>{const i=u(E.Uri.file(t).path);A[e][i]=0}),(()=>{}))}));const T=/\.(jpg|jpeg|png|webp)$/,O=/\.(mp3|wav|m4a|aac|ogg)$/,F=async t=>{if(T.test(t.path)){if(t.path.slice(0,this.#yi)===this.#un&&(!this.#Ni.oWss["cnv.mat.pic"]||P.test(t.path))){const{pathCn:n}=this.#qi(t.path);n&&(0,e.remove)(n)}if(this.#Ui)return;return this.#Hi(t,"DEL"),await this.#Ni.onDelOptPic(t),void this.#Wi()}if(O.test(t.path)){if(t.path.slice(0,this.#yi)===this.#un&&(!this.#Ni.oWss["cnv.mat.snd"]||I.test(t.path))){const{pathCn:n}=this.#qi(t.path);n&&(0,e.remove)(n)}if(this.#Ui)return;return this.#Hi(t,"DEL"),await this.#Ni.onDelOptSnd(t),void this.#Wi()}if(R.test(t.path))return this.#Ni.onDelSettingSn(t),void this.#Wi();if(h.test(t.path))return;if(t.path.slice(0,this.#yi)!==this.#un)return;const{pathCn:n,pp:i}=this.#qi(t.path);n&&(0,e.remove)(n),delete this.#ki[i],this.#zi(),this.#Wi()},P=/\.(webp)$/,I=/\.(m4a|aac|ogg)$/;this.#Di=[_.onDidCreate((async e=>{const n=u(e.path),i=this.#Gi(n),r=(0,t.dirname)(i);if((A[r]??={})[n]=0,T.test(e.path)){if(e.path.slice(0,this.#yi)!==this.#un||this.#Ni.oWss["cnv.mat.pic"]&&!P.test(e.path)||this.#Vi(e),this.#Ui)return;return this.#Hi(e,"CRE"),await this.#Ni.onCreChgOptPic(e),void this.#Wi()}if(O.test(e.path)){if(e.path.slice(0,this.#yi)!==this.#un||this.#Ni.oWss["cnv.mat.snd"]&&!I.test(e.path)||this.#Vi(e),this.#Ui)return;return this.#Hi(e,"CRE"),await this.#Ni.onCreChgOptSnd(e),void this.#Wi()}if(R.test(e.path))return this.#Ni.onCreSettingSn(e),this.#Vi(e),void this.#Wi();h.test(e.path)||e.path.slice(0,this.#yi)===this.#un&&(this.#Vi(e),this.#Wi())})),_.onDidChange((async e=>{if(T.test(e.path)){if(e.path.slice(0,this.#yi)!==this.#un||this.#Ni.oWss["cnv.mat.pic"]&&!P.test(e.path)||this.#Vi(e),this.#Ui)return;return this.#Hi(e,"CHG"),void await this.#Ni.onCreChgOptPic(e)}if(O.test(e.path)){if(e.path.slice(0,this.#yi)!==this.#un||this.#Ni.oWss["cnv.mat.snd"]&&!I.test(e.path)||this.#Vi(e),this.#Ui)return;return this.#Hi(e,"CHG"),void await this.#Ni.onCreChgOptSnd(e)}R.test(e.path)?this.#Vi(e):h.test(e.path)||e.path.slice(0,this.#yi)===this.#un&&this.#Vi(e)})),_.onDidDelete((e=>F(e))),S.onDidChange((e=>this.#Vi(e))),C.onDidCreate((t=>{(0,e.statSync)(t.path).isDirectory()&&this.#Ni.onCreDir(t)})),C.onDidDelete((t=>{const n=t.path.slice(this.#yi);for(const e of Object.keys(A[n]))F(E.Uri.file(e));delete A[n],this.#wi&&(0,e.removeSync)(this.#vi+n),(0,e.removeSync)(this.#dn+n),this.#Ki&&(this.#Ki?.dispose(),this.#Ki=void 0,this.#Yi=null),this.#Ni.onDelDir(t)}))];const N=g.children,j=N[N.length-1].children;this.#Ti=[...N.slice(0,-1),...j];const M=N[ne.#Ri];this.getLocalSNVer=()=>{const e=this.#Ni.getLocalSNVer();return M.description=e.verSN?`-- ${e.verSN}`+(e.verTemp?` - ${e.verTemp}`:""):"",c.fire(M),e},w||i.chkLastSNVer([this.getLocalSNVer()]);const $=N[ne.#Ai];this.dspCryptoMode=()=>{$.description="-- "+(this.#wi?"":""),c.fire($)},this.dspCryptoMode(),E.debug.onDidTerminateDebugSession((e=>this.#Ji())),E.debug.onDidStartDebugSession((e=>this.#Zi.push(e))),n.subscriptions.push(E.languages.registerEvaluatableExpressionProvider(o,{provideEvaluatableExpression(e,t){const n=e.getWordRangeAtPosition(t,ne.#Xi);if(!n)return Promise.reject("No word here.");const i=e.getText(n),r=i.at(0);return"["===r||"*"===r||";"===r||"="===i.at(-1)?Promise.reject("No word here."):new E.EvaluatableExpression(n,i)}}));const{username:q}=(0,D.userInfo)();this.#Qi=[`${this.#cn}/core/font`,a?`C:/Users/${q}/AppData/Local/Microsoft/Windows/Fonts`:`/Users/${q}/Library/Fonts`,a?"C:/Windows/Fonts":"/Library/Fonts"],this.#Fi=E.languages.createDiagnosticCollection(o.language),this.#er().then((()=>this.#Oi("ready")))}#qi(e){e=u(E.Uri.file(e).path);const t=this.#Gi(e),n=this.#ki[t];return{pathCn:n?e.replace(this.#tr,`/${ee}/${n.cn}`):void 0,diff:n,pp:t}}#tr=new RegExp(`\\/(${te}|prj)\\/.+$`);#nr=new RegExp(`^.+\\/(${te}|prj)\\/`);#Gi(e){return e.replace(this.#nr,"")}static#Xi=/;.+|[\[*]?[\d\w\.]+=?/;getLocalSNVer;#Zi=[];#Ji=()=>{};#Ni;dispose(){for(const e of this.#Di)e.dispose()}#ir(){this.#rr.get("TaskWeb")?.terminate(),this.#rr.delete("TaskWeb"),this.#rr.get("TaskApp")?.terminate(),this.#rr.delete("TaskApp");const e=this.#Zi.map((e=>E.debug.stopDebugging(e)));return this.#Zi=[],Promise.allSettled(e)}onRequest(t){switch(t.cmd){case"init":{const n={};p(this.#un,(t=>{if(!/\.(ss?n|json)$/.test(t))return;t=u(E.Uri.file(t).path);const i=E.workspace.textDocuments.find((e=>u(e.uri.path)===t)),r=t.slice(this.#yi);n[r]=(s.test(t)?i?.getText():void 0)??(0,e.readFileSync)(t,{encoding:"utf8"})})),this.#Oi(t.cmd+".res",{pp2s:n,hDefPlg:this.#sr})}break;case"analyze_inf":this.#or=[...ve,{kind:E.QuickPickItemKind.Separator,label:""},...t.o.aQuickPickMac.map((({label:e,description:t,uri:n})=>({label:e,description:t,uri:E.Uri.parse(n)}))),{kind:E.QuickPickItemKind.Separator,label:""},...t.o.aQuickPickPlg.map((({label:e,description:t,uri:n})=>({label:e,description:t,uri:E.Uri.parse(n)})))],this.#ar=t.o.InfFont,this.#cr=new Map(t.o.aExt2Snip),this.#Fi.clear();for(const[e,t]of Object.entries(this.#ar.hFp2FontErr)){const n=[];for(const{err:e,nm:i,sl:r,sc:s,el:o,ec:a}of t)this.#ur(i)||n.push(new E.Diagnostic(new E.Range(r,s,o,a),e,E.DiagnosticSeverity.Error));this.#Fi.set(E.Uri.file(e),n)}this.#lr=()=>this.#Oi("credel_sn");break;case"hover.res":{const{path:e}=E.Uri.parse(t.o?.uri);this.#hr[e]?.(t.o)}}}#hr={};provideHover(e,t){const n=e.uri.path;return new Promise(((i,r)=>{this.#hr[n]=e=>{delete this.#hr[n];let t=String(e.value);if("undefined"===t)return void r();const s=t.split(/(?=\n---\n)/);if(3===s.length){const[e,...n]=s;t=e+n.join("").replaceAll(/<!-- ({.+?}) -->/g,((e,t)=>{const n=JSON.parse(t),{name:i,val:r}=n,s=this.#Pi.searchPath(r,"png|jpg|jpeg|json|svg|webp|mp4|webm"),o=this.#pr+s,a=`${o}|width=${this.#dr}|height=${this.#dr}`,{width:c=0,height:u=0}=G()(this.#un+s),l=encodeURIComponent(JSON.stringify([E.Uri.parse(o)]));return`- ${i} = ${r} (${c}x${u}) [](${o} "") [](${E.Uri.parse(`command:revealInExplorer?${l}`)} "")\n\t[](${E.Uri.parse(`command:revealFileInOS?${l}`)} "")  \n![${r}](${a} "${r}")`}))}const o=new E.MarkdownString(t);o.isTrusted=!0,i(new E.Hover(o))},this.#Oi("hover",{uri:e.uri.toString(),pos:t})}))}get#pr(){return this.wsFld.uri.toString()+"/doc/prj/"}#dr=200;#ur(t){for(const n of this.#Qi)for(const i of["woff2","otf","ttf","WOFF2","OTF","TTF"]){const r=`${n}/${t}.${i}`;if((0,e.existsSync)(r))return r}return""}#ar={defaultFontName:"",hSn2Font2Str:{},hFp2FontErr:{}};#Qi;#or=[];openReferencePallet(){E.window.showQuickPick(this.#or,{placeHolder:"?",matchOnDescription:!0}).then((e=>{e?.uri&&we(e.uri,this.#cn)}))}opView(e){u(e.path)!==this.#un+"prj.json"?this.#fr(e):this.#Ni.open()}#fr(e){const t=E.window.activeTextEditor?.viewColumn,n=this.#Ki;if(this.#Yi===e&&n)n.reveal(t);else{if(!n){const e=this.#Ki=E.window.createWebviewPanel("SKYNovel-folder","",t||E.ViewColumn.One,{enableScripts:!0,localResourceRoots:[this.#vn,E.Uri.file(this.#cn)]}),n=e.webview;this.ctx.subscriptions.push(e.onDidDispose((()=>this.#Ki=void 0),void 0,this.ctx.subscriptions),n.onDidReceiveMessage((e=>{switch(e.cmd){case"info":E.window.showInformationMessage(e.text);break;case"warn":E.window.showWarningMessage(e.text)}}),!1)),n.html=this.#Ii.replaceAll("${webview.cspSource}",n.cspSource).replaceAll(/(href|src)="\.\//g,`$1="${n.asWebviewUri(this.#vn)}/`).replace(/<!--SOL-->.+?<!--EOL-->/s,"")}this.#Yi=e,this.#mr(e)}}#Ki=void 0;#Yi=null;#gr=null;#mr(e){const t=u(e.path),n=this.#Gi(t);this.#Ki.title=n+" ";let i="";const r=this.#Ki.webview;this.#gr=r.asWebviewUri(E.Uri.file(this.#un)),d(t,((e,t)=>{const n=u(E.Uri.file(e).path),r=this.#Gi(n);this.#yr.test(n)?i+=`<div class="col pe-0">\n\t<div class="card text-bg-secondary">\n\t\t<video controls controlsList="nodownload" playsinline preload="metadata" class="w-100" src="${this.#gr}${r}" class="card-img-top"></video>\n\t\t<div class="card-body">\n\t\t\t<a href="${this.#gr}${r}" title="" class="btn btn-primary" title="">${t}</a>\n\t\t</div>\n\t</div>\n</div>`:this.#br.test(r)?i+=`<div class="col pe-0">\n\t<img loading="lazy" src="${this.#gr}${r}" title="${t}"/>\n</div>`:this.#vr.test(r)&&(i+=`<div class="col pe-0">\n\t<div class="card text-bg-secondary">\n\t\t<audio controls src="${this.#gr}${r}" class="card-img-top"></audio>\n\t\t<div class="card-body">\n\t\t\t<a href="${this.#gr}${r}" title="" class="btn btn-primary" title="">${t}</a>\n\t\t</div>\n\t</div>\n</div>`)}),(()=>{})),r.postMessage({cmd:"refresh",o:{htm:i}})}#yr=/\.(mp4|webm)$/;#br=new RegExp("\\.png|jpg|jpeg|json|svg|webp|mp4|webm$");#vr=new RegExp("\\.mp3|m4a|ogg|aac|flac|wav$");#Hi({path:e},t){const n=this.#Yi;if(!this.#Ki||!n)return;const i=u(e),r=u(n.path);i.slice(0,r.length)===r&&(this.#wr&&clearTimeout(this.#wr),this.#wr=setTimeout((()=>this.#mr(n)),500))}#wr=void 0;async#Bi(t,n){switch(t){case"cnv.font.subset":if(""!==await E.window.showInformationMessage(" / ",{modal:!0},""))return!1;await this.#_r(g(n));break;case"cnv.mat.pic":if(""!==await E.window.showInformationMessage(" / ",{modal:!0},""))return!1;if(this.#wi)for(const t in this.#ki){if(!this.#Sr.test(t))continue;const n=this.#ki[t];(0,e.remove)(`${this.#vi}${n.cn}`)}await this.#Er(g(n)?"enable":"disable"),this.#Wi();break;case"cnv.mat.webp_quality":if(!this.#Ni.oWss["cnv.mat.pic"])break;await this.#Er("reconv");break;case"cnv.mat.snd":if(""!==await E.window.showInformationMessage(" / ",{modal:!0},""))return!1;if(this.#wi)for(const t in this.#ki){if(!this.#xr.test(t))continue;const n=this.#ki[t];(0,e.remove)(`${this.#vi}${n.cn}`)}await this.#Dr(g(n)?"enable":"disable"),this.#Wi();break;case"cnv.mat.snd.codec":if(!this.#Ni.oWss["cnv.mat.snd"])break;if(this.#wi)for(const t in this.#ki){if(!this.#xr.test(t))continue;const n=this.#ki[t];(0,e.remove)(`${this.#vi}${n.cn}`)}await this.#Dr("reconv"),this.#Wi()}return!0}#Sr=/\.(jpe?g|png|svg|webp)$/;#xr=/\.(mp3|m4a|ogg|aac|flac|wav)$/;#Er=e=>this.#ji("cnv_mat_pic",`${e} ${this.#Ni.oWss["cnv.mat.webp_quality"]} "${this.#un}" "${this.#dn}"`);#Dr=e=>this.#ji("cnv_mat_snd",`${e} '{"codec":"${this.#Ni.oWss["cnv.mat.snd.codec"]}"}' "${this.#un}" "${this.#dn}"`);#Cr={cut_round:{title:"",pathCpyTo:"build",aNeedLib:["fs-extra","sharp","png2icons"]},subset_font:{title:"",pathCpyTo:"core/font",aNeedLib:["fs-extra"]},cnv_mat_pic:{title:"",pathCpyTo:"build",aNeedLib:["fs-extra","sharp","p-queue@6.6.2"]},cnv_mat_snd:{title:"",pathCpyTo:"build",aNeedLib:["fs-extra","@ffmpeg-installer/ffmpeg","fluent-ffmpeg","p-queue@6.6.2"]}};#Ui=!1;#ji(t,n){this.#Ui=!0;const i=this.#Cr[t];return new Promise((r=>E.window.withProgress({location:E.ProgressLocation.Notification,title:i.title,cancellable:!1},(s=>new Promise((async o=>{const a=this.#cn+`/${i.pathCpyTo}/${t}.js`;let c="";const u=await(0,e.readJson)(this.#cn+"/package.json",{encoding:"utf8"}),l=i.aNeedLib.filter((e=>!u.devDependencies[e])).join(" ");c=`npm i -D ${l} ${q} `,await(0,e.copy)(this.ctx.extensionPath+`/dist/${t}.js`,a),E.tasks.executeTask(new E.Task({type:"SKYNovel TaskSys"},this.wsFld,i.title,"SKYNovel",new E.ShellExecution(`cd "${this.#cn}" ${q} ${c} node ./${i.pathCpyTo}/${t}.js ${n}`))).then((e=>this.#rr.set(t,e)),(e=>console.error(`fn:Project #exeTask() rj:${e.message}`))),this.hOnEndTask.set("Sys",(e=>{r(e.exitCode??0),this.#Ui=!1,s.report({message:"",increment:100}),setTimeout((()=>o()),4e3)}))}))))))}#kr=/\.(woff2?|otf|ttf)$/i;static DEF_FONT=":DEF_FONT:";async#_r(t){if(!Ae.aReady[4])return;if(d(this.#un+"script/",((t,n)=>{this.#kr.test(n)&&(0,e.removeSync)(t)}),(()=>{})),!t)return await this.#ji("subset_font",""),void this.#Ni.dispFontInfo();const n={};n[ne.DEF_FONT]={inp:"",txt:""};const i=e=>n[e]??={inp:this.#ur(e).replace(/^.+\/core\/font/,"::PATH_PRJ_FONTS::").replace(a?/C:\/Users\/[^\/]+\/AppData\/Local\/Microsoft\/Windows\/Fonts/:/\/Users\/[^\/]+\/Library\/Fonts/,"::PATH_USER_FONTS::").replace(a?"C:/Windows/Fonts":"/Library/Fonts","::PATH_OS_FONTS::"),txt:""},r=this.#ar;for(const e of Object.values(r.hSn2Font2Str))for(const[t,r]of Object.entries(e))i(t),n[t].txt+=r;i(r.defaultFontName),n[r.defaultFontName].txt+=n[ne.DEF_FONT].txt,delete n[ne.DEF_FONT];for(const e of Object.values(n)){const t=new Set(Array.from(e.txt));e.txt=[...t].sort().join("")}await(0,e.outputJson)(this.#cn+"/core/font/font.json",n),await this.#ji("subset_font","--minify"),this.#Ni.dispFontInfo()}#Rr=new Map([["Crypto",["","","","","","","","","","","",""]],["TaskWeb",["_off","_off","","_off","Stop","_off","_off","_off","_off","_off","_off","_off"]],["TaskWebDbg",["_off","_off","","_off","Stop","_off","_off","_off","_off","_off","_off","_off"]],["TaskWebStop",["","","","","","","","","","","",""]],["TaskAppDbgStop",["","","","","","","","","","","",""]]]);#Li(e,t,n){if(!Ae.aReady[1])return;const i=this.#Rr.get(t)??["_off","_off","_off","_off","_off","_off","_off","_off","_off","_off","_off","_off"];this.#Ti.forEach(((e,t)=>{e.contextValue+=i[t],this.emPrjTD.fire(e)})),"TaskWebStop"!==t&&"TaskAppStop"!==t?E.window.withProgress({location:E.ProgressLocation.Notification,title:String(e.label)??"",cancellable:!1},(i=>new Promise((r=>{const s=e.iconPath;e.iconPath=new E.ThemeIcon("sync~spin"),this.#Ar(e,t,n,((t=4e3)=>{e.iconPath=s;for(const e of this.#Ti){switch(e.contextValue?.slice(-4)){case"_off":case"Stop":e.contextValue=e.contextValue?.slice(0,-4)}this.emPrjTD.fire(e)}i.report({message:"",increment:100}),setTimeout((()=>r(0)),t)}))})))):this.#Ar(e,t,n,(()=>{}))}#Ar(n,i,r,s){let o=`cd "${this.#cn}" ${q} `;switch((0,e.existsSync)(this.#cn+"/node_modules")||(o+=`npm i ${q} `,(0,e.removeSync)(this.#cn+"/package-lock.json")),r.npm&&(o+=r.npm),i){case"SnUpd":return void this.#ir().then((()=>this.actBar.updPrjFromTmp(this.#cn))).then((()=>X.run({packageFile:this.#cn+"/package.json",upgrade:!0,target:"minor"}).then((()=>{this.getLocalSNVer(),this.#Ar(n,"SnUpd_waited",r,s)})))).catch((()=>s(0)));case"SnUpd_waited":case"Crypto_waited":break;case"PrjSet":return this.#Ni.open(),void s(0);case"Crypto":return void E.window.showInformationMessage(" / ",{modal:!0},"").then((e=>{""===e?this.#ir().then((()=>{this.#Tr(),this.#Ar(n,"Crypto_waited",r,s)})).catch((e=>console.error(e))):s(0)}));case"TaskWebDbg":case"TaskAppDbg":return void this.#ir().then((()=>{this.#Ji=()=>{this.#Ji=()=>{},s(0)},E.debug.startDebugging(this.wsFld,"TaskWebDbg"===i?"web":"app")}));case"TaskWebStop":case"TaskAppStop":return this.#ir(),void s(0);case"PackWin":case"PackWin32":case"PackMac":case"PackMacArm64":case"PackLinux":this.#ir();break;case"PackFreem":this.#ir();let e=!1;if(p(this.#un,(n=>{e||".svg"!==n.slice(-4)||(e=!0,E.window.showErrorMessage(" svg png ","","Online Converter").then((e=>{switch(e){case"":E.env.openExternal(E.Uri.file((0,t.dirname)(n)));break;case"Online Converter":E.env.openExternal(E.Uri.parse("https://cancerberosgx.github.io/demos/svg-png-converter/playground/"))}})))})),e)return void s()}switch(i){case"PackWin":case"PackWin32":if(!a)break;if(!/(Restricted|AllSigned)/.test((0,Z.execSync)("PowerShell Get-ExecutionPolicy").toString()))break;return s(),void E.window.showErrorMessage("PowerShell  RemoteSigned \nSet-ExecutionPolicy RemoteSigned",{modal:!0},"").then((e=>{e&&E.env.openExternal(E.Uri.parse("https://qiita.com/Targityen/items/3d2e0b5b0b7b04963750"))}))}const c=r.task_type??"Pkg",u=new E.Task({type:"SKYNovel Task"+c},this.wsFld,r.label,"SKYNovel",new E.ShellExecution(o));switch(this.hOnEndTask.set(c,(()=>s())),i){case"SnUpd_waited":this.hOnEndTask.set(c,(()=>{this.getLocalSNVer(),s()}));break;case"Crypto_waited":this.hOnEndTask.set(c,(()=>{this.dspCryptoMode(),s()}));break;case"PackWin":case"PackWin32":case"PackMac":case"PackMacArm64":case"PackLinux":this.hOnEndTask.set(c,(async()=>{const t=(0,e.readJsonSync)(this.#cn+"/package.json",{encoding:"utf8"}),n=this.#cn+"/build/package",o=n+"/update",a=o+"/_index.json";let c=(0,e.existsSync)(a)?(0,e.readJsonSync)(a,{encoding:"utf8"}):{};const u="Mac"===i.slice(4,7),l="Lin"===i.slice(4,7),h=n+`/latest${u?"-mac":l?"-linux":""}.yml`,p=(0,e.readFileSync)(h,{encoding:"utf8"}),f=/version: (.+)/.exec(p);if(!f)throw"[Pack...] .yml  version ";const m=f[1];c.version==m&&c.name==t.name||(c={},await(0,e.remove)(o),await(0,e.ensureDir)(o)),c.version=t.version,c.name=t.name;const g=/path: (.+)/.exec(p);if(!g)throw"[Pack...] .yml  path ";const y=g[1],b=/size: (.+)/.exec(p);if(!b)throw"[Pack...] .yml  size ";const v=Number(b[1]??NaN),w=/sha512: (.+)/.exec(p);if(!w)throw"[Pack...] .yml  sha512 ";const _=w[1]??"",S=(x=this.#xi.uuidv5(_),N((new TextEncoder).encode(x)));var x;const D=/-(\w+)\.\D/.exec(y);if(!D)throw"path  arch ";const C=(u?"darwin":l?"linux":"win32")+"_"+D[1];c[C]={path:y,size:v,sha512:_,cn:S},await(0,e.outputJson)(a,c,{spaces:"\t"});const k=new RegExp("^"+C+"-");d(o,((t,n)=>{k.test(n)&&(0,e.removeSync)(t)}),(()=>{})),(0,e.copy)(n+"/"+y,o+"/"+C+"-"+S),s(),E.window.showInformationMessage(`${r.label} `,"").then((e=>{e&&E.env.openExternal(E.Uri.file(n))}))}));break;case"PackFreem":this.hOnEndTask.set(c,(()=>{const n=J.create("zip",{zlib:{level:9}}).append((0,e.createReadStream)(this.#cn+"/doc/web.htm"),{name:"index.html"}).append((0,e.createReadStream)(this.#cn+"/build/include/readme.txt"),{name:"readme.txt"}).glob("web.js",{cwd:this.#cn+"/doc/"}).glob("web.*.js",{cwd:this.#cn+"/doc/"}).glob(`${this.#wi?ee:"prj"}/**/*`,{cwd:this.#cn+"/doc/"}).glob("favicon.ico",{cwd:this.#cn+"/doc/"}),i=`${(0,t.basename)(this.#cn)}_1.0freem.zip`,r=(0,e.createWriteStream)(this.#cn+`/build/package/${i}`).on("close",(()=>{s(),E.window.showInformationMessage(`${i}`,"").then((e=>{e&&E.env.openExternal(E.Uri.file(this.#cn+"/build/package/"))}))}));n.pipe(r),n.finalize()}))}E.tasks.executeTask(u).then((e=>this.#rr.set(i,e)),(e=>console.error(`fn:Project onBtn_sub() rj:${e.message}`)))}#rr=new Map;async#Mi(){await this.#xi.init();const e=this.#wi?e=>{const t=E.Uri.file(e);this.#Or(t)&&this.#Fr(t)}:e=>{const t=E.Uri.file(e);this.#Or(t)};p(this.#un,e),this.#zi()}#Vi(e){this.#wi&&this.#Or(e)&&this.#Fr(e),this.#zi()}#zi(){(0,e.writeJsonSync)(this.#Ci,this.#ki)}#Or({path:t}){const n=u(t),{pathCn:i,diff:r,pp:s}=this.#qi(n);if(i&&!(0,e.existsSync)(i))return!0;let o=0;if(this.#Si.test(n))o=Y.buf(Buffer.from((0,e.readFileSync)(n,{encoding:"utf8"}),"binary"),0);else{this.#Pr.fill(0,0,ne.#Ir);const t=(0,e.openSync)(n,"r");(0,e.readSync)(t,this.#Pr,0,ne.#Ir,0),(0,e.closeSync)(t),o=Y.buf(this.#Pr,0)}return r?.hash!==o&&(this.#ki[s]={hash:o,cn:this.#_i.test(s)?s.replace(this.#Lr,`$1/${this.#xi.uuidv5(s)}$2`).replace(this.#Ei,".bin"):s},!0)}static#Ir=20480;#Lr=/([^\/]+)\/[^\/]+(\.\w+)/;#Pr=new Uint8Array(ne.#Ir);#Nr=["core/app4webpack.js","core/web4webpack.js"];#Tr(){const t=this.#bi+"snsys_pre/";if(this.#wi=!this.#wi,this.#Pi.setCryptoMode(this.#wi),!this.#wi){(0,e.removeSync)(this.#vi),(0,e.removeSync)(t);for(const e of this.#Nr)f(this.#cn+"/"+e,/\(hPlg, {.+?}\);/,"(hPlg);");return f(this.#cn+"/package.json",new RegExp(`"doc/${ee}\\/",`),'"doc/prj/",'),void this.#$i()}(0,e.ensureDir)(this.#vi);for(const e of this.#Nr)f(this.#cn+"/"+e,/\(hPlg\);/,`(hPlg, {cur: '${ee}/', crypto: true});`);f(this.#cn+"/package.json",/"doc\/prj\/",/,`"doc/${ee}/",`),f(this.ctx.extensionPath+"/dist/snsys_pre.js",/[^\s=]+\.tstDecryptInfo\(\)/,this.#xi.strHPass,!0,t+"index.js"),this.#$i(),this.#ki=Object.create(null),this.#Mi()}async#Fr({path:t}){const n=u(t),i=this.#Gi(n);try{const t=this.#vi+this.#ki[i].cn;if(!this.#_i.test(n))return void await(0,e.copy)(n,t,{overwrite:!0});if(this.#Si.test(i)){if("path.json"!==i){const i=(0,e.readFileSync)(n,{encoding:"utf8"});return void await(0,e.outputFile)(t,await this.#xi.enc(i))}return this.#Br&&clearTimeout(this.#Br),void(this.#Br=setTimeout((async()=>{const i=(0,e.readJsonSync)(n,{encoding:"utf8"});for(const e of Object.values(i))for(const[t,n]of Object.entries(e)){if(":cnt"===t)continue;if(":id"===t.slice(-3))continue;const i=this.#jr.exec(n);i&&this.#Pi.oCfg.code[i[1]]||(e[t]=this.#ki[n].cn)}const r=JSON.stringify(i);await(0,e.outputFile)(t,await this.#xi.enc(r))}),500))}const r=this.#jr.exec(i);if(r&&this.#Pi.oCfg.code[r[1]])return void await(0,e.copy)(n,t,{overwrite:!0});const s=t.replace(/\.[^.]+$/,".bin");await(0,e.ensureFile)(s);const o=(0,e.createWriteStream)(s).on("error",(e=>{o.destroy(),console.error("enc ws=%o",e)})),a=(0,e.createReadStream)(n).on("error",(e=>console.error("enc rs=%o",e))),c=new $(this.#xi,n);a.pipe(c).pipe(o)}catch(e){console.error(`enc other ${e.message} src:${n}`)}}#Br=void 0;#jr=/(^.+)\//;#Mr=/(?<=\.\s*addTag\s*\(\s*)(["'])(.+?)\1/g;#sr={};#$i(t=!0){if(!(0,e.existsSync)(this.#bi))return;const n={};this.#sr={},d(this.#bi,(()=>{}),(t=>{n[t]=0;const i=`${this.#bi}${t}/index.js`;if(!(0,e.existsSync)(i))return;const r=(0,e.readFileSync)(i,"utf8");let s;for(;s=this.#Mr.exec(r);){const e=s[2],t=e.length,n=this.#Mr.lastIndex-t-1;let o=0,a=n;for(;(a=r.lastIndexOf("\n",a-1))>=0;)++o;const c=n-r.lastIndexOf("\n",n)-1;this.#sr[e]={uri:i,sl:o,sc:c,el:o,ec:c+t}}})),this.#Oi("def_plg.upd",this.#sr),(0,e.outputFile)(this.#bi.slice(0,-1)+".js",`export default ${JSON.stringify(n)};`).then(t?()=>this.#$r():()=>{}).catch((e=>console.error(`Project updPlugin ${e}`)))}#$r=()=>{if(!Ae.aReady[1])return;this.#$r=()=>{};let t=`cd "${this.#cn}" ${q} `;(0,e.existsSync)(this.#cn+"/node_modules")||(t+=`npm i ${q} `,(0,e.removeSync)(this.#cn+"/package-lock.json")),t+="npm run webpack:dev";const n="SKYNovel TaskSys",i="",r=new E.Task({type:n},this.wsFld,i,"SKYNovel",new E.ShellExecution(t));this.enableBtn(!1),E.window.withProgress({location:E.ProgressLocation.Notification,title:i,cancellable:!1},(e=>new Promise((e=>{let t=i=>{i.execution.task.definition.type===n&&(t=()=>{},this.enableBtn(!0),e())};E.tasks.onDidEndTaskProcess(t),E.tasks.executeTask(r).then(void 0,(e=>console.error(`Project build() rj:${e.message}`)))}))))};#qr=void 0;#Wi(){this.#qr&&clearTimeout(this.#qr),this.#qr=setTimeout((()=>this.#er()),500)}async#er(){await this.#Pi.loadEx((e=>this.#Fr(e)),this.#Fi);for(const[t,n]of this.#Ur){const i=[];for(const t of n)(0,e.existsSync)(this.#cn+`/doc/prj/${t}/`)&&i.push(t);this.#Hr.set(t,i)}this.#lr()}#lr=()=>{};#Ur=new Map([["png|jpg|jpeg|json|svg|webp|mp4|webm",["bg","image"]],["mp3|m4a|ogg|aac|flac|wav",["music","sound"]],["woff2|woff|otf|ttf",["script"]],["sn|ssn",["script"]]]);#Hr=new Map;#Wr(e){let t=[];for(const[n,i]of this.#Hr.entries())if(new RegExp(n).test(e)){t=i;break}return t}async drop(n,i,r){const s=[];for(const i of r){const{path:r,scheme:o}=i,a=(0,t.extname)(r).slice(1),c=u(r);let l=c;const h="/"+(0,t.basename)(c),p=this.#Wr(a);switch(o){case"file":if((0,e.statSync)(c).isDirectory())return c.slice(0,this.#un.length)!==this.#un||this.opView(i),null;if(!a)continue;if(c.slice(0,this.#un.length)===this.#un)break;switch(p.length){case 0:l=u(n.uri.path.slice(0,-(0,t.basename)(n.uri.path).length)+(0,t.basename)(c));break;case 1:l=this.#un+p[0]+h;break;default:{p.push("");const e=await E.window.showInformationMessage((0,t.basename)(c)+" ",...p);if(""===e)return null;l=this.#un+e+h}}await(0,e.copyFile)(c,l);break;case"http":case"https":{if(!a)continue;if(this.#gr){const e=this.#gr.path;if(r.slice(0,e.length)===e)break}const t=i.toString(),n=await fetch(t);if(!n.ok)return E.window.showErrorMessage(` uri=${t}`),null;let s="";if(0===p.length)return null;s=p[0]+h,l=this.#un+s,(0,e.writeFile)(l,new Uint8Array(await n.arrayBuffer())),E.window.showInformationMessage(` path=${s}`),await E.commands.executeCommand("revealInExplorer",E.Uri.parse(this.#pr+s))}break;default:return null}s.push(l)}if(0===s.length)return null;const o=s[0],a=(0,t.extname)(o).slice(1),c=y(o);for(const[e,t]of this.#cr.entries()){if(!new RegExp(e).test(a))continue;const r=this.#zr(n,i,this.#Gr);if(r){const{range:e,nm:t}=r;if(t)return{insertText:"",additionalEdit:this.#Vr(n.uri,e,t,c)}}const s=t.replace("...",c).replaceAll(/\${\d\|([^,]+)\|}/g,"$1");return{insertText:new E.SnippetString(s)}}return null}#cr=new Map;#Gr=/(?<=\s)[^\s=[\]]+(?:=(?:[^"'#\s;\]]+|(["'#]).*?\1)?)?/g;#Vr(e,t,n,i){const r=new E.WorkspaceEdit,s=/[\s=]/.test(i)?/['#]/.test(i)?`"${i}"`:`'${i}'`:i;return r.replace(e,t,n+"="+s),r}#zr(e,{line:t,character:n},i){const r=e.getText(new E.Range(t,0,t,9999));let s;for(i.lastIndex=0;s=i.exec(r);){const[e]=s,r=i.lastIndex-e.length,[o,...a]=e.split("="),c=a.join("=");if(r<=n&&n<=i.lastIndex)return{hit:e,range:new E.Range(t,r,t,i.lastIndex),nm:o,val:c}}return{hit:"",range:new E.Range(0,0,0,0),nm:"",val:""}}}var ie=n(28675),re=n(24434),se=n(91244);const{Server:oe,Namespace:ae,Socket:ce}=se,{promisify:ue}=n(39023),le=ue(n(45949)),he=n(16928);class pe extends re.EventEmitter{wsFld;hookTag;#Kr="";constructor(e,t){super(),this.wsFld=e,this.hookTag=t,e&&(this.#Kr=e.uri.path,pe.#Yr[this.#Kr+"/doc/prj/"]=this)}static#Yr={};static send2SN(e,t={}){const n=E.debug.activeDebugSession?.workspaceFolder?.uri.fsPath;n&&pe.#Yr[n+"/doc/prj/"].send2SN(e,t)}attach(e){this.#Jr.hi=()=>(this.send2SN("auth",{t:k.getDebugertoken(this.wsFld),hBreakpoint:{hFn2hLineBP:this.#Zr,aData:this.#Xr,aFunc:this.#Qr},...e}),this.hookTag({:":connect"}),!1),new oe(e.port,{cors:{origin:e.weburi}}).on("connection",(e=>{e.on("data",((e,t)=>{this.#Jr[e](e,t)&&(this.#Jr[e]=()=>!1)})),this.send2SN=(t,n={})=>{e.emit("data",t,n)};const t=this.end;this.end=()=>{this.end=t,this.end(),this.send2SN("disconnect",{}),this.send2SN=()=>{},e.disconnect()}}))}send2SN(e,t={}){}end(){delete pe.#Yr[this.#Kr],this.hookTag({:":disconnect"})}#Jr={stopOnEntry:e=>(this.#es(e),!1),stopOnStep:e=>(this.#es(e),!1),stopOnBreakpoint:e=>(this.#es(e),!1),stopOnDataBreakpoint:e=>(this.#es(e),!1),_recodeDesign:(e,t)=>{const n=i(t[":ln"])-1,r=i(t[":col_s"]),s=i(t[":col_e"]);return this.#ts[t[":id_tag"]]={...t,uri:E.Uri.file(t[":path"].replace("${pathbase}",this.#Kr+"/doc")),rng:new E.Range(n,r,n,s)},this.hookTag(t),!1},_enterDesign:e=>!1,_changeCast:(e,t)=>{const{":id_tag":n,ri:i,...r}=t,s=this.#ts[n];if(!s)return!1;let o=String(s[":token"]);for(const[e,t]of Object.entries(r))o=o.replace(new RegExp(`(\\s${e}=)(['"#]*)(?:\\S+)\\2([\\s\\]])`),`$1${t}$3`);s[":token"]=o;const a=new E.WorkspaceEdit;return a.replace(s.uri,s.rng,o),E.workspace.applyEdit(a),!1},_focusScript:(e,t)=>{t[":path"]=t[":path"].replace("${pathbase}",this.#Kr+"/doc");const n=t[":ln"]-1;return E.window.showTextDocument(E.Uri.file(t[":path"]),{selection:new E.Range(new E.Position(n,t[":col_s"]),new E.Position(n,t[":col_e"]))}),!1},_dropFile:(t,n)=>{const{":id_tag":i,fn:r,ext:s,url:o,buf:a,old_fn:c,old_url:u}=n,l=this.#ts[i];if(!l)return!1;let h="";if(o){if(h=o.replace("${pathbase}",this.#Kr+"/doc"),r===c){let t=!0;const n=(0,e.readFileSync)(h),i=n.length;if(i!==a.length)t=!1;else for(let e=0;e<i;++e)if(n[e]!==a[e]){t=!1;break}if(t)return!1}}else{const e=he.basename(he.dirname(u));h=this.#Kr+`/doc/prj/${e}/${r}.${s}`;const t={":cnt":1};t[s]=`${e}/${r}.${s}`,this.send2SN("_addPath",{fn:r,o:t})}const p=E.workspace.createFileSystemWatcher(new E.RelativePattern(this.wsFld,"doc/prj/path.json"));return p.onDidChange((()=>{p.dispose();let e=String(l[":token"]);const t={fn:r,b_pic:r,pic:r},n=()=>{for(const[n,i]of Object.entries(t))e=e.replace(new RegExp(`(\\s${n}=)(['"#]*)(?:\\S+)\\2([\\s\\]])`),`$1${i}$3`);l[":token"]=e;const n=new E.WorkspaceEdit;n.replace(l.uri,l.rng,e),E.workspace.applyEdit(n)};le(h).then((e=>{t.width=e.width,t.height=e.height,n()})).catch((()=>n()))})),(0,e.writeFileSync)(h,a),!1}};#ts={};static noticeChgDoc(e,t){const n=pe.#Yr[e];if(!n)return;const i={};for(const e of t.contentChanges){const r=e.text.length-e.rangeLength;for(const[s,o]of Object.entries(n.#ts)){if(!o.rng.contains(e.range))continue;o[":col_e"]+=r,o.rng=o.rng.with(o.rng.start,o.rng.end.translate(0,r));const n=t.document.getText(o.rng);o[":token"]=n,"["===n.at(0)&&"]"===n.at(-1)&&(i[s]={...o,":id_tag":s})}}for(const e of Object.values(i))n.send2SN("_replaceToken",e)}restart=e=>new Promise((t=>{this.send2SN("restart",{ri:e}),this.#Jr[e]=()=>(t(),!0)}));continue=(e=!1)=>this.send2SN("continue",{reverse:e});step=(e=!1)=>this.send2SN("stepover",{reverse:e});stepin=()=>this.send2SN("stepin");stepout=()=>this.send2SN("stepout");pause=()=>this.send2SN("pause");var=(e,t)=>new Promise((n=>{this.send2SN("var",{ri:e,scope:t}),this.#Jr[e]=(e,t)=>(n(t.v),!0)}));stack=(e,t,n)=>new Promise((i=>{this.send2SN("stack",{ri:e}),this.#Jr[e]=(e,r)=>Array.isArray(r.a)?(i(r.a.slice(t,n).filter((e=>!e.ma||"true"===(JSON.parse(e.ma??"{}").stepin??"true"))).map((e=>(e.fn=e.fn.replace("${pathbase}",this.#Kr+"/doc"),e)))),!0):(i([]),!0)}));eval=(e,t)=>new Promise((n=>{this.send2SN("eval",{ri:e,txt:t}),this.#Jr[e]=(e,t)=>(n(t.v),!0)}));#ns=0;#Zr={};setBreakPoints(e,t){const n=t.map((e=>({id:++this.#ns,ln:e.line,col:e.column,verified:!0,condition:e.condition,hitCondition:e.hitCondition}))),i={};this.#is(e);const r=this.#rs[e],s=r.length;for(const e of n){for(;""===r[e.ln-1].replace(/;.*$/,"").trim();)if(e.ln++===s){e.verified=!1;break}i[e.ln]=e,this.#es("breakpointValidated",e)}return this.send2SN("add_break",{fn:e,o:i}),this.#Zr[e]=i,n}#rs={};#is(t){t in this.#rs||(this.#rs[t]=(0,e.readFileSync)(t).toString().split("\n"))}#Xr=[];setDataBreakpoint=(e,t)=>new Promise((n=>{this.#Xr=t,this.send2SN("set_data_break",{ri:e,a:t}),this.#Jr[e]=(e,t)=>(n(t.v),!0)}));#Qr=[];setFuncBreakpoint=(e,t)=>new Promise((n=>{this.#Qr=t,this.send2SN("set_func_break",{ri:e,a:t}),this.#Jr[e]=(e,t)=>(n(t.v),!0)}));setVariable=(e,t,n)=>new Promise((i=>{this.send2SN("set_var",{ri:e,nm:t,val:n}),this.#Jr[e]=(e,t)=>(i(t.v),!0)}));#es(e,...t){setImmediate((()=>this.emit(e,...t)))}}const{Subject:de}=n(91377);let fe=null;function me(e){return new Promise((t=>setTimeout((()=>t(0)),e)))}class ge extends ie.dn{wsFld;static#ss=1;#os;constructor(e,t){super("sn_debug.txt"),this.wsFld=e,this.setDebuggerLinesStartAt1(!0),this.setDebuggerColumnsStartAt1(!0),this.#os=new pe(e,t),this.#os.on("stopOnEntry",(()=>{this.sendEvent(new ie.YI("entry",ge.#ss))})),this.#os.on("stopOnStep",(()=>{this.sendEvent(new ie.YI("step",ge.#ss))})),this.#os.on("stopOnBreakpoint",(()=>{this.sendEvent(new ie.YI("breakpoint",ge.#ss))})),this.#os.on("stopOnDataBreakpoint",(()=>{this.sendEvent(new ie.YI("data breakpoint",ge.#ss))})),this.#os.on("stopOnException",(()=>{this.sendEvent(new ie.YI("exception",ge.#ss))})),this.#os.on("breakpointValidated",(e=>{this.sendEvent(new ie.Q_("changed",e))})),this.#os.on("output",((e,t,n,i)=>{const r=new ie.iQ(`${e}\n`);"start"!==e&&"startCollapsed"!==e&&"end"!==e||(r.body.group=e,r.body.output=`group-${e}\n`),r.body.source=this.#as(t),r.body.line=this.convertDebuggerLineToClient(n),r.body.column=this.convertDebuggerColumnToClient(i),this.sendEvent(r)})),this.#os.on("end",(()=>this.sendEvent(new ie.cz)))}initializeRequest(e,t){e.body??={},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsFunctionBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsHitConditionalBreakpoints=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!0,e.body.supportsCompletionsRequest=!0,e.body.supportsRestartRequest=!0,e.body.supportsDataBreakpoints=!0,e.body.supportsCancelRequest=!1,this.sendResponse(e),this.sendEvent(new ie.R3)}disconnectRequest(e,t,n){this.#os.end()}configurationDoneRequest(e,t){this.#cs.notify()}#cs=new de;attachRequest(e,t){ie.vF.setup(ie.Vy.LogLevel.Stop,!1),this.#os.attach(t),this.sendResponse(e)}async restartRequest(e,t){await this.#os.restart(e.request_seq),this.sendResponse(e)}setBreakPointsRequest(e,t){const n=t.breakpoints??[];e.body={breakpoints:this.#os.setBreakPoints(t.source.path,n.map((e=>({...e,line:this.convertClientLineToDebugger(e.line)})))).map(((e,t)=>new ie.EA(e.verified,n[t].line,e.col)))},this.sendResponse(e)}async setFunctionBreakPointsRequest(e,t,n){const i=[];e.body={breakpoints:[]};for(const n of t.breakpoints)i.push(n),e.body.breakpoints.push({verified:!0});await this.#os.setFuncBreakpoint(e.request_seq,i),this.sendResponse(e)}restartFrameRequest(e,t,n){}pauseRequest(e,t){this.#os.pause()}threadsRequest(e){e.body={threads:[new ie.jV(ge.#ss,"thread 1")]},this.sendResponse(e)}async stackTraceRequest(e,t){const n="number"==typeof t.startFrame?t.startFrame:0,i=n+("number"==typeof t.levels?t.levels:1e3),r=await this.#os.stack(e.request_seq,n,i);e.body={stackFrames:r.map(((e,t)=>new ie.s$(t,e.nm,this.#as(e.fn),this.convertDebuggerLineToClient(e.ln),this.convertDebuggerColumnToClient(e.col)))),totalFrames:r.length},this.sendResponse(e)}#us=new ie.ot;#ls={};scopesRequest(e,t){this.#hs={tmp:{},sys:{},save:{},mp:{}},e.body={scopes:[new ie.HG(" tmp:",this.#us.create("tmp"),!1),new ie.HG(" tmp:SKYNovel",this.#us.create("tmp:sn"),!1),new ie.HG(" mp:",this.#us.create("mp"),!1),new ie.HG(" mp:SKYNovel",this.#us.create("mp:sn"),!1),new ie.HG(" sys:",this.#us.create("sys"),!1),new ie.HG(" sys:SKYNovel",this.#us.create("sys:sn"),!1),new ie.HG(" save:",this.#us.create("save"),!1),new ie.HG(" save:SKYNovel",this.#us.create("save:sn"),!1)]},this.sendResponse(e)}#ps=new Map;#ds=new Map;static#fs=/^(?:const\.)?sn\./;#hs={tmp:{},sys:{},save:{},mp:{}};async variablesRequest(e,t,n){const i=[];if(this.#ds.get(t.variablesReference)){n&&this.#ps.set(n.seq,!1);for(let e=0;e<100&&(await me(1e3),i.push({name:`i_${e}`,type:"integer",value:`${e}`,variablesReference:0}),!n||!this.#ps.get(n.seq));++e);n&&this.#ps.delete(n.seq)}else{let n=this.#us.get(t.variablesReference);if(n){let t=!0;":sn"===n.slice(-3)&&(t=!1,n=n.slice(0,-3));let r={};if(n in this.#hs)this.#hs[n]=r=await this.#os.var(e.request_seq,n);else{const e=`${n}:`.split(":",2),t=this.#hs[e[0]];if(t){const n=t[e[1]];n&&(r=JSON.parse(String(n)))}}for(const[e,s]of Object.entries(r)){if(ge.#fs.test(e)===t)continue;const r=String(s),o={name:e,type:this.#ms(r),value:r,presentationHint:{kind:"property",visibility:"public"},variablesReference:0};"const."===e.slice(0,6)&&(o.presentationHint.attributes=["constant"]),"[object Object]"===r?o.value=JSON.stringify(s):"object"!==o.type&&"array"!==o.type||(this.#ls[`${n}:${e}`]=o.variablesReference=this.#us.create(`${n}:${e}`)),i.push(o)}}}e.body={variables:i.sort(((e,t)=>e.name<t.name?-1:e.name>t.name?1:0))},this.sendResponse(e)}#ms(e){let t="string";if("true"===e||"false"===e)t="boolean";else if("[object Object]"===e)t="object";else if(/^[+-]?[0-9]+([0-9]*)?$/.test(e))t="integer";else if(/^[+-]?[0-9]+(\.[0-9]*)?([eE][+-]?[0-9]+)?$/.test(e))t="float";else if(e){const n=e.at(0);"{"!==n&&"["!==n||(t="{"===n?"object":"array")}return t}async setVariableRequest(e,t,n){await this.#os.setVariable(e.request_seq,t.name,t.value),e.body={value:t.value},this.sendResponse(e)}continueRequest(e,t){this.#os.continue(),this.sendResponse(e)}reverseContinueRequest(e,t){this.#os.continue(!0),this.sendResponse(e)}nextRequest(e,t){this.#os.step(),this.sendResponse(e)}stepInRequest(e,t,n){this.#os.stepin(),this.sendResponse(e)}stepOutRequest(e,t,n){this.#os.stepout(),this.sendResponse(e)}stepBackRequest(e,t){this.#os.step(!0),this.sendResponse(e)}async evaluateRequest(e,t){switch(t.context){case"hover":const n=this.#gs(t.expression);if(!n.exist){e.body={result:` ${n.fullnm} `,variablesReference:0};break}const i=this.#ls[n.fullnm??""];e.body={result:`${n.fullnm}${i?"":`${n.ret}`}`,presentationHint:{kind:"property",visibility:"public",attributes:n.const?["readOnly"]:void 0},variablesReference:i??0};break;case"watch":{const n=await this.#os.eval(e.request_seq,t.expression);e.body=n?{result:n,presentationHint:{kind:"formula",visibility:"public"},variablesReference:0}:{result:"null",variablesReference:0}}break;case"repl":{const n=await this.#os.eval(e.request_seq,t.expression);e.body={result:n?`=${n}`:"null",variablesReference:0}}}this.sendResponse(e)}#gs(e){const t=`${e}:`.split(":",2),n=""===t[1]?"tmp":t[0],i=""===t[1]?t[0]:t[1];switch(n){case"tmp":case"sys":case"save":case"mp":break;default:return{exist:!1}}const r="const."===i.slice(0,6),s=this.#hs[n];return i in s?{exist:!0,fullnm:`${n}:${i}`,ret:s[i],const:r}:{exist:!1,fullnm:`${n}:${i}`}}dataBreakpointInfoRequest(e,t){if(t.variablesReference&&t.name){const n=this.#gs(t.name);n.exist&&(e.body={dataId:n.fullnm,description:`${n.fullnm}`,accessTypes:["write"],canPersist:!0})}else e.body={dataId:null,description:"cannot break on data access"};this.sendResponse(e)}async setDataBreakpointsRequest(e,t){const n=[];e.body={breakpoints:[]};for(const i of t.breakpoints)n.push(i),e.body.breakpoints.push({verified:!0});await this.#os.setDataBreakpoint(e.request_seq,n),this.sendResponse(e)}completionsRequest(e,t){e.body={targets:[{label:"item 10",sortText:"10"},{label:"item 1",sortText:"01"},{label:"item 2",sortText:"02"},{label:"array[]",selectionStart:6,sortText:"03"},{label:"func(arg)",selectionStart:5,selectionLength:3,sortText:"04"}]},this.sendResponse(e)}loadedSourcesRequest(e,t,n){e.body.sources=[{name:"main.sn ?",path:"doc/prj/script/main.sn",sourceReference:0}],this.sendResponse(e)}cancelRequest(e,t){t.requestId&&this.#ps.set(t.requestId,!0)}#as(e){return new ie.kL((0,t.basename)(e),this.convertDebuggerPathToClient(e),void 0,void 0,"mock-adapter-data")}}class ye{#ys=/;[^\n]*|(?<key>[^\s="'#|;]+)(?:\s|;[^\n]*\n)*=(?:\s|;[^\n]*\n)*(?:(?<val>[^\s"'#|;]+)|(["'#])(?<val2>.*?)\3)(?:\|(?:(?<def>[^\s"'#;]+)|(["'#])(?<def2>.*?)\6))?|(?<literal>[^\s;]+)/g;parse(e){this.#bs={},this.#vs=!1;for(const{groups:t}of e.matchAll(this.#ys)){const{key:e,val:n,val2:i,def:r,def2:s,literal:o}=t;e?this.#bs[e]={val:n??i,def:r??s}:o&&("*"===o?this.#vs=!0:this.#bs[o]={val:"1"})}}parseinDetail(e,t,n,i){const r={},s=e.slice(1+t,-1);for(const{groups:e,index:o,0:a}of s.matchAll(this.#ys)){if(void 0===o)continue;const{key:c,val:u,val2:l,literal:h}=e;if(h){if("="===h.at(-1)){const e=h.length-1,{ch:a}=this.#ws(t,n,i,s,o+e);r[h.slice(0,-1)]={k_ln:n,k_ch:a-e,v_ln:n,v_ch:a+1,v_len:0}}continue}if(!c)continue;const{ln:p,ch:d}=this.#ws(t,n,i,s,o),{ln:f,ch:m}=this.#ws(t,n,i,s,o+a.lastIndexOf(u??l)-(u?0:1));r[c]={k_ln:p,k_ch:d,v_ln:f,v_ch:m,v_len:u?u.length:l.length+2}}return r}#ws(e,t,n,i,r){const s=i.slice(0,r).split("\n"),o=s.length;return{ln:t+o-1,ch:o<2?n+1+e+r:s.at(-1).length}}#bs={};get hPrm(){return this.#bs}#vs=!1;get isKomeParam(){return this.#vs}}class be{curPrj;static#vn;static#_s="";static init(t){E.window.registerCustomEditorProvider("SKYNovel.score",{async resolveCustomTextEditor(e,t,n){const i=e.fileName;for(const[n,r]of Object.entries(be.#Ss))if(n===i.slice(0,n.length)){r.#Es(e,t);break}}});const n=t.extensionPath+"/views/";be.#vn=E.Uri.file(n),be.#_s=(0,e.readFileSync)(n+"score.htm",{encoding:"utf8"}).replace("<meta_autooff ","<meta ").replace(/\$\{nonce}/g,Ce()).replace(/<tbody>[\s\S]+<\/tbody>/,"<tbody/>").replace(/(<div class="card-group">)[\s\S]+(<\/div><!-- card-group  -->)/,"$1 $2")}static#Ss={};constructor(e){this.curPrj=e,be.#Ss[e]=this}#xs={};updScore(e,t,n){const i={line:1};this.#xs[e]={uriPrj:E.Uri.parse(t),htm:be.#_s.replace("<tbody/>",`<tbody>${n.map(((e,t)=>this.#Ds(i,e,t))).join("")}</tbody>`),skipupd:!1};const r=this.#Cs[e];r&&(r.html=this.#ks(this.#xs[e].htm,r))}#ks(e,t){return e.replaceAll("${webview.cspSource}",t.cspSource).replace(/(href|src)="\.\//g,`$1="${t.asWebviewUri(be.#vn)}/`)}add_lay(e){}isSkipUpd(e){const t=this.#xs[e];return!!t?.skipupd&&(t.skipupd=!1,!0)}separation(e){this.#Cs[e]?.postMessage({cmd:"separation"})}combining(e){this.#Cs[e]?.postMessage({cmd:"combining"})}updLine(e,t,n,i){const r=this.#Cs[e.fileName];if(!r)return!1;const s=t.start.line,o=t.end.line;return(t.start.character>0||t.end.character>0)&&s!==o||(""===n?(r.postMessage({cmd:"del",ln:s}),!1):(r.postMessage({cmd:s===o&&"\n"===n.at(-1)?"ins":"rep",ln:s,htm:("\n"===n?this.#Ds({line:s+1},"\n\n",-1):this.#ks(i.map((e=>e.charCodeAt(0)<11?"":this.#Ds({line:s+1},e,0))).join(""),r)).replace(/<tr .+>|<\/tr>/g,"")}),!1))}#Cs={};static analyzTagArg=e=>be.REG_TAG.exec(e);static REG_TAG=/\[(?<name>[^\s;\]]+)\s*(?<args>(?:[^"'#\]]+|(["'#]).*?\3)*?)]/;#Es(e,t){const n=e.fileName,i=this.#xs[n],r=this.#Cs[n]=t.webview;if(r.options={enableScripts:!0,localResourceRoots:[be.#vn,i.uriPrj]},r.onDidReceiveMessage((t=>{switch(t.cmd){case"info":E.window.showInformationMessage(t.text);break;case"warn":E.window.showWarningMessage(t.text);break;case"err":E.window.showErrorMessage(t.text);break;case"loaded":this.#Rs(n),this.combining(n);break;case"save_tbody":this.#xs[n].htm=r.html.replace(/<tbody>[\s\S]+<\/tbody>/,`<tbody>${t.tbody}</tbody>`);break;case"move":{const n=t.from,r=t.to;if(n===r)break;i.skipupd=!0;const s=new E.WorkspaceEdit,o=new E.Range(n,0,n+1,0),a=e.getText(o);n>r?(s.delete(e.uri,o),s.insert(e.uri,new E.Position(r,0),a)):(s.insert(e.uri,new E.Position(r+1,0),a),s.delete(e.uri,o)),E.workspace.applyEdit(s)}break;case"tool_put":{const n=String(t.scr).replace(/\$\{(.+)\}/g,((e,t)=>{let n="";for(const e of this.#As[t]){n=`#${e}#`;break}return n}));console.log(`fn:CteScore.ts line:176 tool_put row:${t.row} to:${t.to} scr=${n}=`),r.postMessage({cmd:"tool_res",row:t.row,htm:this.#ks(this.#Ds({line:t.row},n,t.row),r)}),i.skipupd=!0;const s=new E.WorkspaceEdit;s.insert(e.uri,new E.Position(t.to,0),"\n\n"===n?"\n":n+"\n"),E.workspace.applyEdit(s)}break;case"del":{i.skipupd=!0;const n=new E.WorkspaceEdit;n.delete(e.uri,new E.Range(t.lnum,0,t.lnum+1,0)),E.workspace.applyEdit(n)}break;case"input":{console.log(`fn:CteScore.ts line:184 input ln:${t.ln} nm=${t.nm}= val=${t.val}=`),i.skipupd=!0;const n=new E.WorkspaceEdit,s=new E.Range(t.ln,0,t.ln+1,0),o=t.nm.charCodeAt(0)<60?t.nm+t.val+"\n":e.getText(s);let a=o.replace(new RegExp(`(${t.nm}=)([#"']).*\\2`),`$1$2${t.val}$2`).replace(new RegExp(`(${t.nm}=)[^\\] #"']+`),`$1${t.val}`);o===a&&(a=a.replace(/(])/,` ${t.nm}=#${t.val}#$1`)),n.replace(e.uri,s,a),E.workspace.applyEdit(n);const c=be.analyzTagArg(a),u=c?.groups;if(!u)break;const l=this.#Ts[u.name];if(!l)break;be.#Os.parse(u.args);const h=l(be.#Os.hPrm);r.postMessage({cmd:"upd_btn_face",ln:t.ln,htm:`\n<i class="fas ${h.icon}" aria-hidden="true"></i>\n${h.btn_face}`,td:`<td class="p-0 ${h.td_style}">`,nm:t.nm,val:t.val})}break;case"req_wds":r.postMessage({cmd:"res_wds",key:t.key,aWd:[...this.#As[t.key].values()]})}}),!1),r.html=this.#ks(this.#xs[e.uri.path].htm,r),""===e.getText(new E.Range(0,0,1,1))){const t=new E.WorkspaceEdit;t.insert(e.uri,new E.Position(0,0),"\n\n\n[return]\n"),E.workspace.applyEdit(t)}}static#Fs=/\w+/;#Rs(e){const t={},n=this.#xs[e],i=this.#Ps;for(const[e,n]of Object.entries(i))for(const[i,r]of Object.entries(n)){if(":cnt"===i)continue;const n=String(r),s=String(n.match(be.#Fs));t[s]??=[],t[s].push({ext:i,path:n,fn:e})}const r=this.#Cs[e];r.postMessage({cmd:"upd_db",pathPrj:String(r.asWebviewUri(n.uriPrj)),hFld2url:t,hPath:i})}#As={};updWords(e,t){this.#As[e]=t;for(const t of Object.values(this.#Cs))t.postMessage({cmd:"del_wds",key:e})}#Ps={};updPath(e){this.#Ps=e;for(const e of Object.keys(this.#xs))e in this.#Cs&&this.#Rs(e)}#Ds(e,t,n){let i="";switch(t.charCodeAt(0)){case 9:return"";case 10:const r=0===n&&1===e.line?1:0,s=t.length+r;if(e.line+=s-r,1===s)return"";let o="";for(let t=e.line-s+1;t<e.line;++t)o+=this.#Is(t,this.#Ls(0,t,"btn-rounded","fa-expand",""));return o;case 38:const a="&"===t.at(-1);i=this.#Ls(0,e.line,'btn-secondary dropdown-toggle" data-face="true" data-mdb-toggle="dropdown" aria-expanded="false',"fa-calculator",a?"":` ${t.slice(1,t.indexOf("=")+2)}`,a?t.slice(1,-1):t.slice(1),`\n\t<div class="form-outline col-12">\n\t\t<input type="text" data-nm="&" id="${n}txf" class="form-control" value="${t.slice(1)}"/>\n\t\t<label class="form-label" for="${n}txf">${a?"":""}</label>\n\t</div>`);break;case 59:i=this.#Ls(0,e.line,'btn-outline-light btn-rounded dropdown-toggle" data-face="true" data-mdb-toggle="dropdown" aria-expanded="false',"fa-comment-dots",t.slice(1,11)+"",t.slice(1),`\n\t<div class="form-outline col-12">\n\t\t<input type="text" data-nm=";" id="${n}txf" class="form-control" value="${t.slice(1)}"/>\n\t\t<label class="form-label" for="${n}txf"></label>\n\t</div>`);break;case 42:i=this.#Ls(0,e.line,'btn-outline-light dropdown-toggle" data-mdb-toggle="dropdown" aria-expanded="false" data-face="true',"fa-tag",t.slice(1),t.slice(1),`\n\t<div class="form-outline col-12">\n\t\t<input type="text" data-nm="*" id="${n}txf" class="form-control" value="${t.slice(1)}"/>\n\t\t<label class="form-label" for="${n}txf"></label>\n\t</div>`);break;case 91:let c=0,u=-1;for(;(u=t.indexOf("\n",u+1))>=0;)++c;if(c>0&&(e.line+=c),i=this.#Ns(t,e.line,n))break;return"";default:i=this.#Ls(5,e.line,'btn-outline-primary text-white dropdown-toggle sn-ext_txt" data-face="true" data-mdb-toggle="dropdown" aria-expanded="false',"fa-align-left","","",`\n\t<div class="form-outline col-12">\n\t\t<textarea class="form-control" placeholder="" cols="40" rows="2" data-nm="text" id="${n}ta">${t}</textarea>\n\t\t<label class="form-label" for="${n}ta"></label>\n\t</div>`)}return this.#Is(e.line,i)}#Is(e,t){return`\n<tr data-row="${e}">\n\t${t}\n\t<td class="p-0"><div class="d-flex justify-content-center">\n\t\t<button type="button" class="btn btn-danger btn-sm btn-floating tglEdit d-none">\n\t\t\t<i class="fas fa-times"></i>\n\t\t</button>\n\t</div></td>\n</tr>`}#Ns(e,t,n){const i=be.analyzTagArg(e),r=i?.groups;if(!r)return"";const s=this.#Ts[r.name];if(!s)return this.#Ls(0,t,"btn-light","fa-code",r.name,r.args);be.#Os.parse(r.args);const o=s(be.#Os.hPrm),a=o.args?o.args.length:0,c=1===a?"col-12 col-sm-3 col-md-2":2===a?"col-2":"";return this.#Ls(o.col?this.#Bs[o.col]:0,t,(o.btn_style??"btn-secondary")+(o.args?' dropdown-toggle" data-mdb-toggle="dropdown" aria-expanded="false':""),o.icon,o.btn_face,o.tooltip??r.args,o.args?o.args.map(((e,t)=>{let i="",r="form-outline px-2";const s=`sn-${n}:${t}`;switch(e.type){case"bool":r="p-0",i=`\n<div class="form-control ${c}">\n<div class="form-check">\n\t<input type="checkbox" id="${s}chk" class="form-check-input" data-nm="${e.name}" value="${e.val}"${g(e.val)?" checked":""}/>\n\t<label class="form-check-label" for="${s}chk">${e.hint??e.name}</label>\n</div>\n</div>`;break;case"textarea":i=`\n<textarea id="${s}ta" class="form-control" placeholder="${e.hint??e.name}" cols="40" rows="2" data-nm="${e.name}">${e.val}</textarea>\n<label class="form-label" for="${s}ta">${e.hint??e.name}</label>`;break;case"select":r="p-0",i=`\n<div class="form-control">\n<label class="form-label select-label" for="${s}sel">${e.hint??e.name}</label>\n<select class="select" id="${s}sel" data-nm="${e.name}" data-key="${e.key}"${e.exts?`data-exts="${e.exts}"`:""}${e.filter?`data-filter="${e.filter}"`:""}>\n\t<option selected>${e.val}</option>\n\t<option>...</option>\n\t<option>...</option>\n</select>\n</div>`;break;case"range":r="p-0",i=`\n<div class="range form-control">\n\t<label class="form-label" for="${s}rng">${e.hint??e.name}${e.min} - ${e.max}</label>\n\t<input type="range" id="${s}rng" data-nm="${e.name}" class="form-range" min=${e.min} max=${e.max} step=${e.step} value="${e.val}"/>\n</div>`;break;default:i=`\n<input type="${"num"===e.type?"number":"text"}" id="${s}txf" class="form-control ${c}" data-nm="${e.name}" value="${e.val}"/>\n<label class="form-label" for="${s}txf">${e.hint??e.name}</label>`}return`\n<div class="${r} col-12 ${1===a?"":2===a?"col-md-6":"col-md-6 col-lg-4"} my-1${"bool"===e.type?" pt-2":""}">${i}</div>`})).join(""):"",o.td_style??"",o.detail??"")}undefMacro(e){delete this.#Ts[e]}defMacro(e,t){this.#Ts[e]=()=>({icon:"icon",btn_face:"btn_face",...t})}static#Os=new ye;static#js="jpg|jpeg|png";#Ts={ch:e=>({col:"mes",btn_style:'btn-outline-primary text-white dropdown-toggle sn-ext_txt" data-face="true" data-mdb-toggle="dropdown" aria-expanded="false',icon:"fa-align-left",btn_face:"",tooltip:"",args:[{name:"text",type:"textarea",val:e.text?.val??"",hint:""}],detail:`<form><textarea class="form-control bg-light" placeholder="" data-nm="text">${e.text?.val??""}</textarea></form>`}),jump:e=>({icon:"fa-external-link-alt",btn_face:""+(e.fn?.val?` ${e.fn?.val}`:"")+(e.label?.val?` ${e.label?.val}`:"")}),call:e=>({icon:"fa-exchange-alt",btn_face:""+(e.fn?.val?` ${e.fn?.val}`:"")+(e.label?.val?` ${e.label?.val}`:"")}),return:e=>({icon:"fa-long-arrow-alt-left",btn_face:""}),add_lay:e=>{const t="grp"===e.class?.val;return{col:e.layer?.val??"base",btn_style:"btn-"+(t?"success":"primary text-white"),icon:t?"fa-image":"fa-align-left",btn_face:(t?"":"")+" "+e.layer?.val}},clear_lay:e=>({col:e.layer?.val??"base",btn_style:"btn-outline-primary text-white",icon:"fa-ban",btn_face:""}),lay:e=>({col:e.layer?.val??"base",btn_style:"btn-outline-primary text-white",icon:"fa-cog",btn_face:""}),img:e=>{const t=e.layer?.val??"base";return{col:t,btn_style:`btn${e.fn?.val?"":"-outline"}-${"mes"!==t?"success":"secondary text-white"}`,icon:"base"===t?"fa-image":"fa-user",btn_face:e.fn?.val??("base"===t?"()":"()"),args:[{name:"fn",type:"select",val:e.fn?.val??"()",hint:"",key:""}]}},scene_change:e=>({col:"base",td_style:"sn-cmb-"+(e.bg?.val?`start" data-fn="${e.bg?.val}`:"end"),btn_style:"btn-success text-black",icon:"fa-door-open",btn_face:""+(e.rule?.val?` ${e.rule?.val}`:"")+(e.time?.val?` ${e.time.val}ms`:"")+(` ${e.bg?.val}`??0),args:[{name:"bg",type:"select",val:e.bg?.val??"()",hint:"",key:"",exts:be.#js,filter:"bg/"},{name:"time",type:"num",val:e.time?.val??"1000",hint:""},{name:"rule",type:"select",val:e.rule?.val??"",hint:"",key:"",exts:be.#js,filter:"rule/"}]}),scene_reserve:e=>({col:e.layer?.val??"0",td_style:"sn-cmb-"+(e.fn?.val?`start" data-fn="${e.fn?.val}`:"end"),btn_style:"btn-success btn-rounded text-black",icon:"fa-user-ninja",btn_face:` ${e.fn?.val}`,args:[{name:"layer",type:"select",val:e.layer?.val??"0",hint:"",key:""},{name:"fn",type:"select",val:e.fn?.val??"()",hint:"",key:""},{name:"face",type:"str",val:e.face?.val??"",hint:""},{name:"pos",type:"str",val:e.pos?.val??"",hint:""},{name:"alpha",type:"range",val:e.alpha?.val??"",hint:"",min:"0.0",max:"1.0",step:"0.1"}]}),grp:e=>({col:"base",td_style:"sn-cmb-"+(e.bg?.val?`start" data-fn="${e.bg?.val}`:"end"),btn_style:"btn-success",icon:"fa-images",btn_face:(e.bg?.val??"()")+(e.rule?.val?` ${e.rule?.val}`:"")+(e.time?.val?`  ${e.time.val}ms`:""),args:[{name:"bg",type:"select",val:e.bg?.val??"()",hint:"",key:"",exts:be.#js,filter:"bg/"},{name:"time",type:"num",val:e.time?.val??"1000",hint:""},{name:"rule",type:"select",val:e.rule?.val??"",hint:"",key:"",exts:be.#js,filter:"rule/"},{name:"l0",type:"select",val:e.l0?.val??"()",hint:"0",key:""},{name:"f0",type:"str",val:e.f0?.val??"",hint:"0face"},{name:"pos0",type:"str",val:e.pos0?.val??"",hint:"0pos"},{name:"o0",type:"num",val:e.o0?.val??"",hint:"0"},{name:"l1",type:"select",val:e.l1?.val??"()",hint:"1",key:""},{name:"f1",type:"str",val:e.f1?.val??"",hint:"1face"},{name:"pos1",type:"str",val:e.pos1?.val??"",hint:"1pos"},{name:"o1",type:"num",val:e.o1?.val??"",hint:"1"},{name:"l2",type:"select",val:e.l2?.val??"()",hint:"2",key:""},{name:"f2",type:"str",val:e.f2?.val??"",hint:"2face"},{name:"pos2",type:"str",val:e.pos2?.val??"",hint:"2pos"},{name:"o2",type:"num",val:e.o2?.val??"",hint:"2"},{name:"se",type:"str",val:e.se?.val??"",hint:""}]}),fg:e=>({col:e.layer?.val??"",btn_style:"btn-success",icon:"fa-image",btn_face:e.fn?.val??""}),button:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-sign-out-alt",btn_face:(e.text?.val?`${e.text?.val}`:"")+(e.pic?.val?` ${e.pic?.val}`:"")}),enable_event:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-check-square",btn_face:" "+("true"===e.enabled?.val?"":"")}),event:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-bolt",btn_face:""+("true"===e.global?.val?"":"")+("true"===e.del?.val?" ":"")+e.key?.val}),waitclick:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-hourglass-start",btn_face:""}),r:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-align-left",btn_face:""}),l:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-leaf",btn_face:""}),plc:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-book-open",btn_face:""+("false"===e.visible?.val?"":""),args:[{name:"visible",type:"bool",val:e.visible?.val??"true",hint:""},{name:"time",type:"num",val:e.time?.val??"500",hint:"FO"},{name:"buf",type:"str",val:e.buf?.val??"",hint:""}]}),let:e=>({btn_style:"btn-secondary",icon:"fa-calculator",btn_face:` ${e.name?.val}=`}),bgm:e=>({col:"BGM",td_style:"sn-cmb-"+(e.fn?.val?`start" data-fn="${e.fn?.val}`:"end"),btn_style:"btn-info",icon:"fa-play",btn_face:e.fn?.val??"",tooltip:`fn=${e.fn?.val}`}),stopbgm:e=>({col:"BGM",td_style:"sn-cmb-end",btn_style:"btn-outline-info",icon:"fa-stop",btn_face:""}),fadeoutbgm:e=>({col:"BGM",td_style:"sn-cmb-end",btn_style:"btn-outline-info",icon:"fa-volume-down",btn_face:` ${e.time?.val}ms `}),wait:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-hourglass-start",btn_face:`${e.time?.val??0}ms`,tooltip:""+(e.time?.val?` time=${e.time?.val}ms`:"")+(e.canskip?.val?` =${e.canskip?.val}`:"")}),s:e=>({col:"mes",btn_style:"btn-primary",icon:"fa-stop",btn_face:""}),close:e=>({icon:"fa-window-close",btn_face:""}),macro:e=>(this.#Ms=e.name?.val??"",{btn_style:"btn-outline-secondary text-white",icon:"fa-box-open",btn_face:` ${this.#Ms}`,args:[{name:"name",type:"str",val:e.name.val??"",hint:""}]}),endmacro:e=>{const t=this.#Ms;return this.#Ms="",{btn_style:"btn-outline-secondary text-white",icon:"fa-box",btn_face:` ${t}`}},:e=>({icon:"fa-th",btn_face:" "+e.name?.val,args:[{name:"name",type:"str",val:e.name.val??"",hint:""}]})};#Ms="";#$s=7;#Bs={:0,base:1,0:2,1:3,2:4,mes:5,BGM:6,SE:7,:8};#Ls(e,t,n,i,r,s="",o="",a="",c=""){return"<td></td>".repeat(e)+`\n\t<td class="p-0 ${a}">\n\t\t<button type="button" class="btn btn-block btn-sm ${n}" data-faceicon="${i}" data-ripple-color="dark" id="${t}btn" draggable="true"${s?` data-mdb-toggle="tooltip" data-placement="right" title="${s}"`:""}>\n\t\t\t<i class="fas ${i}" aria-hidden="true"></i>\n\t\t</button>\n\t\t${o?`<div class="dropdown-menu col-xxl-4 col-sm-6 col-12"><form class="p-1 d-flex flex-wrap">${o}</form></div>`:""}\n\t</td>`.replace(" dropdown-toggle","")+"<td></td>".repeat(this.#$s-e)+`\n\t<td class="p-0">${c||`\n\t\t<button type="button" class="btn btn-block btn-sm px-2 text-start text-lowercase ${n}" data-faceicon="${i}" data-ripple-color="dark" id="${t}detail" draggable="true"${s?` data-mdb-toggle="tooltip" data-placement="right" title="${s}"`:""}>\n\t\t\t<i class="fas ${i}" aria-hidden="true"></i>\n\t\t\t${r}\n\t\t</button>`}\t${o?`<div class="dropdown-menu col-xxl-4 col-sm-6 col-12"><form class="p-1 d-flex flex-wrap">${o}</form></div>`:""}\n\t</td>`}}const ve=[];function we(e,t){switch(e.scheme){case"ws-file":E.workspace.openTextDocument(t+e.path).then((e=>E.window.showTextDocument(e)));break;case"ws-folder":E.env.openExternal(E.Uri.file(t+e.path));break;default:E.env.openExternal(e)}}class _e{ctx;actBar;#qs=[];#Us=new Map;constructor(e,t){this.ctx=e,this.actBar=t;const i=this.#Hs("init");i.text="...",i.busy=!0,i.detail="refresh",E.workspace.onDidChangeWorkspaceFolders((e=>this.#Ws(e))),E.tasks.onDidEndTaskProcess((e=>this.#zs.get(e.execution.task.definition.type.slice(13))?.(e))),i.detail="initDebug";const r=new E.EventEmitter;!function(e,t){const n=o.language??"";E.debug.registerDebugConfigurationProvider(n,{provideDebugConfigurations:e=>[{name:"10.",request:"launch",type:"pwa-node",runtimeExecutable:"npm",runtimeArgs:["run-script","watch:wdsdbg"],skipFiles:["<node_internals>/**"],console:"internalConsole",internalConsoleOptions:"openOnSessionStart"},{name:"1.",request:"launch",type:"node",port:3776,console:"internalConsole",internalConsoleOptions:"openOnSessionStart"},{name:"2.",request:"attach",type:"skynovel",port:3776,weburi:"http://localhost:8080",stopOnEntry:!1}]}),e.subscriptions.push(E.debug.registerDebugConfigurationProvider("node",{resolveDebugConfiguration(e,t){const n="${workspaceFolder}/node_modules/.bin/electron";return{program:"${workspaceFolder}/doc/app.js",runtimeExecutable:n,windows:{runtimeExecutable:n+".cmd"},console:"integratedTerminal",autoAttachChildProcesses:!0,skipFiles:["<node_internals>/**/*.js"],...t,env:{SKYNOVEL_DBG:"on",SKYNOVEL_PORT:t.port??3776,...t.env}}}})),e.subscriptions.push(E.debug.registerDebugConfigurationProvider(n,{resolveDebugConfiguration:(e,t)=>({cwd:"${workspaceFolder}",port:3776,weburi:"http://localhost:8080",...t})}));const i={createDebugAdapterDescriptor:e=>{if(e.workspaceFolder)return fe??=new E.DebugAdapterInlineImplementation(new ge(e.workspaceFolder,t))}};e.subscriptions.push(E.debug.registerDebugAdapterDescriptorFactory(n,i))}(e,(e=>{switch(e.){case":connect":this.#Gs=[];break;case":disconnect":this.#Gs=[],r.fire(void 0);break;case"add_lay":{const t=new E.TreeItem(e.layer);"txt"===e.class?(t.iconPath=Re("comment"),t.tooltip=` layer=${e.layer}`,t.collapsibleState=E.TreeItemCollapsibleState.Expanded):(t.iconPath=Re("base"===e.layer?"image":"user"),t.tooltip=` layer=${e.layer}`),t.command={command:"skynovel.tiLayers.selectNode",title:"Select Node",arguments:[e.layer]},this.#Gs.push(t),r.fire(void 0)}}})),E.commands.registerCommand("skynovel.tiLayers.selectNode",(e=>pe.send2SN("_selectNode",{node:e}))),i.detail="layers",e.subscriptions.push(E.window.registerTreeDataProvider("skynovel-layers",{getChildren:e=>e?("comment.svg"===e.iconPath.dark.slice(-11)?[{label:"",icon:"hand-point-down"}]:[]).map((t=>Object.assign(new E.TreeItem(t.label),{iconPath:Re(t.icon),command:{command:"skynovel.tiLayers.selectNode",title:"Select Node",arguments:[e.label+"/"+t.label]}}))):this.#Gs,getTreeItem:e=>e,onDidChangeTreeData:r.event})),e.subscriptions.push(E.languages.registerDocumentDropEditProvider(o,this)),be.init(e),this.#Vs("init");const s=n(62208);for(const[e,{sum:t}]of Object.entries(s))ve.push({label:e,description:t,uri:E.Uri.parse("https://famibee.github.io/SKYNovel/tag.html#"+e)})}#Gs=[];async provideDocumentDropEdits(e,t,n,i){const r=n.get("text/uri-list");if(!r)return null;const s=await r.asString();if(i.isCancellationRequested)return null;const o=[];for(const e of s.split("\n"))try{o.push(E.Uri.parse(e))}catch{}if(0===o.length)return null;for(const[n,i]of this.#Us.entries()){const r=n+"/doc/prj/";if(e.uri.path.slice(0,r.length)===r)return await i.drop(e,t,o)??{insertText:""}}return null}provideHover(e,t){for(const[n,i]of this.#Us.entries()){const r=n+"/doc/prj/";if(e.uri.path.slice(0,r.length)===r)return i.provideHover(e,t)}return null}#Oi=()=>{};start(e){c?U("&&"):a&&U("cmd.exe"===String(E.workspace.getConfiguration("terminal.integrated.shell").get("windows")).slice(-7)?"&":";"),this.#Oi=e,this.#Ws(),this.ctx.subscriptions.push(E.commands.registerCommand("skynovel.openReferencePallet",(()=>this.#Ks()))),this.ctx.subscriptions.push(E.commands.registerCommand("skynovel.opView",(e=>{const{path:t}=e;for(const[n,i]of this.#Us.entries())t.slice(0,n.length)===n&&i.opView(e)})))}#Ks(){const e=E.workspace.workspaceFolders,t=E.window.activeTextEditor;if(!e||!t)return void E.window.showQuickPick(ve,{placeHolder:"?",matchOnDescription:!0}).then((e=>{e?.uri&&we(e.uri,"")}));const n=t.document.uri.path;for(const[e,t]of this.#Us.entries())n.slice(0,e.length)===e&&t.openReferencePallet()}refreshEnv(){const e=[];for(const t of this.#Us.values())e.push(t.getLocalSNVer());this.actBar.chkLastSNVer(e)}#Ys={};#Hs(e){return this.#Ys[e]=E.languages.createLanguageStatusItem(e,o)}#Vs(e){this.#Ys[e]?.dispose(),delete this.#Ys[e]}#Ws(e){const t=E.workspace.workspaceFolders;if(t){if(!e){for(const e of t)this.#Js(e);if(0===this.#qs.length)return;return this.#qs[0].collapsibleState=E.TreeItemCollapsibleState.Expanded,void this.#Zs.fire(void 0)}if(e.added.length>0)this.#Js(t.slice(-1)[0]);else{const t=e.removed[0].name,n=this.#qs.findIndex((e=>e.label===t));this.#qs.splice(n,1),this.#Us.get(e.removed[0].uri.path)?.dispose()}this.#Zs.fire(void 0)}}#Zs=new E.EventEmitter;onDidChangeTreeData=this.#Zs.event;onRequest(e){const t=this.#Us.get((a?"/c:":"")+e.pathWs);t?t.onRequest(e):console.error(`fn:WorkSpaces.ts onRequest 'project ${e.pathWs} does not exist'`)}enableBtn(e){for(const t of this.#Us.values())t.enableBtn(e)}#Js(t){const n=t.uri.path,i=u(n);(0,e.existsSync)(i+"/package.json")&&(0,e.existsSync)(i+"/doc/prj/prj.json")&&this.#Us.set(n,new ne(this.ctx,this.actBar,t,this.#qs,this.#Zs,this.#zs,this.#Oi))}#zs=new Map([]);getTreeItem=e=>e;getChildren=e=>e?e?.children??[]:this.#qs;dispose(){for(const e of this.#Us.values())e.dispose();this.#Us.clear();for(const[e,t]of Object.entries(this.#Ys))Object.prototype.hasOwnProperty.call(this.#Ys,e)&&t.dispose()}}class Se{ctx;#vn;constructor(e){this.ctx=e,this.#vn=E.Uri.file(e.extensionPath+"/views"),this.#Xs=this.#Xs??[]}#Qs=[];#Xs=[{:"",:[{icon:"fa-align-left",name:"",style:"btn-primary",scr:"[ch text=##]"},{icon:"fa-comment",name:"",style:"btn-primary",scr:"[txt_fi time=${ms}]"},{icon:"fa-comment-slash",name:"",style:"btn-outline-primary",scr:"[txt_fo time=${ms}]"},{icon:"fa-ruler-combined",name:"",style:"btn-primary",scr:"[txt_cfg layer=${}]"}]},{:"",:[{icon:"fa-images",name:"",style:"btn-success text-black",scr:"[bg_chg]"},{icon:"fa-user",name:"",style:"btn-success text-black",scr:"[hu]"},{icon:"fa-user-slash",name:"",style:"btn-outline-success",scr:"[hu_hide]"},{icon:"fa-running",name:"",style:"btn-success text-black",scr:"[hu_mov]"},{icon:"fa-door-open",name:"",style:"btn-success text-black",scr:"[scene_change bg=${:bg} time=1000]"},{icon:"fa-user-ninja",name:"",style:"btn-success btn-rounded text-black",scr:"[scene_reserve layer=0 fn=${} alpha=1]"}]},{:"",:[{icon:"fa-play",name:"BGM",style:"btn-info text-black",scr:"[bgm fn=${} time=${ms}]"},{icon:"fa-stop",name:"BGM",style:"btn-outline-info",scr:"[fadeoutbgm time=${ms}"},{icon:"fa-bell",name:"",style:"btn-warning text-black",scr:"[se fn=${}]"},{icon:"fa-bell-slash",name:"",style:"btn-outline-warning",scr:""}]},{:"",:[{icon:"fa-project-diagram",name:"",style:"btn-primary",scr:""},{icon:"fa-tag",name:"",style:"btn-outline-light",scr:"*"},{icon:"fa-stop",name:"",style:"btn-primary",scr:"[s]"},{icon:"fa-external-link-alt",name:"",scr:"[jump fn=${} label=${}]"},{icon:"fa-exchange-alt",name:"",scr:"[call fn=${} label=${}]"},{icon:"fa-long-arrow-alt-left",name:"",scr:"[return]"}]},{:"",:[{icon:"",name:"",style:"btn-outline-primary",scr:"\n\n"},{icon:"fa-comment-dots",name:"",style:"btn-outline-light btn-rounded",scr:";"},{icon:"fa-hourglass-start",name:"",style:"btn-primary",scr:""},{icon:"fa-bolt",name:"",scr:"[quake time=${ms}]"},{icon:"fa-th",name:"",scr:"[ name=$$$]"},{icon:"fa-calculator",name:"",style:"btn-secondary",scr:"[let name=${} text=##]"},{icon:"fa-code",name:"",style:"btn-light",scr:""}]}];resolveWebviewView(e,t,n){const i=e.webview;i.options={enableScripts:!0,localResourceRoots:[this.#vn]};const r=Ce(),s=i.asWebviewUri(this.#vn);i.html=`<!doctype html><html>\n<head><meta charset="utf-8"/>\n<title> </title>\n<meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">\n<meta http-equiv="Content-Security-Policy" content="default-src 'none'; img-src data: ${i.cspSource} https:; script-src 'nonce-${r}' ${i.cspSource}; style-src ${i.cspSource} 'unsafe-inline'; font-src ${i.cspSource};"/>\n<link rel="stylesheet" href="${s}/lib/bootstrap.min.css">\n<link rel="stylesheet" href="${s}/lib/bootstrap2vscode.css">\n<link rel="stylesheet" href="${s}/lib/fontawesome/all.min.css">\n<style>\n\tbody {\n\t\tpadding: 0 var(--container-paddding);\n\t\tcolor: var(--vscode-foreground);\n\t\tfont-size: var(--vscode-font-size);\n\t\tfont-weight: var(--vscode-font-weight);\n\t\tfont-family: var(--vscode-font-family);\n\t\tbackground-color: var(--vscode-editor-background);\n\t}\n\t.btn {text-transform: none; font-size: 14px;}\n</style>\n<script defer nonce="${r}" src="${s}/lib/bootstrap.bundle.min.js"><\/script>\n<script defer nonce="${r}" src="${s}/lib/fontawesome/all.min.js"><\/script>\n<script defer nonce="${r}" src="${s}/toolbox.js"><\/script>\n</head>\n<body>\n\n`+this.#Qs.map((e=>e.+'\n<div class="d-flex flex-wrap">'+e..map((e=>`\n\t<button id="${e.name}" type="button" class="btn ${e.style??"btn-secondary"} btn-sm text-start p-2 mt-1 mr-1" data-ripple-color="dark" draggable="true" data-scr="${encodeURIComponent(e.scr)}">\n\t\t<i class="fas ${e.icon}"></i>\n\t\t${e.name}\n\t</button>`)).join("")+"\n</div>")).join("")+"\n\n</body>\n</html>",e.webview.onDidReceiveMessage((e=>{switch(e.cmd){case"info":E.window.showInformationMessage(e.text);break;case"warn":E.window.showWarningMessage(e.text)}}),!1)}dispose(){}}class Ee{ctx;#oi=[{label:"",icon:"document",url:"https://famibee.github.io/SKYNovel/dev.html"},{label:"",icon:"document",url:"https://famibee.github.io/SKYNovel/tag.html"},{label:"",icon:"document",url:"https://famibee.github.io/SKYNovel/macro_plg.html"},{label:"",icon:"document",url:"https://famibee.github.io/SKYNovel_gallery/"},{label:"famibee  ",children:[{label:"famibee blog",icon:"document",url:"https://famibee.blog.fc2.com/"},{label:"famibee Mail",icon:"mail",url:"mailto:famibee@gmail.com"},{label:"famibee Twitter",icon:"twitter",url:"https://twitter.com/famibee"}]},{label:"VSCode",children:[{label:"",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=MS-CEINTL.vscode-language-pack-ja"},{label:"Material Icon Theme",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=PKief.material-icon-theme"},{label:"Bookmarks",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=alefragnani.Bookmarks"},{label:"HTML Preview",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=tht13.html-preview-vscode"},{label:"HTMLHint",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=mkaufman.HTMLHint"},{label:"Live Server",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer"},{label:"glTF Tools",icon:"gear",url:"https://marketplace.visualstudio.com/items?itemName=cesium.gltf-vscode"}]}];#qs;constructor(e){this.ctx=e,this.#qs=this.#eo("doc",this.#oi)}#eo(e,t){return t.map(((t,n)=>{const i=("doc"===e?"skynovel.":"")+`${e}/${n}`,r=new E.TreeItem(t.label);return r.contextValue=i,t.children?(r.iconPath=E.ThemeIcon.Folder,r.collapsibleState=E.TreeItemCollapsibleState.Collapsed):r.iconPath=t.icon?Re(t.icon):E.ThemeIcon.File,t.url&&this.ctx.subscriptions.push(E.commands.registerCommand(i,(()=>E.env.openExternal(E.Uri.parse(t.url))))),r}))}getTreeItem=e=>e;getChildren(e){if(!e)return this.#qs;const t=this.#oi.find((t=>t.label===e.label));return t?.children?this.#eo(e.contextValue,t.children):[]}}var xe=n(2339);const De=n(30283);function Ce(){let e="";for(let t=0;t<32;++t)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e}let ke="";function Re(e){return{light:ke+`/res/light/${e}.svg`,dark:ke+`/res/dark/${e}.svg`}}class Ae{ctx;static start(e){ke=e.extensionPath,Ae.#to=new Ae(e)}static#to;static stop(){Ae.#to.#he()}#no=[{icon:"node-js-brands",label:"Node.js"},{icon:"npm-brands",label:"npm"},{icon:"skynovel",label:"SKYNovel"},{icon:"skynovel",label:""},{icon:"python-brands",label:"fonttools"}];#io=[];static aReady=[!1,!1,!1,!1,!1];#ro;#so;constructor(e){this.ctx=e;const t=e.asAbsolutePath("dist/LangSrv.js"),n={run:{module:t,transport:xe.TransportKind.ipc},debug:{module:t,transport:xe.TransportKind.ipc,options:{execArgv:["--nolazy","--inspect="+(7e3+Math.round(999*Math.random()))]}}},i={documentSelector:[o],synchronize:{fileEvents:[E.workspace.createFileSystemWatcher("**/doc/prj/path.json")]}},r=new xe.LanguageClient("SKYNovelLangSrv","SKYNovel Language Server",n,i);e.subscriptions.push({dispose:()=>r.stop()}),this.#ro=new _e(e,this),e.subscriptions.push(r.onRequest(Ae.#oo,(e=>{switch(e.cmd){case"log":case"error":return void console.error(e.txt)}this.#ro.onRequest(e)}))),this.#io=this.#no.map((e=>{const t=new E.TreeItem(e.label);return e.label&&(t.iconPath=Re(e.icon)),t.contextValue=e.label,t})),e.subscriptions.push(E.window.registerTreeDataProvider("skynovel-dev",this)),e.subscriptions.push(E.window.registerTreeDataProvider("skynovel-doc",new Ee(e))),e.subscriptions.push(E.commands.registerCommand("skynovel.TempWizard",(()=>this.#ao()))),Promise.allSettled([r.start(),this.#co((()=>{e.subscriptions.push(E.commands.registerCommand("skynovel.refreshEnv",(()=>this.#uo()))),e.subscriptions.push(E.commands.registerCommand("skynovel.dlNode",(()=>this.#lo()))),this.#so=new Se(e),e.subscriptions.push(E.window.registerWebviewViewProvider("skynovel-tb",this.#so)),e.subscriptions.push(E.languages.registerHoverProvider({scheme:"file",language:"skynovel"},this.#ro))}))]).then((()=>{e.subscriptions.push(E.window.registerTreeDataProvider("skynovel-ws",this.#ro)),this.#ho=!0,this.#ro.start(((e,t,n)=>{r.sendRequest(Ae.#oo,{cmd:e,pathWs:u(t.path),o:n})}))}))}static#oo=":SKYNovel:";#he(){this.#Un&&this.#Un.dispose(),this.#ro.dispose(),this.#so.dispose()}async#co(e){const t=this.#io[0],n=this.#io[1],i=this.#io[4];Ae.aReady[0]=!1,Ae.aReady[1]=!1,Ae.aReady[4]=!1,(0,Z.exec)("pip list",(async(t,n)=>{if(t)return i.description="-- pip error",i.iconPath=Re("error"),this.#po.fire(i),void e(!1);/^fonttools\s/gm.test(n)&&/^brotli\s/gm.test(n)||await new Promise((t=>(0,Z.exec)(`pip install ${a?"--user ":""}fonttools brotli`,(n=>{if(n)return i.description="-- install",i.iconPath=Re("error"),this.#po.fire(i),void e(!1);t()})))),Ae.aReady[4]=!0,i.description="-- ready",i.iconPath=Re("python-brands"),this.#po.fire(i),a&&(0,Z.exec)("python -m site --user-site",(async(t,n)=>{if(t)return void e(!1);const i=n.slice(0,-15)+"Scripts\\;";this.ctx.environmentVariableCollection.prepend("PATH",i)}))})),await new Promise((i=>(0,Z.exec)("node -v",((r,s)=>{if(r)return t.description="-- ",t.iconPath=Re("error"),this.#po.fire(t),n.description="-- ",n.iconPath=Re("error"),this.#po.fire(n),void e(!1);const o=String(s).slice(1,-1),a=o.split(".");if(1e6*Number(a[0])+1e3*Number(a[1])+Number(a[2])<20017e3)return t.description=`-- ${o} (20.17.0 )`,t.iconPath=Re("error"),this.#po.fire(t),n.description="-- ",n.iconPath=Re("error"),this.#po.fire(n),void e(!1);Ae.aReady[0]=!0,t.description=`-- ${o}`,t.iconPath=Re("node-js-brands"),this.#po.fire(t),i()})))),await new Promise((t=>(0,Z.exec)("npm -v",((i,r)=>{if(i)return n.description="-- ",n.iconPath=Re("error"),this.#po.fire(n),void e(!1);Ae.aReady[1]=!0,n.description=`-- ${r.trimEnd()}`,n.iconPath=Re("npm-brands"),this.#po.fire(n),t()})))),e(!0)}#uo(){this.#ro.enableBtn(!1),this.#co((e=>{this.#ro.enableBtn(e),e?this.#ro.refreshEnv():this.#lo()}))}#po=new E.EventEmitter;onDidChangeTreeData=this.#po.event;getTreeItem=e=>e;getChildren(e){return e?("Node.js"===e.label&&(this.#io[0].iconPath=Re(Ae.aReady[0]?"node-js-brands":"error")),Promise.resolve([])):Promise.resolve(this.#io)}async chkLastSNVer(e){let t="",n="";await Promise.allSettled([fetch("https://raw.githubusercontent.com/famibee/SKYNovel/master/package.json").then((e=>e.json())).then((e=>{t=e.version;const n=this.#io[2];n.description="-- "+t,Ae.#to.#po.fire(n)})),fetch("https://raw.githubusercontent.com/famibee/SKYNovel_uc/master/CHANGELOG.md").then((e=>e.text())).then((e=>{n=e.match(/## v(.+)\s/)?.[1]??"";const t=this.#io[3];t.description="-- "+n,Ae.#to.#po.fire(t)}))]),e.forEach((async e=>{e.verTemp&&n!==e.verTemp?E.window.showInformationMessage(""):""!==e.verSN&&"ile:"!==e.verSN.slice(0,4)&&t!==e.verSN&&E.window.showInformationMessage("")}))}#Un=null;#lo(){const t=E.window.activeTextEditor?.viewColumn;if(this.#Un)return void this.#Un.reveal(t);const n=this.ctx.extensionPath+"/views",i=E.Uri.file(n);this.#Un=E.window.createWebviewPanel("SKYNovel-envinfo","",t||E.ViewColumn.One,{enableScripts:!1,localResourceRoots:[i]}),this.#Un.onDidDispose((()=>this.#Un=null)),(0,e.readFile)(n+"/envinfo.htm","utf-8",((e,t)=>{if(e)throw e;const n=this.#Un.webview;this.#Un.webview.html=t.replaceAll("${webview.cspSource}",n.cspSource).replaceAll(/(href|src)="\.\//g,`$1="${n.asWebviewUri(i)}/`)}))}#ao(){const t=E.window.activeTextEditor?.viewColumn;if(this.#Un)return void this.#Un.reveal(t);const n=this.ctx.extensionPath+"/views",i=E.Uri.file(n),r=this.#Un=E.window.createWebviewPanel("SKYNovel-tmpwiz","",t||E.ViewColumn.One,{enableScripts:!0,localResourceRoots:[i]});r.onDidDispose((()=>this.#Un=null)),r.webview.onDidReceiveMessage((t=>{switch(t.cmd){case"get":r.webview.postMessage({cmd:"res",o:{}});break;case"info":E.window.showInformationMessage(t.text);break;case"input":if("save_ns"!==t.id)break;this.#do=t.val,r.webview.postMessage({cmd:"vld",o:{id:"save_ns",valid:this.#fo()}});break;case"tmp_hatsune":case"tmp_uc":case"tmp_sample":if(!this.#fo())break;if(!this.#ho){E.window.showInformationMessage("");break}E.window.showOpenDialog({title:"",canSelectMany:!1,openLabel:"",canSelectFiles:!1,canSelectFolders:!0}).then((n=>{const i=n?.[0]?.fsPath;if(!i)return;const r=i+"/"+this.#do;(0,e.existsSync)(r)?E.window.showErrorMessage(` ${this.#do} `,{detail:"",modal:!0}):this.#mo(t.cmd.slice(4),r)}))}}),!1),(0,e.readFile)(n+"/tmpwiz.htm","utf-8",((e,t)=>{if(e)throw e;const n=this.#Un.webview;this.#Un.webview.html=t.replaceAll("${webview.cspSource}",n.cspSource).replace(/(href|src)="\.\//g,`$1="${n.asWebviewUri(i)}/`)}))}#ho=!1;#mo=(t,n)=>E.window.withProgress({location:E.ProgressLocation.Notification,title:"",cancellable:!0},((i,r)=>{const s=(0,D.tmpdir)()+"/SKYNovel/";(0,e.removeSync)(s),(0,e.ensureDir)(s);const o=s+`temp_${t}.zip`,a=s+`SKYNovel_${t}-master/`;(0,e.removeSync)(o);const c=new AbortController;let u=()=>c.abort();return r.onCancellationRequested((()=>{u(),(0,e.removeSync)(s)})),new Promise(((l,h)=>{i.report({increment:10,message:""});const{signal:p}=c;fetch(`https://github.com/famibee/SKYNovel_${t}/archive/master.zip`,{signal:p}).then((async t=>{if(u=()=>{},i.report({increment:40,message:"ZIP"}),r.isCancellationRequested||!t.ok)return void h();const c=await t.arrayBuffer();if(await(0,e.writeFile)(o,Buffer.from(c)),i.report({increment:10,message:"ZIP"}),new De(o).extractAllTo(s,!0),r.isCancellationRequested)return void h();i.report({increment:10,message:""});const p=a+"doc/prj/prj.json",d=await(0,e.readJson)(p,{encoding:"utf8"});d.save_ns=this.#do,d.debuger_token="",await(0,e.outputJson)(p,d,{spaces:"\t"}),m(a+"package.json",[[/("name"\s*:\s*").*(")/,`$1${this.#do}$2`],[/("(?:appBundleId|appId)"\s*:\s*").*(")/g,`$1com.fc2.blog.famibee.skynovel.${this.#do}$2`],[/("artifactName"\s*:\s*").*(")/,`$1${this.#do}-\${version}-\${arch}.\${ext}$2`]],!1),await(0,e.move)(a,n),i.report({increment:30,message:""}),setTimeout((()=>{r.isCancellationRequested?h():(E.commands.executeCommand("vscode.openFolder",E.Uri.file(n),!1),l())}),4e3)})).catch((e=>E.window.showErrorMessage(`:${e}`)))}))}));#do="";#fo=()=>/^([a-zA-Z0-9!-/:-@[-`{-~]{1,})$/.test(this.#do);updPrjFromTmp=t=>E.window.withProgress({location:E.ProgressLocation.Notification,title:"",cancellable:!0},((n,i)=>{if(!(0,e.existsSync)(t+"/CHANGELOG.md"))return Promise.reject();const r=(0,e.readJsonSync)(t+"/package.json",{encoding:"utf8"}),s=r.repository.url.match(/\/SKYNovel_(\w+)\./)?.[1]??"",o=(0,D.tmpdir)()+"/SKYNovel/";(0,e.removeSync)(o),(0,e.ensureDir)(o);const a=o+`temp_${s}.zip`,c=o+`SKYNovel_${s}-master/`,u=new AbortController;let l=()=>u.abort();return i.onCancellationRequested((()=>{l(),(0,e.removeSync)(o)})),new Promise(((h,p)=>{n.report({increment:10,message:""});const{signal:d}=u;fetch(`https://github.com/famibee/SKYNovel_${s}/archive/master.zip`,{signal:d}).then((async s=>{if(l=()=>{},n.report({increment:40,message:"ZIP"}),i.isCancellationRequested||!s.ok)return void p();const u=await s.arrayBuffer();if(await(0,e.writeFile)(a,Buffer.from(u)),n.report({increment:10,message:"ZIP"}),new De(a).extractAllTo(o,!0),i.isCancellationRequested)return void p();n.report({increment:10,message:""});const d=(n,i=!1)=>{i&&!(0,e.existsSync)(t+"/"+n)||(0,e.copyFileSync)(c+n,t+"/"+n)};d("core/plugin/humane/index.js",!0),d("core/wds.config.js"),d("core/webpack.config.js"),d("CHANGELOG.md");const f=await(0,e.readJson)(c+"package.json",{encoding:"utf8"});"file:../"===r.dependencies["@famibee/skynovel"].slice(0,8)&&(f.dependencies["@famibee/skynovel"]=r.dependencies["@famibee/skynovel"]),await(0,e.outputJson)(t+"/package.json",{...r,dependencies:f.dependencies,devDependencies:f.devDependencies,scripts:f.scripts},{spaces:"\t"}),n.report({increment:30,message:""}),setTimeout(h,4e3)})).catch((e=>E.window.showErrorMessage(`:${e}`)))}))}))}function Te(e){Ae.start(e)}function Oe(){Ae.stop()}})(),module.exports=r})();
//# sourceMappingURL=extension.js.map