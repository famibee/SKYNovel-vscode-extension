{"version":3,"file":"node_modules_fluent-ffmpeg_lib_options_sync_recursive-node_modules_npm-check-updates_build_sy-78cd11.extension.js","mappings":"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","sources":[".././node_modules/fluent-ffmpeg/lib/options/ sync",".././node_modules/npm-check-updates/build/ sync",".././node_modules/vscode-languageserver-types/lib/umd/ sync",".././src/AnalyzeTagArg.ts",".././src/Config.ts",".././src/ConfigBase.ts",".././src/CteScore.ts",".././src/DebugAdapter.ts",".././src/Debugger.ts",".././src/Encryptor.ts",".././src/EncryptorTransform.ts",".././src/HDiff.ts",".././src/PrjCmn.ts",".././src/PrjSetting.ts",".././src/PrjTreeItem.ts",".././src/Project.ts",".././src/WPFolder.ts",".././src/WorkSpaces.ts",".././src/batch/BatOptPic.ts",".././src/batch/BatOptSnd.ts",".././src/batch/BatPsdFace.ts",".././src/batch/WatchFile.ts",".././src/batch/WfbOptFont.ts",".././src/batch/WfbOptPic.ts",".././src/batch/WfbOptSnd.ts",".././src/batch/WfbSettingSn.ts",".././src/types.ts"],"sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/fluent-ffmpeg/lib/options sync recursive\";\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/npm-check-updates/build sync recursive\";\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/vscode-languageserver-types/lib/umd sync recursive\";\nmodule.exports = webpackEmptyContext;","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nexport type PRM = {\n\tval\t\t: string;\n\tdef?\t: string;\n}\nexport type HPRM = {\n\t[key: string]: PRM,\n}\n\nexport type PRM_RANGE = {\n\tk_ln\t: number;\n\tk_ch\t: number;\n\tv_ln\t: number;\n\tv_ch\t: number;\n\tv_len\t: number;\n}\n\nexport function idx2LnCol(sSn: string, idx: number, lenNm = 0, ln = 0, ch = 0): {ln: number; ch: number;} {\n\tconst sBefore = sSn.slice(0, idx);\n\tconst a = sBefore.split('\\n');\n\tconst len = a.length;\n\treturn {\n\t\tln\t: ln +len -1,\n\t\tch\t: len < 2 ?ch +1+lenNm +idx :a.at(-1)?.length ?? 0,\n\t};\n}\n\n\nexport class AnalyzeTagArg {\n\t// 87 match 2725 step(0.5ms) PCRE2 https://regex101.com/r/aeN57J/1\n\t/*\n;[^\\n]*\n|\t(?<key>[^\\s=\"'#|;]+)\n\t(?: \\s | ;[^\\n]*\\n)*\n\t=\n\t(?: \\s | ;[^\\n]*\\n)*\n\t(?:\t(?<val> [^\\s\"'#|;]+)\n\t|\t([\"'#]) (?<val2>.*?) \\3 )\n\t(?: \\|\n\t\t(?: (?<def> [^\\s\"'#;]+)\n\t|\t([\"'#]) (?<def2>.*?) \\6 ) )?\n|\t(?<literal>[^\\s;]+)\n\t*/\n\treadonly\t#REG_TAGARG\t= /;[^\\n]*|(?<key>[^\\s=\"'#|;]+)(?:\\s|;[^\\n]*\\n)*=(?:\\s|;[^\\n]*\\n)*(?:(?<val>[^\\s\"'#|;]+)|([\"'#])(?<val2>.*?)\\3)(?:\\|(?:(?<def>[^\\s\"'#;]+)|([\"'#])(?<def2>.*?)\\6))?|(?<literal>[^\\s;]+)/g;\n\n\t//  =  | \n\tparse(args: string): void {\n\t\tthis.#hPrm = {};\n\t\tthis.#isKomeParam = false;\n\t\tfor (const {groups} of args.matchAll(this.#REG_TAGARG)) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst {key, val, val2, def, def2, literal} = groups!;\n\t\t\tif (key) this.#hPrm[key] = {\n\t\t\t\tval: val ?? val2 ?? '',\n\t\t\t\tdef: def ?? def2\n\t\t\t};\n\t\t\telse if (literal) {\n\t\t\t\tif (literal === '*') this.#isKomeParam = true;\n\t\t\t\telse this.#hPrm[literal] = {val: '1'};\n\t\t\t}\n\t\t}\n\t}\n\n\t// \n\tparseinDetail(token: string, lenNm: number, ln: number, ch: number): {[key: string]: PRM_RANGE} {\n\t\tconst hRng: {[key: string]: PRM_RANGE} = {};\n\n\t\tconst sSn = token.slice(1+lenNm, -1);\n\t\tfor (const {groups, index, 0: z} of sSn.matchAll(this.#REG_TAGARG)) {\n\t\t\tif (! index) continue;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst {key, val, val2='', literal} = groups!;\n\t\t\tif (literal) {\n\t\t\t\tif (literal.endsWith('=')) {\n\t\t\t\t\tconst lenVnm = literal.length -1;\n\t\t\t\t\tconst {ch: k_ch} = idx2LnCol(sSn, index +lenVnm, lenNm, ln, ch);\n\t\t\t\t\thRng[literal.slice(0, -1)] = {\n\t\t\t\t\t\tk_ln: ln,\n\t\t\t\t\t\tk_ch: k_ch -lenVnm,\n\t\t\t\t\t\tv_ln: ln,\n\t\t\t\t\t\tv_ch: k_ch +1,\n\t\t\t\t\t//\tv_ch: ch +1+lenNm +literal.length +1,\n\t\t\t\t\t\tv_len: 0,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (! key) continue;\n\n\t\t\tconst {ln: k_ln, ch: k_ch} = idx2LnCol(sSn, index, lenNm, ln, ch);\n\t\t\tconst {ln: v_ln, ch: v_ch} = idx2LnCol(sSn, index +z.lastIndexOf(val ?? val2) -(val ?0 :1), lenNm, ln, ch);\n\t\t\thRng[key] = {k_ln, k_ch, v_ln, v_ch, v_len: val ?val.length :val2.length +2};\n\t\t}\n\n\t\treturn hRng;\n\t}\n\n\t#hPrm: HPRM\t= {};\n\tget hPrm() {return this.#hPrm}\n\n\t#isKomeParam\t= false;\n\tget isKomeParam() {return this.#isKomeParam}\n\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2022-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {foldProc, hDiagL2s, uint} from './CmnLib';\nimport {ConfigBase, creCfg} from './ConfigBase';\nimport type {HSysBaseArg, IConfig, IFn2Path, ISysRoots, T_CFG} from './ConfigBase';\nimport type {Encryptor} from './Encryptor';\nimport type {T_H_ADIAG, T_H_ADIAG_L2S} from '../server/src/LspWs';\n\nimport {imageSizeFromFile} from 'image-size/fromFile';\n\nimport {Uri, window} from 'vscode';\nimport {parse, resolve} from 'node:path';\nimport {readFile} from 'node:fs/promises';\nimport {readJson, existsSync, outputJson, writeJson} from 'fs-extra';\n\n\nexport class SysExtension implements ISysRoots {\n\tconstructor(readonly arg: HSysBaseArg) {}\n\tasync loadPath(hPathFn2Exts: IFn2Path, _cfg: IConfig) {\n\t\tconst fn = this.arg.cur +'path.json';\n\t\tconst oJs = <IFn2Path>await readJson(fn, {encoding: 'utf8'});\n\t\tfor (const [nm, v] of Object.entries(oJs)) {\n\t\t\tconst h = hPathFn2Exts[nm] = v;\n\t\t\tfor (const [ext, w] of Object.entries(h)) {\n\t\t\t\tif (ext !== ':cnt') h[ext] = this.arg.cur + <string>w;\n\t\t\t}\n\t\t}\n\t}\n\treadonly\tdec\t= (_ext: string, d: string)=> Promise.resolve(d);\n\treadonly\tdecAB = (ab: ArrayBuffer)=> Promise.resolve(ab);\n\n\tset crypto(v: boolean) {this.arg.crypto = v;}\n\treadonly\tfetch = async (url: string)=> new Response(\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n\t\tawait readJson(url, {encoding: 'utf8'})\n\t);\n\treadonly\thash: (_data: string)=> '';\n\n\tprotected $path_downloads\t= '';\n\tget path_downloads() {return this.$path_downloads}\n\tprotected $path_userdata\t= '';\n\tget path_userdata() {return this.$path_userdata}\n}\n\n\nexport class Config extends ConfigBase {\n\tconstructor(override readonly sys: SysExtension, private encry: Encryptor) {super(sys)}\n\tsetCryptoMode(v: boolean) {this.sys.crypto = v;}\n\n\tasync loadEx(encFile: (uri: Uri)=> Promise<void>, haDiagFn: T_H_ADIAG_L2S) {\n\t\tconst fpPrj = this.sys.arg.cur +'prj.json';\n\t\tconst fpPath= this.sys.arg.cur +'path.json';\n\t\ttry {\n\t\t\tconst o = <T_CFG>await readJson(fpPrj, {encoding: 'utf8'});\n\t\t\tconst d = creCfg();\n\t\t\tawait super.load(<T_CFG>{\n\t\t\t\t...d,\n\t\t\t\t...o,\n\t\t\t\tbook\t: {...d.book, ...o.book},\n\t\t\t\twindow\t: {...d.window, ...o.window},\n\t\t\t\tlog\t\t: {...d.log, ...o.log},\n\t\t\t\tinit\t: {...d.init, ...o.init},\n\t\t\t\tdebug\t: {...d.debug, ...o.debug},\n\t\t\t\tcode\t: {...d.code, ...o.code},\n\t\t\t});\n\n\t\t\tthis.hPathFn2Exts = await this.#get_hPathFn2Exts(this.sys.arg.cur, haDiagFn);\n\t\t\tawait outputJson(fpPath, this.hPathFn2Exts);\n\n\t\t\tif (this.sys.crypto) await encFile(Uri.file(fpPath));\n\n//\t\t\tthis.#codSpt.updPath(this.#hPathFn2Exts);\t// NOTE: Score\n\t\t}\n\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\tcatch (e) {console.error(`Project loadPrjJs ${e} fpPrj=${fpPrj}= fpPath=${fpPath}=`);}\n\t}\n\n\treadonly\t#REG_NEEDHASH\t= /\\.(js|css)$/;\t// \n\t\t// js,cssHTML\n\treadonly #REG_SPRSHEETIMG\t= /^(.+)\\.(\\d+)x(\\d+)\\.(png|jpe?g)$/;\n\tasync #get_hPathFn2Exts($cur: string, haDiagFn: T_H_ADIAG_L2S): Promise<IFn2Path> {\n\t\tconst hFn2Path: IFn2Path = {};\n\t\tconst aDo: Promise<void>[] = [];\n\n\t//\tconst REG_FN_RATE_SPRIT\t= /(.+?)(?:%40(\\d)x)?(\\.\\w+)/;\n\t\t// \n\t\t//\t\t\n\t\t//\t\t\n\t\t//\t\tURL\n\t\t//\t\tURLFile.url\n\t\t//\t\t\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst {mes, sev} = hDiagL2s.!;\n\t\tfoldProc($cur, ()=> { /* empty */ }, dir=> {\n\t\t\tconst wd = resolve($cur, dir);\n\t\t\tfoldProc(wd, (fp, nm)=> {\n\t\t\t\tconst aD: T_H_ADIAG[] = [];\n\t\t\t\tthis.#addPath(hFn2Path, dir, nm, aD);\n\n\t\t\t\t// \n\t\t\t\tif (nm.normalize('NFC').length !== nm.normalize('NFD').length) aD.push({mes, sev});\n\t\t\t\tif (aD.length > 0) haDiagFn[fp] = aD;\n\n\t\t\t\t// json\n\t\t\t\t// breakline.5x20.png  breakline.json \n\t\t\t\tconst a2 = nm.match(this.#REG_NEEDHASH);\n\t\t\t\tif (a2) {\n\t\t\t\t\tconst snm = nm.slice(0, -a2[0].length);\t// \n\t\t\t\t\tconst p = hFn2Path[snm];\n\t\t\t\t\tif (p) {\n\t\t\t\t\t\taDo.push((async ()=> {\n\t\t\t\t\t\t\tconst s = await readFile(fp, {encoding: 'utf8'});\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\t\t\t\t\tp[a2[1] +':id'] = 'u5:'+ this.encry.uuidv5(s);\n\t\t\t\t\t\t})());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconst a = nm.match(this.#REG_SPRSHEETIMG);\n\t\t\t\tif (! a) return;\n\n\t\t\t\tconst [, basename='', axLen='', ayLen='', ] = a;\n\t\t\t\tconst fnJs = resolve(wd, basename +'.json');\n\t\t\t\tif (existsSync(fnJs)) return;\n\n\t\t\t\taDo.push((async ()=> {\n\t\t\t\t\tconst {width, height} = await imageSizeFromFile(fp);\n\t\t\t\t\tconst xLen = uint(axLen);\n\t\t\t\t\tconst yLen = uint(ayLen);\n\t\t\t\t\tconst w = width /xLen;\n\t\t\t\t\tconst h = height /yLen;\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tconst ext = a[4]!;\n\n\t\t\t\t\tconst oJs = {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\t\tframes: <any>{},\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\tapp: 'skynovel',\n\t\t\t\t\t\t\tversion: '1.0',\n\t\t\t\t\t\t\timage: a[0],\n\t\t\t\t\t\t\tformat: 'RGBA8888',\n\t\t\t\t\t\t\tsize: {w: width, h :height},\n\t\t\t\t\t\t\tscale: 1,\n\t\t\t\t\t\t\tanimationSpeed: 1,\t// 0.01~1.00\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tlet cnt = 0;\n\t\t\t\t\tfor (let ix=0; ix<xLen; ++ix) {\n\t\t\t\t\t\tfor (let iy=0; iy<yLen; ++iy) {\n\t\t\t\t\t\t\toJs.frames[basename + String(++cnt).padStart(4, '0') +'.'+ ext] = {\n\t\t\t\t\t\t\t\tframe\t: {x: ix *w, y: iy*h, w, h},\n\t\t\t\t\t\t\t\trotated\t: false,\n\t\t\t\t\t\t\t\ttrimmed\t: false,\n\t\t\t\t\t\t\t\tspriteSourceSize\n\t\t\t\t\t\t\t\t\t: {x: 0, y: 0, w: width, h :height},\n\t\t\t\t\t\t\t\tsourceSize\t: {w, h},\n\t\t\t\t\t\t\t\tpivot\t\t: {x: 0.5, y: 0.5},\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tawait writeJson(fnJs, oJs);\n\t\t\t\t\twindow.showInformationMessage(`[SKYNovel] ${nm}  ${basename}.json `);\n\n\t\t\t\t\tthis.#addPath(hFn2Path, dir, `${basename}.json`, aD);\n\t\t\t\t\tif (aD.length > 0) haDiagFn[fp] = aD;\n\t\t\t\t})());\n\t\t\t}, ()=> { /* empty */ });\n\t\t});\n\n\t\tawait Promise.allSettled(aDo);\n\n\t\treturn hFn2Path;\n\t}\n\t#addPath(hFn2Path: IFn2Path, dir: string, nm: string, aD: T_H_ADIAG[]) {\n\t\tconst {name: fn, base, ext} = parse(nm);\n\t\tconst ext2 = ext.slice(1);\n\t\tlet hExts = hFn2Path[fn];\n\t\tif (! hExts) hExts = hFn2Path[fn] = {':cnt': <never>0};\n\t\telse if (ext2 in hExts) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst {mes, sev} = hDiagL2s.!;\n\t\t\taD.push({mes: mes.replace('$', base), sev});\n\t\t\treturn;\n\t\t}\n\n\t\thExts[':cnt'] = <never>(uint(hExts[':cnt']) +1);\n\t\thExts[ext2] = dir +'/'+ nm;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2022-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {int} from './CmnLib';\n\nexport const enum SEARCH_PATH_ARG_EXT {\t// #searchPath \n\tDEFAULT\t= '',\n\tSP_GSM\t= 'png|jpg|jpeg|json|svg|webp|mp4|webm',\n\tSCRIPT\t= 'sn|ssn',\n\tFONT\t= 'woff2|woff|otf|ttf',\n\tSOUND\t= 'mp3|m4a|ogg|aac|flac|wav',\n\tHTML\t= 'htm|html',\n\tCSS\t\t=\t'css',\n\tSN\t\t=\t'sn',\n\n\tTST_PNGPNG_\t= 'png|png_',\n\tTST_HH\t\t= 'hh',\n\tTST_EEE\t\t= 'eee',\n\tTST_GGG\t\t= 'ggg',\n\tTST_PNGXML\t= 'png|xml',\n}\n\n\nexport type T_CFG = {\n\tbook\t: {\n\t\ttitle\t\t: string,\t// \n\t\tcreator\t\t: string,\t// \n\t\tcre_url\t\t: string,\t// URL\n\t\tpublisher\t: string,\t// \n\t\tpub_url\t\t: string,\t// URL\n\t\tdetail\t\t: string,\t// \n\t\tversion\t\t: string,\t// version\n\t},\n\tsave_ns\t\t: string,\n\twindow\t: {\t\t// \n\t\twidth\t: number,\n\t\theight\t: number,\n\t},\n\tlog\t\t: {max_len: number},\t// \n\tinit\t: {\n\t\tbg_color\t\t\t: string | number,\t// \n\t\ttagch_msecwait\t\t: number,\t// \n\t\tauto_msecpagewait\t: number,\t// \n\t\tescape\t\t\t\t: string,\t// \n\t},\n\tdebug\t: {\t// \n\t\tdevtool\t\t: boolean,\n\t\tdumpHtm\t\t: boolean,\t// HTML\n\t\ttoken\t\t: boolean,\n\t\ttag\t\t\t: boolean,\n\t\tputCh\t\t: boolean,\n\t\tdebugLog\t: boolean,\n\t\tbaseTx\t\t: boolean,\n\t\tmasume\t\t: boolean,\t// \n\t\tvariable\t: boolean,\n\t},\n\tcode\t: {[fold_nm: string]: boolean,},\t// \n\tdebuger_token\t: string,\t// \n}\n\nexport function creCfg(): T_CFG {return {\n\tsave_ns\t\t: '',\t\t// \n\twindow\t: {\t\t// \n\t\twidth\t: 300,\n\t\theight\t: 300,\n\t},\n\tbook\t: {\t\t// \n\t\ttitle\t\t: '',\t//\n\t\tcreator\t\t: '',\t//\n\t\tcre_url\t\t: '',\t//URL\n\t\tpublisher\t: '',\t//\n\t\tpub_url\t\t: '',\t//URL\n\t\tdetail\t\t: '',\t// \n\t\tversion\t\t: '1.0',\n\t},\n\tlog\t\t: {max_len: 64},\t// \n\tinit\t: {\n\t\tbg_color\t\t\t: '#000000',\t// \n\t\ttagch_msecwait\t\t: 10,\t\t// \n\t\tauto_msecpagewait\t: 3500,\t\t// \n\t\tescape\t\t\t\t: '',\t\t// \n\t},\n\tdebug\t: {\n\t\tdevtool\t\t: false,\n\t\tdumpHtm\t\t: false,\n\t\ttoken\t\t: false,\n\t\ttag\t\t\t: false,\n\t\tputCh\t\t: false,\n\t\tdebugLog\t: false,\n\t\tbaseTx\t\t: false,\n\t\tmasume\t\t: false,\t// \n\t\tvariable\t: false,\n\t},\n\tcode\t: {},\t// \n\tdebuger_token\t: '',\t\t// \n}}\n\n\nexport type IExts = {\n\t':cnt'?\t\t\t: number;\n} & {\n\t[ext: string]\t: string;\t// pp\n};\nexport type IFn2Path = { [fn: string]: IExts; };\n\nexport type T_SEARCHPATH = (fn: string, extptn?: SEARCH_PATH_ARG_EXT)=> string;\nexport type IConfig = {\n\toCfg\t: T_CFG;\n\tgetNs()\t: string;\n\tsearchPath: T_SEARCHPATH;\n\tmatchPath(fnptn: string, extptn?: SEARCH_PATH_ARG_EXT): readonly IExts[];\n\taddPath(fn: string, h_exts: IExts): void;\n}\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\nexport interface ISysRoots {\n\tloadPath(hPathFn2Exts: IFn2Path, cfg: IConfig): Promise<void>;\n\tdec(ext: string, tx: string): Promise<string>;\n\tdecAB(ab: ArrayBuffer): Promise<HTMLImageElement | HTMLVideoElement | ArrayBuffer>;\n\n\targ: HSysBaseArg;\n\tfetch(url: string): Promise<Response>;\t// \n\thash(str: string): string;\n}\nexport type HSysBaseArg = {\n\tcur\t\t: string;\n\tcrypto\t: boolean;\n\tdip?\t: string;\n}\n\n\nexport class ConfigBase implements IConfig {\n\toCfg\t= creCfg();\n\n\tuserFnTail\t\t= '';\t// 4tst public\n\tprotected\thPathFn2Exts\t: IFn2Path\t= {};\n\n\tprotected\tconstructor(readonly sys: ISysRoots) {}\n\tasync load(oCfg: T_CFG) {\n\t\t// this.oCfg = {...this.oCfg, ...oCfg};\t// \n\t\tthis.oCfg.save_ns = oCfg.save_ns || this.oCfg.save_ns;\n\n\t\tthis.oCfg.window.width = oCfg.window.width || this.oCfg.window.width;\n\t\tthis.oCfg.window.height = oCfg.window.height || this.oCfg.window.height;\n\n\t\tthis.oCfg.book = {...this.oCfg.book, ...oCfg.book};\n\n\t\tthis.oCfg.log.max_len = oCfg.log.max_len || this.oCfg.log.max_len;\n\n\t\tthis.oCfg.init = {...this.oCfg.init, ...oCfg.init};\n\n\t\tthis.oCfg.debug = {...this.oCfg.debug, ...oCfg.debug};\n\n\t\tthis.oCfg.debuger_token = oCfg.debuger_token;\n\n\t\t// AppWebpath.json\n\t\t// Main\n\t\t// load()\n\t\tawait this.sys.loadPath(this.hPathFn2Exts, this);\n\n\t\tthis.#existsBreakline = this.matchPath('^breakline$', SEARCH_PATH_ARG_EXT.SP_GSM).length > 0;\n\t\tthis.#existsBreakpage = this.matchPath('^breakpage$', SEARCH_PATH_ARG_EXT.SP_GSM).length > 0;\n\n\t\tconst hFn2Ext: {[fn: string]: string}\t= {};\n\t\tif (! this.sys.arg.crypto) {\n\t\t\tfor (const [fn0, hExts] of Object.entries(this.hPathFn2Exts)) {\n\t\t\t\tfor (const ext of Object.keys(hExts)) {\n\t\t\t\t\tif (ext.startsWith(':')) continue;\n\t\t\t\t\thFn2Ext[fn0] = ext;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\tfor (const [fn0, hExts] of Object.entries(this.hPathFn2Exts)) {\n\t\t\tfor (const [ext, pp] of Object.entries(hExts)) {\n\t\t\t\tif (! ext.startsWith(':')) {\n\t\t\t\t\thFn2Ext[fn0] = ext;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (! ext.endsWith(':id')) continue;\n\t\t\t\tconst hp = (<string>pp).slice((<string>pp).lastIndexOf('/') +1);\n\t\t\t\tconst fn = hExts[ext.slice(0, -10)] ?? '';\n\t\t\t\tconst res = await this.sys.fetch(fn);\n\t\t\t\tconst src = await res.text();\n\t\t\t\tconst hf = this.sys.hash(src);\n\t\t\t\tif (hp !== hf) throw ` fn:${fn}`;\n\t\t\t}\n\t\t}\n\t}\n\t#existsBreakline = false;\n\tget existsBreakline(): boolean {return this.#existsBreakline}\n\t#existsBreakpage = false;\n\tget existsBreakpage(): boolean {return this.#existsBreakpage}\n\n\tgetNs() {return `skynovel.${this.oCfg.save_ns} - `}\n\n\treadonly\t#REG_PATH = /([^/\\s]+)\\.([^\\d]\\w+)/;\n\t\t// 4 match 498 step(~1ms)  https://regex101.com/r/tpVgmI/1\n\tsearchPath(fn: string, extptn: SEARCH_PATH_ARG_EXT = SEARCH_PATH_ARG_EXT.DEFAULT): string {\n\t\tif (! fn) throw '[searchPath] fn';\n\t\tif (fn.startsWith('http://')) return fn;\n\n\t\tconst a = fn.match(this.#REG_PATH);\n\t\tlet fn0 = a ?a[1] ?? '' :fn;\n\t\tconst ext = a ?a[2] :'';\n\t\tif (this.userFnTail) {\n\t\t\tconst utn = fn0 +'@@'+ this.userFnTail;\n\t\t\tif (utn in this.hPathFn2Exts) {\n\t\t\t\tif (extptn === SEARCH_PATH_ARG_EXT.DEFAULT) fn0 = utn;\n\t\t\t\telse for (const e3 of Object.keys(this.hPathFn2Exts[utn] ?? {})) {\n\t\t\t\t\tif (! `|${extptn}|`.includes(`|${e3}|`)) continue;\n\n\t\t\t\t\tfn0 = utn;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst h_exts = this.hPathFn2Exts[fn0];\n\t\tif (! h_exts) throw `${fn}`;\n\n\t\tif (! ext) {\t// fn\n\t\t\t//\textext\n\t\t\tconst hcnt = int(h_exts[':cnt']);\n\t\t\tif (extptn === SEARCH_PATH_ARG_EXT.DEFAULT) {\n\t\t\t\tif (hcnt > 1) throw `${fn}${extptn}`;\n\n\t\t\t\treturn fn;\n\t\t\t}\n\n\t\t\tconst search_exts = `|${extptn}|`;\n\t\t\tif (hcnt > 1) {\n\t\t\t\tlet cnt = 0;\n\t\t\t\tfor (const e2 of Object.keys(h_exts)) {\n\t\t\t\t\tif (! search_exts.includes(`|${e2}|`)) continue;\n\t\t\t\t\tif (++cnt > 1) throw `${fn}${extptn}`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (const [ext, pp] of Object.entries(h_exts)) {\n\t\t\t\tif (search_exts.includes(`|${ext}|`)) return <string>pp;\n\t\t\t}\n\t\t\tthrow `${extptn}=${fn}`;\n\t\t}\n\n\t\t// fnx\n\t\t//\tx\n\t\tif (extptn !== SEARCH_PATH_ARG_EXT.DEFAULT && ! `|${extptn}|`.includes(`|${ext}|`)) {\n\t\t\tthrow `${ext}${extptn}=${fn}`;\n\t\t}\n\n\t\tconst ret = h_exts[ext];\n\t\tif (! ret) throw `${ext}=${fn}${extptn}`;\n\n\t\treturn ret;\n\t}\n\n\tmatchPath(fnptn: string, extptn: SEARCH_PATH_ARG_EXT = SEARCH_PATH_ARG_EXT.DEFAULT): readonly IExts[] {\n\t\tconst aRet :IExts[] = [];\n\t\tconst regPtn = new RegExp(fnptn);\n\t\tconst regExt = new RegExp(extptn);\n\t\tfor (const [fn, h_exts] of Object.entries(this.hPathFn2Exts)) {\n\t\t\tif (fn.search(regPtn) === -1) continue;\n\t\t\tif (extptn === SEARCH_PATH_ARG_EXT.DEFAULT) {aRet.push(h_exts); continue}\n\n\t\t\tconst o :IExts = {};\n\t\t\tlet isa = false;\n\t\t\tfor (const ext of Object.keys(h_exts)) {\n\t\t\t\tif (ext.search(regExt) === -1) continue;\n\n\t\t\t\to[ext] = fn;\n\t\t\t\tisa = true;\n\t\t\t}\n\t\t\tif (isa) aRet.push(o);\n\t\t}\n\t\treturn aRet;\n\t}\n\n\taddPath(fn: string, h_exts: IExts) {\n\t\tconst o: IExts = {};\n\t\tfor (const [ext, v] of Object.entries(h_exts)) {\n\t\t\to[ext] = (ext.startsWith(':') ?'' :this.sys.arg.cur) + String(v);\n\t\t}\n\t\tthis.hPathFn2Exts[fn] = o;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2020-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {chkBoolean, type HArg, repWvUri} from './CmnLib';\nimport {AnalyzeTagArg, type HPRM} from './AnalyzeTagArg';\nimport type {IFn2Path} from './ConfigBase';\nimport {getNonce} from './ActivityBar';\n\nimport type {CancellationToken, ExtensionContext, TextDocument, WebviewPanel, Webview} from 'vscode';\nimport {Uri, Position, Range, window, WorkspaceEdit, workspace} from 'vscode';\nimport {readFileSync} from 'fs-extra';\n\ntype HTDS = {\n\tcol?\t\t: string,\n\ttd_style?\t: string,\n\tbtn_style?\t: string,\n\ticon\t\t: string,\n\tbtn_face\t: string,\n\ttooltip?\t: string,\n\targs?\t\t: {\n\t\tname\t: string;\n\t\ttype\t: 'bool'|'str'|'num'|'textarea'|'select'|'range';\n\t\tval?\t: string;\n\t\thint?\t: string;\n\t\tkey?\t: string;\n\t\texts?\t: string;\n\t\tfilter?\t: string;\n\t\tmin?\t: string;\n\t\tmax?\t: string;\n\t\tstep?\t: string;\n\t}[],\n\tdetail?\t\t: string,\n}\n\n\n//MARK: Vue2Ex\nexport type T_Vue2ExBase = {\n\tcmd\t\t: unknown;\n}\nexport type T_Vue2Ex_cmd = T_V2EScore['cmd'];\n\nexport type T_V2E_info = T_Vue2ExBase & {\n\tcmd\t\t: 'info';\n\ttext\t: string;\n};\nexport type T_V2E_warn = T_Vue2ExBase & {\n\tcmd\t\t: 'warn';\n\ttext\t: string;\n};\nexport type T_V2E_err = T_Vue2ExBase & {\n\tcmd\t\t: 'err';\n\ttext\t: string;\n};\n\nexport type T_V2E_loaded = T_Vue2ExBase & {\n\tcmd\t\t: 'loaded';\n};\n\nexport type T_V2E_save_tbody = T_Vue2ExBase & {\n\tcmd\t\t: 'save_tbody';\n\ttbody\t: string;\n};\n\nexport type T_V2E_move = T_Vue2ExBase & {\n\tcmd\t\t: 'move';\n\tfrom\t: number;\n\tto\t\t: number;\n};\n\nexport type T_V2E_tool_put = T_Vue2ExBase & {\n\tcmd\t\t: 'tool_put';\n\tscr\t\t: string;\n\trow\t\t: number;\n\tto\t\t: number;\n};\n\nexport type T_V2E_del = T_Vue2ExBase & {\n\tcmd\t\t: 'del';\n\tlnum\t: number;\n};\n\nexport type T_V2E_input = T_Vue2ExBase & {\n\tcmd\t\t: 'input';\n\tln\t\t: number;\n\tnm\t\t: string;\n\tval\t\t: string;\n};\n\nexport type T_V2E_req_wds = T_Vue2ExBase & {\n\tcmd\t\t: 'req_wds';\n\tkey\t\t: string;\n};\n\ntype T_V2EScore\n\t= T_V2E_info\n\t| T_V2E_warn\n\t| T_V2E_err\n\t| T_V2E_loaded\n\t| T_V2E_save_tbody\n\t| T_V2E_move\n\t| T_V2E_tool_put\n\t| T_V2E_del\n\t| T_V2E_input\n\t| T_V2E_req_wds\n;\n\n\nexport class CteScore {\n\tstatic\t#uriRes: Uri;\n\tstatic\t#htmBaseSrc\t= '';\n\tstatic\tinit(ctx: ExtensionContext): void {\n\t\twindow.registerCustomEditorProvider('SKYNovel.score', {\n\t\t\tresolveCustomTextEditor(doc: TextDocument, webviewPanel: WebviewPanel, _token: CancellationToken) {\n\t\t\t\tconst path = doc.fileName;\n\t\t\t\tfor (const [cur, v] of Object.entries(CteScore.#hCur2Me)) {\n\t\t\t\t\tif (! path.startsWith(cur)) continue;\n\n\t\t\t\t\tv.#resolveCustomTextEditor(doc, webviewPanel);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n/*\n\t\t},{\t// TODO: \n\t\t\twebviewOptions: {\n\t\t\t\tenableFindWidget: false,\n\t\t\t\tretainContextWhenHidden: false,\n\t\t\t},\n\t\t\tsupportsMultipleEditorsPerDocument: true,\n*/\n\n/*\n\thttps://code.visualstudio.com/updates/v1_44\n\t> \n\"workbench.editorAssociations\": [\n\t{\n\t\t\"viewType\": \"catCustoms.catScratch\",\n\t\t\"filenamePattern\": \"*.catScratch\"\n\t}\n]\n*/\n\n\n\t\t});\n\n\t\tconst path_ext_htm = ctx.extensionPath +'/views/';\n\t\tCteScore.#uriRes = Uri.file(path_ext_htm);\n\t\tCteScore.#htmBaseSrc =\n\t\treadFileSync(path_ext_htm +'score.htm', {encoding: 'utf8'})\n\t\t.replace('<meta_autooff ', '<meta ')\t// \n\t\t.replace(/\\$\\{nonce}/g, getNonce())\n\t\t.replace(/<tbody>[\\s\\S]+<\\/tbody>/, '<tbody/>')\n\t\t.replace(/(<div class=\"card-group\">)[\\s\\S]+(<\\/div><!-- card-group -->)/, '$1 $2');\n\t}\n\n\tstatic\t#hCur2Me\t\t: {[path: string]: CteScore}\t= {};\n\tconstructor(readonly curPrj: string) {CteScore.#hCur2Me[curPrj] = this;}\n\n\t#hPath2Tokens\t: {[path: string]: {\n\t\turiPrj\t: Uri;\n\t\thtm\t\t: string;\n\t\tskipupd\t: boolean;\n\t}}\t= {};\n\tupdScore(path: string, curPrj: string, aToken: string[]) {\n\t\tconst s = {line: 1};\n\t\tthis.#hPath2Tokens[path] = {\n\t\t\turiPrj\t: Uri.parse(curPrj),\n\t\t\thtm\t\t: CteScore.#htmBaseSrc.replace('<tbody/>', `<tbody>${\n\t\t\t\taToken.map((token, i)=> this.#token2html(s, token, i)).join('')\n\t\t\t}</tbody>`),\n\t\t\tskipupd\t: false,\n\t\t};\n\n\t\tconst wv = this.#hPath2Wv[path];\n\t\tif (wv) wv.html = repWvUri(this.#hPath2Tokens[path].htm, wv, CteScore.#uriRes);\n\t}\n\n\tadd_lay(_o: HArg) {\n//console.log(`fn:CteScore.ts line:91 [add_lay] layer:${_o.layer} class:${_o.class}`);\n\t}\n\n\tisSkipUpd(path: string): boolean {\n\t\tconst t = this.#hPath2Tokens[path];\n\t\tif (t?.skipupd) {t.skipupd = false; return true;}\n\t\treturn false;\n\t}\n\n\n\tseparation(path: string) {\t// \n\t\tthis.#hPath2Wv[path]?.postMessage({cmd: 'separation'});\n\t}\n\tcombining(path: string) {\t// \n\t\tthis.#hPath2Wv[path]?.postMessage({cmd: 'combining'});\n\t}\n\tupdLine(doc: TextDocument, rng: Range, txt: string, aToken: string[]): boolean {\t// \n\t\tconst wv = this.#hPath2Wv[doc.fileName];\n\t\tif (! wv) return false;\n\n\t\tconst sl = rng.start.line;\n\t\tconst el = rng.end.line;\n\t\tif ((rng.start.character > 0 ||\n\t\t\trng.end.character > 0) && sl !== el) return true;\n\t\t\t// Score\n\n\t\tif (txt === '') {wv.postMessage({cmd: 'del', ln: sl}); return false;}\n\n\t\twv.postMessage({\n\t\t\tcmd\t: sl === el && txt.at(-1) === '\\n' ?'ins' :'rep',\n\t\t\tln\t: sl,\n\t\t\thtm\t: (txt === '\\n'\n\t\t\t\t? this.#token2html({line: sl +1}, '\\n\\n', -1)\n\t\t\t\t: repWvUri(aToken.map(t=> t.charCodeAt(0) < 11\n\t\t\t\t\t? ''\t// \\t(9) \\n(10) \n\t\t\t\t\t: this.#token2html({line: sl +1}, t, 0)\n\t\t\t\t).join(''), wv, CteScore.#uriRes))\n\t\t\t\t.replace(/<tr .+>|<\\/tr>/g, ''),\n\t\t});\n\t\treturn false;\n\t}\n\n\n\t#hPath2Wv\t: {[path: string]: Webview}\t= {};\n\tstatic\treadonly\tanalyzTagArg = (token: string)=> CteScore.REG_TAG.exec(token);\n\t// 47 match 959 step (1ms) https://regex101.com/r/TKk1Iz/4\n\tstatic\treadonly\tREG_TAG\t= /\\[(?<name>[^\\s;\\]]+)\\s*(?<args>(?:[^\"'#\\]]+|([\"'#]).*?\\3)*?)]/;\n\t#resolveCustomTextEditor(doc: TextDocument, webviewPanel: WebviewPanel) {\n\t\tconst path = doc.fileName;\n\t\tconst t = this.#hPath2Tokens[path];\n\t\tif (! t) throw `resolveCustomTextEditor err path=${path}`\n\t\tconst wv = this.#hPath2Wv[path] = webviewPanel.webview;\n\t\twv.options = {\n\t\t\tenableScripts: true,\n\t\t\tlocalResourceRoots: [CteScore.#uriRes, t.uriPrj],\n\t\t};\n\t\twv.onDidReceiveMessage((o: T_V2EScore)=> {\n\t\t\tswitch (o.cmd) {\n\t\t\tcase 'info':\twindow.showInformationMessage(o.text); break;\n\t\t\tcase 'warn':\twindow.showWarningMessage(o.text); break;\n\t\t\tcase 'err':\t\twindow.showErrorMessage(o.text); break;\n\n\t\t\tcase 'loaded':\tthis.#updWv_db(path); this.combining(path);\tbreak;\n\t\t\tcase 'save_tbody':\n\t\t\t\tt.htm = wv.html\n\t\t\t\t.replace(/<tbody>[\\s\\S]+<\\/tbody>/,`<tbody>${o.tbody}</tbody>`);\n\t\t\t\tbreak;\n\n\t\t\tcase 'move':{\n\t\t\t\tconst {from, to} = o;\n\t\t\t\tif (from === to) break;\n\n\t\t\t\tt.skipupd = true;\n\t\t\t\tconst ed = new WorkspaceEdit;\n\t\t\t\tconst rng_from = new Range(from, 0, from +1, 0);\n\t\t\t\tconst ins = doc.getText(rng_from);\n\t\t\t\tif (from > to) {\n\t\t\t\t\ted.delete(doc.uri, rng_from);\n\t\t\t\t\ted.insert(doc.uri, new Position(to, 0), ins);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\ted.insert(doc.uri, new Position(to +1, 0), ins);\n\t\t\t\t\ted.delete(doc.uri, rng_from);\n\t\t\t\t}\n\t\t\t\tworkspace.applyEdit(ed);\n\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'tool_put':{\n\t\t\t\tconst scr = o.scr\n\t\t\t\t.replace(/\\$\\{(.+)\\}/g, (_, p1)=> {\n\t\t\t\t\tlet ret = '';\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tfor (const i of this.#hBufWords[p1]!) {ret = `#${i}#`; break;}\n\t\t\t\t\treturn ret;\n\t\t\t\t});\n// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n/**/console.log(`fn:CteScore.ts line:176 tool_put row:${o.row} to:${o.to} scr=${scr}=`);\n\t\t\t\twv.postMessage({\n\t\t\t\t\tcmd\t: 'tool_res',\n\t\t\t\t\trow\t: o.row,\n\t\t\t\t\thtm\t: repWvUri(this.#token2html({line: o.row}, scr, o.row), wv, CteScore.#uriRes),\n\t\t\t\t});\n\n\t\t\t\tt.skipupd = true;\n\t\t\t\tconst ed = new WorkspaceEdit;\n\t\t\t\ted.insert(doc.uri, new Position(o.to, 0), scr === '\\n\\n' ?'\\n' :scr +'\\n');\n\t\t\t\tworkspace.applyEdit(ed);\n\t\t\t}\tbreak;\n\n\t\t\tcase 'del':{\n\t\t\t\tt.skipupd = true;\n\t\t\t\tconst ed = new WorkspaceEdit;\n\t\t\t\ted.delete(doc.uri, new Range(o.lnum, 0, o.lnum +1, 0));\n\t\t\t\tworkspace.applyEdit(ed);\n\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'input':{\n// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n/**/console.log(`fn:CteScore.ts line:184 input ln:${o.ln} nm=${o.nm}= val=${o.val}=`);\n\t\t\t\tt.skipupd = true;\n\t\t\t\tconst ed = new WorkspaceEdit;\n\t\t\t\tconst rng = new Range(o.ln, 0, o.ln +1, 0);\n\t\t\t\t/*\n\t\t\t\t\tcase 38:\t// & \n\t\t\t\t\tcase 42:\t// * \n\t\t\t\t\tcase 59:\t// ; \n\t\t\t\t\tcase 91:\t// [ \n\t\t\t\t*/\n\t\t\t\tconst base = o.nm.charCodeAt(0) < 60\n\t\t\t\t\t? o.nm + o.val +'\\n'\n\t\t\t\t\t: doc.getText(rng);\n\t\t\t\tlet txt = base.replace(\n\t\t\t\t\tnew RegExp(`(${o.nm}=)([#\"']).*\\\\2`),\n\t\t\t\t\t`$1$2${o.val}$2`\n\t\t\t\t).replace(\n\t\t\t\t\tnew RegExp(`(${o.nm}=)[^\\\\] #\"']+`),\n\t\t\t\t\t`$1${o.val}`\n\t\t\t\t);\t// (new RegExp('\\')) \n\t\t\t\tif (base === txt) txt = txt.replace(/(])/, ` ${o.nm}=#${o.val}#$1`);\t// \n\t\t\t\ted.replace(doc.uri, rng, txt);\n\t\t\t\tworkspace.applyEdit(ed);\n\n\t\t\t\tconst a_tag = CteScore.analyzTagArg(txt);\n\t\t\t\tconst g = a_tag?.groups;\n\t\t\t\tif (! g) break;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tconst t2t = this.#hTag2Tds[g.name!];\n\t\t\t\tif (! t2t) break;\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tCteScore.#alzTagArg.parse(g.args!);\n\t\t\t\tconst oTds = t2t(CteScore.#alzTagArg.hPrm);\n\t\t\t\twv.postMessage({cmd: 'upd_btn_face', ln: o.ln, htm: `\n<i class=\"fas ${oTds.icon}\" aria-hidden=\"true\"></i>\n${oTds.btn_face}`, td: `<td class=\"p-0 ${oTds.td_style ?? ''}\">`, nm: o.nm, val: o.val});\n\t\t\t}\tbreak;\n\n\t\t\tcase 'req_wds':\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\twv.postMessage({cmd: 'res_wds', key: o.key, aWd: [...this.#hBufWords[o.key]!.values()]});\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}, false);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\twv.html = repWvUri(this.#hPath2Tokens[doc.uri.path]!.htm, wv, CteScore.#uriRes);\n\n\t\t// \n\t\tif (doc.getText(new Range(0, 0, 1, 1)) === '') {\n\t\t\tconst ed = new WorkspaceEdit;\n\t\t\ted.insert(doc.uri, new Position(0, 0), '\\n\\n\\n[return]\\n');\n\t\t\tworkspace.applyEdit(ed);\n\t\t}\n\t\t// NOTE: snssn\n\t}\n\tstatic\t#regFld\t= /\\w+/;\n\t#updWv_db(path: string) {\n\t\tconst hFld2: {[fld: string]: {\n\t\t\text\t\t: string;\n\t\t\tpath\t: string;\n\t\t\tfn\t\t: string;\n\t\t}[]} =\t{};\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst t = this.#hPath2Tokens[path]!;\n\t\tconst hPath = this.#hPrj2hPath;\n\t\tfor (const [fn, p] of Object.entries(hPath)) {\n\t\t\tfor (const [ext, v] of Object.entries(p)) {\n\t\t\t\tif (ext === ':cnt') continue;\n\n\t\t\t\tconst path = String(v);\n\t\t\t\tconst fld = String(path.match(CteScore.#regFld));\n\t\t\t\thFld2[fld] ??= [];\n\t\t\t\thFld2[fld].push({ext, path, fn});\n\t\t\t}\n\t\t}\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst wv = this.#hPath2Wv[path]!;\n\t\twv.postMessage({\n\t\t\tcmd\t\t\t: 'upd_db',\n\t\t\tpathPrj\t\t: String(wv.asWebviewUri(t.uriPrj)),\t// /\n\t\t\thFld2url\t: hFld2,\n\t\t\thPath,\n\t\t});\n\t}\n\n\t#hBufWords\t: {[key: string]: Set<string>}\t= {};\n\tupdWords(key: string, Words: Set<string>) {\n\t\tthis.#hBufWords[key] = Words;\n\t\tfor (const v of Object.values(this.#hPath2Wv)) {\n\t\t\tv.postMessage({cmd: 'del_wds', key});\n\t\t}\n\t}\n\n\t#hPrj2hPath\t: IFn2Path\t= {};\n\tupdPath(hPath: IFn2Path) {\n\t\tthis.#hPrj2hPath = hPath;\n\t\tfor (const path_doc of Object.keys(this.#hPath2Tokens)) {\n\t\t\tif (path_doc in this.#hPath2Wv) this.#updWv_db(path_doc);\n\t\t}\n\t}\n\n\n\t#token2html(stt: {line: number}, token: string, idx: number): string {\n\t\tlet tds = '';\n\t\tswitch (token.charCodeAt(0)) {\t// TokenTopUnicode\n\t\t\tcase 9: return '';\t// \\t \n\t\t\tcase 10:{\t// \\n \n\t\t\t\tconst dl = idx === 0 && stt.line === 1 ?1 :0;\n\t\t\t\tconst len = token.length +dl;\n\t\t\t\tstt.line += len -dl;\n\t\t\t\tif (len === 1) return '';\n\t\t\t\tlet str_r = '';\n\t\t\t\tfor (let i=stt.line -len +1; i<stt.line; ++i) {\n\t\t\t\t\tstr_r += this.#make_tr(i, this.#make_tds(0, i, 'btn-rounded', 'fa-expand', ''));\n\t\t\t\t}\n\t\t\t\treturn str_r;\n\t\t\t}\n\n\t\t\tcase 38:{\t// & \n\t\t\t\t// NOTE: [let]\n\t\t\t\tconst is_dsp = token.endsWith('&');\n\t\t\t\ttds = this.#make_tds(\n\t\t\t\t\t0, stt.line, 'btn-secondary dropdown-toggle\" data-face=\"true\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false',\n\t\t\t\t\t'fa-calculator',\n\t\t\t\t\tis_dsp\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: ` ${\n\t\t\t\t\t\t\ttoken.slice(1, token.indexOf('=') +2)\n\t\t\t\t\t\t}`,\n\t\t\t\t\tis_dsp ?token.slice(1, -1) :token.slice(1), `\n\t<div class=\"form-outline col-12\">\n\t\t<input type=\"text\" data-nm=\"&\" id=\"${String(idx)}txf\" class=\"form-control\" value=\"${token.slice(1)}\"/>\n\t\t<label class=\"form-label\" for=\"${String(idx)}txf\">${\n\t\t\tis_dsp ?'' :''\n\t\t}</label>\n\t</div>`\t\t);\n\t\t\t}\tbreak;\n\n\t\t\tcase 59:\t// ; \n\t\t\t\ttds = this.#make_tds(\n\t\t\t\t\t0, stt.line, 'btn-outline-light btn-rounded dropdown-toggle\" data-face=\"true\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false',\n\t\t\t\t\t'fa-comment-dots', token.slice(1, 11)+'', token.slice(1), `\n\t<div class=\"form-outline col-12\">\n\t\t<input type=\"text\" data-nm=\";\" id=\"${String(idx)}txf\" class=\"form-control\" value=\"${token.slice(1)}\"/>\n\t\t<label class=\"form-label\" for=\"${String(idx)}txf\"></label>\n\t</div>`\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 42:\t// * \n\t\t\t\ttds = this.#make_tds(\n\t\t\t\t\t0, stt.line, 'btn-outline-light dropdown-toggle\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false\" data-face=\"true',\n\t\t\t\t\t'fa-tag', token.slice(1), token.slice(1), `\n\t<div class=\"form-outline col-12\">\n\t\t<input type=\"text\" data-nm=\"*\" id=\"${String(idx)}txf\" class=\"form-control\" value=\"${token.slice(1)}\"/>\n\t\t<label class=\"form-label\" for=\"${String(idx)}txf\"></label>\n\t</div>`\t\t);\n\t\t\t\tbreak;\n\n\t\t\tcase 91:{\t// [ \n\t\t\t\tlet lineTkn = 0;\t// \n\t\t\t\tlet j = -1;\n\t\t\t\twhile ((j = token.indexOf('\\n', j +1)) >= 0) ++lineTkn;\n\t\t\t\tif (lineTkn > 0) stt.line += lineTkn;\n\n\t\t\t\t// eslint-disable-next-line no-cond-assign\n\t\t\t\tif (tds = this.#make_tds_tag(token, stt.line, idx)) break;\n\t\t\t}\treturn '';\n\n\t\t\tdefault:\t// \n\t\t\t\ttds = this.#make_tds(\n\t\t\t\t\t5, stt.line, 'btn-outline-primary text-white dropdown-toggle sn-ext_txt\" data-face=\"true\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false',\n\t\t\t\t\t'fa-align-left', '', '', `\n\t<div class=\"form-outline col-12\">\n\t\t<textarea class=\"form-control\" placeholder=\"\" cols=\"40\" rows=\"2\" data-nm=\"text\" id=\"${String(idx)}ta\">${token}</textarea>\n\t\t<label class=\"form-label\" for=\"${String(idx)}ta\"></label>\n\t</div>`\t\t);\n\t\t}\n\n\t\treturn this.#make_tr(stt.line, tds);\n\t}\n\t#make_tr(line: number, tds: string): string {\n\t\treturn `\n<tr data-row=\"${String(line)}\">\n\t${tds}\n\t<td class=\"p-0\"><div class=\"d-flex justify-content-center\">\n\t\t<button type=\"button\" class=\"btn btn-danger btn-sm btn-floating tglEdit d-none\">\n\t\t\t<i class=\"fas fa-times\"></i>\n\t\t</button>\n\t</div></td>\n</tr>`;\n\t}\n\n\t#make_tds_tag(token: string, line: number, row: number): string {\n\t\tconst a_tag = CteScore.analyzTagArg(token);\n\t\tconst g = a_tag?.groups;\n\t\tif (! g) return '';\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst t2t = this.#hTag2Tds[g.name!];\n\t\tif (! t2t) return this.#make_tds(\n\t\t\t0, line, 'btn-light',\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t'fa-code', g.name!, g.args,\n\t\t);\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tCteScore.#alzTagArg.parse(g.args!);\n\t\tconst oTds = t2t(CteScore.#alzTagArg.hPrm);\n\t\tconst len = oTds.args ?oTds.args.length : 0;\n\t\tconst frm_style =\n\t\t\tlen === 1 ?'col-12 col-sm-3 col-md-2'\n\t\t:\tlen === 2 ?'col-2'\n\t\t:\t'';\n\t\treturn this.#make_tds(\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\toTds.col ?this.#hCn2Col[oTds.col]! :0, line,\n\t\t\t(oTds.btn_style ?? 'btn-secondary')\n\t\t\t+ (oTds.args ?' dropdown-toggle\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false' :''),\n\t\t\toTds.icon, oTds.btn_face,\n\t\t\toTds.tooltip ?? g.args,\n\t\t\toTds.args ?oTds.args.map((v, i)=> {\n\t\t\t\tlet ret = '';\n\t\t\t\tlet fo = 'form-outline px-2';\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\tconst id = `sn-${row}:${i}`;\n\t\t\t\tswitch (v.type) {\n\t\t\t\t\tcase 'bool':\n\t\t\t\t\t\tfo = 'p-0';\t// form-outline\n\t\t\t\t\t\tret = `\n<div class=\"form-control ${frm_style}\">\n<div class=\"form-check\">\n\t<input type=\"checkbox\" id=\"${id}chk\" class=\"form-check-input\" data-nm=\"${v.name}\" value=\"${v.val ?? ''}\"${chkBoolean(v.val) ?' checked' :''}/>\n\t<label class=\"form-check-label\" for=\"${id}chk\">${v.hint ?? v.name}</label>\n</div>\n</div>`;\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tret = `\n<textarea id=\"${id}ta\" class=\"form-control\" placeholder=\"${v.hint ?? v.name}\" cols=\"40\" rows=\"2\" data-nm=\"${v.name}\">${v.val ?? ''}</textarea>\n<label class=\"form-label\" for=\"${id}ta\">${v.hint ?? v.name}</label>`;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tfo = 'p-0';\t// form-outline\n\t\t\t\t\t\tret = `\n<div class=\"form-control\">\n<label class=\"form-label select-label\" for=\"${id}sel\">${v.hint ?? v.name}</label>\n<select class=\"select\" id=\"${id}sel\" data-nm=\"${v.name}\" data-key=\"${v.key ?? ''}\"${\n\tv.exts ?`data-exts=\"${v.exts}\"` :''\n}${\n\tv.filter ?`data-filter=\"${v.filter}\"` :''\n}>\n\t<option selected>${v.val ?? ''}</option>\n\t<option>...</option>\n\t<option>...</option>\n</select>\n</div>`;\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tfo = 'p-0';\t// form-outline\n\t\t\t\t\t\tret = `\n<div class=\"range form-control\">\n\t<label class=\"form-label\" for=\"${id}rng\">${v.hint ?? v.name}${v.min ?? ''} - ${v.max ?? ''}</label>\n\t<input type=\"range\" id=\"${id}rng\" data-nm=\"${v.name}\" class=\"form-range\" min=${v.min ?? ''} max=${v.max ?? ''} step=${v.step ?? ''} value=\"${v.val ?? ''}\"/>\n</div>`;\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\tret = `\n<input type=\"${\nv.type === 'num' ?'number' :'text'\n}\" id=\"${id}txf\" class=\"form-control ${frm_style}\" data-nm=\"${v.name}\" value=\"${v.val ?? ''}\"/>\n<label class=\"form-label\" for=\"${id}txf\">${v.hint ?? v.name}</label>`;\n\t\t\t\t}\n\t\t\t\treturn `\n<div class=\"${fo} col-12 ${\nlen === 1\t? ''\n: len === 2\t? 'col-md-6'\n: 'col-md-6 col-lg-4'\n} my-1${\nv.type === 'bool' ?' pt-2' :''\n}\">${ret}</div>`;\n\t\t\t}).join('') :'',\n\t\t\toTds.td_style ?? '',\n\t\t\toTds.detail ?? '',\n\t\t);\n\t}\n\n\n\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\tundefMacro(def_nm: string) {delete this.#hTag2Tds[def_nm];}\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tdefMacro(def_nm: string, hPrm: any) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-return\n\t\tthis.#hTag2Tds[def_nm] = ()=> ({...{\n\t\t\ticon\t\t: 'icon',\n\t\t\tbtn_face\t: 'btn_face',\n\t\t}, ...hPrm});\n\t}\n\tstatic\treadonly\t#alzTagArg\t= new AnalyzeTagArg;\n\tstatic\treadonly\t#EXTS_PIC\t= 'jpg|jpeg|png';\n\t#hTag2Tds\t: {[tag_nm: string]: (hPrm: HPRM)=> HTDS}\t= {\n\t\tch\t\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-outline-primary text-white dropdown-toggle sn-ext_txt\" data-face=\"true\" data-mdb-toggle=\"dropdown\" aria-expanded=\"false',\n\t\t\ticon\t\t: 'fa-align-left',\n\t\t\tbtn_face\t: '',\n\t\t\ttooltip\t\t: '',\n\t\t\targs\t\t: [\n\t\t\t\t{name: 'text', type: 'textarea', val: hPrm.text?.val ?? '', hint: ''},\n\t\t\t],\n\t\t\tdetail\t\t: `<form><textarea class=\"form-control bg-light\" placeholder=\"\" data-nm=\"text\">${hPrm.text?.val ?? ''}</textarea></form>`,\n\t\t}),\n\n\t\tjump\t\t: hPrm=> ({\n\t\t\ticon\t\t: 'fa-external-link-alt',\n\t\t\tbtn_face\t: ''\n\t\t\t\t+ (hPrm.fn?.val ?` ${hPrm.fn.val}` :'')\n\t\t\t\t+ (hPrm.label?.val ?` ${hPrm.label.val}` :''),\n\t\t}),\n\t\tcall\t\t: hPrm=> ({\n\t\t\ticon\t\t: 'fa-exchange-alt',\n\t\t\tbtn_face\t: ''\n\t\t\t\t+ (hPrm.fn?.val ?` ${hPrm.fn.val}` :'')\n\t\t\t\t+ (hPrm.label?.val ?` ${hPrm.label.val}` :''),\n\t\t}),\n\t\treturn\t\t: _=> ({\n\t\t\ticon\t\t: 'fa-long-arrow-alt-left',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tadd_lay\t\t: hPrm=> {\n\t\t\tconst is_grp = hPrm.class?.val === 'grp';\n\t\t\treturn {\n\t\t\t\tcol\t\t\t: hPrm.layer?.val ?? 'base',\n\t\t\t\tbtn_style\t: `btn-${\n\t\t\t\t\tis_grp ?'success' :'primary text-white'\n\t\t\t\t}`,\n\t\t\t\ticon\t: is_grp ?'fa-image' :'fa-align-left',\n\t\t\t\tbtn_face\t: (is_grp ?'' :'') +' '\n\t\t\t\t\t+ (hPrm.layer?.val ?? ''),\n\t\t\t};\n\t\t},\n\t\tclear_lay\t: hPrm=> ({\n\t\t\tcol\t\t\t: hPrm.layer?.val ?? 'base',\n\t\t\tbtn_style\t: 'btn-outline-primary text-white',\n\t\t\ticon\t\t: 'fa-ban',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tlay\t\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: hPrm.layer?.val ?? 'base',\n\t\t\tbtn_style\t: 'btn-outline-primary text-white',\n\t\t\ticon\t\t: 'fa-cog',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\n\t\timg\t\t\t: hPrm=> {\n\t\t\tconst layer = hPrm.layer?.val ?? 'base';\n\t\t\treturn {\n\t\t\t\tcol\t\t\t: layer,\n\t\t\t\tbtn_style\t: `btn${\n\t\t\t\t\thPrm.fn?.val ?'' :'-outline'\n\t\t\t\t}-${\n\t\t\t\t\tlayer !== 'mes'\t// TODO: \n\t\t\t\t\t\t? 'success'\n\t\t\t\t\t\t: 'secondary text-white'\n\t\t\t\t}`,\n\t\t\t\ticon\t\t: layer === 'base' ?'fa-image' :'fa-user',\n\t\t\t\tbtn_face\t: hPrm.fn?.val ?? (layer === 'base' ?'()' :'()'),\n\t\t\t\targs\t\t: [\n\t\t\t\t\t{name: 'fn', type: 'select', val: hPrm.fn?.val ?? '()', hint: '', key: ''},\n\t\t\t\t]\n\t\t\t};\n\t\t},\n\t\tscene_change\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'base',\n\t\t\ttd_style\t: 'sn-cmb-'\n\t\t\t\t+ (hPrm.bg?.val ?`start\" data-fn=\"${hPrm.bg.val}` :'end'),\n\t\t\tbtn_style\t: 'btn-success text-black',\n\t\t\ticon\t\t: 'fa-door-open',\n\t\t\tbtn_face\t: ''\n\t\t\t\t+ (hPrm.rule?.val ?` ${hPrm.rule.val}` :'')\n\t\t\t\t+ (hPrm.time?.val ?` ${hPrm.time.val}ms` :'')\n\t\t\t\t+ (hPrm.bg ? ` ${hPrm.bg.val}` :'()'),\n\t\t\targs\t\t: [\n\t\t\t\t{name: 'bg', type: 'select', val: hPrm.bg?.val ?? '()', hint: '', key: '', exts: CteScore.#EXTS_PIC, filter: 'bg/'},\n\t\t\t\t{name: 'time', type: 'num', val: hPrm.time?.val ?? '1000', hint: ''},\n\t\t\t\t{name: 'rule', type: 'select', val: hPrm.rule?.val ?? '', hint: '', key: '', exts: CteScore.#EXTS_PIC, filter: 'rule/'},\n\t\t\t],\n\t\t}),\n\t\tscene_reserve\t: hPrm=> ({\n\t\t\tcol\t\t\t: hPrm.layer?.val ?? '0',\n\t\t\ttd_style\t: 'sn-cmb-'\n\t\t\t\t+ (hPrm.fn?.val ?`start\" data-fn=\"${hPrm.fn.val}` :'end'),\n\t\t\tbtn_style\t: 'btn-success btn-rounded text-black',\n\t\t\ticon\t\t: 'fa-user-ninja',\n\t\t\tbtn_face\t: ` ${hPrm.fn?.val ?? ''}`,\n\t\t\targs\t\t: [\n\t\t\t\t{name: 'layer', type: 'select', val: hPrm.layer?.val ?? '0', hint: '', key: ''},\n\t\t\t\t{name: 'fn', type: 'select', val: hPrm.fn?.val ?? '()', hint: '', key: ''},\n\t\t\t\t{name: 'face', type: 'str', val: hPrm.face?.val ?? '', hint: ''},\n\t\t\t\t{name: 'pos', type: 'str', val: hPrm.pos?.val ?? '', hint: ''},\n\t\t\t\t{name: 'alpha', type: 'range', val: hPrm.alpha?.val ?? '', hint: '',  min: '0.0', max: '1.0', step: '0.1'},\n\t\t\t],\n\t\t}),\n\n\t\tgrp\t\t\t: hPrm=> {\n\t\t\treturn {\n\t\t\t\tcol\t\t\t: 'base',\n\t\t\t\ttd_style\t: 'sn-cmb-'\n\t\t\t\t\t+ (hPrm.bg?.val ?`start\" data-fn=\"${hPrm.bg.val}` :'end'),\n\t\t\t\tbtn_style\t: 'btn-success',\n\t\t\t\ticon\t\t: 'fa-images',\n\t\t\t\tbtn_face\t: (hPrm.bg?.val ?? '()')\n\t\t\t\t\t+ (hPrm.rule?.val ?` ${hPrm.rule.val}` :'')\n\t\t\t\t\t+ (hPrm.time?.val ?`  ${hPrm.time.val}ms` :''),\n\t\t\t\targs\t\t: [\n\t\t\t\t\t{name: 'bg', type: 'select', val: hPrm.bg?.val ?? '()', hint: '', key: '', exts: CteScore.#EXTS_PIC, filter: 'bg/'},\n\t\t\t\t\t{name: 'time', type: 'num', val: hPrm.time?.val ?? '1000', hint: ''},\n\t\t\t\t\t{name: 'rule', type: 'select', val: hPrm.rule?.val ?? '', hint: '', key: '', exts: CteScore.#EXTS_PIC, filter: 'rule/'},\n\n\t\t\t\t\t{name: 'l0', type: 'select', val: hPrm.l0?.val ?? '()', hint: '0', key: ''},\n\t\t\t\t\t{name: 'f0', type: 'str', val: hPrm.f0?.val ?? '', hint: '0face'},\n\t\t\t\t\t{name: 'pos0', type: 'str', val: hPrm.pos0?.val ?? '', hint: '0pos'},\n\t\t\t\t\t{name: 'o0', type: 'num', val: hPrm.o0?.val ?? '', hint: '0'},\n\n\t\t\t\t\t{name: 'l1', type: 'select', val: hPrm.l1?.val ?? '()', hint: '1', key: ''},\n\t\t\t\t\t{name: 'f1', type: 'str', val: hPrm.f1?.val ?? '', hint: '1face'},\n\t\t\t\t\t{name: 'pos1', type: 'str', val: hPrm.pos1?.val ?? '', hint: '1pos'},\n\t\t\t\t\t{name: 'o1', type: 'num', val: hPrm.o1?.val ?? '', hint: '1'},\n\n\t\t\t\t\t{name: 'l2', type: 'select', val: hPrm.l2?.val ?? '()', hint: '2', key: ''},\n\t\t\t\t\t{name: 'f2', type: 'str', val: hPrm.f2?.val ?? '', hint: '2face'},\n\t\t\t\t\t{name: 'pos2', type: 'str', val: hPrm.pos2?.val ?? '', hint: '2pos'},\n\t\t\t\t\t{name: 'o2', type: 'num', val: hPrm.o2?.val ?? '', hint: '2'},\n\n\t\t\t\t\t{name: 'se', type: 'str', val: hPrm.se?.val ?? '', hint: ''},\n\t\t\t\t],\n\t\t\t};\n\t\t},\n\t\tfg\t\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: hPrm.layer?.val ?? '',\n\t\t\tbtn_style\t: 'btn-success',\n\t\t\ticon\t\t: 'fa-image',\n\t\t\tbtn_face\t: hPrm.fn?.val ?? '',\n\t\t}),\n\n\t\tbutton\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-sign-out-alt',\n\t\t\tbtn_face\t: (hPrm.text?.val ?`${hPrm.text.val}` :'')\n\t\t\t\t\t\t+ (hPrm.pic?.val ?` ${hPrm.pic.val}` :''),\n\t\t}),\n\t\tenable_event: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-check-square',\n\t\t\tbtn_face\t: ` ${hPrm.enabled?.val === 'true'\n\t\t\t\t?'' :''}`,\n\t\t}),\n\t\tevent\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-bolt',\n\t\t\tbtn_face\t: ''\n\t\t\t\t+ (hPrm.global?.val === 'true' ?'' :'')\n\t\t\t\t+ (hPrm.del?.val === 'true' ?' ' :'')\n\t\t\t\t+ (hPrm.key?.val ?? ''),\n\t\t}),\n\n\t\twaitclick\t: _=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-hourglass-start',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tr\t\t\t: _=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-align-left',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tl\t\t\t: _=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-leaf',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tplc\t\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-book-open',\n\t\t\tbtn_face\t: ''\n\t\t\t\t+ (hPrm.visible?.val === 'false' ?'' :''),\n\t\t\targs\t\t: [\n\t\t\t\t{name: 'visible', type: 'bool', val: hPrm.visible?.val ?? 'true', hint: ''},\n\t\t\t\t{name: 'time', type: 'num', val: hPrm.time?.val ?? '500', hint: 'FO'},\n\t\t\t\t{name: 'buf', type: 'str', val: hPrm.buf?.val ?? '', hint: ''},\n\t\t\t],\n\t\t}),\n\n\t\tlet\t\t\t: hPrm=> ({\n\t\t\tbtn_style\t: 'btn-secondary',\n\t\t\ticon\t\t: 'fa-calculator',\n\t\t\tbtn_face\t: ` ${hPrm.name?.val ?? ''}=`,\n\t\t}),\n\n\t\tbgm\t\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'BGM',\n\t\t\ttd_style\t: 'sn-cmb-'\n\t\t\t\t+ (hPrm.fn?.val ?`start\" data-fn=\"${hPrm.fn.val}` :'end'),\n\t\t\tbtn_style\t: 'btn-info',\n\t\t\ticon\t\t: 'fa-play',\n\t\t\tbtn_face\t: hPrm.fn?.val ?? '',\n\t\t\ttooltip\t\t: `fn=${hPrm.fn?.val ?? ''}`,\n\t\t}),\n\t\tstopbgm\t\t: _=> ({\n\t\t\tcol\t\t\t: 'BGM',\n\t\t\ttd_style\t: 'sn-cmb-end',\n\t\t\tbtn_style\t: 'btn-outline-info',\n\t\t\ticon\t\t: 'fa-stop',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tfadeoutbgm\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'BGM',\n\t\t\ttd_style\t: 'sn-cmb-end',\n\t\t\tbtn_style\t: 'btn-outline-info',\n\t\t\ticon\t\t: 'fa-volume-down',\n\t\t\tbtn_face\t: ` ${hPrm.time?.val ?? ''}ms `,\n\t\t}),\n\n\t\twait\t\t: hPrm=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-hourglass-start',\n\t\t\tbtn_face\t: `${hPrm.time?.val ?? '0'}ms`,\n\t\t\ttooltip\t\t: ''\n\t\t\t\t+ (hPrm.time?.val ?` time=${hPrm.time.val}ms` :'')\n\t\t\t\t+ (hPrm.canskip?.val ?` =${hPrm.canskip.val}` :''),\n\t\t}),\n\t\ts\t\t\t: _=> ({\n\t\t\tcol\t\t\t: 'mes',\n\t\t\tbtn_style\t: 'btn-primary',\n\t\t\ticon\t\t: 'fa-stop',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\t\tclose\t\t: _=> ({\n\t\t\ticon\t\t: 'fa-window-close',\n\t\t\tbtn_face\t: '',\n\t\t}),\n\n\t\tmacro\t: hPrm=> {\n\t\t\tthis.#macro_nm = hPrm.name?.val ?? '';\n\t\t\treturn {\n\t\t\t\tbtn_style\t: 'btn-outline-secondary text-white',\n\t\t\t\ticon\t\t: 'fa-box-open',\n\t\t\t\tbtn_face\t: ` ${this.#macro_nm}`,\n\t\t\t\targs\t\t: [\n\t\t\t\t\t{name: 'name', type: 'str', val: this.#macro_nm, hint: ''},\n\t\t\t\t],\n\t\t\t}\n\t\t},\n\t\tendmacro\t\t: _=> {\n\t\t\tconst nm = this.#macro_nm;\n\t\t\tthis.#macro_nm = '';\n\t\t\treturn {\n\t\t\t\tbtn_style\t: 'btn-outline-secondary text-white',\n\t\t\t\ticon\t\t: 'fa-box',\n\t\t\t\tbtn_face\t: ` ${nm}`,\n\t\t\t}\n\t\t},\n\n\t\t\t: hPrm=> ({\n\t\t\ticon\t\t: 'fa-th',\n\t\t\tbtn_face\t: ' '+ (hPrm.name?.val ?? ''),\n\t\t\targs\t\t: [\n\t\t\t\t{name: 'name', type: 'str', val: hPrm.name?.val ?? '', hint: ''},\n\t\t\t],\n\t\t}),\n\t};\n\t#macro_nm\t= '';\n\t#MAX_COL\t\t= 7;\n\t#hCn2Col\t: {[nm: string]: number}\t= {\n\t\t''\t: 0,\n\t\t'base'\t: 1,\n\t\t'0'\t\t: 2,\n\t\t'1'\t\t: 3,\n\t\t'2'\t\t: 4,\n\t\t'mes'\t: 5,\n\t\t'BGM'\t: 6,\n\t\t'SE'\t: 7,\n\t\t''\t: 8,\n\t};\n\t#make_tds(col: number, line: number, btn_style: string, icon: string, btn_face: string, tooltip = '', aft = '', td_style = '', detail = ''): string {\n\t\treturn '<td></td>'.repeat(col) +`\n\t<td class=\"p-0 ${td_style}\">\n\t\t<button type=\"button\" class=\"btn btn-block btn-sm ${btn_style}\" data-faceicon=\"${icon}\" data-ripple-color=\"dark\" id=\"${String(line)}btn\" draggable=\"true\"${\n\t\t\ttooltip\n\t\t\t?` data-mdb-toggle=\"tooltip\" data-placement=\"right\" title=\"${tooltip}\"`\n\t\t\t:''\n\t\t}>\n\t\t\t<i class=\"fas ${icon}\" aria-hidden=\"true\"></i>\n\t\t</button>\n\t\t${aft ?`<div class=\"dropdown-menu col-xxl-4 col-sm-6 col-12\"><form class=\"p-1 d-flex flex-wrap\">${aft}</form></div>` :''}\n\t</td>`.replace(' dropdown-toggle', '')+\n\t'<td></td>'.repeat(this.#MAX_COL -col) +`\n\t<td class=\"p-0\">${\n\t\tdetail || `\n\t\t<button type=\"button\" class=\"btn btn-block btn-sm px-2 text-start text-lowercase ${btn_style}\" data-faceicon=\"${icon}\" data-ripple-color=\"dark\" id=\"${String(line)}detail\" draggable=\"true\"${\n\t\t\ttooltip\n\t\t\t?` data-mdb-toggle=\"tooltip\" data-placement=\"right\" title=\"${tooltip}\"`\n\t\t\t:''\n\t\t}>\n\t\t\t<i class=\"fas ${icon}\" aria-hidden=\"true\"></i>\n\t\t\t${btn_face}\n\t\t</button>`\n\t}\t${aft ?`<div class=\"dropdown-menu col-xxl-4 col-sm-6 col-12\"><form class=\"p-1 d-flex flex-wrap\">${aft}</form></div>` :''}\n\t</td>`;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {docsel} from './CmnLib';\nimport {Debugger} from './Debugger';\n\nimport {basename} from 'node:path';\nimport type {DebugConfiguration, DebugAdapterDescriptorFactory, ProviderResult, ExtensionContext, WorkspaceFolder} from 'vscode';\nimport {debug, DebugAdapterInlineImplementation} from 'vscode';\nimport {Breakpoint, BreakpointEvent, Handles, InitializedEvent, logger, Logger, LoggingDebugSession, OutputEvent, Scope, Source, StackFrame, StoppedEvent, TerminatedEvent, Thread} from '@vscode/debugadapter';\nimport type {DebugProtocol} from '@vscode/debugprotocol';\n\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function initDebug(ctx: ExtensionContext, hookTag: (o: any)=> void): void {\n\t// .vscode/launch.json \n\tconst lng = docsel.language || '';\n\tdebug.registerDebugConfigurationProvider(lng, {\n\t\tprovideDebugConfigurations: _=> [\n\t\t\t{\n\t\t\t\tname\t: '10.',\n\t\t\t\trequest\t: 'launch',\n\t\t\t\ttype\t: 'pwa-node',\n\t\t\t\truntimeExecutable\t: 'npm',\n\t\t\t\truntimeArgs\t: ['run-script', 'watch:wdsdbg'],\n\t\t\t\tskipFiles\t: ['<node_internals>/**'],\n\t\t\t\tconsole\t\t: 'internalConsole',\n\t\t\t\tinternalConsoleOptions\t: 'openOnSessionStart'\n\t\t\t},\n\t\t\t{\n\t\t\t\tname\t: '1.',\n\t\t\t\trequest\t: 'launch',\n\t\t\t\ttype\t: 'node',\n\t\t\t\tport\t: 3776,\n\t\t\t\tconsole\t: 'internalConsole',\n\t\t\t\tinternalConsoleOptions\t: 'openOnSessionStart',\n\t\t\t},\n\t\t\t{\n\t\t\t\tname\t: '2.',\n\t\t\t\trequest\t: 'attach',\n\t\t\t\ttype\t: 'skynovel',\n\t\t\t\tport\t: 3776,\n\t\t\t\tweburi\t: 'http://localhost:8080',\n\t\t\t\tstopOnEntry\t: false,\n\t\t\t},\n\t\t]\n\t});\n\n\t// launch.json{}\n\tctx.subscriptions.push(debug.registerDebugConfigurationProvider('node', {\n\t\tresolveDebugConfiguration(_folder: WorkspaceFolder | undefined, cfg: DebugConfiguration): ProviderResult<DebugConfiguration> {\n\t\t\t// const bro: any = {\n\t\t\t// \truntimeExecutable\t: 'npm',\n\t\t\t// };\n\t\t\t// if (is_new_tmp) {\n\t\t\t// \tbro.runtimeExecutable = '${workspaceRoot}/node_modules/.bin/electron-vite';\n\t\t\t// \tbro.windows = {\n\t\t\t// \t\truntimeExecutable: bro.runtimeExecutable +'.cmd',\n\t\t\t// \t};\n\t\t\t// \tbro.env = {\n\t\t\t// \t\t\"REMOTE_DEBUGGING_PORT\": \"9222\"\n\t\t\t// \t};\n\t\t\t// }\n\t\t\t\t// https://electron-vite.org/guide/debugging\n\t\t\tconst ex = '${workspaceFolder}/node_modules/.bin/electron';\n\t\t\treturn {\n\t\t\t\tprogram: '${workspaceFolder}/doc/app.js',\n\t\t\t\truntimeExecutable: ex,\n\t\t\t\twindows: {runtimeExecutable: ex +'.cmd'},\n\t\t\t\tconsole: 'integratedTerminal',\n\t\t\t\tautoAttachChildProcesses: true,\n\t\t\t\tskipFiles: [\n\t\t\t\t\t'<node_internals>/**/*.js'\n\t\t\t\t],\n\t\t\t\t...cfg,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\tenv: {SKYNOVEL_DBG: 'on', SKYNOVEL_PORT: cfg.port ?? 3776, ...cfg.env,},\n\t\t\t};\n\t\t}\n\t}));\n\tctx.subscriptions.push(debug.registerDebugConfigurationProvider(lng, {\n\t\tresolveDebugConfiguration(_folder: WorkspaceFolder | undefined, cfg: DebugConfiguration): ProviderResult<DebugConfiguration> {\n\t\t\t// launch.json{}\n\t\t\treturn {cwd: '${workspaceFolder}', port: 3776, weburi: 'http://localhost:8080', ...cfg,};\n\t\t}\n\t}));\n\n\t// request  attach/launch \n\t/* function( ()=> {} )\n\tconst dadf: DebugAdapterDescriptorFactory = {\n\t\tcreateDebugAdapterDescriptor(ss: DebugSession): ProviderResult<DebugAdapterDescriptor> {\n\t\t\treturn daii ?? (daii = new DebugAdapterInlineImplementation(new DebugAdapter(ss.workspaceFolder, hookTag)));\n\t\t},\n\t};\t*/\n\tconst dadf: DebugAdapterDescriptorFactory = {\n\t\tcreateDebugAdapterDescriptor: ds=> {\n\t\t\tif (! ds.workspaceFolder) return undefined;\n\n\t\t\tdaii ??= new DebugAdapterInlineImplementation(new DebugAdapter(ds.workspaceFolder, hookTag));\n\t\t\treturn daii;\n\t\t},\n\t};\n\tctx.subscriptions.push(debug.registerDebugAdapterDescriptorFactory(lng, dadf));\n//\tif ('dispose' in dadf) ctx.subscriptions.push(dadf);\n}\n\tlet daii: DebugAdapterInlineImplementation | null = null;\n\n\n// function timeout(ms: number) {return new Promise(re=> setTimeout(()=> re(0), ms));}\n//function timeout(ms: number) {return new Promise(re=> setTimeout(re, ms));}\n\nclass DebugAdapter extends LoggingDebugSession {\n\t// ID\n\tstatic\treadonly\t#THREAD_ID\t= 1;\n\n\treadonly\t#dbg\t\t: Debugger;\t// runtime (or debugger)\n\n\t// \n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tconstructor(readonly wsFld: WorkspaceFolder, hookTag: (o: any)=> void) {\n\t\tsuper('sn_debug.txt');\n\n\t\tthis.setDebuggerLinesStartAt1(true);\n\t\tthis.setDebuggerColumnsStartAt1(true);\n\n\t\tthis.#dbg = new Debugger(wsFld, hookTag);\n\t\tthis.#dbg.on('stopOnEntry', ()=> {\n\t\t\tthis.sendEvent(new StoppedEvent('entry', DebugAdapter.#THREAD_ID));\n\t\t});\n\t\tthis.#dbg.on('stopOnStep', ()=> {\t\t// F10\n\t\t\tthis.sendEvent(new StoppedEvent('step', DebugAdapter.#THREAD_ID));\n\t\t});\n\t\tthis.#dbg.on('stopOnBreakpoint', ()=> {\n\t\t\tthis.sendEvent(new StoppedEvent('breakpoint', DebugAdapter.#THREAD_ID));\n\t\t});\n\t\tthis.#dbg.on('stopOnDataBreakpoint', ()=> {\n\t\t\tthis.sendEvent(new StoppedEvent('data breakpoint', DebugAdapter.#THREAD_ID));\n\t\t});\n\t\tthis.#dbg.on('stopOnException', ()=> {\n//console.log(`fn:DebugAdapter.ts line:122 dbg -> exception`);\n\t\t\tthis.sendEvent(new StoppedEvent('exception', DebugAdapter.#THREAD_ID));\n\t\t});\n\t\tthis.#dbg.on('breakpointValidated', (bp: DebugProtocol.Breakpoint)=> {\n\t\t\tthis.sendEvent(new BreakpointEvent('changed', bp));\n\t\t});\n\t\tthis.#dbg.on('output', (text: string, filePath: string, line: number, column: number)=> {\n//console.log(`fn:DebugAdapter.ts line:129 dbg -> output`);\n\t\t\tconst e: DebugProtocol.OutputEvent = new OutputEvent(`${text}\\n`);\n\n\t\t\tif (text === 'start' || text === 'startCollapsed' || text === 'end') {\n\t\t\t\te.body.group = text;\n\t\t\t\te.body.output = `group-${text}\\n`;\n\t\t\t}\n\n\t\t\te.body.source = this.#createSource(filePath);\n\t\t\te.body.line = this.convertDebuggerLineToClient(line);\n\t\t\te.body.column = this.convertDebuggerColumnToClient(column);\n\t\t\tthis.sendEvent(e);\n\t\t});\n\t\tthis.#dbg.on('end', ()=> this.sendEvent(new TerminatedEvent));\n\t}\n\n\t// initialize ... \n\tprotected override initializeRequest(res: DebugProtocol.InitializeResponse, _args: DebugProtocol.InitializeRequestArguments): void {\n\t\t// https://microsoft.github.io/debug-adapter-protocol/overview\n\t\t// Specification https://microsoft.github.io/debug-adapter-protocol/specification#Types_InitializeRequestArguments\n//console.log(`\"res\":${JSON.stringify(res)}, \"args\":${JSON.stringify(_args, null, 2)}`);\n/*{\n\t\"args\": {\n\t\t\"clientID\": \"vscode\",\n\t\t\"clientName\": \"Visual Studio Code\",\n\t\t\"adapterID\": \"skynovel\",\n\t\t\"pathFormat\": \"path\",\n\t\t\"linesStartAt1\": true,\n\t\t\"columnsStartAt1\": true,\n\t\t\"supportsVariableType\": true,\n\t\t\"supportsVariablePaging\": true,\n\t\t\"supportsRunInTerminalRequest\": true,\n\t\t\"locale\": \"ja\",\n\t\t\"supportsProgressReporting\": true\n\t}\n}*/\n\n//\t\tif (args.supportsProgressReporting) this._reportProgress = true;\n\n\t\t// build and return the capabilities of this debug adapter:\n\t\tres.body ??= {};\n\n\t\t// the adapter implements the configurationDoneRequest.\n\t\tres.body.supportsConfigurationDoneRequest = true;\n\n\t\t// \n\t\tres.body.supportsFunctionBreakpoints = true;\n\n\t\t// \n\t\tres.body.supportsConditionalBreakpoints = true;\n\n\t\t// \n\t\tres.body.supportsHitConditionalBreakpoints = true;\n\n\t\t//  'evaluate' \n\t\tres.body.supportsEvaluateForHovers = true;\n\n\t// Available filters or options for the setExceptionBreakpoints request.\n//\t\tres.body.exceptionBreakpointFilters?: ExceptionBreakpointsFilter[];\n\n\t\t// '' \n\t// The debug adapter supports stepping back via the 'stepBack' and 'reverseContinue' requests.\n\t\tres.body.supportsStepBack = false;\n//\t\tres.body.supportsStepBack = true;\n\n\t\t// \n\t\tres.body.supportsSetVariable = true;\n\n\t\t// \n//\t\tres.body.supportsRestartFrame = true;\n\n\t// The debug adapter supports the 'gotoTargets' request.\n//\t\tres.body.supportsGotoTargetsRequest?: boolean;\n\t\t// \n\n\t// The debug adapter supports the 'stepInTargets' request.\n//\t\tres.body.supportsStepInTargetsRequest?: boolean;\n\n\t\t// REPL\n\t\tres.body.supportsCompletionsRequest = true;\n\n\t// The set of characters that should trigger completion in a REPL. If not specified, the UI should assume the '.' character.\n\t// REPL UI  '.' \n//\t\tres.body.completionTriggerCharacters?: string[];\n//\t\tres.body.completionTriggerCharacters = ['.', '['];\n\n\t// The debug adapter supports the 'modules' request.\n//\t\tres.body.supportsModulesRequest?: boolean;\n\n\t// The set of additional module information exposed by the debug adapter.\n//\t\tres.body.additionalModuleColumns?: ColumnDescriptor[];\n\n\t// Checksum algorithms supported by the debug adapter.\n//\t\tres.body.supportedChecksumAlgorithms?: ChecksumAlgorithm[];\n\n\t\t// false\n\t\tres.body.supportsRestartRequest = true;\n\n\t// The debug adapter supports 'exceptionOptions' on the setExceptionBreakpoints request.\n//\t\tres.body.supportsExceptionOptions?: boolean;\n\n\t// The debug adapter supports a 'format' attribute on the stackTraceRequest, variablesRequest, and evaluateRequest.\n//\t\tres.body.supportsValueFormattingOptions?: boolean;\n\n\t// The debug adapter supports the 'exceptionInfo' request.\n//\t\tres.body.supportsExceptionInfoRequest?: boolean;\n\n\t// The debug adapter supports the 'terminateDebuggee' attribute on the 'disconnect' request.\n//\t\tres.body.supportTerminateDebuggee?: boolean;\n\n\t// The debug adapter supports the delayed loading of parts of the stack, which requires that both the 'startFrame' and 'levels' arguments and the 'totalFrames' result of the 'StackTrace' request are supported.\n//\t\tres.body.supportsDelayedStackTraceLoading?: boolean;\n\n\t// The debug adapter supports the 'loadedSources' request.\n//\t\tres.body.supportsLoadedSourcesRequest = true;\n\t\t// VSCode GUI\n\n\t// \n//\t\tres.body.supportsLogPoints = true;\n\n\t// The debug adapter supports the 'terminateThreads' request.\n//\t\tres.body.supportsTerminateThreadsRequest?: boolean;\n\n\t// The debug adapter supports the 'setExpression' request.\n//\t\tres.body.supportsSetExpression?: boolean;\n\n\t// The debug adapter supports the 'terminate' request.\n//\t\tres.body.supportsTerminateRequest?: boolean;\n\t\t// res.body.supportsTerminateRequest = true;\n\n\t\t// \n\t\tres.body.supportsDataBreakpoints = true;\n\n\t// The debug adapter supports the 'readMemory' request.\n//\t\tres.body.supportsReadMemoryRequest?: boolean;\n\n\t// The debug adapter supports the 'disassemble' request.\n//\t\tres.body.supportsDisassembleRequest?: boolean;\n\n\t\t// make VS Code to send cancelRequests\n\t\t// cancelRequests\n\t// The debug adapter supports the 'cancel' request.\n\t\tres.body.supportsCancelRequest = false;\n//\t\tres.body.supportsCancelRequest = true;\n\t\t\t// \n\t\t\t//  mockDebug.ts \n\n\t\t// breakpointLocations\n\t// The debug adapter supports the 'breakpointLocations' request.\n//\t\tres.body.supportsBreakpointLocationsRequest = true;\n\t\t\t//  VSCode\n\n\t// The debug adapter supports the 'clipboard' context value in the 'evaluate' request.\n//\t\tres.body.supportsClipboardContext?: boolean;\n\n\t// The debug adapter supports stepping granularities (argument 'granularity') for the stepping requests.\n//\t\tres.body.supportsSteppingGranularity?: boolean;\n\n\t// The debug adapter supports adding breakpoints based on instruction references.\n//\t\tres.body.supportsInstructionBreakpoints?: boolean;\n\n\t\tthis.sendResponse(res);\n\n\t\tthis.sendEvent(new InitializedEvent);\n\t}\n\n\t// \n\t//\tVSCode\n\t//\t\n\tprotected override disconnectRequest(_res: DebugProtocol.DisconnectResponse, _args: DebugProtocol.DisconnectArguments, _req?: DebugProtocol.Request): void {this.#dbg.end();}\n\n\t// \n\t// DA\n\tprotected override configurationDoneRequest(_res: DebugProtocol.ConfigurationDoneResponse, _args: DebugProtocol.ConfigurationDoneArguments): void {this.#cfgDone()}\t//  VSCode \n\t// eslint-disable-next-line @typescript-eslint/no-invalid-void-type\n\treadonly #cfgDone = Promise.withResolvers<void>().resolve;\n\n\n//\tprotected sendErrorResponse(response: DebugProtocol.Response, codeOrMessage: number | DebugProtocol.Message, format?: string, variables?: any, dest?: ErrorDestination): void;\n\n//\trunInTerminalRequest(args: DebugProtocol.RunInTerminalRequestArguments, timeout: number, cb: (response: DebugProtocol.RunInTerminalResponse) => void): void;\n\n\n//\tprotected launchRequest(_res: DebugProtocol.LaunchResponse, args: DebugProtocol.LaunchRequestArguments) {}\t// \n\tprotected override attachRequest(res: DebugProtocol.AttachResponse, args: DebugProtocol.AttachRequestArguments): void {\n\t\tlogger.setup(Logger.LogLevel.Stop, false);\n\t\tthis.#dbg.attach(<DebugConfiguration>args);\n//\t\tres.body = {};\n\t\tthis.sendResponse(res);\n\t}\n\n\t/**\n\t * \n\t *  'supportsTerminateRequest'true\n\t */\n\t// A value of true indicates that this 'terminate' request is part of a restart sequence.\n\t//\t_args.restart\t\trestart?: boolean;\n/*\tprotected terminateRequest(res: DebugProtocol.TerminateResponse, args: DebugProtocol.TerminateArguments, req?: DebugProtocol.Request): void {\n\tconsole.log(`fn:DebugAdapter.ts terminateRequest(res:${JSON.stringify(res)}) args:${JSON.stringify(args)} req:${JSON.stringify(req)}`);\n\n\t}\n*/\n\n\t// \n\tprotected override restartRequest(res: DebugProtocol.RestartResponse, _args: DebugProtocol.RestartArguments) {\n\t\tvoid this.#dbg.restart(res.request_seq);\n//\t\tres.body = {};\n\t\tthis.sendResponse(res);\t// \n\t}\n\n\tprotected override setBreakPointsRequest(res: DebugProtocol.SetBreakpointsResponse, args: DebugProtocol.SetBreakpointsArguments): void {\n\t\t// \n//console.log(`fn:DebugAdapter.ts setBreakPointsRequest() \"res\":${JSON.stringify(res)}, \"args\":${JSON.stringify(args, null, 2)}`);\n/*{\n\t\"args\":{\n\t\t\"source\": {\n\t\t\t\"name\": \"main.sn\",\n\t\t\t\"path\": \"/Users/==/==/doc/prj/script/main.sn\"\t// \n\t\t},\n\t\t\"lines\": [50, 53],\t// \n\t\t\"breakpoints\": [\n\t\t\t{\"line\": 50, \"condition\": \"a>2\"},\n\t\t\t{\"line\": 53,}\n\t\t],\n\t\t\"sourceModified\": false\t\t// true\n\t}\n}*/\n\t\tconst a = args.breakpoints ?? [];\n\t\tres.body = {\n\t\t\tbreakpoints: this.#dbg.setBreakPoints(\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\targs.source.path!,\n\t\t\t\ta.map(o=> <DebugProtocol.SourceBreakpoint>{\n\t\t\t\t\t...o,\n\t\t\t\t\tline: this.convertClientLineToDebugger(o.line),\n\t\t\t\t}),\n\t\t\t)\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t.map((o, i)=> new Breakpoint(o.verified, a[i]!.line, o.col,))\n\t\t};\n\t\tthis.sendResponse(res);\n\t}\n\n\t// \n\tprotected override setFunctionBreakPointsRequest(res: DebugProtocol.SetFunctionBreakpointsResponse, args: DebugProtocol.SetFunctionBreakpointsArguments, _req?: DebugProtocol.Request) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tconst a: any[] = [];\n\t\tres.body = {breakpoints: []};\n\t\tfor (const dbp of args.breakpoints) {\n\t\t\ta.push(dbp);\n\t\t\tres.body.breakpoints.push({verified: true,});\n\t\t}\n\t\tvoid this.#dbg.setFuncBreakpoint(res.request_seq, a);\n\n\t\tthis.sendResponse(res);\n\t}\n\n//\tprotected setExceptionBreakPointsRequest(response: DebugProtocol.SetExceptionBreakpointsResponse, args: DebugProtocol.SetExceptionBreakpointsArguments, request?: DebugProtocol.Request): void {}\n\n\tprotected override restartFrameRequest(_res: DebugProtocol.RestartFrameResponse, _args: DebugProtocol.RestartFrameArguments, _req?: DebugProtocol.Request): void {\n//console.log(`fn:DebugAdapter.ts line:386 restartFrameRequest(res:${JSON.stringify(res)} args:${JSON.stringify(args)} req:${JSON.stringify(req)})`);\n\n// args.frameId: number ... 0\tSKYNovel\n\t\t// \n\n\n\t}\n\n//\tprotected gotoRequest(response: DebugProtocol.GotoResponse, args: DebugProtocol.GotoArguments, request?: DebugProtocol.Request): void {}\n\n\tprotected override pauseRequest(_res: DebugProtocol.PauseResponse, _args: DebugProtocol.PauseArguments): void {this.#dbg.pause();}\n\n/*\n\tprotected sourceRequest(res: DebugProtocol.SourceResponse, _args: DebugProtocol.SourceArguments, req?: DebugProtocol.Request): void {\n\tconsole.log(`fn:DebugAdapter.ts sourceRequest(res:${JSON.stringify(res)} _args:${JSON.stringify(_args)} req:${JSON.stringify(req)})`);\n\t}\n*/\n\n\tprotected override threadsRequest(res: DebugProtocol.ThreadsResponse): void {\n\t\t// \n\t\tres.body = {threads: [new Thread(DebugAdapter.#THREAD_ID, 'thread 1')]};\n\t\tthis.sendResponse(res);\n\t}\n//\tprotected terminateThreadsRequest(response: DebugProtocol.TerminateThreadsResponse, args: DebugProtocol.TerminateThreadsArguments, request?: DebugProtocol.Request): void;\n\n\n\t// \n\tprotected override stackTraceRequest(res: DebugProtocol.StackTraceResponse, args: DebugProtocol.StackTraceArguments) {\n\t\tconst start = typeof args.startFrame === 'number' ?args.startFrame :0;\n\t\tconst maxLevels = typeof args.levels === 'number' ?args.levels :1000;\n\t\tconst end = start + maxLevels;\n\t\tvoid this.#dbg.stack(res.request_seq, start, end)\n\t\t.then(stk=> {\n\t\t\tres.body = {\t// VSCode\n\t\t\t\tstackFrames: stk.map((f, i)=> new StackFrame(\n\t\t\t\t\ti,\n\t\t\t\t\tf.nm,\n\t\t\t\t\tthis.#createSource(f.fn),\n\t\t\t\t\tthis.convertDebuggerLineToClient(f.ln),\n\t\t\t\t\tthis.convertDebuggerColumnToClient(f.col),\n\t\t\t\t)),\n\t\t\t\ttotalFrames: stk.length,\n\t\t\t};\n\t\t\tthis.sendResponse(res);\n\t\t});\n\t}\n\n\n\t// \n\treadonly\t#hdlsVar = new Handles<string>;\n\treadonly\t#hNm2HdlNm: {[nm: string]: number}\t= {};\n\tprotected override scopesRequest(res: DebugProtocol.ScopesResponse, _args: DebugProtocol.ScopesArguments): void {\n\t\t// fn:DebugAdapter.ts line:88 dbg -> stopOnStep \n\t\tthis.#hScope = {\n\t\t\t'tmp'\t: {},\n\t\t\t'sys'\t: {},\n\t\t\t'save'\t: {},\n\t\t\t'mp'\t: {},\n\t\t};\n\t\tres.body = {\n\t\t\tscopes: [\n\t\t\t\tnew Scope(' tmp:', this.#hdlsVar.create('tmp'), false),\n\t\t\t\tnew Scope(' tmp:SKYNovel', this.#hdlsVar.create('tmp:sn'), false),\n\t\t\t\tnew Scope(' mp:', this.#hdlsVar.create('mp'), false),\n\t\t\t\tnew Scope(' mp:SKYNovel', this.#hdlsVar.create('mp:sn'), false),\n\t\t\t\tnew Scope(' sys:', this.#hdlsVar.create('sys'), false),\n\t\t\t\tnew Scope(' sys:SKYNovel', this.#hdlsVar.create('sys:sn'), false),\n\t\t\t\tnew Scope(' save:', this.#hdlsVar.create('save'), false),\n\t\t\t\tnew Scope(' save:SKYNovel', this.#hdlsVar.create('save:sn'), false),\n\t\t\t]\n\t\t};\n\t\tthis.sendResponse(res);\n\t}\n\treadonly\t#mapCancelationTokens = new Map<number, boolean>;\n\treadonly\t#mapIsLongrunning\t= new Map<number, boolean>;\n\tstatic\treadonly\t#REG_SN_VAR\t= /^(?:const\\.)?sn\\./;\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t#hScope\t: {[scope: string]: {[nm: string]: any}}\t= {\n\t\t'tmp'\t: {},\n\t\t'sys'\t: {},\n\t\t'save'\t: {},\n\t\t'mp'\t: {},\n\t};\n\tprotected override variablesRequest(res: DebugProtocol.VariablesResponse, args: DebugProtocol.VariablesArguments, req?: DebugProtocol.Request) {\n\t\tconst aVar: DebugProtocol.Variable[] = [];\n//console.log(`fn:DebugAdapter.ts line:325 variablesRequest(res=${JSON.stringify(res, null, 2)}= args=${JSON.stringify(args, null, 2)}= request:${JSON.stringify(request, null, 2)})`);\n\t\tif (this.#mapIsLongrunning.get(args.variablesReference)) {\n\t\t\t// long running\n\t\t\tif (req) this.#mapCancelationTokens.set(req.seq, false);\n\n\t\t\tfor (let i=0; i<100; ++i) {\n\t\t\t\t// await timeout(1000);\t\t//NOTE: \n\t\t\t\taVar.push({\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t\tname\t: `i_${i}`,\n\t\t\t\t\ttype\t: 'integer',\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t\tvalue\t: `${i}`,\n\t\t\t\t\tvariablesReference\t: 0,\n\t\t\t\t});\n\t\t\t\tif (req && this.#mapCancelationTokens.get(req.seq)) break;\n\t\t\t}\n\n\t\t\tif (req) this.#mapCancelationTokens.delete(req.seq);\n\t\t}\n\t\telse {\n\t\t\tlet id = this.#hdlsVar.get(args.variablesReference);\n\t\t\t//  stopOnStep  ID VSCode\n\t\t\tif (id) {\n\t\t\t\tlet tst_sn = true;\n\t\t\t\tif (id.endsWith(':sn')) {\n\t\t\t\t\ttst_sn = false;\n\t\t\t\t\tid = id.slice(0, -3);\n\t\t\t\t}\n\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\ttype T_H = {[nm: string]: any};\n\t\t\t\tconst fnc = id in this.#hScope\n\t\t\t\t\t? this.#dbg.var(res.request_seq, id)\n\t\t\t\t\t: Promise.try(()=> {\n\t\t\t\t\t\tlet h: T_H = {};\n\t\t\t\t\t\tconst a = `${id}:`.split(':', 2);\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\tconst h2 = this.#hScope[a[0]!];\n\t\t\t\t\t\tif (h2) {\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\t\tconst v2 = h2[a[1]!];\n\t\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\t\t\tif (v2) h = JSON.parse(String(v2));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn h;\n\t\t\t\t\t})\n\t\t\t\t;\n\t\t\t\tvoid ((): Promise<T_H>=> fnc)().then(h=> {\n\t\t\t\t\tfor (const [key, v2] of Object.entries(h)) {\n\t\t\t\t\t\tif (DebugAdapter.#REG_SN_VAR.test(key) === tst_sn) continue;\n\n\t\t\t\t\t\tconst v = String(v2);\n\t\t\t\t\t\tconst o: DebugProtocol.Variable = {\n\t\t\t\t\t\t\tname\t: key,\n\t\t\t\t\t\t\ttype\t: this.#getType(v),\n\t\t\t\t\t\t\tvalue\t: v,\n\t\t\t\t\t\t\tpresentationHint: {\n\t\t\t\t\t\t\t\tkind\t: 'property',\n\t\t\t\t\t\t\t\tvisibility\t: 'public',\n\t\t\t\t\t\t\t//\tlazy\t: true,\t\t// NOTE: \n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tvariablesReference: 0,\t// > 0\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\t\tif (key.startsWith('const.')) o.presentationHint!.attributes = ['constant'];\n\t\t\t\t\t\tif (v === '[object Object]') o.value = JSON.stringify(v2);\n\t\t\t\t\t\telse if (o.type === 'object' || o.type === 'array')\n\t\t\t\t\t\tthis.#hNm2HdlNm[`${id}:${key}`] = o.variablesReference\n\t\t\t\t\t\t= this.#hdlsVar.create(`${id}:${key}`);\n\n\t\t\t\t\t\taVar.push(o);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\n/*\n\t\t\t\t// cancelation support for long running requests\n\t\t\t\tconst nm = id + '_long_running';\n\t\t\t\tconst ref = this.hdlsVar.create(id + '_lr');\n\t\t\t\taVar.push({\n\t\t\t\t\tname\t: nm,\n\t\t\t\t\ttype\t: 'object',\n\t\t\t\t\tvalue\t: 'Object',\n\t\t\t\t\tvariablesReference\t: ref,\n\t\t\t\t});\n\t\t\t\tthis.mapIsLongrunning.set(ref, true);\n*/\n\t/** Optional evaluatable name of this variable which can be passed to the 'EvaluateRequest' to fetch the variable's value. */\n\t// 'EvaluateRequest'\n//\tevaluateName?: string;\n\n\t/** The number of named child variables.\n\t\tThe client can use this optional information to present the children in a paged UI and fetch them in chunks.\n\t*/\n\t// \n\t//\t UI \n//\tnamedVariables?: number;\n\n\t/** The number of indexed child variables.\n\t\tThe client can use this optional information to present the children in a paged UI and fetch them in chunks.\n\t*/\n\t// \n\t//\t UI \n//\tindexedVariables?: number;\n\n\t/** Optional memory reference for the variable if the variable represents executable code, such as a function pointer.\n\t\tThis attribute is only required if the client has passed the value true for the 'supportsMemoryReferences' capability of the 'initialize' request.\n\t*/\n\t// \n\t//\t 'initialize'  'supportsMemoryReferences'  true \n//\tmemoryReference?: string;\n\n\t\t\t}\n\t\t}\n\n\t\tres.body = {variables: aVar.sort((a, b)=> {\n\t\t\tif (a.name < b.name) return -1;\n\t\t\tif (a.name > b.name) return 1;\n\t\t\treturn 0;\n\t\t})};\n\t\tthis.sendResponse(res);\n\t}\n\t#getType(v: string): string {\n\t\tlet type = 'string';\n\t\tif (v === 'true' || v === 'false') type = 'boolean';\n\t\telse if (v === '[object Object]') type = 'object';\n\t\telse if (/^[+-]?[0-9]+([0-9]*)?$/.test(v)) type = 'integer';\n\t\telse if (/^[+-]?[0-9]+(\\.[0-9]*)?([eE][+-]?[0-9]+)?$/.test(v)) type = 'float';\n\t\telse if (v) {\n\t\t\tconst bc = v.at(0);\n\t\t\tif (bc === '{' || bc === '[') type = bc === '{' ?'object' :'array';\n\t\t}\n\t\treturn type;\n\t}\n\n\t// \n\tprotected override setVariableRequest(res: DebugProtocol.SetVariableResponse, args: DebugProtocol.SetVariableArguments, _req?: DebugProtocol.Request) {\n\t\tvoid this.#dbg.setVariable(res.request_seq, args.name, args.value);\n\t\tres.body = {value: args.value,};\n\t\tthis.sendResponse(res);\t// \n\t}\n\n//\tprotected setExpressionRequest(response: DebugProtocol.SetExpressionResponse, args: DebugProtocol.SetExpressionArguments, request?: DebugProtocol.Request): void;\n\n\t// \n\tprotected override continueRequest(res: DebugProtocol.ContinueResponse, _args: DebugProtocol.ContinueArguments): void {\n\t\tthis.#dbg.continue();\n\t\tthis.sendResponse(res);\n\t}\n\t// \n\tprotected override reverseContinueRequest(res: DebugProtocol.ReverseContinueResponse, _args: DebugProtocol.ReverseContinueArguments) : void {\n\t\tthis.#dbg.continue(true);\n\t\tthis.sendResponse(res);\n\t}\n\t// \n\tprotected override nextRequest(res: DebugProtocol.NextResponse, _args: DebugProtocol.NextArguments): void {\n\t\tthis.#dbg.step();\n\t\tthis.sendResponse(res);\n\t}\n\t// \n\toverride stepInRequest(res: DebugProtocol.StepInResponse, _args: DebugProtocol.StepInArguments, _req?: DebugProtocol.Request): void {\n\t\tthis.#dbg.stepin();\n\t\tthis.sendResponse(res);\n\t}\n\t// \n\toverride stepOutRequest(res: DebugProtocol.StepOutResponse, _args: DebugProtocol.StepOutArguments, _req?: DebugProtocol.Request): void {\n\t\tthis.#dbg.stepout();\n\t\tthis.sendResponse(res);\n\t}\n\t// \n\tprotected override stepBackRequest(res: DebugProtocol.StepBackResponse, _args: DebugProtocol.StepBackArguments): void {\n\t\tthis.#dbg.step(true);\n\t\tthis.sendResponse(res);\n\t}\n\n\tprotected override evaluateRequest(res: DebugProtocol.EvaluateResponse, args: DebugProtocol.EvaluateArguments) {\n\t\tswitch (args.context) {\n\t\t\tcase 'hover':{\n\t\t\t\t// \n\t\t\t\tconst v = this.#getVar(args.expression);\t// \n\t\t\t\tif (! v.exist) {\n\t\t\t\t\tres.body = {\n\t\t\t\t\t\tresult: ` ${v.fullnm ?? '?'} `,\n\t\t\t\t\t\tvariablesReference: 0,\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tconst hdlnm = this.#hNm2HdlNm[v.fullnm ?? ''];\n\t\t\t\tres.body = {\n\t\t\t\t\tresult: `${v.fullnm ?? '?'}${\n\t\t\t\t\t\thdlnm ?'' :`${ String(v.ret) }`\n\t\t\t\t\t}`,\n\t\t\t\t\tpresentationHint: {\n\t\t\t\t\t\tkind: 'property', visibility: 'public',\n\t\t\t\t\t\tattributes: v.const ?['readOnly'] :undefined,\n\t\t\t\t\t},\n\t\t\t\t\tvariablesReference: hdlnm ?? 0,\t// > 0\n\t\t\t\t};\n\t\t\t}\tbreak;\n\n\t\t\tcase 'watch':\n\t\t\t\tvoid this.#dbg.eval(res.request_seq, args.expression)\n\t\t\t\t.then(v=> {\n\t\t\t\t\tif (v) res.body = {\n\t\t\t\t\t\tresult: v,\n\t\t\t\t\t\tpresentationHint: {kind: 'formula', visibility: 'public',},\n\t\t\t\t\t\tvariablesReference: 0,\n\t\t\t\t\t};\n\t\t\t\t\telse res.body = {result: 'null', variablesReference: 0,};\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'repl':\n\t\t\t\tvoid this.#dbg.eval(res.request_seq, args.expression)\n\t\t\t\t.then(v=> {res.body = {\n\t\t\t\t\tresult: v ?`=${v}` :'null',\n\t\t\t\t\tvariablesReference: 0,\n\t\t\t\t}});\n\n//console.log(`fn:DebugAdapter.ts line:622 exp:${args.expression} v:${v} type:${res.body.type}`);\n\t\t\t\tbreak;\n/*\n\t\t\t\tlet reply: string | undefined = undefined;\n\t\t\t\t// 'evaluate'  'repl' \n\t\t\t\tconst matches = /new +([0-9]+)/.exec(args.expression);\n\t\t\t\tif (matches?.length === 2) {\n\t\t\t\t\tconst mbp = this.dbg.setBreakPoint(this.dbg.scriptFn, this.convertClientLineToDebugger(parseInt(matches[1])));\n\t\t\t\t\tconst bp = <DebugProtocol.Breakpoint> new Breakpoint(mbp.verified, this.convertDebuggerLineToClient(mbp.ln), undefined, this.createSource(this.dbg.scriptFn));\n\t\t\t\t\tbp.id = mbp.id;\n\t\t\t\t\tthis.sendEvent(new BreakpointEvent('new', bp));\n\t\t\t\t\treply = 'breakpoint created';\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconst matches = /del +([0-9]+)/.exec(args.expression);\n\t\t\t\t\tif (matches?.length === 2) {\n\t\t\t\t\t\tconst mbp = this.dbg.delBreakPoint(this.dbg.scriptFn, this.convertClientLineToDebugger(parseInt(matches[1])));\n\t\t\t\t\t\tif (mbp) {\n\t\t\t\t\t\t\tconst bp = <DebugProtocol.Breakpoint> new Breakpoint(false);\n\t\t\t\t\t\t\tbp.id = mbp.id;\n\t\t\t\t\t\t\tthis.sendEvent(new BreakpointEvent('removed', bp));\n\t\t\t\t\t\t\treply = 'breakpoint deleted';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tconst matches = /progress/.exec(args.expression);\n\t\t\t\t\t\tif (matches?.length === 1) {\n\t\t\t\t\t\t\tif (this._reportProgress) {\n\t\t\t\t\t\t\t\treply = 'progress started';\n\t\t\t\t\t\t\t\tthis.progressSequence();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treply = `frontend doesn't support progress (capability 'supportsProgressReporting' not set)`;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tres.body = {\n\t\t\t\t\tresult: reply ?reply :`evaluate(context: '${args.context}', '${args.expression}')`,\n\t\t\t\t\tvariablesReference: 0,\n\t\t\t\t};\n*/\n\t\t/**\n\t\t * 'clipboard': evaluate is run to generate the value that will be stored in the clipboard.\n\t\t * The attribute is only honored by a debug adapter if the capability 'supportsClipboardContext' is true.\n\t\t * etc.\n\t\t\t* 'clipboard'\n\t\t\t* 'supportsClipboardContext'true\n\t\t\t*\n\t\t */\n\t\t}\n\n\t\tthis.sendResponse(res);\n\t}\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t#getVar(txt: string): {exist: boolean, ret?: any, fullnm?: string, const?: boolean,} {\n\t\tconst a = `${txt}:`.split(':', 2);\n\t\tconst scope = a[1] === '' ?'tmp' :a[0];\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst nm = a[1] === '' ?a[0]! :a[1]!;\n\t\tswitch (scope) {\n\t\t\tcase 'tmp':\n\t\t\tcase 'sys':\n\t\t\tcase 'save':\n\t\t\tcase 'mp':\tbreak;\n\t\t\tdefault: return {exist: false};\n\t\t}\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst h = this.#hScope[scope]!;\n\t\treturn nm in h\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t? {exist: true, fullnm: `${scope}:${nm}`, ret: h[nm], const: nm.startsWith('const.')}\n\t\t\t: {exist: false,fullnm: `${scope}:${nm}`};\n\t}\n\n//\tprotected stepInTargetsRequest(response: DebugProtocol.StepInTargetsResponse, args: DebugProtocol.StepInTargetsArguments, request?: DebugProtocol.Request): void;\n//\tprotected gotoTargetsRequest(response: DebugProtocol.GotoTargetsResponse, args: DebugProtocol.GotoTargetsArguments, request?: DebugProtocol.Request): void;\n\n/*\n\tprivate\tisProgressCancellable\t= true;\n\tprivate async progressSequence() {\n\t\tconst ID = '' + this._progressId++;\n\n\t\tawait timeout(100);\n\n\t\tconst title = this.isProgressCancellable ? 'Cancellable operation' : 'Long running operation';\n\t\tconst startEvent: DebugProtocol.ProgressStartEvent = new ProgressStartEvent(ID, title);\n\t\tstartEvent.body.cancellable = this.isProgressCancellable;\n\t\tthis.isProgressCancellable = !this.isProgressCancellable;\n\t\tthis.sendEvent(startEvent);\n\t\tthis.sendEvent(new OutputEvent(`start progress: ${ID}\\n`));\n\n\t\tlet endMessage = 'progress ended';\n\t\tfor (let i = 0; i < 100; ++i) {\n\t\t\tawait timeout(500);\n\t\t\tthis.sendEvent(new ProgressUpdateEvent(ID, `progress: ${i}`));\n\t\t\tif (this._cancelledProgressId === ID) {\n\t\t\t\tendMessage = 'progress cancelled';\n\t\t\t\tthis._cancelledProgressId = undefined;\n\t\t\t\tthis.sendEvent(new OutputEvent(`cancel progress: ${ID}\\n`));\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.sendEvent(new ProgressEndEvent(ID, endMessage));\n\t\tthis.sendEvent(new OutputEvent(`end progress: ${ID}\\n`));\n\n\t\tthis._cancelledProgressId = undefined;\n\t}\n*/\n/*\n\tprotected breakpointLocationsRequest(res: DebugProtocol.BreakpointLocationsResponse, args: DebugProtocol.BreakpointLocationsArguments, _request?: DebugProtocol.Request): void {\n\tconsole.log(`fn:DebugAdapter.ts breakpointLocationsRequest() args.source.path:${args.source.path}`);\n\n\t\tif (args.source.path) {\n\t\t\tconst bps = this.dbg.getBreakpoints(args.source.path, this.convertClientLineToDebugger(args.line));\n\t\t\tres.body = {\n\t\t\t\tbreakpoints: bps.map(col=> ({\n\t\t\t\t\tline: args.line,\n\t\t\t\t\tcolumn: this.convertDebuggerColumnToClient(col)\n\t\t\t\t}))\n\t\t\t};\n\t\t}\n\t\telse res.body = {breakpoints: []};\n\n\n\t\tres.body = {breakpoints: []};\n\t\tthis.sendResponse(res);\n\t}\n*/\n\n\t// \n\tprotected override dataBreakpointInfoRequest(res: DebugProtocol.DataBreakpointInfoResponse, args: DebugProtocol.DataBreakpointInfoArguments): void {\n\t\tif (args.variablesReference && args.name) {\n\t\t\tconst v = this.#getVar(args.name);\n\t\t\tif (v.exist) res.body = {\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tdataId: v.fullnm!,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tdescription: `${v.fullnm!}`,\n\t\t\t//\taccessTypes: ['readWrite'],\t// 'read'|'write'|'readWrite'\n\t\t\t\t\t// readWrite\n\t\t\t\t\t// read\n\t\t\t\taccessTypes: ['write'],\n\t\t\t\tcanPersist: true,\t// \n\t\t\t};\n\t\t}\n\t\telse res.body = {\n\t\t\tdataId: null,\n\t\t\tdescription: 'cannot break on data access',\n\t\t};\n\n\t\tthis.sendResponse(res);\n\t}\n\n\t// \n\t// NOTE: \n\tprotected override setDataBreakpointsRequest(res: DebugProtocol.SetDataBreakpointsResponse, args: DebugProtocol.SetDataBreakpointsArguments) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\tconst a: any[] = [];\n\t\tres.body = {breakpoints: []};\n\t\tfor (const dbp of args.breakpoints) {\n\t\t\ta.push(dbp);\n\t\t\tres.body.breakpoints.push({verified: true,});\n\t\t}\n\t\t// \n\t\t// OFF\n\t\tvoid this.#dbg.setDataBreakpoint(res.request_seq, a);\n\n\t\tthis.sendResponse(res);\n\t}\n\n\tprotected override completionsRequest(res: DebugProtocol.CompletionsResponse, _args: DebugProtocol.CompletionsArguments): void {\n\t\tres.body = {\n\t\t\ttargets: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'item 10',\n\t\t\t\t\tsortText: '10'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'item 1',\n\t\t\t\t\tsortText: '01'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'item 2',\n\t\t\t\t\tsortText: '02'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'array[]',\n\t\t\t\t\tselectionStart: 6,\n\t\t\t\t\tsortText: '03'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: 'func(arg)',\n\t\t\t\t\tselectionStart: 5,\n\t\t\t\t\tselectionLength: 3,\n\t\t\t\t\tsortText: '04'\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t\tthis.sendResponse(res);\n\t}\n\n//\tprotected exceptionInfoRequest(response: DebugProtocol.ExceptionInfoResponse, args: DebugProtocol.ExceptionInfoArguments, request?: DebugProtocol.Request): void;\n\n\tprotected override loadedSourcesRequest(res: DebugProtocol.LoadedSourcesResponse, _args: DebugProtocol.LoadedSourcesArguments, _req?: DebugProtocol.Request): void {\n//console.log(`fn:DebugAdapter.ts line:741 loadedSourcesRequest() res:${JSON.stringify(res)} args:${JSON.stringify(args)} req:${JSON.stringify(req)}`);\n\n\n\t\tres.body.sources = [\n\t\t\t{\n\t\t\t\tname: 'main.sn ?',\n\t\t\t\tpath: 'doc/prj/script/main.sn',\n\t\t\t\tsourceReference: 0,\n\t\t\t}\n\t\t]\n\t\tthis.sendResponse(res);\n\n\n\t\t\t/**\n\t\t\t * The short name of the source. Every source returned from the debug adapter has a name.\n\t\t\t * When sending a source to the debug adapter this name is optional.\n\t\t\t\n\t\t\t\n\t\t\t */\n//\t\t\tname?: string;\n\n\t\t\t/**\n\t\t\t * The path of the source to be shown in the UI.\n\t\t\t * It is only used to locate and load the content of the source if no sourceReference is specified (or its value is 0).\n\t\t\tUI\n\t\t\tsourceReference  ( 0 ) \n\t\t\t */\n//\t\t\tpath?: string;\n\n\t\t\t/**\n\t\t\t * If sourceReference > 0 the contents of the source must be retrieved through the SourceRequest (even if a path is specified).\n\t\t\t * A sourceReference is only valid for a session, so it must not be used to persist a source.\n\t\t\tsourceReference > 0()SourceRequest\n\t\t\tsourceReference\n\t\t\t * The value should be less than or equal to 2147483647 (2^31 - 1).\n\t\t\t */\n//\t\t\tsourceReference?: number;\n\n\t\t\t/**\n\t\t\t * An optional hint for how to present the source in the UI.\n\t\t\t * A value of 'deemphasize' can be used to indicate that the source is not available or that it is skipped on stepping.\n\t\t\tUI\n\t\t\tdeemphasize' \n\t\t\t */\n//\t\t\tpresentationHint?: 'normal' | 'emphasize' | 'deemphasize';\n\t\t\t// , \n\n\t\t\t/**\n\t\t\t * The (optional) origin of this source: possible values 'internal module', 'inlined content from source map', etc.\n\t\t\t () :  '''' \n\t\t\t */\n//\t\t\torigin?: string;\n\n\t\t\t/**\n\t\t\t * An optional list of sources that are related to this source. These may be the source that generated this source.\n\t\t\t\n\t\t\t */\n//\t\t\tsources?: Source[];\n\n\t\t\t/**\n\t\t\t * Optional data that a debug adapter might want to loop through the client.\n\t\t\t * The client should leave the data intact and persist it across sessions. The client should not interpret the data.\n\t\t\t\n\t\t\t\n\t\t\t */\n//\t\t\tadapterData?: any;\n\n\t\t\t/**\n\t\t\t * The checksums associated with this file.\n\t\t\t\n\t\t\t */\n//\t\t\tchecksums?: Checksum[];\n\n\n\t}\n\n//\tprotected readMemoryRequest(response: DebugProtocol.ReadMemoryResponse, args: DebugProtocol.ReadMemoryArguments, request?: DebugProtocol.Request): void;\n//\tprotected disassembleRequest(response: DebugProtocol.DisassembleResponse, args: DebugProtocol.DisassembleArguments, request?: DebugProtocol.Request): void;\n\n\n\tprotected override cancelRequest(_res: DebugProtocol.CancelResponse, args: DebugProtocol.CancelArguments) {\n\t\tif (args.requestId) this.#mapCancelationTokens.set(args.requestId, true);\n//\t\tif (args.progressId) this._cancelledProgressId= args.progressId;\n\t}\n\n/*\n\t// Override this hook to implement custom requests.\n\n\tprotected customRequest(command: string, response: DebugProtocol.Response, args: any, request?: DebugProtocol.Request): void;\n\tprotected convertClientLineToDebugger(line: number): number;\n\tprotected convertDebuggerLineToClient(line: number): number;\n\tprotected convertClientColumnToDebugger(column: number): number;\n\tprotected convertDebuggerColumnToClient(column: number): number;\n\tprotected convertClientPathToDebugger(clientPath: string): string;\n\tprotected convertDebuggerPathToClient(debuggerPath: string): string;\n*/\n\n\n\t//---- helpers\n\n\t#createSource(filePath: string): Source {\n\t\treturn new Source(basename(filePath), this.convertDebuggerPathToClient(filePath), undefined, undefined, 'mock-adapter-data');\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-assignment */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* eslint-disable @typescript-eslint/restrict-template-expressions */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/unbound-method */\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2018-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {uint} from './CmnLib';\nimport {PrjSetting} from './PrjSetting';\n\nimport {Server, type Socket} from 'socket.io';\nimport {imageSizeFromFile} from 'image-size/fromFile';\n\nimport type {DebugConfiguration, TextDocumentChangeEvent, WorkspaceFolder} from 'vscode';\nimport {debug, Position, Range, Uri, workspace, window, WorkspaceEdit, RelativePattern} from 'vscode';\nimport type {DebugProtocol} from '@vscode/debugprotocol';\nimport {basename, dirname} from 'node:path';\nimport {readFileSync, writeFileSync} from 'fs-extra';\nimport {EventEmitter} from 'events';\n\n\nexport type InfoBreakpoint = {\n\tid\t\t: number;\n\tln\t\t: number;\n\tcol\t\t: number;\n\tverified: boolean;\n\tcondition?\t\t: string;\n\thitCondition?\t: number;\n}\n\n\nexport class Debugger extends EventEmitter {\n\t#pathWs\t= '';\n\tconstructor(private readonly wsFld: WorkspaceFolder, private readonly hookTag: (o: any)=> void) {\t// \n\t\tsuper();\n\t\tthis.#pathWs = wsFld.uri.path;\n\t\tDebugger.#hcurPrj2Dbg[this.#pathWs +'/doc/prj/'] = this;\n\t}\n\tstatic\t#hcurPrj2Dbg: {[curPrj: string]: Debugger}\t= {};\n\tstatic\tsend2SN(type: string, o: object = {}) {\n\t\tconst pathWs = debug.activeDebugSession?.workspaceFolder?.uri.fsPath;\n\t\tif (! pathWs) return;\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst dbg = Debugger.#hcurPrj2Dbg[pathWs +'/doc/prj/']!;\n\t\tdbg.send2SN(type, o);\n\t}\n\n\tattach(args: DebugConfiguration) {\t// \n\t\tthis.#hProcSnRes.hi = ()=> {\t// res/UML/DebuggerSD.pu\n\t\t\tthis.send2SN('auth', {\n\t\t\t\tt\t\t\t: PrjSetting.getDebugertoken(this.wsFld),\n\t\t\t\thBreakpoint\t: {\n\t\t\t\t\thFn2hLineBP\t: this.#hFn2hLineBP,\t// \n\t\t\t\t\t\t\t\t\t\t\t\t\t// \n\t\t\t\t\t\t\t\t\t\t\t\t\t// \n\t\t\t\t\taData\t\t: this.#aDataBreak,\t// \n\t\t\t\t\taFunc\t\t: this.#aFuncBreak,\t// \n\t\t\t\t},\n\t\t\t\t...args,\n\t\t\t});\n\t\t\tthis.hookTag({: ':connect'});\n\t\t\treturn false;\n\t\t};\n\n\t\tnew Server(args.port, {cors: {origin: <string>args.weburi}})\n\t\t.on('connection', (sk: Socket)=> {\n\t\t\tsk.on('data', (type: string, o: any)=> {\n//console.log(`fn:Debugger.ts RSV sn -> dbgs id:${sk.id} id:${id} id2:${id2} type:${type} o:${JSON.stringify(o)}`);\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\tif (! this.#hProcSnRes[type]!(type, o)) return;\n\t\t\t\tthis.#hProcSnRes[type] = ()=> false;\n\t\t\t});\n\n\t\t\tthis.send2SN = (type: string, o: any = {})=> {\n//console.log(`fn:Debugger.ts SND dbg -> sns id:${sk.id} id:${id} id2:${id2} type:${type} o:${JSON.stringify(o)}`);\n\t\t\t\tsk.emit('data', type, o);\n\t\t\t};\n\t\t\tconst fncEnd = this.end;\n\t\t\tthis.end = ()=> {\n\t\t\t\tthis.end = fncEnd;\n\t\t\t\tthis.end();\n\t\t\t\tthis.send2SN('disconnect', {});\n\t\t\t\tthis.send2SN = ()=> { /* empty */ };\n\t\t\t\tsk.disconnect();\n\t\t\t};\n\t\t});\n\t}\n\n\tprivate\tsend2SN(_type: string, _o: object = {}) { /* empty */ }\n\n\tend() {\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete Debugger.#hcurPrj2Dbg[this.#pathWs];\n\t\tthis.hookTag({: ':disconnect'});\n\t}\n\n\treadonly\t#hProcSnRes\n\t: {[type: string]: (type: string, o: any)=> boolean}\t= {\n\t\tstopOnEntry: type=> {this.#sendEvent2Adpt(type);\treturn false},\n\t\tstopOnStep: type=> {this.#sendEvent2Adpt(type);\treturn false},\n\t\tstopOnBreakpoint: type=> {this.#sendEvent2Adpt(type);\treturn false},\n\t\tstopOnDataBreakpoint: type=> {this.#sendEvent2Adpt(type); return false},\n\n\t\t_recodeDesign: (_, o)=> {\n\t\t\tconst ln = uint(o[':ln']) -1;\n\t\t\tconst col_s = uint(o[':col_s']);\n\t\t\tconst col_e = uint(o[':col_e']);\n\t\t\tthis.#hDCId2DI[o[':id_tag']] = {\n\t\t\t\t...o,\n\t\t\t\turi: Uri.file(o[':path'].replace('${pathbase}', this.#pathWs +'/doc')),\n\t\t\t\trng: new Range(ln, col_s, ln, col_e),\n\t\t\t};\n\t\t\t\t// TODO:  :ln\n\n\t\t\tthis.hookTag(o);\n\n\t\t\treturn false;\n\t\t},\n\t\t_enterDesign: _=> {\n//\t\t\to[':path'] = o[':path'].replace('${pathbase}', this.pathWs +'/doc');\n//console.log(`fn:Debugger.ts line:96 _enterDesign o:${JSON.stringify(o)}`);\n\n// 'mes/'\n\n\t\t\treturn false;\n\t\t},\n\t\t_changeCast: (_, o)=> {\n\t\t\tconst {':id_tag': id_tag, ri, ...o2} = o;\n\t\t\tconst di = this.#hDCId2DI[id_tag];\n\t\t\tif (! di) return false;\n\n\t\t\tlet token = di[':token'];\n\t\t\tfor (const [k, v] of Object.entries(o2)) token = token.replace(\n\t\t\t\tnew RegExp(`(\\\\s${k}=)(['\"#]*)(?:\\\\S+)\\\\2([\\\\s\\\\]])`),\n\t\t\t\t`$1${v}$3`\n\t\t\t)\t// (new RegExp('\\')) \n\t\t\tdi[':token'] = token;\n\n\t\t\t// upd text\n\t\t\tconst ed = new WorkspaceEdit;\n\t\t\ted.replace(di.uri, di.rng, token);\n\t\t\tworkspace.applyEdit(ed);\n\n\t\t\treturn false;\n\t\t},\n\t\t_focusScript: (_, o)=> {\n\t\t\to[':path'] = o[':path'].replace('${pathbase}', this.#pathWs +'/doc');\n\t\t\tconst ln = o[':ln'] -1;\n\t\t\twindow.showTextDocument(Uri.file(o[':path']), {\n\t\t\t\tselection: new Range(\n\t\t\t\t\tnew Position(ln, o[':col_s']),\n\t\t\t\t\tnew Position(ln, o[':col_e'])\n\t\t\t\t),\n\t\t\t});\n\t\t\treturn false;\n\t\t},\n\t\t_dropFile: (_, o)=> {\n\t\t\tconst {':id_tag': id_tag, fn, ext, url, buf, old_fn, old_url} = o;\n\t\t\tconst di = this.#hDCId2DI[id_tag];\n\t\t\tif (! di) return false;\n\n//console.log(`fn:Debugger.ts line:139 id_tag:(${id_tag}) fn:${fn} ext:${ext} url:${url.slice(0, 32)} old_fn:${old_fn}`);\n\t\t\tlet urlWrite = '';\n\t\t\tif (url) {\t// \n\t\t\t\turlWrite = url.replace('${pathbase}', this.#pathWs +'/doc');\n\t\t\t\t// \n\t\t\t\tif (fn === old_fn) {\n\t\t\t\t\tlet eq = true;\n\t\t\t\t\tconst bufFromPrj = readFileSync(urlWrite);\n\t\t\t\t\tconst len = bufFromPrj.length;\n\t\t\t\t\tif (len !== buf.length) eq = false;\n\t\t\t\t\telse for (let i=0; i<len; ++i) {\n\t\t\t\t\t\tif (bufFromPrj[i] !== buf[i]) {eq = false; break;}\n\t\t\t\t\t}\n\t\t\t\t\tif (eq) return false;\t// \n\t\t\t\t\t// \n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\t// \n\t\t\t\t// web old_url:prj/other/MnuUp_btnPage1.png\n\t\t\t\t// app old_url:sn_uc_score/doc/prj/other/MnuUp_btnPage1.png\n\t\t\t\tconst parent = basename(dirname(old_url));\n\t\t\t\t\t// \n\t\t\t\turlWrite = this.#pathWs +`/doc/prj/${parent}/${fn}.${ext}`;\n\n\t\t\t\tconst oAP: {[nm: string]: string | number} = {':cnt': 1};\n\t\t\t\toAP[ext] = `${parent}/${fn}.${ext}`;\n\t\t\t\tthis.send2SN('_addPath', {fn, o: oAP});\n\t\t\t}\n\n\t\t\t//  prj.json \n\t\t\tconst fwPathJs = workspace.createFileSystemWatcher(\n\t\t\t\tnew RelativePattern(this.wsFld, 'doc/prj/path.json')\n\t\t\t);\n\t\t\tfwPathJs.onDidChange(()=> {\n\t\t\t\tfwPathJs.dispose();\n\n\t\t\t\t// \n\t\t\t\tlet token = di[':token'];\n\t\t\t\tconst o2: {[nm: string]: string} = {fn, b_pic: fn, pic: fn};\n\t\t\t\tconst fnc = ()=> {\n\t\t\t\t\tfor (const [k, v] of Object.entries(o2)) token = token.replace(\n\t\t\t\t\t\tnew RegExp(`(\\\\s${k}=)(['\"#]*)(?:\\\\S+)\\\\2([\\\\s\\\\]])`),\n\t\t\t\t\t\t`$1${v}$3`\n\t\t\t\t\t)\t// (new RegExp('\\')) \n\t\t\t\t\tdi[':token'] = token;\n\n\t\t\t\t\tconst ed = new WorkspaceEdit;\n\t\t\t\t\ted.replace(di.uri, di.rng, token);\n\t\t\t\t\tworkspace.applyEdit(ed);\n\t\t\t\t};\n\t\t\t\timageSizeFromFile(urlWrite)\n\t\t\t\t.then(({width, height}: {width: number, height: number})=> {\n\t\t\t\t\to2.width = String(width);\n\t\t\t\t\to2.height = String(height);\n\t\t\t\t\tfnc();\n\t\t\t\t})\n\t\t\t\t.catch(()=> fnc());\t// \n\t\t\t});\n\t\t\twriteFileSync(urlWrite, buf);\n\n\t\t\treturn false;\n\t\t},\n\t};\n\t#hDCId2DI: {[id_tag: string]: {\n\t\turi\t\t: Uri,\n\t\trng\t\t: Range,\n\t\t':col_e'\t: number,\n\t\t':idx_tkn'\t: number,\n\t\t':token'\t: string,\n\t}}\t= {};\n\n\tstatic\tnoticeChgDoc(curPrj: string, e: TextDocumentChangeEvent) {\n\t\tconst dbg = Debugger.#hcurPrj2Dbg[curPrj];\n\t\tif (! dbg) return;\n\n\t\tconst hRepTkn: {[id_tag: string]: any} = {};\n\t\tfor (const c of e.contentChanges) {\n\t\t\tconst sa = c.text.length -c.rangeLength;\n\t\t\tfor (const [id_tag, di] of Object.entries(dbg.#hDCId2DI)) {\n\t\t\t\tif (! di.rng.contains(c.range)) continue;\n\n\t\t\t\tdi[':col_e'] += sa;\n\t\t\t\tdi.rng = di.rng.with(di.rng.start, di.rng.end.translate(0, sa))\n\t\t\t\tconst n = e.document.getText(di.rng);\n\t\t\t\tdi[':token'] = n;\n\n\t\t\t\tif (n.at(0) !== '[' || n.at(-1) !== ']') continue;\n\t\t\t\thRepTkn[id_tag] = {...di, ':id_tag': id_tag,};\n\t\t\t}\n\t\t}\n\t\tfor (const v of Object.values(hRepTkn)) dbg.send2SN('_replaceToken', v);\n\t}\n\n\n\trestart = (ri: number)=> new Promise<void>(res=> {\n\t\tthis.send2SN('restart', {ri});\t\t\t\t\t// request\n\t\tthis.#hProcSnRes[ri] = ()=> {res(); return true;}\t// response\n\t});\n\n\tcontinue = (reverse = false)=> this.send2SN('continue', {reverse});\n\t\t// \n\tstep = (reverse = false)=> this.send2SN('stepover', {reverse});\n\tstepin = ()=> this.send2SN('stepin');\n\tstepout = ()=> this.send2SN('stepout');\n\tpause = ()=> this.send2SN('pause');\n\n\tvar = (ri: number, scope: string)=> new Promise<{[nm: string]: any}>(res=> {\n\t\tthis.send2SN('var', {ri, scope});\t\t\t\t\t\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {res(o.v); return true;}\t// response\n\t});\n\tstack = (ri: number, start: number, end: number)=> new Promise<{\n\t\tnm\t: string,\n\t\tfn\t: string,\n\t\tln\t: number,\n\t\tcol\t: number,\n\t\tma\t: string,\n\t}[]>(res=> {\n\t\tthis.send2SN('stack', {ri});\t\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {\t// response\n\t\t\tif (! Array.isArray(o.a)) {res([]); return true;}\t// once\n\n\t\t\tres((<any[]>o.a).slice(start, end)\n\t\t\t.filter(v=> v.ma\n\t\t\t\t? (JSON.parse(v.ma ?? '{}').stepin ?? 'true') === 'true'\n\t\t\t\t: true\n\t\t\t)\n\t\t\t.map(v=> {\n\t\t\t\tv.fn = v.fn.replace('${pathbase}', this.#pathWs +'/doc');\n\t\t\t\treturn v;\n\t\t\t}));\n\n\t\t\treturn true;\t// once\n\t\t};\n\t});\n\teval = (ri: number, txt: string)=> new Promise<string>(res=> {\n\t\tthis.send2SN('eval', {ri, txt});\t\t\t\t\t\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {res(o.v); return true;}\t// response\n\t});\n\n\n\t#idBP = 0;\t// ID\n\t#hFn2hLineBP: {[fn: string]: {[ln: number]: InfoBreakpoint}}\t= {};\n\tsetBreakPoints(fn: string, a: DebugProtocol.SourceBreakpoint[]): InfoBreakpoint[] {\n\t\tconst aBp = a.map(o=> <InfoBreakpoint>{\n\t\t\tid\t\t: ++this.#idBP,\n\t\t\tln\t\t: o.line,\n\t\t\tcol\t\t: o.column,\n\t\t\tverified\t: true,\n\t\t\tcondition\t: o.condition,\n\t\t\thitCondition: o.hitCondition,\n\t\t});\n\n\t\tconst o: {[ln: number]: InfoBreakpoint} = {};\n\t\tthis.#loadSource(fn);\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst sl = this.#hScriptLines[fn]!;\n\t\tconst len_sl = sl.length;\n\t\tfor (const v of aBp) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\twhile (sl[v.ln -1]!.replace(/;.*$/, '').trim() === '') {\n\t\t\t\tif (v.ln++ === len_sl) {v.verified = false; break;}\n\t\t\t}\n\t\t\to[v.ln] = v;\n\t\t\tthis.#sendEvent2Adpt('breakpointValidated', v);\n\t\t}\n\t\tthis.send2SN('add_break', {fn, o});\n\t\tthis.#hFn2hLineBP[fn] = o;\n\n\t\treturn aBp;\n\t}\n\t#hScriptLines: {[fn: string]: string[]}\t= {};\n\t#loadSource(fn: string) {\n\t\tif (fn in this.#hScriptLines) return;\n\n\t\tthis.#hScriptLines[fn] = readFileSync(fn).toString().split('\\n');\n\t}\n\n\n\t#aDataBreak: any[] = [];\n\tsetDataBreakpoint = (ri: number, a: any[])=> new Promise<void>(res=> {\n\t\tthis.#aDataBreak = a;\n\t\tthis.send2SN('set_data_break', {ri, a});\t\t\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {res(o.v); return true;}\t// response\n\t});\n\n\t#aFuncBreak: any[] = [];\n\tsetFuncBreakpoint = (ri: number, a: any[])=> new Promise<void>(res=> {\n\t\tthis.#aFuncBreak = a;\n\t\tthis.send2SN('set_func_break', {ri, a});\t\t\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {res(o.v); return true;}\t// response\n\t});\n\n\tsetVariable = (ri: number, nm: string, val: string)=> new Promise<void>(res=> {\n\t\tthis.send2SN('set_var', {ri, nm, val});\t// request\n\t\tthis.#hProcSnRes[ri] = (_, o)=> {res(o.v); return true;}\t// response\n\t});\n\n\n\t// vscode\n\t#sendEvent2Adpt(type: string, ... args: any[]) {\n\t\tsetImmediate(()=> this.emit(type, ...args));\n\t}\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-unsafe-return */\n/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2021-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {IDecryptInfo} from './CmnLib';\n\nimport {v5} from 'uuid';\n//x\tconst {subtle} = crypto;\t// subtle snsys_pre \n\n\n// hex String 2 ArrayBuf (nodejs  Buffer )\nexport function hexStr2ab(i: string): ArrayBuffer {\n\treturn new Uint8Array(\n\t\ti.match(/../g)?.map(h=> parseInt(h, 16)) ?? []\n\t).buffer;\n}\nexport function ab2hexStr(ab: ArrayBuffer) {\n\treturn [...new Uint8Array(ab)]\n\t.map(x=> x.toString(16).padStart(2, '0')).join('');\n}\n\nexport function encAbBase64(ab: ArrayBuffer): string {\n\treturn btoa(new Uint8Array(ab)\n\t.reduce((binStr, uint8)=> binStr + String.fromCharCode(uint8), ''));\n}\nexport function decBase64Ab(base64: string): Uint8Array<ArrayBuffer> {\n\treturn Uint8Array.from(atob(base64), binCh=> binCh.charCodeAt(0));\n}\nexport function encStrBase64(s: string): string {\n\treturn encAbBase64(\n\t\tnew TextEncoder().encode(s).buffer\n\t);\n}\nexport function decBase64Str(base64: string): string {\n\treturn new TextDecoder().decode(\n\t\tdecBase64Ab(base64)\n\t);\n}\n\t// [JavaScript] Unicode  Base64  #JavaScript - Qiita https://qiita.com/kerupani129/items/1d6b936974ec65ae4833\n\nexport class Encryptor {\n\treadonly\t#strHPass;\n\treadonly\t#acp;\n\n\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\tconstructor(private readonly hPass: IDecryptInfo, private readonly subtle: any) {\n\t\tthis.#strHPass = JSON.stringify(hPass);\n\t\tthis.#acp = {name: 'AES-GCM', iv: hexStr2ab(hPass.iv)};\n\t\t// subtle   snsys_pre \n\t}\n\n\tget strHPass() {return this.#strHPass}\n\t#digest(s: string) {\n\t\treturn this.subtle.digest('SHA-512', new TextEncoder().encode(s));\n\t}\n\t//async\thashSHA512(str: string) {return encAbBase64(await this.#digest(this.strHPass + str))}\n\tuuidv5(d: string) {return v5(d, this.hPass.pass)}\n\n\tasync\tinit() {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\tconst keyMaterial = await this.subtle.importKey(\n\t\t\t'raw',\n\t\t\tawait this.#digest(this.hPass.pass),\n\t\t\t'PBKDF2',\n\t\t\tfalse,\n\t\t\t['deriveKey'],\n\t\t);\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\tthis.#key = await this.subtle.deriveKey(\n\t\t\t{\n\t\t\t\tname: 'PBKDF2',\n\t\t\t\thash: 'SHA-512',\n\t\t\t\titerations: this.hPass.ite,\n\t\t\t\tsalt: hexStr2ab(this.hPass.salt),\n\t\t\t},\n\t\t\tkeyMaterial,\n\t\t\t{name: this.#acp.name, length: 256},\n\t\t\tfalse,\n\t\t\t['encrypt', 'decrypt'],\n\t\t);\n\t}\n\t#key: CryptoKey;\n\n\tencAb(ab: ArrayBuffer): Promise<ArrayBuffer> {\n\t\treturn this.subtle.encrypt(this.#acp, this.#key, ab);\n\t}\n\tasync\tenc(tx: string): Promise<string> {\n\t\treturn encAbBase64(\n\t\t\tawait this.encAb(\n\t\t\t\tnew TextEncoder().encode(tx).buffer\n\t\t\t)\n\t\t);\n\t}\n\n\tdecAb(ab: ArrayBuffer): Promise<ArrayBuffer> {\n\t\treturn this.subtle.decrypt(this.#acp, this.#key, ab);\n\t}\n\tasync\tdec(encTx: string): Promise<string> {\n\t\treturn new TextDecoder().decode(\n\t\t\tawait this.decAb(\n\t\t\t\tdecBase64Ab(encTx).buffer\n\t\t\t)\n\t\t);\n\t}\n\n}\n","/* eslint-disable @typescript-eslint/no-unsafe-call */\n/* eslint-disable @typescript-eslint/no-unsafe-argument */\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2021-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {Encryptor} from './Encryptor';\n\nimport {Transform} from 'node:stream';\nimport {Buffer} from 'node:buffer';\nimport {extname} from 'node:path';\n\n\nconst LEN_CODE\t= 1024 *10;\n\n\nexport class EncryptorTransform extends Transform {\n\t#len_code\t= LEN_CODE;\n\t#ite\t\t= 2;\n\t#bh\t\t\t: Buffer<ArrayBuffer>;\n\n\treadonly\t#hExt2N: {[ext: string]: number} = {\n\t\t'jpg'\t: 1,\n\t\t'jpeg'\t: 1,\n\t\t'png'\t: 2,\n\t\t'svg'\t: 3,\n\t\t'webp'\t: 4,\n\t\t'mp3'\t: 10,\n\t\t'm4a'\t: 11,\n\t\t'ogg'\t: 12,\n\t\t'aac'\t: 13,\n\t\t'flac'\t: 14,\n\t\t'wav'\t: 15,\n\t\t'mp4'\t: 20,\n\t\t'webm'\t: 21,\n\t\t'ogv'\t: 22,\n\t};\n\n\tconstructor(private readonly encry: Encryptor, readonly short_path: string) {\n\t\tsuper();\n\n\t\tthis.#bh = Buffer.alloc(this.#ite + this.#len_code);\n\t\tthis.#bh[0] = 0;\t// bin ver\n\t\tthis.#bh[1] = this.#hExt2N[extname(short_path).slice(1)] ?? 0;\n//console.log(`fn:EncryptorTransform.ts short_path:${short_path} id:${extname(short_path).slice(1)} ext_num:${this.#bh[1]}`);\n\t}\n\n\toverride _transform(chunk: any, _enc: string, cb: ()=> void) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\tconst size: number = chunk.length;\n\t\tif (this.#len_code === 0) {\n//console.log(`fn:EncryptorTransform.ts A size:${size}`);\n\t\t\tthis.push(chunk); cb(); return;}\n\n//console.log(`fn:EncryptorTransform.ts B size:${size} len_code:${this.#len_code} ite:${this.#ite}`);\n\t\tif (size < this.#len_code) {\n//console.log(`fn:EncryptorTransform.ts C`);\n\t\t\tthis.#bh.set(chunk, this.#ite);\n\t\t\tthis.#ite += size;\n\t\t\tthis.#len_code -= size;\n\t\t\tcb();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.#bh.set(chunk.slice(0, this.#len_code), this.#ite);\n\t\tthis.#ite += this.#len_code;\n\t\tconst code_size = this.#len_code;\n\t\tvoid this.#codeArea().then(()=> {\n\t\t\tif (size > code_size) {\n//console.log(`fn:EncryptorTransform.ts a len:${size - code_size}`);\n\t\t\t\tthis.push(chunk.slice(code_size));}\n\t\t\tcb();\n\t\t});\n\t}\n\toverride _final(cb: ()=> void) {\n//console.log(`fn:EncryptorTransform.ts _final`);\n\t\tvoid this.#codeArea().then(()=> cb());\n\t}\n\tasync\t#codeArea() {\n\t\tif (this.#len_code === 0) return;\n\t\tthis.#len_code = 0;\n\n//console.log(`fn:EncryptorTransform.ts #codeArea s:${ab2hexStr(this.#bh.buffer.slice(0, 16))}`);\n\t\tconst e = await this.encry.encAb(this.#bh.buffer.slice(0, this.#ite));\n//console.log(`fn:EncryptorTransform.ts #codeArea e:%o -:%o e.length:${e.byteLength} ite:${this.#ite}`, ab2hexStr(e.slice(0, 16)), ab2hexStr(e.slice(-16)));\n\n\t\tconst bl = Buffer.alloc(4);\n\t\tbl.writeUInt32LE(e.byteLength, 0);\n\t\tthis.push(bl);\n\n\t\tthis.push(new Uint8Array(e));\n\t\t//this.push(e);\t// err\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {FULL_PATH, FULL_SCH_PATH, PROJECT_PATH} from './CmnLib';\nimport {vsc2fp} from './CmnLib';\nimport {FLD_CRYPT_DOC, REG_FULLCRYPTO, REG_NEEDCRYPTO} from './Project';\nimport {FLD_PRJ_BASE} from './PrjCmn';\nimport type {Encryptor} from './Encryptor';\n\nimport {Uri} from 'vscode';\nimport * as crc32 from 'crc-32';\nimport {closeSync, existsSync, openSync, readFileSync, readSync} from 'node:fs';\nimport {readJson, remove, writeJson} from 'fs-extra/esm';\n\n\nexport type T_DIFF = {\n\thash: number,\t// \n\tcn\t: string,\t// \n};\nexport type H_T_DIFF = {[pp: PROJECT_PATH]: T_DIFF};\n\nexport type T_CN = {\n\tpathCn\t: string | undefined,\n\tdiff\t: T_DIFF | undefined,\n\tpp\t\t: PROJECT_PATH,\n};\n\n\nexport class HDiff {\n\t#pp2hDiff\t: H_T_DIFF\t= <H_T_DIFF>Object.create(null);\n\n\tconstructor(\n\t\tprivate readonly PATH_DIFF\t: FULL_SCH_PATH,\n\t\t\t\treadonly FLD_SRC\t: string,\n\t\tprivate readonly PATH_CRYPT\t: FULL_SCH_PATH,\n\t\tprivate readonly encry\t\t: Encryptor,\n\t) {\n\t\tconst REG_path2 = `\\\\/(doc\\\\/prj|${FLD_SRC}\\\\/${FLD_PRJ_BASE})\\\\/`;\t// (new RegExp('\\')) \n\t\tthis.#REG_path2cn = new RegExp(REG_path2 +'.+$');\n\t\tthis.#REG_fp2pp\t= new RegExp('^.+'+ REG_path2);\n\t}\n\n\tasync init() {\n\t\tif (existsSync(this.PATH_DIFF)) this.#pp2hDiff = <H_T_DIFF>await readJson(this.PATH_DIFF);\n\n\t\tfor (const [pp, {cn}] of Object.entries(this.#pp2hDiff)) {\n\t\t\tconst fp = `${this.PATH_CRYPT}${cn}`;\n\t\t\t// \n\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\tif (! existsSync(fp)) delete this.#pp2hDiff[pp];\n\t\t}\n\t}\n\tclear() {this.#pp2hDiff = <H_T_DIFF>Object.create(null)}\n\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\tdel(pp: PROJECT_PATH) {delete this.#pp2hDiff[pp]}\n\tget(pp: PROJECT_PATH) {return this.#pp2hDiff[pp]}\n\tget keysPP(): PROJECT_PATH[] {return Object.keys(this.#pp2hDiff)}\n\n\n\tpath2cn(afp: FULL_PATH): T_CN {\n\t\tconst fp = vsc2fp(Uri.file(afp).path);\n\t\tconst pp = this.fp2pp(fp);\n\t\tconst diff = this.#pp2hDiff[pp];\n\t\treturn {\n\t\t\tpathCn: diff\n\t\t\t\t? fp.replace(this.#REG_path2cn, `/${FLD_CRYPT_DOC}/prj/${diff.cn}`)\n\t\t\t\t: undefined,\n\t\t\tdiff,\n\t\t\tpp,\n\t\t};\n\t}\n\treadonly\t#REG_path2cn;\n\treadonly\t#REG_fp2pp;\n\tfp2pp(fp: FULL_PATH): PROJECT_PATH {return fp.replace(this.#REG_fp2pp, '')}\n\n\n\tfilter(regDiff: RegExp) {\n\t\treturn Promise.allSettled(\n\t\t\tObject.entries(this.#pp2hDiff)\n\t\t\t.filter(([pp, ])=> regDiff.test(pp))\n\t\t\t.map(([, {cn}])=> remove(`${this.PATH_CRYPT}${cn}`))\n\t\t);\n\t}\n\n\t//MARK: \n\treadonly save = ()=> writeJson(this.PATH_DIFF, this.#pp2hDiff);\n\n\n\t//MARK: \n\t//\t\n\tisDiff({path}: Uri): boolean {\n\t\tconst fp = vsc2fp(path);\n\t\tconst {pathCn, diff, pp} = this.path2cn(fp);\n// console.log(`fn:Project.ts #isDiff fp:${fp} pp:${pp} pathCn:${pathCn} A:${! existsSync(pathCn ?? '')}`);\n\t\tif (pathCn && ! existsSync(pathCn)) return true;\n\n\t\tlet hash = 0;\n\t\tif (REG_FULLCRYPTO.test(fp)) {\n\t\t\thash = crc32.buf(Buffer.from(readFileSync(fp, {encoding: 'utf8'}), 'binary'), 0);\n\t\t//\thash = crc32.str(readFileSync(fp, {encoding: 'utf8'}));\n\t\t\t\t//  SheetJS/js-crc32: :cyclone: JS  CRC-32  CRC32C  https://github.com/SheetJS/js-crc32\n\t\t}\n\t\telse {\n\t\t\tthis.#bufChkDiff.fill(0, 0, this.#LEN_CHKDIFF);\n\t\t\tconst fd = openSync(fp, 'r');\n\t\t\treadSync(fd, this.#bufChkDiff, 0, this.#LEN_CHKDIFF, 0);\n\t\t\tcloseSync(fd);\n\t\t\thash = crc32.buf(this.#bufChkDiff, 0);\n\t\t}\n// console.log(`fn:Project.ts      B:${diff?.hash !== hash} b0:${diff?.hash} b1:${hash}`);\n\t\tif (diff?.hash === hash) return false;\n\n\t\tthis.#pp2hDiff[pp] = {\n\t\t\thash,\n\t\t\tcn\t: REG_NEEDCRYPTO.test(pp)\n\t\t\t\t? pp\n\t\t\t\t.replace(this.#REG_SPATH2HFN, `$1/${this.encry.uuidv5(pp)}$2`)\n\t\t\t\t.replace(this.#REG_REPPATHJSON, '.bin')\n\t\t\t\t: pp,\n\t\t};\n\t\treturn true;\n\t}\n\t\treadonly\t#LEN_CHKDIFF\t= 1024 *20;\t// o\n\t//\treadonly\t#LEN_CHKDIFF\t= 1024 *10;\t// x \n\t//\treadonly\t#LEN_CHKDIFF\t= 1024;\t\t// x \n\t\treadonly\t#REG_SPATH2HFN\t= /([^/]+)\\/[^/]+(\\.\\w+)/;\n\t\t#bufChkDiff = new Uint8Array(this.#LEN_CHKDIFF);\n\t\treadonly\t#REG_REPPATHJSON\t= /\\.(jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv)/g;\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {FULL_PATH, PROJECT_PATH, WORKSPACE_PATH} from './CmnLib';\nimport {vsc2fp} from './CmnLib';\nimport {PRE_TASK_TYPE} from './WorkSpaces';\nimport type {HDiff} from './HDiff';\nimport type {PrjSetting} from './PrjSetting';\nimport {PrjBtnName, statBreak, type TASK_TYPE} from './PrjTreeItem';\n\nimport type {ExtensionContext, Memento, TaskExecution, TaskProcessEndEvent, Uri, WorkspaceFolder} from 'vscode';\nimport {ProgressLocation, window, tasks, Task, ShellExecution} from 'vscode';\nimport {copySync, existsSync, readJsonSync} from 'fs-extra';\n\n\nexport\tconst\tFLD_PRJ_BASE\t= 'prj_base';\n\n\n//MARK: \nconst hTask2Inf = {\n\tcnv_mat_pic: {\n\t\ttitle\t\t: '',\n\t\taNeedLib\t: ['fs-extra','sharp'],\n\t},\n\tcnv_mat_snd: {\n\t\ttitle\t\t: '',\n\t\taNeedLib\t: [],\t// \n\t},\n\tcnv_psd_face: {\n\t\ttitle\t\t: 'PSD',\n\t\taNeedLib\t: ['fs-extra','sharp'],\n\t},\n\tcut_round: {\n\t\ttitle\t\t: '',\n\t\taNeedLib\t: ['fs-extra','sharp', 'png2icons'],\n\t},\n\tsubset_font: {\n\t\ttitle\t\t: '',\n\t\taNeedLib\t: [],\t// \n\t},\n};\ntype T_CMD = keyof typeof hTask2Inf;\n\ntype T_QSeq = {\n\tuniq\t: string;\n\tfnc\t\t: ()=> Promise<void>;\n};\n\n\n//MARK: \n// \nexport class PrjCmn {\n\treadonly\tURI_WS;\n\n\treadonly\tPATH_WS;\n\treadonly\tLEN_PATH_WS;\n\treadonly\tPATH_PRJ;\n\treadonly\tLEN_PATH_PRJ;\n\n\treadonly\tIS_NEW_TMP;\n\treadonly\tFLD_SRC;\n\treadonly\tPATH_PLG_PRE;\n\n\treadonly\tPATH_PRJ_BASE;\n\treadonly\tLEN_PATH_PRJ_BASE;\n\n\treadonly\twss\t\t\t: Memento;\n\n\treadonly\thTaskExe\t= new Map<PrjBtnName, TaskExecution>;\n\n\n\t//MARK: \n\tconstructor(\n\t\treadonly ctx\t\t: ExtensionContext,\n\t\treadonly wsFld\t\t: WorkspaceFolder,\n\t\treadonly hOnEndTask\t: Map<TASK_TYPE, (e: TaskProcessEndEvent)=> void>,\n\t) {\n\t\tthis.URI_WS = wsFld.uri.toString();\n\n\t\tthis.PATH_WS = vsc2fp(wsFld.uri.path);\n\t\tthis.LEN_PATH_WS = this.PATH_WS.length;\n\n\t\tthis.PATH_PRJ = `${this.PATH_WS}/doc/prj/`;\n\t\tthis.LEN_PATH_PRJ = this.PATH_PRJ.length;\n\n\t\tthis.IS_NEW_TMP = existsSync(`${this.PATH_WS}/src/plugin/`);\n\t\tthis.FLD_SRC = this.IS_NEW_TMP ?'src' :'core';\t// src  2025 \n\t\tthis.PATH_PLG_PRE = `${this.PATH_WS}/${this.FLD_SRC}/plugin/snsys_pre/`;\n\n\t\tthis.PATH_PRJ_BASE = `${this.PATH_WS}/${this.FLD_SRC}/${FLD_PRJ_BASE}/`;\n\t\tthis.LEN_PATH_PRJ_BASE = this.PATH_PRJ_BASE.length;\n\n\t\tthis.wss = ctx.workspaceState;\n\t}\n\tfp2pp(fp: FULL_PATH): PROJECT_PATH {return fp.slice(this.LEN_PATH_PRJ)}\n\tfp2wp(fp: FULL_PATH): WORKSPACE_PATH {return fp.slice(this.LEN_PATH_WS)}\n\n\tsrc2pp(fp: FULL_PATH): PROJECT_PATH {return fp.slice(this.LEN_PATH_PRJ_BASE)}\n\n\t//MARK: prj prj_base\n\tisBaseUrl(fp :FULL_PATH) {return fp.startsWith(this.PATH_PRJ_BASE)}\n\n\n\t//MARK: \n\tinit(\n\t\tupdPathJson\t: ()=> Promise<void>,\n\t\tencIfNeeded\t: (uri: Uri)=> Promise<void>,\n\t\tdiff\t\t: HDiff,\n\t\tisCryptoMode: ()=> boolean,\n\t\tps\t\t\t: PrjSetting,\n\t) {\n\t\tthis.updPathJson = updPathJson;\n\t\tthis.encIfNeeded = encIfNeeded;\n\t\tthis.#diff = diff;\n\t\tthis.isCryptoMode = isCryptoMode;\n\t\tthis.ps = ps;\n\t}\n\tupdPathJson\t: ()=> Promise<void>;\n\n\tencIfNeeded\t: (uri: Uri)=> Promise<void>;\n\n\t#diff\t: HDiff;\n\tget diff() {return this.#diff}\n\n\tps: PrjSetting\n\n\tisCryptoMode: ()=> boolean;\n\n\n\t//MARK: \n\tasync\texeBatch(nm: T_CMD, arg: string, fisish = (_exit_code: number)=> { /* empty */ }): Promise<void> {\n\t\tconst inf = hTask2Inf[nm];\n\t\treturn window.withProgress({\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: inf.title,\n\t\t\tcancellable\t: false,\n\t\t}, prg=> new Promise(donePrg=> {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\tconst oPkg = readJsonSync(this.PATH_WS +'/package.json', {encoding: 'utf8'});\n\t\t\tconst sNeedInst = inf.aNeedLib\n\t\t\t// .filter(nm=> ! oPkg.devDependencies[nm])\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t.filter(nm=> ! (oPkg.devDependencies ??= {})[nm]).join(' ');\n\n\t\t\tconst pathJs = this.PATH_WS +`/${this.FLD_SRC}/batch/${nm}.js`;\n\t\t\tcopySync(this.ctx.extensionPath +`/dist/${nm}.js`, pathJs);\n\n\t\t\ttry {\n\t\t\t\ttasks.executeTask(new Task(\n\t\t\t\t\t{type: PRE_TASK_TYPE +'Sys'},\t// \n\t\t\t\t\tthis.wsFld,\n\t\t\t\t\tinf.title,\t\t// UI\n\t\t\t\t\t'SKYNovel',\t\t// source\n\t\t\t\t\tnew ShellExecution(\n\t\t\t\t\t\t`cd \"${this.PATH_WS}\" ${statBreak} ${\n\t\t\t\t\t\t\tsNeedInst\n\t\t\t\t\t\t\t? `npm i -D ${sNeedInst} ${statBreak}`\n\t\t\t\t\t\t\t: ''\n\t\t\t\t\t\t} node ./${this.FLD_SRC}/batch/${nm}.js ${arg}`\n\t\t\t\t\t),\n\t\t\t\t))\n\t\t\t\t.then(r=> this.hTaskExe.set('Batch', r));\n\t\t\t} catch (e) {console.error('Project exeTask() e:%o', e)}\n\n\t\t\tthis.hOnEndTask.set('Sys', e=> {\n\t\t\t\tprg.report({message: '', increment: 100});\n\t\t\t\tfisish(e.exitCode ?? 0);\n\t\t\t\tsetTimeout(donePrg, 4000);\n\t\t\t});\n\t\t}));\n\t}\n\n\n\t//MARK: \n\taddSeq(fnc: ()=> Promise<void>, uniq: string) {\t// \n// console.log(`fn:WatchFile2Batch.ts addSeq watchFile:${String(this.watchFile)}`);\n\t\tif (! this.watchFile) return;\n\n\t\t//  - push\n\t\tif (this.#aQSeq.push({uniq, fnc}) !== 1) return;\n\t\t\t// \n\t\t\t// const isEmpty = this.#aQ.length === 0;\n\t\t\t// this.#aQSeq.push(fnc);\t//  - push\n\t\t\t// if (! isEmpty) return;\n\t\tif (this.#tiLasyQ) clearTimeout(this.#tiLasyQ);\t// \n\t\tthis.#tiLasyQ = setTimeout(()=> {void this.doSeq()}, 100);\n\t\t\t// \n\t\t\t//  onDidDelete -> onDidCreate \n\t}\n\t#aQSeq: T_QSeq[] = [];\n\t#tiLasyQ: NodeJS.Timeout | undefined = undefined;\n\n\twatchFile\t= true;\n\n\t//MARK: \n\tasync doSeq() {\n\t\tthis.watchFile = false;\n\n\t\tlet q: T_QSeq | undefined;\n\t\t// eslint-disable-next-line no-cond-assign\n\t\twhile (q = this.#aQSeq.shift()) {\n\t\t\tconst uniq = q.uniq;\n\t\t\tthis.#aQSeq = this.#aQSeq.filter(v=> v.uniq !== uniq)\n\t\t\tawait q.fnc();\n\t\t}\n\n\t\tthis.watchFile = true;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2019-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_V2E_CFG, T_E2V_CFG, T_E2V, T_V2E, T_E2V_INIT, T_E2V_NOTICE_COMPONENT, TK_WSS} from './types';\nimport {DEF_WSS} from './types';\nimport {chkBoolean, replaceRegsFile, repWvUri} from './CmnLib';\nimport {ActivityBar, eTreeEnv, getNonce} from './ActivityBar';\nimport type {Config} from './Config';\nimport {openURL} from './WorkSpaces';\nimport type {T_reqPrj2LSP} from './Project';\nimport type {PrjCmn} from './PrjCmn';\nimport type {WfbOptPic} from './batch/WfbOptPic';\nimport type {WfbOptSnd} from './batch/WfbOptSnd';\nimport type {WfbOptFont} from './batch/WfbOptFont';\nimport {WPFolder} from './WPFolder';\nimport {WfbSettingSn} from './batch/WfbSettingSn';\n\nimport type {Disposable, WebviewPanel, WorkspaceFolder} from 'vscode';\nimport {env, Uri, ViewColumn, window} from 'vscode';\nimport {copyFile, ensureFile, existsSync, readFile, readFileSync, readJson, readJsonSync, writeFile} from 'fs-extra';\nimport {basename} from 'path';\nimport {randomUUID} from 'crypto';\nimport {userInfo} from 'os';\n\n\nexport class PrjSetting implements Disposable {\n\treadonly\t#wss;\n\t\t\t\t#oWss\t= DEF_WSS;\n\tget\t\t\toWss() {return this.#oWss}\n\n\treadonly\t#PATH_PRJ_JSON\t: string;\n\treadonly\t#PATH_APP_JS\t: string;\n\treadonly\t#PATH_PKG_JSON\t: string;\n\n\treadonly\t#PATH_INS_NSH\t\t: string;\n\treadonly\t#PATH_ICON\t\t\t: string;\n\treadonly\t#PATH_README4FREEM\t: string;\n\treadonly\t#uriRes: Uri;\n\n\t\t\t\t#htmSrc\t= '';\n\n\t\t\t\t#pnlWVFolder;\n\tget pnlWVFolder() {return this.#pnlWVFolder}\n\n\treadonly\t#stgSn;\n\n\t// DisposableStack is not implemented\n//\treadonly\t#ds\t\t= new DisposableStack;\n\treadonly\t#ds\t\t: Disposable[]\t= [];\n\n\treadonly\t#setEscape: ()=> Promise<void>;\n\n\n\t//MARK: \n\tconstructor(\n\t\tprivate readonly pc\t\t: PrjCmn,\n\t\tprivate readonly cfg\t: Config,\n\t\tprivate readonly setTitle\t: (title: string)=> void,\n\t\t\t\treadonly reqPrj2LSP\t: T_reqPrj2LSP,\n\t\tprivate readonly optPic\t: WfbOptPic,\n\t\tprivate readonly optSnd\t: WfbOptSnd,\n\t\tprivate readonly optFont: WfbOptFont,\n\t) {\n\t\tthis.#wss = this.pc.ctx.workspaceState;\n\t\tconst oWss = DEF_WSS;\n\t\tfor (const [nm, v] of Object.entries(oWss)) {\n\t\t\tconst d = this.#wss.get(nm);\n\t\t\tif (d) oWss[<TK_WSS>nm] = <never>d;\n\t\t\telse void this.#wss.update(nm, v);\n\t\t}\n\t\tthis.#oWss = oWss;\n\n\t\tthis.#PATH_PRJ_JSON = this.pc.PATH_PRJ +'prj.json';\n\t\tthis.#PATH_APP_JS = this.pc.PATH_WS +'/doc/app.js';\n\t\tthis.#PATH_PKG_JSON = this.pc.PATH_WS +'/package.json';\n\n\t\tthis.#pnlWVFolder = new WPFolder(this.pc);\n\t\tthis.#stgSn = new WfbSettingSn(this.pc, reqPrj2LSP);\n\n\t\tthis.#PATH_README4FREEM = this.pc.PATH_WS +'/build/include/readme.txt';\n\t\tthis.#PATH_INS_NSH = this.pc.PATH_WS +'/build/installer.nsh';\n\t\tthis.#PATH_ICON = this.pc.PATH_WS +'/build/icon.png';\n\n\t\t// setEscape();\t// \n\n\t\tthis.#setEscape = ()=> reqPrj2LSP({cmd: 'need_go'});\n\n\t\tconst path_ext = this.pc.ctx.extensionPath;\n\t\tconst path_vue_root = path_ext +'/dist/';\n\t\tthis.#uriRes = Uri.file(path_vue_root);\n\t\tvoid Promise.allSettled([\n\t\t\t()=> Promise.try(()=> {\n\t\t\t\tsetTitle(cfg.oCfg.book.title);\n\t\t\t\tPrjSetting.#hWsFld2token[this.pc.wsFld.uri.path] = ()=> cfg.oCfg.debuger_token;\n\t\t\t}),\n\n\t\t\t// \n\t\t\tasync ()=> {\n\t\t\t\tthis.#htmSrc = (await readFile(\n\t\t\t\t\tpath_vue_root +'setting.html', {encoding: 'utf8'}\n\t\t\t\t))\n\t\t\t\t.replace('<meta_autooff ', '<meta ')// \n\t\t\t\t.replaceAll('${nonce}', getNonce())\n\t\t\t\t.replace('.ts\"></script>', '.js\"></script>');\n\n\t\t\t\t// \n\t\t\t\tif (this.#setTmp_save_ns.has(cfg.oCfg.save_ns)) this.open();\n\t\t\t},\n\n\t\t\t// setting.sn\n\t\t\t()=> this.#stgSn.init(),\n\n\t\t\t// \n\t\t\tasync ()=> {\n\t\t\t\tif (! existsSync(this.#PATH_README4FREEM)) {\n\t\t\t\t\tawait ensureFile(this.#PATH_README4FREEM);\n\t\t\t\t\tawait copyFile(path_ext +'/res/readme.txt', this.#PATH_README4FREEM);\n\t\t\t\t}\n\n\t\t\t\tif (! existsSync(this.#PATH_INS_NSH)) await copyFile(\n\t\t\t\t\tpath_ext +'/res/installer.nsh', this.#PATH_INS_NSH\n\t\t\t\t);\n\n\t\t\t\tif (! existsSync(this.#PATH_ICON)) await copyFile(\n\t\t\t\t\tpath_ext +'/res/img/icon.png', this.#PATH_ICON\n\t\t\t\t);\n\n\t\t\t\tconst fnLaunchJs = this.pc.PATH_WS +'/.vscode/launch.json';\n\t\t\t\tif (! existsSync(fnLaunchJs)) await copyFile(\n\t\t\t\t\tpath_ext +'/res/launch.json', fnLaunchJs\n\t\t\t\t);\n\t\t\t},\n\t\t].map(p=> p()));\n\t}\n\treadonly\t#setTmp_save_ns\t= new Set([\n\t\t'tmp_esm_uc',\n\t\t'tmp_cjs_sample',\n\t\t'tmp_cjs_hatsune',\n\t\t'tmp_cjs_uc',\n\t\t'sn_sample',\n\t\t'hatsune',\n\t\t'uc',\n\t]);\n\n\t//MARK: \n\tdispose() {for (const d of this.#ds) d.dispose()}\n\n\n\tgetLocalSNVer(): {verSN: string, verTemp: string} {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\tconst oPkg = readJsonSync(this.#PATH_PKG_JSON, {encoding: 'utf8'});\n\t\tconst fnCngLog = this.pc.PATH_WS +'/CHANGELOG.md';\n\t\tconst lib_name = `@famibee/skynovel${this.pc.IS_NEW_TMP ?'_esm': ''}`;\n\t\treturn {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\t\t\tverSN\t: oPkg.dependencies?.[lib_name]?.slice(1) ?? '',\n\t\t\tverTemp\t: existsSync(fnCngLog)\n\t\t\t\t? /## v(.+)\\s/.exec(readFileSync(fnCngLog, {encoding: 'utf8'}))?.[1] ?? ''\n\t\t\t\t: '',\n\t\t};\n\t}\n\n\tstatic\treadonly\t#hWsFld2token: {[path: string]: ()=> string} = {};\n\tstatic\tgetDebugertoken(wsFld: WorkspaceFolder | undefined) {\n\t\tif (! wsFld) return '';\n\t\treturn PrjSetting.#hWsFld2token[wsFld.uri.path]?.() ?? '';\n\t}\n\n\tasync onCreDir({path}: Uri) {\n\t\tthis.cfg.oCfg.code[basename(path)] = false;\n\t\t//fs.outputJson(this.fnPrjJs, this.oCfg);\n\t\t\t// Cre & Del\n\t\tawait this.cmd2Vue(<T_E2V_CFG>{cmd: 'update.oCfg', oCfg: this.cfg.oCfg});\n\t}\n\tasync onDelDir({path}: Uri) {\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete this.cfg.oCfg.code[basename(path)];\n\t\tvoid this.#writePrjJs();\n\t\tawait this.cmd2Vue(<T_E2V_CFG>{cmd: 'update.oCfg', oCfg: this.cfg.oCfg});\n\n\t\tthis.#pnlWVFolder.close();\n\t}\n\t#writePrjJs() {\n\t\tconst o = {...this.cfg.oCfg};\n\t\to.code = {};\n\t\tfor (const [nm, v] of Object.entries(this.cfg.oCfg.code)) {\n\t\t\tif (v) o.code[nm] = true;\n\t\t}\n\t\treturn writeFile(this.#PATH_PRJ_JSON, JSON.stringify(o, null , '\\t'));\n\t}\n\n\n\t//MARK: \n\t#wp\t: WebviewPanel | undefined = undefined;\n\t#pathIcon\t: string;\n\topen() {\n\t\tif (! ActivityBar.aReady[eTreeEnv.NPM]) return;\n\t\tconst column = window.activeTextEditor?.viewColumn;\n\t\tif (this.#wp) {\n\t\t\tthis.#wp.reveal(column);\n\n\t\t\tconst wv = this.#wp.webview;\n\t\t\twv.html = repWvUri(this.#htmSrc, wv, this.#uriRes);\n\t\t\treturn;\n\t\t}\n\t\tconst p = this.#wp = window.createWebviewPanel('SKYNovel-setting', '', column ?? ViewColumn.One, {\n\t\t\tenableScripts\t\t: true,\n\t\t//\tretainContextWhenHidden: true,\t// \n\t\t\tlocalResourceRoots\t: [\n\t\t\t\tthis.#uriRes,\n\t\t\t\tUri.file(this.pc.PATH_WS),\n\t\t\t],\n\t\t});\n\t\tp.onDidDispose(()=> {\n\t\t\tthis.#wp = undefined;\n\t\t\tthis.cmd2Vue = _=> Promise.resolve(false);\n\t\t}, undefined, this.pc.ctx.subscriptions);\n\t\tconst wv = p.webview;\n\t\tthis.#wvuWs = wv.asWebviewUri(Uri.file(this.pc.PATH_WS));\n\t\tthis.#pathIcon = `${String(this.#wvuWs)}/build/icon.png`;\t//  String() \n\t\tthis.cmd2Vue = async mes=> wv.postMessage(mes);\n\t\twv.onDidReceiveMessage((m: T_V2E)=> this.#onDidReceiveMessage(m), undefined, this.pc.ctx.subscriptions);\n\t\twv.html = repWvUri(this.#htmSrc, wv, this.#uriRes);\n\t}\n\t\tcmd2Vue: (mes: T_E2V)=> Promise<boolean> = _=> Promise.resolve(false);\n\n\t\t#wvuWs\t: Uri;\n\t\tget\twvuWs() {return String(this.#wvuWs)}\t//  String() \n\n\t//MARK: \n\tasync #onDidReceiveMessage(m: T_V2E) {switch (m.cmd) {\n\t\tcase '?':\n\t\t\tawait Promise.allSettled([\n\t\t\t\t(async ()=> {\n\t\t\t\t\tawait this.cmd2Vue(<T_E2V_INIT>{\n\t\t\t\t\t\tcmd\t\t: '!',\n\t\t\t\t\t\toCfg\t: this.cfg.oCfg,\n\t\t\t\t\t\toWss\t: this.#oWss,\n\t\t\t\t\t\tpathIcon: this.#pathIcon,\n\t\t\t\t\t\tfld_src\t: this.pc.FLD_SRC,\n\t\t\t\t\t});\n\t\t\t\t\tthis.#stgSn.chkMultiMatch();\n\t\t\t\t})(),\n\t\t\t\tthis.optFont.disp(),\n\t\t\t\tthis.optPic.disp(),\n\t\t\t\tthis.optSnd.disp(),\n\t\t\t]);\n\t\t\tbreak;\n\n\t\tcase 'update.oCfg':{\n\t\t\tconst {oCfg}: T_V2E_CFG = m;\n\t\t\tconst escOld = this.cfg.oCfg.init.escape;\n\t\t\t// \n\t\t\tconst oc = this.cfg.oCfg;\n\t\t\tconst save_ns = oCfg.save_ns ?? oc.save_ns;\n\t\t\tconst c = this.cfg.oCfg = {\n\t\t\t\t...oc,\n\t\t\t\tbook\t: {...oc.book, ...oCfg.book},\n\t\t\t\tsave_ns,\n\t\t\t\twindow\t: {...oc.window, ...oCfg.window},\n\t\t\t\tlog\t\t: {...oc.log, ...oCfg.log},\n\t\t\t\tinit\t: {...oc.init, ...oCfg.init},\n\t\t\t\tdebug\t: {...oc.debug, ...oCfg.debug},\n\t\t\t\tcode\t: {...oc.code, ...oCfg.code},\n\t\t\t\tdebuger_token\t:\n\t\t\t\t\tthis.#setTmp_save_ns.has(save_ns)\n\t\t\t\t\t? ''\t// \n\t\t\t\t\t: (oCfg.debuger_token ?? oc.debuger_token) || randomUUID(),\n\t\t\t};\n\n\t\t\tif (c.init.escape !== escOld) await this.#setEscape();\n\t\t\tawait this.#writePrjJs();\n\n\t\t\tthis.setTitle(c.book.title);\n\n\t\t\t// package.json\n\t\t\tconst CopyrightYear = new Date().getFullYear();\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\tconst p = await readJson(this.#PATH_PKG_JSON, {encoding: 'utf8'});\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.name = c.save_ns;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.appBundleId = p.appId = `com.fc2.blog.famibee.skynovel.${c.save_ns}`;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.version = c.book.version;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.productName = c.book.title;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.author = c.book.creator;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.appCopyright = `(c)${c.book.creator}`;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.homepage = c.book.pub_url;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.description = c.book.detail;\n\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\tp.build.appId = p.appId;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.build.productName = c.book.title.normalize('NFD');\n\t\t\t// p.build.productName = c.book.title;\n\t\t\t\t// electron-builder \n\t\t\t\t// macOS app crashes when build.productName contains NFC characters  Issue #9264  electron-userland/electron-builder https://github.com/electron-userland/electron-builder/issues/9264\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\tp.build.artifactName = '${name}-${version}-${arch}.${ext}';\n\t\t\tawait writeFile(this.#PATH_PKG_JSON, JSON.stringify(p, null, '\\t'));\n\n\t\t\t// src/main/main.ts, doc/app.js\n\t\t\tif (this.pc.IS_NEW_TMP) replaceRegsFile(this.pc.PATH_WS +'/src/main/main.ts', [\n\t\t\t[\n\t\t\t\t/(companyName\\s*:\\s*)(['\"]).*\\2/,\n\t\t\t\t`$1\"${c.book.publisher}\"`\n\t\t\t],\n\t\t\t[\t// \n\t\t\t\t/(pkg.appCopyright \\+' )\\d+/,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t`$1${CopyrightYear}`\n\t\t\t],\n\t\t\t], false);\n\t\t\telse replaceRegsFile(this.#PATH_APP_JS, [\n\t\t\t[\n\t\t\t\t/(companyName\\s*:\\s*)(['\"]).*\\2/,\n\t\t\t\t`$1\"${c.book.publisher}\"`\n\t\t\t],\n\t\t\t[\t// \n\t\t\t\t/(pkg.appCopyright \\+' )\\d+/,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t`$1${CopyrightYear}`\n\t\t\t],\n\t\t\t], false);\n\n\t\t\t// build/include/readme.txt\n\t\t\treplaceRegsFile(this.#PATH_README4FREEM, [\n\t\t\t[/(Version)[^\\n]+/g, `$1${c.book.version}`],\n\t\t\t[/()[^\\n]+/g, `$1${c.book.title}`],\n\t\t\t[/(  )[^\\n]+/g, `$1${c.book.creator}`],\n\t\t\t[/(   )[^\\n]+/, `$1${c.book.cre_url}`],\n\t\t\t[\t// \n\t\t\t\t/(Copyright \\(C\\) )\\d+ \"([^\"]+)\"/g,\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t`$1${CopyrightYear} \"${c.book.publisher}\"`\n\t\t\t],\n\t\t\t// eslint-disable-next-line no-irregular-whitespace\n\t\t\t[/( )[^\\n]+/g, `$1${c.book.pub_url}`],\n\t\t\t], false);\n\n\t\t\t// build/installer.nsh\n\t\t\treplaceRegsFile(this.#PATH_INS_NSH, [\n\t\t\t\t[/(!define PUBLISHER \").+\"/, `$1${c.book.publisher}\"`],\n\t\t\t], false);\n\n\t\t}\tbreak;\n\n\t\tcase 'change.range.webp_q_def':\n\t\t\tawait this.optPic.chgWebp_q_def(m);\n\t\t\tbreak;\n\n\t\tcase 'change.range.webp_q':\n\t\t\tawait this.optPic.chgWebp_q(m);\n\t\t\tbreak;\n\n\t\tcase 'update.oWss':\n\t\t\tfor (const [id, val] of Object.entries(m.oWss)) {\n\t\t\t\tconst old_val = <never>this.#oWss[<TK_WSS>id];\n\t\t\t\tif (old_val === val) continue;\n\n\t\t\t\tawait this.#wss.update(id, val);\n\t\t\t\tthis.#oWss[<TK_WSS>id] = <never>val;\n\t\t\t\tswitch (id) {\n\t\t\t\t\tcase 'cnv.font.subset':\t\tbreak;\n\t\t\t\t//\tcase 'cnv.icon.shape':\t\tcontinue;\n\t\t\t\t\tcase 'cnv.mat.pic':\t\t\tbreak;\n\t\t\t\t//\tcase 'cnv.mat.webp_quality':continue;\t\t//===\n\t\t\t\t\tcase 'cnv.mat.snd':\t\t\tbreak;\n\t\t\t\t\tcase 'cnv.mat.snd.codec':\tbreak;\n\t\t\t\t\tdefault:\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tconst o: T_E2V_NOTICE_COMPONENT = {cmd: 'notice.Component', id, mode: 'wait'};\n\t\t\t\tawait this.cmd2Vue(o);\n\n\t\t\t\tconst go = await this.#onSettingEvt(id, String(val));\n\t\t\t\tif (go) o.mode = 'comp';\n\t\t\t\telse {\n\t\t\t\t\tawait this.#wss.update(id, this.#oWss[<TK_WSS>id] = old_val);\n\t\t\t\t\to.mode = 'cancel';\n\t\t\t\t}\n\t\t\t\tawait this.cmd2Vue(o);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'update.aTemp': this.#stgSn.update(m); break;\n\n\t\tcase 'info':\twindow.showInformationMessage(m.mes);\tbreak;\n\t\tcase 'warn':\twindow.showWarningMessage(m.mes);\tbreak;\n\t\tcase 'openURL':\topenURL(Uri.parse(m.url), this.pc.PATH_WS);\tbreak;\n\n\t\tcase 'copyTxt':{\n\t\t\tif (m.id !== 'copy.folder_save_app') break;\n\n\t\t\tconst {username} = userInfo();\n\t\t\tswitch (process.platform) {\n\t\t\tcase 'win32':\n\t\t\t\tawait env.clipboard.writeText(`C:\\\\Users\\\\${username}\\\\AppData\\\\Roaming\\\\${this.cfg.oCfg.save_ns}\\\\storage\\\\`);\n\t\t\t\tbreak;\n\t\t\tcase 'darwin':\n\t\t\t\tawait env.clipboard.writeText(`/Users/${username}/Library/Application Support/${this.cfg.oCfg.save_ns}/storage/`);\n\t\t\t\tbreak;\n\t\t\tcase 'linux':\n\t\t\t\tawait env.clipboard.writeText(`~/.config/${this.cfg.oCfg.save_ns}/storage/`);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\twindow.showInformationMessage('');\n\t\t}\tbreak;\n\n\t\tcase 'selectFile':\n\t\t\tawait this.optPic.cnvIconShape(m, this.#pathIcon);\n\t\t\tbreak;\n\t}}\n\n\n\t//MARK: \n\t// false\n\tasync #onSettingEvt(nm: string, val: string): Promise<boolean> {\n//console.log(`fn:Project.ts #cmd nm:${nm} val:${val}`);\n\t\t//  valthis.pc.ctx.workspaceState.get() \n\t\tswitch (nm) {\n\t\tcase 'cnv.font.subset':\n\t\t\tif (await window.showInformationMessage(' / ', {modal: true}, '') !== '') return false;\n\n\t\t\tif (! ActivityBar.aReady[eTreeEnv.PY_FONTTOOLS]) break;\n\n\t\t\tif (chkBoolean(val)) await this.optFont.enable();\n\t\t\telse await this.optFont.disable();\n\t\t\tbreak;\n\n\t\tcase 'cnv.mat.pic':\n\t\t\tif (await window.showInformationMessage(' / ', {modal: true}, '') !== '') return false;\n\n\t\t\tif (chkBoolean(val)) await this.optPic.enable();\n\t\t\telse await this.optPic.disable();\n\t\t\tbreak;\n\n\t\tcase 'cnv.mat.snd':\n\t\t\tif (await window.showInformationMessage(' / ', {modal: true}, '') !== '') return false;\n\n\t\t\tif (chkBoolean(val)) await this.optSnd.enable();\n\t\t\telse await this.optSnd.disable();\n\t\t\tbreak;\n\n\t\tcase 'cnv.mat.snd.codec':\n\t\t\tawait this.optSnd.reconv();\n\t\t\tbreak;\n\t\t}\n\n\t\treturn true;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2021-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {is_win} from './CmnLib';\nimport {oIcon} from './ActivityBar';\n\nimport type {ExtensionContext, WorkspaceFolder} from 'vscode';\nimport {TreeItem, TreeItemCollapsibleState, commands, ThemeIcon} from 'vscode';\n\n\nexport type PrjBtnName =\n\t'Batch'|\n\t'SnUpd'|\n\t'SnUpd_waited'|\n\t'ReBuild'|\n\t'PrjSet'|\n\t'Crypto'|\n\t'Crypto_waited'|\n\t'TaskWeb'|\n\t'TaskWebDbg'|\n\t'TaskWebStop'|\n\t'TaskApp'|\n\t'TaskAppStop'|\n\t'TaskAppDbg'|\n\t'TaskAppDbgStop'|\n\t'PackWin'|\n\t'PackWin32'|\n\t'PackMac'|\n\t'PackMacArm64'|\n\t'PackLinux'|\n\t'PackFreem';\n\nexport type TASK_TYPE = 'Sys'|'Web'|'App'|'Pkg';\n\nexport type TREEITEM_CFG = {\n\tcmd\t\t: PrjBtnName | '',\n\texe?\t: boolean,\n\ticon\t: string,\n\tlabel\t: string,\n\ttask_type?\t: TASK_TYPE,\n\tdesc?\t: string,\n\tnpm?\t: string,\n\tchildren?\t: TREEITEM_CFG[],\n\tforMac?\t\t: boolean,\n}\n\ntype ON_BTN = (ti: TreeItem, btn_nm: PrjBtnName, cfg: TREEITEM_CFG)=> void;\n\n\nexport let statBreak = ';';\t\t// \nexport function updStatBreak(s: string) {statBreak = s}\n\nexport const enum eDevTreeView {\n\tSnUpd = 0,\n\tReBuild,\n\tPrjSet,\n\tCrypto,\n\tTaskWeb,\n\tTaskApp,\n\tPack,\n}\n\n\nexport class PrjTreeItem extends TreeItem {\n\tstatic\tcreate(\n\t\tctx\t\t\t: ExtensionContext,\n\t\twsFld\t\t: WorkspaceFolder,\n\t\tonBtn\t\t: ON_BTN,\n\t\tis_new_tmp\t: boolean,\n\t): PrjTreeItem {\n\t\tconst cfg: TREEITEM_CFG = {\n\t\t\tcmd\t\t: '',\n\t\t\ticon\t: '',\n\t\t\tlabel\t: '',\n\t\t\tdesc\t: wsFld.name,\n\t\t\tchildren: [\n\t\t\t\t{cmd: 'SnUpd',\t\ticon: 'skynovel',\tlabel: '',\n\t\t\t\t\ttask_type: 'Sys',\n\t\t\t\t\tnpm: `npm update${\n\t\t\t\t\t\tis_new_tmp\n\t\t\t\t\t\t? ''\n\t\t\t\t\t\t: ` ${statBreak} npm run webpack:dev`\n\t\t\t\t\t}`,\n\t\t\t\t},\n\t\t\t\t{cmd: 'ReBuild',\ticon: 'refresh',\tlabel: '',\n\t\t\t\t\ttask_type: 'Sys', npm: 'npm run rebuild'},\n\t\t\t\t{cmd: 'PrjSet',\t\ticon: 'gear',\tlabel: '',\ttask_type: 'Sys',},\n\t\t\t\t{cmd: 'Crypto',\t\ticon: 'gear',\tlabel: '',task_type: 'Sys', npm: is_new_tmp\n\t\t\t\t\t? 'echo \"Crypto\"'\n\t\t\t\t\t: 'npm run webpack:dev'},\n\t\t\t\t{cmd: 'TaskWeb',\ticon: 'browser',\tlabel: '',\n\t\t\t\t\ttask_type: 'Web',npm: 'npm run web',\texe: true,},\n\t\t\t\t{cmd: 'TaskApp',\ticon: 'electron',\tlabel: '',\n\t\t\t\t\ttask_type: 'App',\n\t\t\t\t\tnpm: `npm run ${is_new_tmp ?'app' :'start'}`,\n\t\t\t\t\texe: true,},\n\t\t\t\t{cmd: '', icon: '',label: '', children: [\n\t\t\t\t\t{cmd: 'PackWin',\ticon: 'windows',\tlabel: 'Windows exe x64',\n\t\t\t\t\t\tnpm: `npm run webpack:pro ${statBreak\n\t\t\t\t\t\t} electron-builder -w --x64`},\n\t\t\t\t\t//\t} electron-builder -w --x64 --ia32`},\n\t\t\t\t\t\t\t// \n\t\t\t\t\t{cmd: 'PackWin32',\ticon: 'windows',\tlabel: 'Windows exe ia32',\n\t\t\t\t\t\tnpm: `npm run webpack:pro ${statBreak\n\t\t\t\t\t\t} electron-builder -w --ia32`},\n\t\t\t\t\t{cmd: 'PackMac',\ticon: 'macosx',\t\tlabel: 'macOS dmg x64',\n\t\t\t\t\t\tnpm: `npm run webpack:pro ${statBreak\n\t\t\t\t\t\t} electron-builder -m --x64`,\n\t\t\t\t\t\tforMac: true,},\n\t\t\t\t\t{cmd: 'PackMacArm64',\ticon: 'macosx',\tlabel: 'macOS dmg arm64',\n\t\t\t\t\t\tnpm: `npm run webpack:pro ${statBreak\n\t\t\t\t\t\t} electron-builder -m --arm64`,\n\t\t\t\t\t\tforMac: true,},\n\t\t\t\t\t\t// Apple| Electron https://www.electronjs.org/blog/apple-silicon\n\t\t\t\t\t\t\t// arm64x641\n\t\t\t\t\t{cmd: 'PackLinux',\ticon: 'linux',\t\tlabel: 'Linux AppImage',\n\t\t\t\t\t\tnpm: `npm run webpack:pro ${statBreak\n\t\t\t\t\t\t} electron-builder -l`},\n\t\t\t\t\t\t// Command Line Interface (CLI) - electron-builder https://www.electron.build/cli\n\t\t\t\t\t{cmd: 'PackFreem',\ticon: 'freem',\t\tlabel: ' zip',\n\t\t\t\t\t\tnpm: 'npm run webpack:pro'},\n\t\t\t\t]},\n\t\t\t],\n\t\t};\n\t\tif (is_new_tmp) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst ePack = cfg.children![eDevTreeView.Pack]!;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tePack.children = ePack.children!.map(e=> ({...e, npm: e.npm?.replace('webpack:pro', 'app_bld')}));\n\t\t}\n\n\t\tconst pathWs = wsFld.uri.fsPath;\n\t\tconst pti = new PrjTreeItem(ctx, pathWs, cfg);\n\t\tpti.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\n\t\t// registerCommand()\n\t\tPrjTreeItem.regCmds = ()=> { /* empty */ };\n\t\tPrjTreeItem.#hPathWs2onBtn[pathWs] = onBtn;\n\n\t\treturn pti;\n\t}\n\tstatic\t#hPathWs2onBtn\t: {[pathWs: string]: ON_BTN}\t= {};\n\n\n\t#children\t: TreeItem[]\t= [];\n\tprivate\tconstructor(readonly ctx: ExtensionContext, private\treadonly pathWs: string, readonly cfg: TREEITEM_CFG) {\n\t\tsuper(is_win && cfg.forMac ?'' :cfg.label);\n\n\t\tif (is_win && cfg.forMac) this.description = 'Windows';\n\t\telse {\n\t\t\tthis.description = cfg.desc ?? '';\n\n\t\t\tif (cfg.cmd) {\n\t\t\t\tconst cntVal = this.contextValue = 'skynovel.dev'+ <string>cfg.cmd;\n\t\t\t\tPrjTreeItem.regCmds(ctx, cntVal, cfg);\n\t\t\t}\n\t\t}\n\n\t\tif (cfg.children) {\n\t\t\tthis.iconPath = ThemeIcon.Folder;\n\t\t\tthis.collapsibleState = TreeItemCollapsibleState.Collapsed;\n\t\t\tthis.#children = cfg.children.map(c=> new PrjTreeItem(ctx, pathWs, c));\n\t\t}\n\t\telse {\n\t\t\tthis.iconPath = oIcon(cfg.icon);\n\t\t\tthis.collapsibleState = TreeItemCollapsibleState.None;\n\t\t}\n\t}\n\tprivate\tstatic\tregCmds(ctx: ExtensionContext, cntVal: string, cfg: TREEITEM_CFG) {\n\t\tif (cfg.cmd === '') return;\n\n\t\tPrjTreeItem.#regCmd(ctx, cntVal, cfg.cmd, cfg);\n\t\tif (cfg.exe) {\n\t\t\tPrjTreeItem.#regCmd(ctx, cntVal +'Dbg', <PrjBtnName>(<string>cfg.cmd +'Dbg'), cfg);\n\t\t\tPrjTreeItem.#regCmd(ctx, cntVal +'Stop',<PrjBtnName>(<string>cfg.cmd +'Stop'),cfg);\n\t\t}\n\t}\n\tstatic\t#regCmd(ctx: ExtensionContext, cntVal: string, btn_nm2: PrjBtnName, cfg: TREEITEM_CFG) {\n\t\tctx.subscriptions.push(commands.registerCommand(\n\t\t\tcntVal,\n\t\t\t(ti: PrjTreeItem)=> PrjTreeItem.#hPathWs2onBtn[ti.pathWs]?.(ti, btn_nm2, cfg),\n\t\t));\n\t}\n\n\tget children() {return this.#children}\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2019-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {FULL_PATH, FULL_SCH_PATH, IDecryptInfo} from './CmnLib';\nimport {treeProc, foldProc, replaceFile, is_win, docsel, getFn, vsc2fp, REG_SCRIPT, hDiagL2s, uri2path} from './CmnLib';\nimport {PrjSetting} from './PrjSetting';\nimport {Encryptor, ab2hexStr, encStrBase64} from './Encryptor';\nimport {ActivityBar, eTreeEnv} from './ActivityBar';\nimport {EncryptorTransform} from './EncryptorTransform';\nimport type {TREEITEM_CFG, PrjBtnName, TASK_TYPE} from './PrjTreeItem';\nimport {PrjTreeItem, statBreak, eDevTreeView} from './PrjTreeItem';\nimport type {QuickPickItemEx} from './WorkSpaces';\nimport {aPickItems, openURL, PRE_TASK_TYPE} from './WorkSpaces';\nimport {Config, SysExtension} from './Config';\nimport {SEARCH_PATH_ARG_EXT, type IFn2Path} from './ConfigBase';\nimport type {T_PP2SNSTR, T_ALL_L2S, T_H_PLGDEF, T_H_ADIAG_L2S, T_S2L_hover_res, T_ALL_S2L} from '../server/src/LspWs';\nimport {FLD_PRJ_BASE, PrjCmn} from './PrjCmn';\nimport {WfbOptPic} from './batch/WfbOptPic';\nimport {WfbOptSnd} from './batch/WfbOptSnd';\nimport {WfbOptFont} from './batch/WfbOptFont';\nimport {HDiff} from './HDiff';\n\nimport {imageSizeFromFile} from 'image-size/fromFile';\nimport {webcrypto, randomUUID, getRandomValues} from 'crypto';\t// err\nconst {subtle} = webcrypto;\t// https://github.com/nodejs/node/blob/dae283d96fd31ad0f30840a7e55ac97294f505ac/doc/api/webcrypto.md\nimport * as archiver from 'archiver';\nimport {execSync} from 'child_process';\nimport ncu from 'npm-check-updates'\nimport AsyncReplace from 'str-async-replace';\nimport Encoding from 'encoding-japanese';\n\nimport type {DebugSession, Disposable, DocumentDropEdit, EventEmitter, ExtensionContext, Position, ProviderResult, TaskProcessEndEvent,  TextDocument, TreeItem, WorkspaceFolder} from 'vscode';\nimport {commands, debug, env, EvaluatableExpression, Hover, languages, MarkdownString, ProgressLocation, QuickPickItemKind, Range, RelativePattern, ShellExecution, SnippetString, Task, tasks, ThemeIcon, Uri, window, workspace, WorkspaceEdit} from 'vscode';\nimport {basename, dirname, extname} from 'node:path';\nimport {glob, readFile} from 'node:fs/promises';\nimport {readFileSync} from 'node:fs';\nimport {createReadStream, createWriteStream, existsSync, outputFile, outputJson, readJsonSync, remove, removeSync, copy, readJson, ensureFile, copyFile, statSync, writeFile, unlink, move, mkdirs, moveSync} from 'fs-extra';\n\n\ntype BtnEnable = '_off'|'Stop'|'';\n\nexport\tconst\tFLD_CRYPT_DOC\t= 'doc_crypto';\n\nexport\tconst\tREG_NEEDCRYPTO\t\t= /\\.(ss?n|json|html?|jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv|html?)$/;\nexport\tconst\tREG_FULLCRYPTO\t\t= /\\.(ss?n|json|html?)$/;\n\n\nexport type T_reqPrj2LSP = (o: T_ALL_L2S)=> Promise<void>;\n\nconst\tmExt2aFld = new Map<SEARCH_PATH_ARG_EXT, string[]>([\n\t[SEARCH_PATH_ARG_EXT.SP_GSM,\t['bg','image']],\n\t[SEARCH_PATH_ARG_EXT.SOUND,\t\t['music','sound']],\n\t[SEARCH_PATH_ARG_EXT.FONT,\t\t['script']],\n\t[SEARCH_PATH_ARG_EXT.SCRIPT,\t['script']],\n]);\n\n\nexport class Project {\n\treadonly\t#pc;\n\n\treadonly\t#PATH_CRYPT;\n\t#isCryptoMode\t= false;\n\n\treadonly\t#encry;\n\treadonly\t#diff;\t// \n\treadonly\t#ps;\n\n//\treadonly\t#ds\t\t= new DisposableStack;\n\treadonly\t#ds\t\t: Disposable[]\t= [];\n\n\t#dspCryptoMode;\t\t// \n\n\treadonly\t#aTiFlat: TreeItem[]\t= [];\n\tenableBtn(enabled: boolean): void {\n\t\tif (enabled) for (const ti of this.#aTiFlat) {\n\t\t\tti.contextValue = ti.contextValue?.trimEnd();\n\t\t\tthis.emPrjTD.fire(ti);\n\t\t}\t// \n\t\telse for (const ti of this.#aTiFlat) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\tti.contextValue += ' ';\n\t\t\tthis.emPrjTD.fire(ti);\n\t\t}\t// \n\t}\n\n\t#haDiagFont\t\t: T_H_ADIAG_L2S\t= {};\n\t#haDiagChrCd\t: T_H_ADIAG_L2S\t= {};\n\n\treadonly\t#cfg;\n\t\t\t\t#haDiagFn\t: T_H_ADIAG_L2S\t= {};\n\n\treadonly\t#optPic;\n\treadonly\t#optSnd;\n\treadonly\t#optFont;\n\n\n\t//MARK: \n\tconstructor(\n\t\tprivate readonly ctx\t: ExtensionContext,\n\t\tprivate readonly actBar\t: ActivityBar,\n\t\tprivate readonly wsFld\t: WorkspaceFolder,\n\t\t\t\treadonly aTiRoot: TreeItem[],\n\t\tprivate readonly emPrjTD: EventEmitter<TreeItem | undefined>,\n\t\tprivate readonly hOnEndTask\t: Map<TASK_TYPE, (e: TaskProcessEndEvent)=> void>,\n\t\tprivate\treadonly reqPrj2LSP\t: T_reqPrj2LSP,\n\t) {\n// console.log(`020 fn:Project.ts construct #PATH_WS=${this.#pc.PATH_WS}=`);\n\t\tthis.#pc = new PrjCmn(\n\t\t\tctx,\n\t\t\twsFld,\n\t\t\tthis.hOnEndTask,\n\t\t);\n\n\t\t// \n\t\tthis.#PATH_CRYPT = `${this.#pc.PATH_WS}/${FLD_CRYPT_DOC}/prj/`;\n\t\t{\t// v4.25.2 \n\t\t\tconst OLD_FLD_DOC_CRYPTO = `${this.#pc.PATH_WS}/doc/crypto_prj/`;\n\t\t\tif (existsSync(OLD_FLD_DOC_CRYPTO)) {\n\t\t\t\tmoveSync(OLD_FLD_DOC_CRYPTO, this.#PATH_CRYPT);\n\t\t\t}\n\t\t\tconst gi = `${this.#pc.PATH_WS}/.gitignore`;\n\t\t\tif (existsSync(gi)) replaceFile(\n\t\t\t\tgi,\n\t\t\t\t/\\/doc\\/crypto_prj\\n/,\n\t\t\t\t`/${FLD_CRYPT_DOC}\\n`,\n\t\t\t\tfalse,\n\t\t\t);\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/package.json',\n\t\t\t\t/\"doc\\/crypto_prj\\/\",/,\n\t\t\t\t`\"${FLD_CRYPT_DOC}/prj/\",`,\n\t\t\t\tfalse,\n\t\t\t);\n\t\t}\n\t\tthis.#isCryptoMode = existsSync(this.#PATH_CRYPT);\n\t\tconst fnPass = this.#pc.PATH_WS +'/pass.json';\n\t\tconst exists_pass = existsSync(fnPass);\n\t\tthis.#encry = new Encryptor(exists_pass\n\t\t\t? <IDecryptInfo>readJsonSync(fnPass, {throws: false})\n\t\t\t: {\n\t\t\t\tpass\t: randomUUID(),\n\t\t\t\tsalt\t: ab2hexStr(getRandomValues(new Uint32Array(128 / 8)).buffer),\n\t\t\t\tiv\t\t: ab2hexStr(getRandomValues(new Uint32Array(128 / 8)).buffer),\n\t\t\t\tkeySize\t: 512 / 32,\n\t\t\t\tite\t\t: 500 + Math.floor((new Date).getTime() % 300),\n\t\t\t\tstk\t\t: ab2hexStr(getRandomValues(new Uint32Array(128 / 8)).buffer),\n\t\t\t}, subtle);\n\t\tconst is_new_tmp = this.#pc.IS_NEW_TMP;\n\t\tif (! exists_pass) void outputFile(fnPass, this.#encry.strHPass);\n\t\tthis.#aRepl = is_new_tmp\n\t\t? [\n\t\t\t`${this.#pc.FLD_SRC}/web.ts`,\n\t\t\t`${this.#pc.FLD_SRC}/renderer/renderer.ts`,\n\t\t]\n\t\t: [\n\t\t\t`${this.#pc.FLD_SRC}/app4webpack.js`,\n\t\t\t`${this.#pc.FLD_SRC}/web4webpack.js`,\n\t\t];\n\n\t\t// \n\t\tconst sr = new SysExtension({cur: this.#pc.PATH_PRJ, crypto: this.#isCryptoMode, dip: ''});\n\t\tthis.#cfg = new Config(sr, this.#encry);\n\n\t\tconst pti = PrjTreeItem.create(\n\t\t\tctx,\n\t\t\twsFld,\n\t\t\t(ti, btn_nm, cfg)=> {void this.#onBtn(ti, btn_nm, cfg)},\n\t\t\tis_new_tmp,\n\t\t);\n\t\taTiRoot.push(pti);\n\n\t\tthis.#ds.push(this.#ps = new PrjSetting(\n\t\t\tthis.#pc,\n\t\t\tthis.#cfg,\n\t\t\ttitle=> {\n\t\t\t\tpti.label = title;\n\t\t\t\temPrjTD.fire(pti);\n\t\t\t},\n\t\t\tthis.reqPrj2LSP,\n\t\t\tthis.#optPic\t= new WfbOptPic(this.#pc),\n\t\t\tthis.#optSnd\t= new WfbOptSnd(this.#pc),\n\t\t\tthis.#optFont\t= new WfbOptFont(this.#pc),\n\t\t));\n\n\t\t// \n\t\tthis.#diff = new HDiff(\n\t\t\t`${this.#pc.PATH_WS}/${this.#pc.FLD_SRC}/diff.json`,\n\t\t\tthis.#pc.FLD_SRC,\n\t\t\tthis.#PATH_CRYPT,\n\t\t\tthis.#encry,\n\t\t);\n\n\t\tconst updPathJson = async ()=> {\n\t\t\t// path.json \n// console.log(`fn:Project.ts #basePathJson`);\n\t\t\tthis.#haDiagFn = {};\n\t\t\tawait this.#cfg.loadEx(uri=> this.#encFile(uri), this.#haDiagFn);\n\n\t\t\t// \n\t\t\tfor (const [spae, aFld] of mExt2aFld) this.#mExt2ToPath.set(\n\t\t\t\tspae,\n\t\t\t\taFld.filter(fld_nm=> existsSync(this.#pc.PATH_WS +`/doc/prj/${fld_nm}/`)),\n\t\t\t);\n\n\t\t\t// \n\t\t\tawait this.reqPrj2LSP({cmd: 'need_go'});\n\t\t};\n\t\tthis.#pc.init(\n\t\t\tupdPathJson,\n\t\t\turi=> this.#encIfNeeded(uri),\n\t\t\tthis.#diff,\n\t\t\t()=> this.#isCryptoMode,\n\t\t\tthis.#ps,\n\t\t);\n\t\tthis.#optPic.initOnce(\n\t\t\tupdPathJson,\n\t\t\turi=> this.#encIfNeeded(uri),\n\t\t);\n\n\t\tconst aTi = pti.children;\n\t\tconst aC = (<PrjTreeItem>aTi.at(-1)).children;\n\t\tthis.#aTiFlat = [...aTi.slice(0, -1), ...aC];\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst tiSnUpd = aTi[eDevTreeView.SnUpd]!;\n\t\tthis.getLocalSNVer = ()=> {\n\t\t\tconst o = this.#ps.getLocalSNVer();\n\t\t\ttiSnUpd.description = o.verSN\n\t\t\t\t? o.verSN.startsWith('ile:') || o.verSN.startsWith('./')\n\t\t\t\t? ''\n\t\t\t\t: `-- ${o.verSN}${o.verTemp ?` - ${o.verTemp}` :''}`\n\t\t\t\t: '';\n\t\t\temPrjTD.fire(tiSnUpd);\n\t\t\treturn o;\n\t\t};\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst tiCrypto = aTi[eDevTreeView.Crypto]!;\n\t\tthis.#dspCryptoMode = ()=> {\n\t\t\ttiCrypto.description = `-- ${this.#isCryptoMode ?'' :''}`;\n\t\t\temPrjTD.fire(tiCrypto);\n\t\t};\n\n\t\tvoid this.#encry.init()\n\t\t.then(()=> Promise.allSettled([\n\t\t\tasync ()=> {\n\t\t\t\tawait this.#initCrypto();\n\t\t\t\tthis.#dspCryptoMode();\n\n\t\t\t\t// prj.json code\n\t\t\t\tfoldProc(this.#pc.PATH_PRJ, ()=> { /* empty */ }, nm=> {\n\t\t\t\t\tif (nm in this.#cfg.oCfg.code) return;\n\t\t\t\t\tthis.#cfg.oCfg.code[nm] = false;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tasync ()=> {\n\t\t\t\t// \n\t\t\t\tif (! is_new_tmp) {\n\t\t\t\t\t// ==  updPrjFromTmp() \n\t\t\t\t\t// core/webpack.config.js\n\t\t\t\t\t// \n\t\t\t\t\tfor await (const fn of glob(this.#pc.PATH_WS +'/doc/{app/app,web}.vendors-node_modules_*.js')) await unlink(fn);\n\n\t\t\t\t\t// ==  \n\t\t\t\t\t// package.json\n\t\t\t\t\treplaceFile(\t// \n\t\t\t\t\t\tthis.#pc.PATH_WS +'/package.json',\n\t\t\t\t\t\t/github.com:famibee\\/SKYNovel_/,\n\t\t\t\t\t\t'github.com:famibee/tmp_cjs_',\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t);\n\n\t\t\t\t\treplaceFile(\t// \n\t\t\t\t\t\tthis.#pc.PATH_WS +'/package.json',\n\t\t\t\t\t\t/ && npm i && npm run webpack:dev/,\n\t\t\t\t\t\t' && npm i\",\\n\\t\\t\"postinstall\": \"npm run webpack:dev',\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t// v4.21.4 \n\t\t\t\tfor await (const fn of glob(this.#pc.PATH_WS +'/build/{cnv_*,cut_round,subset_font}.{js,json}')) {\n\t\t\t\t\tconst dest = fn.replace('/build/', `/${this.#pc.FLD_SRC}/batch/`);\n\t\t\t\t\tawait move(fn, dest);\n\t\t\t\t}\n\t\t\t\t// v4.21.4 \n\t\t\t\tconst OLD_FLD_PRJ_BASE = `${this.#pc.PATH_WS}/doc/${FLD_PRJ_BASE}/`;\n\t\t\t\tif (existsSync(OLD_FLD_PRJ_BASE)) await move(OLD_FLD_PRJ_BASE, this.#pc.PATH_PRJ_BASE);\n\n\t\t\t\t// v4.21.2  settings.json \n\t\t\t\tconst pathStgJS = this.#pc.PATH_WS +'/.vscode/settings.json';\n\t\t\t\tif (existsSync(pathStgJS)) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\tconst o = await readJson(pathStgJS, {encoding: 'utf8'});\n\t\t\t\t\tif (! ('terminal.integrated.env.windows' in o)) {\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\t\to['terminal.integrated.env.windows'] = {\n\t\t\t\t\t\t\t'PATH': '${workspaceRoot}\\\\node_modules\\\\.bin;${env:PATH}'\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\t\to['terminal.integrated.env.osx'] = {\n\t\t\t\t\t\t\t'PATH': '${workspaceRoot}/node_modules/.bin:${env:PATH}'\n\t\t\t\t\t\t};\n\t\t\t\t\t\tawait writeFile(pathStgJS, JSON.stringify(o, null, '\\t'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse await copyFile(ctx.extensionPath +'/res/settings.json', pathStgJS);\n\t\t\t},\n\n\t\t\tasync ()=> {\n\t\t\t\tconst firstInit = ! existsSync(this.#pc.PATH_WS +'/node_modules');\n\t\t\t\tawait this.#updPlugin(firstInit);\t// updPlugin  goAll() \n\t\t\t\tif (firstInit) {\n\t\t\t\t\t if (ActivityBar.aReady[eTreeEnv.NPM]) window.showInformationMessage('', {modal: true});\n\t\t\t\t}\n\t\t\t\telse await actBar.chkLastSNVer([this.getLocalSNVer()]);\n\t\t\t},\n\n\t\t\t// {jpg,jpeg,png} -> webp\n\t\t\t()=> this.#optPic.init(),\n\n\t\t\t// {mp3,wav} -> {m4a,aac,ogg}\n\t\t\t()=> this.#optSnd.init(),\n\n\t\t\t// {sn, htm ...} -> {woff2,woff,otf,ttf}\n\t\t\t()=> this.#optFont.init(\n\t\t\t\tasync fp=> {\n\t\t\t\t\tif (! /\\.(ss?n|json)$/.test(fp)) return;\n\n\t\t\t\t\t// sn,json  ASCII  UTF8 \n\t\t\t\t\tthis.#chkChrCd(fp);\n\t\t\t\t\tawait this.reqPrj2LSP({cmd: 'upd_diag', haDiag: this.#haDiag});\n\t\t\t\t},\n\t\t\t\tasync fp=> {\n\t\t\t\t\tif (! /\\.(ss?n|json)$/.test(fp)) return false;\n\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\t\t\t\tdelete this.#haDiagChrCd[fp];\n\t\t\t\t\tawait this.reqPrj2LSP({cmd: 'upd_diag', haDiag: this.#haDiag});\n\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\t()=> this.reqPrj2LSP({cmd: 'need_go'}),\n\t\t\t),\n\n\t\t\t()=> this.#diff.init(),\n\n\t\t\t()=> Promise.try(()=> this.#ds.push(\n\t\t\t\t// prj.json \n\t\t\t\tworkspace.createFileSystemWatcher(\n\t\t\t\t\tnew RelativePattern(wsFld, 'doc/prj/prj.json')\n\t\t\t\t).onDidChange(uri=> this.#encIfNeeded(uri)),\n\n\t\t\t\tdebug.onDidTerminateDebugSession(_=> this.#onDidTermDbgSS()),\n\t\t\t\tdebug.onDidStartDebugSession(ds=> this.#aDbgSS.push(ds)),\n\n\t\t\t\t// \n\t\t\t\tlanguages.registerEvaluatableExpressionProvider(docsel, {provideEvaluatableExpression(doc, pos): ProviderResult<EvaluatableExpression> {\n\t\t\t\t\tconst r = doc.getWordRangeAtPosition(pos, /;.+|[[*]?[\\d\\w.]+=?/);\t// https://regex101.com/r/G77XB6/3 20 match, 188 step(~1ms)\n\t\t\t\t\tif (! r) throw new Error('No word here.');\n\n\t\t\t\t\tconst txt = doc.getText(r);\n\t\t\t\t\tconst hc = txt.at(0);\n\t\t\t\t\tif (hc === '[' || hc === '*' || hc === ';'\n\t\t\t\t\t|| txt.endsWith('=')) throw new Error('No word here.');\n\t\t\t\t\treturn new EvaluatableExpression(r, txt);\n\t\t\t\t}}),\n\t\t\t)),\n\t\t].map(p=> p()))).then(async ()=> {\n\t\t\tawait this.#optPic.init2th();\n\n// console.log('Seq_ 3 fn:Project.ts constructor.ready');\n\t\t\tawait this.reqPrj2LSP({cmd: 'ready'});\t// src/Project.ts \n\t\t});\n\t}\n\n\treadonly\tgetLocalSNVer\t: ()=> {verSN: string, verTemp: string};\n\t\t\t\t#aDbgSS\t\t\t: DebugSession[]\t= [];\n\t#onDidTermDbgSS = ()=> { /* empty */ }\n\n\t//MARK: \n\t// DisposableStack is not implemented\n//\t[Symbol.dispose]() {this.#ds.dispose()}\n\tdispose() {\n\t\tfor (const d of this.#ds) d.dispose();\n\t\tvoid this.#termDbgSS();\n\t\tthis.#pc.hTaskExe.forEach(v=> v.terminate());\n\t\tthis.#pc.hTaskExe.clear();\n\t}\n\n\n\t#termDbgSS() {\n\t\tthis.#pc.hTaskExe.get('TaskWeb')?.terminate();\n\t\tthis.#pc.hTaskExe.delete('TaskWeb');\n\t\tthis.#pc.hTaskExe.get('TaskApp')?.terminate();\n\t\tthis.#pc.hTaskExe.delete('TaskApp');\n\n\t\tconst a = this.#aDbgSS.map(ds=> debug.stopDebugging(ds));\n\t\tthis.#aDbgSS = [];\n\t\treturn Promise.allSettled(a);\n\t}\n\n\n\t//MARK: LSP\n\tonRequest(o: T_ALL_S2L) {\n// console.log(`Seq_21  cmd:${o.cmd} fn:Project.ts onRequest o:%o`, o);\t//NOTE: S2L\n\t\tswitch (o.cmd) {\n\t\t\tcase 'go':{\t// #noticeGo() \n\t\t\t\t//NOTE: #haDiagFont \n\t\t\t\t// \n\t\t\t\tthis.#haDiagFont = this.#optFont.updDiag(o.InfFont);\n\n\t\t\t\t// sn,json  ASCII  UTF8 \n\t\t\t\tconst pp2s: T_PP2SNSTR = {};\n\t\t\t\tthis.#haDiagChrCd = {};\n\t\t\t\ttreeProc(this.#pc.PATH_PRJ, fp=> {\n\t\t\t\t\tif (/\\.(ss?n|json)$/.test(fp)) this.#chkChrCd(fp, pp2s);\n\t\t\t\t});\n\n\t\t\t\tvoid this.reqPrj2LSP({cmd: 'go.res',\n\t\t\t\t\tpp2s,\n\t\t\t\t\thDefPlg\t: this.#hDefPlg,\n\t\t\t\t\thaDiag\t: this.#haDiag,\n\t\t\t\t});\n\t\t\t}\tbreak;\n\n\t\t\tcase 'analyze_inf':{\t// #scanEnd() \n\t\t\t\tthis.#aPickItems = [\n\t\t\t\t\t...aPickItems,\n\n\t\t\t\t\t{kind: QuickPickItemKind.Separator, label: ''},\n\n\t\t\t\t\t...o.aQuickPickMac\n\t\t\t\t\t.map(({label, description, uri})=> ({\n\t\t\t\t\t\tlabel, description, uri: Uri.parse(uri),\n\t\t\t\t\t})),\n\n\t\t\t\t\t{kind: QuickPickItemKind.Separator, label: ''},\n\n\t\t\t\t\t...o.aQuickPickPlg\n\t\t\t\t\t.map(({label, description, uri})=> ({\n\t\t\t\t\t\tlabel, description, uri: Uri.parse(uri),\n\t\t\t\t\t})),\n\t\t\t\t];\n\n\t\t\t\tthis.#mExt2Snip = new Map(o.aExt2Snip);\n\n\t\t\t\tthis.#haDiagFont = this.#optFont.updDiag(o.InfFont);\n\t\t\t}\tbreak;\n\n\t\t\tcase 'hover.res':\n\t\t\t\tthis.#hFp2AHoverProc[o.fp]?.shift()?.(o);\tbreak;\n\t\t}\n\t}\n\t//MARK: LSP\n\t#chkChrCd(fp: FULL_SCH_PATH, pp2s?: T_PP2SNSTR) {\n\t\tconst td = workspace.textDocuments.find(v=> vsc2fp(v.uri.path) === fp);\n\t\tconst pp = this.#pc.fp2pp(fp);\n\t\tconst str = REG_SCRIPT.test(fp) ?td?.getText() :undefined;\n\t\tlet cc: string;\n\t\tif (str) {\t\t//  sn\n\t\t\tif (pp2s) pp2s[pp] = str;\n\t\t\tcc = td?.encoding ?? '';\t// Encoding  UNICODE \n\t\t}\n\t\telse {\n\t\t\tconst buf = readFileSync(fp);\n\t\t\tif (pp2s) pp2s[pp] = buf.toString('utf-8');\n\t\t\tcc = <string>Encoding.detect(buf);\n\t\t}\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tif (/(UTF8|ASCII)$/i.test(cc)) {delete this.#haDiagChrCd[fp]; return}\n\t\t\t// td?.encoding utf8\n\n\t\t// \n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst {mes, sev} = hDiagL2s.!;\n\t\tthis.#haDiagChrCd[fp] = [{mes: mes.replace('$', cc), sev}];\n\t}\n\t\tget #haDiag() {return {\n\t\t\t...this.#haDiagFn,\n\t\t\t...this.#haDiagFont,\n\t\t\t...this.#haDiagChrCd,\n\t\t}}\n\n\t//MARK: \n\t//\t cmd:hover -> LSP -> cmd:hover.res\n\t#hFp2AHoverProc: {[fp: FULL_PATH]: ((o: T_S2L_hover_res)=> void)[]} = {};\n\tprovideHover(doc: TextDocument, pos: Position): ProviderResult<Hover> {\n\t\tconst fp = vsc2fp(doc.uri.path);\n\t\treturn new Promise<Hover>(rs=> {\n\t\t\t// \n\t\t\t(this.#hFp2AHoverProc[fp] ??= []).push(({value})=> {\n\t\t\t\tconst a = value.split(/(?=\\n---\\n)/);\n// console.log(`fn:Project.ts hover.res  len:${String(a.length)} o:${value}:`);\n\t\t\t\tif (a.length !== 3) {\n\t\t\t\t\tconst ms = new MarkdownString(value);\n\t\t\t\t\tms.isTrusted = true;\n\t\t\t\t//\tms.supportHtml = true;\n\t\t\t\t\trs(new Hover(ms));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// SQL\n\t\t\t\tconst [args='', ...detail] = a;\n\t\t\t\tnew AsyncReplace(detail.join('')).replaceAll(\n\t\t\t\t\t/<!-- ({.+?}) -->/g,\n\t\t\t\t\tasync (e1: string)=> {\n\tconst {name, val} = <{name: string, val: string}>JSON.parse(e1.slice(5, -4));\n\tconst ppImg = this.#cfg.searchPath(val, SEARCH_PATH_ARG_EXT.SP_GSM);\n\tconst vfpImg = `${this.#pc.URI_WS}/doc/prj/${ppImg}`;\n// console.log(`fn:Project.ts   vfpImg=${vfpImg}`);\n\n\tconst srcEx = `${vfpImg}|width=${String(this.#whThumbnail)}|height=${String(this.#whThumbnail)}`;\n// console.log(`fn:Project.ts   srcEx =${srcEx}`);\n\n\tconst {width, height} = await imageSizeFromFile(uri2path(vfpImg));\n// console.log(`fn:Project.ts   w:${String(width)} h:${String(height)}`);\n\n\tconst exImg = encodeURIComponent(JSON.stringify([Uri.file(vfpImg)]));\n\t\t//  file  parse \n\t\t// visual studio code - How to open a file externally using built-in commands? - Stack Overflow https://stackoverflow.com/questions/72194573/how-to-open-a-file-externally-using-built-in-commands\n\t\t// Opening folders in Visual Studio Code from an extension | Elio Struyf https://www.eliostruyf.com/opening-folders-visual-studio-code-extension/\n\n\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\treturn `- ${name} = ${val} (${width}x${height}) [](${vfpImg} \"\") [](${\n\t\tString(Uri.parse(`command:revealInExplorer?${exImg}`))\n\t} \"\")\n\t[](${\n\t\tString(Uri.parse(`command:revealFileInOS?${exImg}`))\n\t} \"\")  \\n`\n//\t+ `<img src=\"${vfpImg}?t=${timestamp}\" title=\"${val}\" width=\"${this.#whThumbnail}\" height=\"${this.#whThumbnail *height /width}\">`;\n\t\t// TODO: \n//\t+ `![${val}](${srcEx}?t=${timestamp} \"${val}\")`;\n\t+ `![${val}](${srcEx} \"${val}\")`;\n\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t\t.then(ar=> {\n\t\t\t\t\tconst ms = new MarkdownString(args + ar.toString());\n\t\t\t\t\tms.isTrusted = true;\n\t\t\t\t//\tms.supportHtml = true;\n\t\t\t\t\trs(new Hover(ms));\n\t\t\t\t})\n\t\t\t\t.catch((e: unknown)=> console.error(e));\n\t\t\t});\n\t\t\tvoid this.reqPrj2LSP({cmd: 'hover', fp, pos});\n\t\t\t\t// file:///Users/... LSP doc \n\t\t});\n\t}\n\t\treadonly\t#whThumbnail = 200;\n\n\n\t#aPickItems\t: QuickPickItemEx[] = [];\n\topenReferencePallet() {\n\t\twindow.showQuickPick<QuickPickItemEx>(this.#aPickItems, {\n\t\t\tplaceHolder\t\t\t: '?',\n\t\t\tmatchOnDescription\t: true,\n\t\t})\n\t\t.then(q=> {if (q?.uri) openURL(q.uri, this.#pc.PATH_WS);});\n\t}\n\n\n\t//MARK: \n\topView(uri: Uri) {this.#ps.pnlWVFolder.open(uri)}\n\n\n\t//MARK: \n\treadonly\t#hPush2BtnEnable = new Map<PrjBtnName, BtnEnable[]>([\n\t\t['Crypto',\t\t['','','','','','','','','','','','']],\n\t\t['TaskWeb',\t\t['_off', '_off', '', '_off', 'Stop', '_off',\n\t\t\t\t\t\t'_off', '_off', '_off', '_off', '_off', '_off']],\n\t\t['TaskWebDbg',\t['_off', '_off', '', '_off', 'Stop', '_off',\n\t\t\t\t\t\t'_off', '_off', '_off', '_off', '_off', '_off']],\n\t\t['TaskWebStop',\t['','','','','','','','','','','','']],\n\t//\t['TaskApp',\t\t['_off', '_off', '', '_off', '_off', 'Stop',\n\t//\t\t\t\t\t\t'_off', '_off', '_off', '_off', '_off', '_off']],\n\t//\t['TaskAppDbg',\t['_off', '_off', '', '_off', '_off', 'Stop',\n\t//\t\t\t\t\t\t'_off', '_off', '_off', '_off', '_off', '_off']],\n\t\t\t// NOTE: Stop \n\t\t['TaskAppDbgStop', ['','','','','','','','','','','','']],\n\t]);\n\tasync #onBtn(ti: TreeItem, btn_nm: PrjBtnName, cfg: TREEITEM_CFG) {\n\t\tif (! ActivityBar.aReady[eTreeEnv.NPM]) return;\n\n\t\t// \n\t\tconst aBtnEnable = this.#hPush2BtnEnable.get(btn_nm)\n\t\t?? ['_off', '_off', '_off', '_off', '_off', '_off',\n\t\t\t'_off', '_off', '_off', '_off', '_off', '_off'];\n\t\tthis.#aTiFlat.forEach((ti, i)=> {\n\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands, @typescript-eslint/no-non-null-assertion\n\t\t\tti.contextValue += aBtnEnable[i]!;\n\t\t\tthis.emPrjTD.fire(ti);\n\t\t});\n\n\t\tif (btn_nm === 'TaskWebStop' || btn_nm === 'TaskAppStop') {\n\t\t\tawait this.#onBtn_sub(ti, btn_nm, cfg, ()=> { /* empty */ });\n\t\t\treturn;\n\t\t}\n\t\tawait window.withProgress({\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: typeof ti.label === 'string'\n\t\t\t\t\t\t? ti.label :ti.label?.label,\n\t\t\tcancellable\t: false,\n\t\t}, prg=> new Promise(done=> {\n\t\t\tconst iconPath = ti.iconPath;\n\t\t\tti.iconPath = new ThemeIcon('sync~spin');\n\n\t\t\tvoid this.#onBtn_sub(ti, btn_nm, cfg, (timeout = 4000)=> {\n\t\t\t\tti.iconPath = iconPath;\n\n\t\t\t\tfor (const ti of this.#aTiFlat) {\n\t\t\t\t\tconst tc = ti.contextValue;\n\t\t\t\t\tif (tc && (tc.endsWith('_off') || tc.endsWith('Stop'))) {\n\t\t\t\t\t\tti.contextValue = tc.slice(0, -4);\n\t\t\t\t\t}\n\t\t\t\t\tthis.emPrjTD.fire(ti);\n\t\t\t\t}\t// \n\n\t\t\t\tprg.report({message: '', increment: 100});\n\t\t\t\tsetTimeout(()=> done(0), timeout);\n\t\t\t})\n\t\t}));\n\t}\n\tasync #onBtn_sub(ti: TreeItem, btn_nm: PrjBtnName, cfg: TREEITEM_CFG, done: (timeout?: number)=> void) {\n\t\tlet cmd = `cd \"${this.#pc.PATH_WS}\" ${statBreak} `;\n\t\tif (! existsSync(this.#pc.PATH_WS +'/node_modules')) {\n\t\t\tcmd += `npm i ${statBreak} `;\t// npm i\n\t\t\tawait remove(this.#pc.PATH_WS +'/package-lock.json');\n\t\t}\n\n\t\t// \n\t\tif (cfg.npm) cmd += cfg.npm;\n\t\tswitch (btn_nm) {\t// \n\t\t\tcase 'SnUpd':\n\t\t\t\ttry {\n\t\t\t\t\tawait this.#termDbgSS();\n\t\t\t\t\tawait this.actBar.updPrjFromTmp(this.#pc.PATH_WS);\n\t\t\t\t\tawait ncu({\t// ncu -u --target minor\n\t\t\t\t\t\tpackageFile: this.#pc.PATH_WS +'/package.json',\n\t\t\t\t\t\t// Defaults:\n\t\t\t\t\t\t// jsonUpgraded: true,\n\t\t\t\t\t\t// silent: true,\n\t\t\t\t\t\tupgrade: true,\n\t\t\t\t\t\ttarget: 'minor',\n\t\t\t\t\t});\n\t\t\t\t\tthis.getLocalSNVer();\n\t\t\t\t\tawait this.#onBtn_sub(ti, 'SnUpd_waited', cfg, done);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('fn:Project.ts onBtn_sub SnUpd e:%o', e);\n\t\t\t\t\tdone(0);\n\t\t\t\t}\n\t\t\t\treturn;\n\n\t\t\tcase 'SnUpd_waited':\tbreak;\t// Promise\n\n\t\t\tcase 'PrjSet':\tthis.#ps.open();\tdone(0);\treturn;\n\n\t\t\tcase 'Crypto':\n\t\t\t\ttry {\n\t\t\t\t\tconst ans = await window.showInformationMessage(' / ', {modal: true}, '');\n\t\t\t\t\tif (ans !== '') {done(0); return}\n\n\t\t\t\t\tawait this.#termDbgSS();\n\t\t\t\t\tawait this.#tglCryptoMode();\n\t\t\t\t\tawait this.#onBtn_sub(ti, 'Crypto_waited', cfg, done);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole.error('fn:Project.ts onBtn_sub Crypto e:%o', e);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\tcase 'Crypto_waited':\tbreak;\t// Promise\n\n\t\t\tcase 'TaskWebDbg':\n\t\t\tcase 'TaskAppDbg':\n\t\t\t\tawait this.#termDbgSS();\n\t\t\t\tthis.#onDidTermDbgSS = ()=> {\n\t\t\t\t\tthis.#onDidTermDbgSS = ()=> { /* empty */ };\n\t\t\t\t\tdone(0);\n\t\t\t\t};\n\t\t\t\tawait debug.startDebugging(\n\t\t\t\t\tthis.wsFld,\n\t\t\t\t\t`${btn_nm === 'TaskWebDbg' ?'web' :'app'}`,\n\t\t\t\t);\n\t\t\t\treturn;\n\n\t\t\tcase 'TaskWebStop':\n\t\t\tcase 'TaskAppStop':\n\t\t\t\tawait this.#termDbgSS();\tdone(0);\treturn;\n\n\t\t\tcase 'PackWin':\n\t\t\tcase 'PackWin32':\n\t\t\tcase 'PackMac':\n\t\t\tcase 'PackMacArm64':\n\t\t\tcase 'PackLinux':\tawait this.#termDbgSS();\tbreak;\n\n\t\t\tcase 'PackFreem':{\n\t\t\t\tawait this.#termDbgSS();\n\n\t\t\t\tlet find_ng = false;\n\t\t\t\ttreeProc(this.#pc.PATH_PRJ, fp=> {\n\t\t\t\t\tif (find_ng || ! fp.endsWith('.svg')) return;\n\n\t\t\t\t\tfind_ng = true;\n\t\t\t\t\twindow.showErrorMessage(\n\t\t\t\t\t\t' svg png ', '', 'Online Converter',\n\t\t\t\t\t)\n\t\t\t\t\t.then(async ans=> {switch (ans) {\n\t\t\t\t\t\tcase '':\n\t\t\t\t\t\t\tawait env.openExternal(Uri.file(dirname(fp)));\tbreak;\n\t\t\t\t\t\tcase 'Online Converter':\n\t\t\t\t\t\t\tawait env.openExternal(Uri.parse('https://cancerberosgx.github.io/demos/svg-png-converter/playground/'));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}});\n\t\t\t\t});\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\tif (find_ng) {done(); return}\n\t\t\t}\tbreak;\n\t\t}\n\n\t\t// Windows PowerShell \n\t\tswitch (btn_nm) {\n\t\t\tcase 'PackWin':\n\t\t\tcase 'PackWin32':\n\t\t\t\tif (! is_win) break;\n\t\t\t\tif (! /(Restricted|AllSigned)/.test(\n\t\t\t\t\texecSync('PowerShell Get-ExecutionPolicy').toString()\n\t\t\t\t)) break;\n\n\t\t\t\tdone();\n\t\t\t\tawait window.showErrorMessage('PowerShell  RemoteSigned \\nSet-ExecutionPolicy RemoteSigned', {modal: true}, '')\n\t\t\t\t.then(async a=> {if (a) await env.openExternal(Uri.parse('https://qiita.com/Targityen/items/3d2e0b5b0b7b04963750'));});\n\t\t\t\treturn;\n\t\t}\n\n\t\tconst task_type = cfg.task_type ?? 'Pkg';\n\t\tconst t = new Task(\n\t\t\t{type: PRE_TASK_TYPE + task_type},\t// \n\t\t\tthis.wsFld,\n\t\t\tcfg.label,\t\t// UI\n\t\t\t'SKYNovel',\t\t// source\n\t\t\tnew ShellExecution(cmd),\n\t\t);\n\t\tthis.hOnEndTask.set(task_type, ()=> done());\n\t\tswitch (btn_nm) {\t// \n\t\t\t//case 'SnUpd':\t// \n\t\t\tcase 'SnUpd_waited':\t// Promise\n\t\t\t\tthis.hOnEndTask.set(task_type, ()=> {this.getLocalSNVer(); done()});\n\t\t\t\tbreak;\n\n\t\t\tcase 'Crypto_waited':\n\t\t\t\tthis.hOnEndTask.set(task_type, ()=> {this.#dspCryptoMode(); done()});\n\t\t\t\tbreak;\n\n\t\t\tcase 'PackWin':\n\t\t\tcase 'PackWin32':\n\t\t\tcase 'PackMac':\n\t\t\tcase 'PackMacArm64':\n\t\t\tcase 'PackLinux':\n\t\t\t\tthis.hOnEndTask.set(task_type, ()=> {\n\t\t\t\tPromise.resolve(async ()=> {\n\t\t\t\t\t// \n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\tconst oPkg = await readJson(this.#pc.PATH_WS +'/package.json', {encoding: 'utf8'});\n\n\t\t\t\t\tconst pathPkg = this.#pc.PATH_WS +'/build/package';\n\t\t\t\t\tconst pathUpd = pathPkg +'/update';\n\t\t\t\t\tconst fnUcJs = pathUpd +'/_index.json';\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\t\t\tlet oUc = existsSync(fnUcJs)\n\t\t\t\t\t\t? await readJson(fnUcJs, {encoding: 'utf8'})\n\t\t\t\t\t\t: {};\n\n\t//console.log(`fn:Project.ts line:492 pkg ver:${oPkg.version}: @${btn_nm.slice(4, 7)}@`);\n\t\t\t\t\tconst isMacBld = btn_nm.slice(4, 7) === 'Mac';\n\t\t\t\t\tconst isLinBld = btn_nm.slice(4, 7) === 'Lin';\n\t\t\t\t\tconst fnYml = pathPkg +`/latest${\n\t\t\t\t\t\tisMacBld ?'-mac' :isLinBld ?'-linux' :''\n\t\t\t\t\t}.yml`;\n\t\t\t\t\tif (! existsSync(fnYml)) throw '';\n\t\t\t\t\tconst sYml = await readFile(fnYml, {encoding: 'utf8'});\n\t\t\t\t\tconst mv = /version: (.+)/.exec(sYml);\n\t\t\t\t\tif (! mv) throw '[Pack...] .yml  version ';\n\t\t\t\t\tconst ver = mv[1];\n\t//console.log(`fn:Project.ts line:499 ver=${ver}= eq=${oPkg.version == ver}`);\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\tif (oUc.version !== ver || oUc.name !== oPkg.name) {\n\t\t\t\t\t\toUc = {};\n\t\t\t\t\t\tawait remove(pathUpd);\n\t\t\t\t\t\tawait mkdirs(pathUpd);\n\t\t\t\t\t}\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\toUc.version = oPkg.version;\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\toUc.name = oPkg.name;\n\n\t\t\t\t\tconst mp = /path: (.+)/.exec(sYml);\n\t\t\t\t\tif (! mp) throw '[Pack...] .yml  path ';\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tconst path = mp[1]!;\n\n\t\t\t\t\tconst ms = /size: (.+)/.exec(sYml);\n\t\t\t\t\tif (! ms) throw '[Pack...] .yml  size ';\n\t\t\t\t\tconst size = Number(ms[1] ?? NaN);\n\n\t\t\t\t\tconst mc = /sha512: (.+)/.exec(sYml);\n\t\t\t\t\tif (! mc) throw '[Pack...] .yml  sha512 ';\n\t\t\t\t\tconst sha512 = mc[1] ?? '';\n\t\t\t\t\tconst cn = encStrBase64(this.#encry.uuidv5(sha512));\n\n\t\t\t\t\tconst ma = /-(\\w+)\\.\\D/.exec(path);\n\t\t\t\t\t\t// https://regex101.com/r/yH7nLk/1\t13 steps, 0.0ms\n\t\t\t\t\tif (! ma) throw 'path  arch ';\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tconst arch = ma[1]!;\n\n\t\t\t\t\tconst key = (isMacBld ?'darwin' :isLinBld ?'linux' :'win32') +'_'+ arch;\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\toUc[key] = {path, size, sha512, cn,};\n\t\t\t\t\tawait outputJson(fnUcJs, oUc, {spaces: '\\t'});\n\n\t\t\t\t\t// \n\t\t\t\t\tconst REG_OLD_SAMEKEY = new RegExp('^'+ key +'-');\n\t\t\t\t\tfoldProc(pathUpd, (fp, nm)=> {\n\t\t\t\t\t\tif (REG_OLD_SAMEKEY.test(nm)) void remove(fp);\n\t\t\t\t\t}, ()=> { /* empty */ });\n\n\t\t\t\t\t// \n\t\t\t\t\tawait copy(pathPkg +'/'+ path, pathUpd +'/'+ key +'-'+ cn);\n\t\t\t\t\t\t// key\n\t\t\t\t\t\t// \n\t\t\t\t\t\t// \n\n\t\t\t\t\tconst a = await window.showInformationMessage(\n\t\t\t\t\t\t`${cfg.label} `,\n\t\t\t\t\t\t'',\n\t\t\t\t\t);\n\t\t\t\t\tif (a) await env.openExternal(Uri.file(pathPkg));\n\t\t\t\t})\n\t\t\t\t.catch((e: unknown)=> {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t\t\tvoid window.showErrorMessage(`${cfg.label} ${e}`);\n\t\t\t\t})\n\t\t\t\t.finally(()=> done())})\n\t\t\t\tbreak;\n\n\t\t\tcase 'PackFreem':\tthis.hOnEndTask.set(task_type, ()=> {\n\t\t\t\tconst cwd = `${this.#pc.PATH_WS}/${\n\t\t\t\t\tthis.#isCryptoMode ?FLD_CRYPT_DOC :'doc'\n\t\t\t\t}/`;\n\t\t\t\tconst arc = archiver.create('zip', {zlib: {level: 9},})\n\t\t\t\t.append(createReadStream(cwd +'web.htm'), {name: 'index.html'})\n\t\t\t\t.append(createReadStream(this.#pc.PATH_WS +'/build/include/readme.txt'), {name: 'readme.txt'})\n\t\t\t\t.glob('web.js', {cwd})\n\t\t\t\t.glob('web.*.js', {cwd})\n\t\t\t\t.glob('prj/**/*', {cwd})\n\t\t\t\t.glob('favicon.ico', {cwd});\n\n\t\t\t\tconst fn_out = `${basename(this.#pc.PATH_WS)}_1.0freem.zip`;\n\t\t\t\tconst ws = createWriteStream(`${this.#pc.PATH_WS}/build/package/${fn_out}`)\n\t\t\t\t.on('close', ()=> {\n\t\t\t\t\tdone();\n\t\t\t\t\twindow.showInformationMessage(\n\t\t\t\t\t\t`${fn_out}`,\n\t\t\t\t\t\t'',\n\t\t\t\t\t).then(a=> {if (a) env.openExternal(Uri.file(this.#pc.PATH_WS +'/build/package/'))})\n\t\t\t\t});\n\t\t\t\tarc.pipe(ws);\n\t\t\t\tvoid arc.finalize();\t// zip\n\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t\tawait tasks.executeTask(t)\n\t\t.then(\n\t\t\tre=> this.#pc.hTaskExe.set(btn_nm, re),\n\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t\t(e: unknown)=> console.error(`fn:Project onBtn_sub() rj:${e}`)\n\t\t);\n\t}\n\n\n\t//MARK: \n\tasync #initCrypto() {\n\t\tconst fnc: (fp: string)=> void = this.#isCryptoMode\n\t\t\t? fp=> {\n\t\t\t\tconst uri = Uri.file(fp);\n\t\t\t\tif (this.#diff.isDiff(uri)) void this.#encFile(uri);\n\t\t\t}\n\t\t\t: fp=> {\n\t\t\t\tconst uri = Uri.file(fp);\n\t\t\t\tthis.#diff.isDiff(uri);\n\t\t\t};\n\t\ttreeProc(this.#pc.PATH_PRJ, fnc);\n\t\tawait this.#diff.save();\n\t}\n\t//MARK: \n\tasync #encIfNeeded(uri: Uri) {\n\t\t// isDiff() \n\t\tif (this.#diff.isDiff(uri) && this.#isCryptoMode) await this.#encFile(uri);\n\t\tawait this.#diff.save();\n\t}\n\n\n\treadonly\t#aRepl;\n\tasync #tglCryptoMode() {\n\t\tthis.#isCryptoMode = ! this.#isCryptoMode;\n\t\tthis.#cfg.setCryptoMode(this.#isCryptoMode);\n\t\tif (! this.#isCryptoMode) {\n\t\t\t// to \n\t\t\tawait remove(`${this.#pc.PATH_WS}/${FLD_CRYPT_DOC}/`);\n\n\t\t\tawait remove(this.#pc.PATH_PLG_PRE);\n\n\t\t\t// SKYNovel\n\t\t\tfor (const url of this.#aRepl) replaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/'+ url,\n\t\t\t\t/\\(hPlg, {.+?}\\);/,\n\t\t\t\t'(hPlg);',\n\t\t\t);\n\t\t\t// \n\t\t\tif (this.#pc.IS_NEW_TMP) {\n\t\t\t\treplaceFile(\n\t\t\t\t\tthis.#pc.PATH_WS +'/electron.vite.config.ts',\n\t\t\t\t\tnew RegExp(`publicDir: '../../${FLD_CRYPT_DOC}/'`),\n\t\t\t\t\t'publicDir: \\'../../doc/\\'',\n\t\t\t\t);\n\t\t\t\treplaceFile(\n\t\t\t\t\tthis.#pc.PATH_WS +'/vite.config.ts',\n\t\t\t\t\tnew RegExp(`publicDir: '${FLD_CRYPT_DOC}'`),\n\t\t\t\t\t'publicDir: \\'doc\\'',\n\t\t\t\t);\n\t\t\t}\n\t\t\telse {\n\t\t\t\treplaceFile(\n\t\t\t\t\tthis.#pc.PATH_WS +'/package.json',\n\t\t\t\t\tnew RegExp(`${FLD_CRYPT_DOC}\\\\/`, 'g'),\n\t\t\t\t\t\t// (new RegExp('\\')) \n\t\t\t\t\t'doc/',\n\t\t\t\t);\n\t\t\t\treplaceFile(\n\t\t\t\t\tthis.#pc.PATH_WS +'/core/wds.config.js',\n\t\t\t\t\tnew RegExp(`\\\\/${FLD_CRYPT_DOC}'`, 'g'),\n\t\t\t\t\t\t// (new RegExp('\\')) \n\t\t\t\t\t'/doc\\'',\n\t\t\t\t);\n\t\t\t\treplaceFile(\n\t\t\t\t\tthis.#pc.PATH_WS +'/core/webpack.config.js',\n\t\t\t\t\tnew RegExp(`'\\\\/${FLD_CRYPT_DOC}`, 'g'),\n\t\t\t\t\t\t// (new RegExp('\\')) \n\t\t\t\t\t'\\'/doc',\n\t\t\t\t);\n\t\t\t}\n\t\t\tawait this.#updPlugin();\n\n\t\t\treturn;\n\t\t}\n\n\t\t// to \n\t\tawait mkdirs(this.#PATH_CRYPT);\n\n\t\t// SKYNovel\n\t\tfor (const url of this.#aRepl) replaceFile(\n\t\t\tthis.#pc.PATH_WS +'/'+ url,\n\t\t\t/\\(hPlg\\);/,\n\t\t\t'(hPlg, {cur: \\'prj/\\', crypto: true});',\n\t\t);\n\t\t// \n\t\tif (this.#pc.IS_NEW_TMP) {\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/electron.vite.config.ts',\n\t\t\t\t/publicDir: '..\\/..\\/doc\\/'/,\n\t\t\t\t`publicDir: '../../${FLD_CRYPT_DOC}/'`,\n\t\t\t);\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/vite.config.ts',\n\t\t\t\t/publicDir: 'doc'/,\n\t\t\t\t`publicDir: '${FLD_CRYPT_DOC}'`,\n\t\t\t);\n\t\t}\n\t\telse {\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/package.json',\n\t\t\t\t/doc\\//g,\n\t\t\t\t`${FLD_CRYPT_DOC}/`,\n\t\t\t);\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/core/wds.config.js',\n\t\t\t\t/\\/doc'/g,\n\t\t\t\t`/${FLD_CRYPT_DOC}'`,\n\t\t\t);\n\t\t\treplaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/core/webpack.config.js',\n\t\t\t\t/'\\/doc/g,\n\t\t\t\t`'/${FLD_CRYPT_DOC}`,\n\t\t\t);\n\t\t\tawait copy(\n\t\t\t\tthis.#pc.PATH_WS +'/doc/web.htm',\n\t\t\t\tthis.#pc.PATH_WS +`/${FLD_CRYPT_DOC}/web.htm`\n\t\t\t);\n\t\t}\n\t\t// \n\t\treplaceFile(\n\t\t\tthis.ctx.extensionPath +'/dist/snsys_pre.js',\n\t\t\t/[^\\s=]+\\.tstDecryptInfo\\(\\)/,\n\t\t\tthis.#encry.strHPass,\n\t\t\ttrue,\n\t\t\tthis.#pc.PATH_PLG_PRE +`index.${this.#pc.IS_NEW_TMP ?'ts' :'js'}`,\n\t\t);\n\t\tawait this.#updPlugin();\n\n\t\tthis.#diff.clear();\n\t\tawait this.#initCrypto();\n\t}\n\n\tasync #encFile({path}: Uri) {\n\t\tconst fsp = vsc2fp(path);\n\t\tconst pp = this.#diff.fp2pp(fsp);\n// console.log(`fn:Project.ts #encFile pp=${pp}= =${this.#diff.get(pp)!.cn}`);\n\t\ttry {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst fsp_enc = this.#PATH_CRYPT + this.#diff.get(pp)!.cn;\n\t\t\tif (! REG_NEEDCRYPTO.test(pp)) {\n\t\t\t\tawait copy(fsp, fsp_enc, {overwrite: true});\n\t\t\t\t//.catch((e: any)=> console.error(`enc cp1 ${e}`));\n\t\t\t\t\t// Error: EEXIST: file already exists\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (REG_FULLCRYPTO.test(pp)) {\t// Sync\n\t\t\t\tif (pp === 'path.json') {\n\t\t\t\t\tawait this.#encFile_pathjson(fsp, fsp_enc);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst s = await readFile(fsp, {encoding: 'utf8'});\n\t\t\t\tawait outputFile(fsp_enc, await this.#encry.enc(s));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst dir = this.#REG_DIR.exec(pp);\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tif (dir && this.#cfg.oCfg.code[dir[1]!]) {\n\t\t\t\tawait copy(fsp, fsp_enc, {overwrite: true});\n\t\t\t\t//.catch((e: any)=> console.error(`enc cp2 ${e}`));\n\t\t\t\t\t// Error: EEXIST: file already exists\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst u2 = fsp_enc.replace(/\\.[^.]+$/, '.bin');\n\t\t\tawait ensureFile(u2);\t// touch\n\t\t\tconst ws = createWriteStream(u2)\n\t\t\t.on('error', e=> {ws.destroy(); console.error('enc ws=%o', e);});\n\n\t\t\tconst rs = createReadStream(fsp)\n\t\t\t.on('error', e=> console.error('enc rs=%o', e));\n\n\t\t\tconst tr = new EncryptorTransform(this.#encry, fsp);\n\t\t\trs.pipe(tr).pipe(ws);\n\t\t}\n\t\tcatch (e) {\n\t\t\tconsole.error(`enc other ${\n\t\t\t\te instanceof Error ?e.message :''\n\t\t\t} src:${fsp}`);\n\t\t}\n\t}\n\t\tasync #encFile_pathjson(fsp: FULL_SCH_PATH, fsp_enc: FULL_SCH_PATH) {\n\t\t\tconst hPath = <IFn2Path>await readJson(fsp, {encoding: 'utf8'});\n\t\t\tfor (const hExt2N of Object.values(hPath)) {\n\t\t\t\tfor (const [ext, pp] of Object.entries(hExt2N)) {\n\t\t\t\t\tif (ext === ':cnt') continue;\n\t\t\t\t\tif (ext.endsWith(':id')) continue;\n\n\t\t\t\t\tconst dir = this.#REG_DIR.exec(<string>pp);\n\t\t\t\t\tconst d = this.#diff.get(<string>pp);\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tif (dir && this.#cfg.oCfg.code[dir[1]!] || ! d) continue;\n\n\t\t\t\t\thExt2N[ext] = d.cn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst s = JSON.stringify(hPath);\n\t\t\tawait outputFile(fsp_enc, await this.#encry.enc(s));\n\t\t}\n\t\treadonly #REG_DIR\t= /(^.+)\\//;\n\n\n\treadonly\t#REG_PLGADDTAG\t= /(?<=\\.\\s*addTag\\s*\\(\\s*)([\"'])(.+?)\\1/g;\n\t#hDefPlg\t: T_H_PLGDEF\t= {};\n\tasync #updPlugin(build = true) {\n\t\tconst pathPlg = `${this.#pc.PATH_WS}/${this.#pc.FLD_SRC}/plugin/`;\n\t\tif (! existsSync(pathPlg)) {\n\t\t\tawait mkdirs(pathPlg);\n\t\t\tthis.#build();\n\t\t\treturn;\n\t\t}\n\n\t\tconst h4json\t: {[def_nm: string]: number}\t= {};\n\t\tthis.#hDefPlg = {};\n\t\tconst aP: Promise<void>[] = [];\n\t\tfoldProc(pathPlg, ()=> { /* empty */ }, nm=> {\n\t\t\th4json[nm] = 0;\n\n\t\t\tlet path = `${pathPlg}${nm}/index.`;\n\t\t\tif (existsSync(path +'js')) path += 'js'; else\n\t\t\tif (existsSync(path +'ts')) path += 'ts'; else return;\n\n\t\t\taP.push((async ()=> {\n\t\t\t\tconst txt = await readFile(path, 'utf8');\n\t\t\t\tlet a;\n\t\t\t\t// \t.lastIndex = 0;\t// /g\n\t\t\t\t// eslint-disable-next-line no-cond-assign\n\t\t\t\twhile (a = this.#REG_PLGADDTAG.exec(txt)) {\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\t\tconst nm = a[2]!;\n\t\t\t\t\tconst len_nm = nm.length;\n\t\t\t\t\tconst idx_nm = this.#REG_PLGADDTAG.lastIndex -len_nm -1;\n\n\t\t\t\t\tlet line = 0;\n\t\t\t\t\tlet j = idx_nm;\n\t\t\t\t\twhile ((j = txt.lastIndexOf('\\n', j -1)) >= 0) ++line;\n\n\t\t\t\t\tconst col = idx_nm -txt.lastIndexOf('\\n', idx_nm) -1;\n\t\t\t\t\tthis.#hDefPlg[nm] = {\n\t\t\t\t\t\turi\t: path,\n\t\t\t\t\t\tsl\t: line,\n\t\t\t\t\t\tsc\t: col,\n\t\t\t\t\t\tel\t: line,\n\t\t\t\t\t\tec\t: col +len_nm,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t})());\n\t\t});\n\t\tawait Promise.allSettled(aP);\n\t\tawait this.reqPrj2LSP({cmd: 'def_plg.upd', hDefPlugin: this.#hDefPlg});\n\n\t\tconst sPlgIdx = pathPlg.slice(0, -1);\n\t\tawait outputJson(sPlgIdx +'.json', h4json);\n\t\tif (build) try {\n\t\t\tthis.#build();\n\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t} catch (e) {console.error(`Project updPlugin ${e}`)}\n\n\t\t// \n\t\tif (existsSync(sPlgIdx +'.js')) {\n\t\t\tawait remove(sPlgIdx +'.js');\n\n\t\t\tfor (const url of this.#aRepl) replaceFile(\n\t\t\t\tthis.#pc.PATH_WS +'/'+ url,\n\t\t\t\t/'\\.\\/plugin\\.js';/,\n\t\t\t\t'\\'./plugin.json\\';',\n\t\t\t);\n\t\t}\n\t}\n\t#build = ()=> {\n\t\tif (! ActivityBar.aReady[eTreeEnv.NPM]) return;\n\n\t\tthis.#build = ()=> { /* empty */ };\t// once\n\t\t// \n\t\t//  Project.ts  tasks.onDidEndTaskProcess \n\t\tlet cmd = `cd \"${this.#pc.PATH_WS}\"`;\n\t\tif (! existsSync(this.#pc.PATH_WS +'/node_modules')) {\n\t\t\tcmd += ` ${statBreak} npm i`;\t\t// npm i\n\t\t\tremoveSync(this.#pc.PATH_WS +'/package-lock.json');\n\t\t}\n\t\tconst type = PRE_TASK_TYPE +'Sys';\n\t\tconst name = '';\n\t\tconst t = new Task(\n\t\t\t{type},\t\t\t// \n\t\t\tthis.wsFld,\n\t\t\tname,\t\t\t// UI\n\t\t\t'SKYNovel',\t\t// source\n\t\t\tnew ShellExecution(cmd),\n\t\t);\n\n\t\tthis.enableBtn(false);\n\t\twindow.withProgress({\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: name,\n\t\t\tcancellable\t: false\n\t\t}, _prg=> new Promise<void>(done=> {\n\t\t\tlet fnc = (e: TaskProcessEndEvent)=> {\n\t\t\t\tif (e.execution.task.definition.type !== type) return;\n\t\t\t\tfnc = ()=> { /* empty */ };\n\t\t\t\tthis.enableBtn(true);\n\t\t\t\tdone();\n\t\t\t};\n\t\t\ttasks.onDidEndTaskProcess(e=> fnc(e));\n\n\t\t\ttry {\n\t\t\t\tvoid tasks.executeTask(t);\n\t\t\t} catch (e) {console.error('Project build() e:%o', e)}\n\t\t\t\t//  resolve executeTask()\n\t\t\t\t// Task\n\t\t}));\n\t}\n\n\n\t#mExt2ToPath\t= new Map<SEARCH_PATH_ARG_EXT, string[]>;\n\t#get(ext: string): string[] {\n\t\tlet a: string[] = [];\n\t\tfor (const [spae, a] of this.#mExt2ToPath.entries()) {\n\t\t\tif (! new RegExp(spae).test(ext)) continue;\n\n\t\t\ta = a;\n\t\t\tbreak;\n\t\t}\n\n\t\treturn a;\n\t}\n\n\t//MARK: \n\tasync\tdrop(td: TextDocument, pos: Position, aUri: Uri[]): Promise<DocumentDropEdit | null | undefined> {\n\t\t// td.fileName\t=c:\\Users\\[]]\\doc\\prj\\mat\\main.sn=\n\t\t// td.uri.path\t=/c:/Users/[]/doc/prj/mat/main.sn=\n\t\tconst aFpNew: string[] = [];\n\t\tfor (const uri of aUri) {\n\t\t\tconst {path, scheme} = uri;\n\t\t\tconst ext = extname(path).slice(1);\n\t\t\tconst fp = vsc2fp(path);\n//console.log(`fn:Project.ts drop scheme:${scheme} fp:${fp}: uri:${uri.toString()}: path=${path}= fsPath-${uri.fsPath}-`);\n\n\t\t\tlet fpNew = fp;\n\t\t\tconst fn_ext = '/'+ basename(fp);\n\t\t\tconst a = this.#get(ext);\n\t\t\tswitch (scheme) {\n\t\t\tcase 'file':\n\t\t\t\tif (statSync(path).isDirectory()) {\t// \n\t\t\t\t\tif (! fp.startsWith(this.#pc.PATH_PRJ)) return null;\t// \n\n\t\t\t\t\tif (fp === this.#pc.PATH_PRJ +'prj.json') this.#ps.open()\n\t\t\t\t\telse this.#ps.pnlWVFolder.open(uri);\n\t\t\t\t}\n\t\t\t\tif (! ext) continue;\t// .gitignore \n\n\t\t\t\tif (fp.startsWith(this.#pc.PATH_PRJ)) break;\t// \n\n\t\t\t\t// \n\t\t\t\t// \n\t\t\t\tswitch (a.length) {\n\t\t\t\t\tcase 0:\t{\t// \n\t\t\t\t\t\tconst tp = td.uri.path;\n\t\t\t\t\t\tfpNew = vsc2fp(\n\t\t\t\t\t\t\ttp.slice(0, -basename(tp).length) + basename(fp)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\tbreak;\n\n\t\t\t\t\tcase 1:\t\t// \n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\t\t\t\tfpNew = this.#pc.PATH_PRJ + a[0] + fn_ext;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:{\n\t\t\t\t\t\ta.push('');\n\t\t\t\t\t\tconst ans = await window.showInformationMessage(\n\t\t\t\t\t\t\tbasename(fp) +' ',\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (! ans || ans === '') return null;\n\n\t\t\t\t\t\tfpNew = this.#pc.PATH_PRJ + ans + fn_ext;\n\t\t\t\t\t}\tbreak;\n\t\t\t\t}\n\t\t\t\tawait copyFile(fp, fpNew);\n\t\t\t\tbreak;\n\n\t\t\tcase 'http':\n\t\t\tcase 'https':{\t// webURL\n\t\t\t\tif (! ext) continue;\t// .gitignore \n\n\t\t\t\t// webview\n\t\t\t\tif (this.#ps.pnlWVFolder.isOpend(path)) break;// from WV\n\n\t\t\t\tconst uriDL = uri.toString();\n//console.log(`fn:Project.ts urlDL=${uriDL}=`);\n\t\t\t\tconst res = await fetch(uriDL);\n\t\t\t\tif (! res.ok) {\n\t\t\t\t\twindow.showErrorMessage(` uri=${uriDL}`);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tlet ppNew = '';\n\t\t\t\tswitch (a.length) {\n\t\t\t\t\tcase 0:\t\t// \n\t\t\t\t\t\treturn null;\t// \n\n\t\t\t\t//\tcase 1:\t\t// \n\t\t\t\t\tdefault:\t// \n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands\n\t\t\t\t\t\tppNew = a[0] + fn_ext;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfpNew = this.#pc.PATH_PRJ + ppNew;\n\t\t\t\tawait writeFile(fpNew, new Uint8Array(await res.arrayBuffer()));\n\n\t\t\t\twindow.showInformationMessage(` path=${ppNew}`);\n\t\t\t\t// \n\t\t\t\tawait commands.executeCommand('revealInExplorer', Uri.parse(`${this.#pc.URI_WS}/doc/prj/${ppNew}`));\n\n\t\t\t}\tbreak;\n\n\t\t\tdefault:\treturn null;\n\t\t\t}\n\n\t\t\taFpNew.push(fpNew);\n\t\t}\n\n\t\t// \n\t\tif (aFpNew.length === 0) return null;\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst fp = aFpNew[0]!;\n\t\tconst ext = extname(fp).slice(1);\n\t\tconst fn = getFn(fp);\n\t\tfor (const [spae, snip] of this.#mExt2Snip.entries()) {\n\t\t\tif (! new RegExp(spae).test(ext)) continue;\n\n\t\t\t// \n\t\t\tconst {range, nm} = this.#getWordRangeAtPosition(td, pos, this.#REG_FIELD);\n\t\t\tif (nm) return {insertText: '', additionalEdit: this.#createWsEd_repVal(td.uri, range, nm, fn)};\n\n\t\t\t// \n\t\t\tconst sni = snip.replace('...', fn)\n\t\t\t.replaceAll(/\\${\\d\\|([^,]+)\\|}/g, '$1');\n\t\t\t\t// https://regex101.com/r/QAiATp/1\n//console.log(`fn:Project.ts sni=${sni}=`);\n\t\t\treturn {insertText: new SnippetString(sni)};\n\t\t}\n\n\t\treturn null;\n\t}\n\t\t#mExt2Snip = new Map<SEARCH_PATH_ARG_EXT, string>;\n\n\t\treadonly\t#REG_FIELD\t= /(?<=\\s)[^\\s=[\\]]+(?:=(?:[^\"'#\\s;\\]]+|([\"'#]).*?\\1)?)?/g;\t// https://regex101.com/r/1m4Hgp/1 7 matches 95 steps, 0.4ms\n\t\t#createWsEd_repVal(uri: Uri, range: Range, nm: string, val: string) {\n\t\t\tconst we = new WorkspaceEdit;\n\t\t\tconst v2 = /[\\s=]/.test(val)\n\t\t\t\t? /['#]/.test(val) ? `\"${val}\"` : `'${val}'`\n\t\t\t\t: val;\n\t\t\twe.replace(uri, range, nm + '=' + v2);\n\t\t\treturn we;\n\t\t}\n\n\t\t#getWordRangeAtPosition(td: TextDocument, {line, character}: Position, reg: RegExp): {hit: string, range: Range, nm: string, val: string} {\n//\t\t\tif (reg.flags.indexOf('g') === -1) console.log(`fn:LspWs.ts #getWordRangeAtPosition g`);// TO DO: \n\n\t\t\tconst s = td.getText(new Range(line, 0, line, 9999));\n\t\t\tlet e;\n\t\t\treg.lastIndex = 0;\t// /g\n\t\t\t// eslint-disable-next-line no-cond-assign\n\t\t\twhile (e = reg.exec(s)) {\n\t\t\t\tconst [hit] = e, b = reg.lastIndex -hit.length;\n\n\t\t\t\tconst [nm='', ...v] = hit.split('=');\n\t\t\t\tconst val = v.join('=');\n\n\t\t\t\tif (b <= character && character <= reg.lastIndex) return {\n\t\t\t\t\thit,\n\t\t\t\t\trange: new Range(line, b, line, reg.lastIndex),\n\t\t\t\t\tnm, val,\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn {hit: '', range: new Range(0, 0, 0, 0), nm: '', val: ''};\n\t\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {foldProc, repWvUri, vsc2fp} from './CmnLib';\nimport {getNonce} from './ActivityBar';\nimport {SEARCH_PATH_ARG_EXT} from './ConfigBase';\nimport type {PrjCmn} from './PrjCmn';\n\nimport type {WebviewPanel} from 'vscode';\nimport {ViewColumn, Uri, window} from 'vscode';\nimport {readFile} from 'fs-extra';\n\n\nexport class WPFolder {\n\t#wp\t\t\t: WebviewPanel | undefined\t= undefined;\n\t#uriOpen\t: Uri | null\t\t\t\t= null;\n\t#uriWvPrj\t: Uri | null\t\t\t\t= null;\n\n\treadonly\t#uriRes\t: Uri;\n\t\t\t\t#htmSrc\t: string;\n\n\n\t//MARK: \n\tconstructor(\n\t\tprivate readonly pc\t\t: PrjCmn,\n\t) {\n\t\tconst path_res = this.pc.ctx.extensionPath +'/views/';\n\t\tthis.#uriRes = Uri.file(path_res);\n\t\tvoid readFile(path_res +'folder.htm', {encoding: 'utf8'})\n\t\t.then(t=> {this.#htmSrc = t\n\t\t\t.replace('<meta_autooff ', '<meta ')// \n\t\t\t.replaceAll('${nonce}', getNonce())\n\t\t\t.replace('.ts\"></script>', '.js\"></script>')\n\t\t});\n\t}\n\n\n\t//MARK: \n\topen(uri: Uri) {\n\t\t// \n\t\tconst column = window.activeTextEditor?.viewColumn;\n\t\tconst wp = this.#wp;\n\t\tif (this.#uriOpen === uri && wp) {wp.reveal(column); return;}\n\n\t\tif (! wp) {\n\t\t\tconst wp = this.#wp = window.createWebviewPanel('SKYNovel-folder', '', column ?? ViewColumn.One, {\n\t\t\t\tenableScripts\t\t: true,\n\t\t\t//\tretainContextWhenHidden: true,// \n\t\t\t\tlocalResourceRoots\t: [\n\t\t\t\t\tthis.#uriRes,\n\t\t\t\t\tUri.file(this.pc.PATH_WS),\n\t\t\t\t],\n\t\t\t});\n\t\t\tconst wv = wp.webview;\n\t\t\tthis.pc.ctx.subscriptions.push(\n\t\t\t\twp.onDidDispose(()=> {this.#wp = undefined}, undefined, this.pc.ctx.subscriptions),\t// \n\n\t\t\t\twv.onDidReceiveMessage(({cmd, text}: {cmd: string, text: string})=> {switch (cmd) {\n\t\t\t\t\tcase 'info': window.showInformationMessage(text); break;\n\t\t\t\t\tcase 'warn': window.showWarningMessage(text); break;\n\t\t\t\t}}, false),\n\t\t\t);\n\n\t\t\twv.html = repWvUri(this.#htmSrc, wv, this.#uriRes)\n\t\t\t.replace(/<!--SOL-->.+?<!--EOL-->/s, '');\n\t\t\t\t// https://regex101.com/r/8RaTsD/1\n\t\t}\n\t\tthis.#uriOpen = uri;\n\n\t\tthis.#update(uri);\n\t}\n\t//MARK: \n\t#update(uri: Uri) {\n\t\tconst vfp = uri.path;\n\t\tconst fp = vsc2fp(vfp);\n\t\tconst pp = this.pc.diff.fp2pp(fp);\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tthis.#wp!.title = pp +' ';\n\n\t\tlet htm = '';\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tconst wv = this.#wp!.webview;\n\t\tthis.#uriWvPrj = wv.asWebviewUri(Uri.file(this.pc.PATH_PRJ));\n\t\tconst pathWp = String(this.#uriWvPrj);\t//  String() \n\t\tfoldProc(fp, (vfp2, nm)=> {\n\t\t\tconst fp2 = vsc2fp(Uri.file(vfp2).path);\n\t\t\tconst pp2 = this.pc.diff.fp2pp(fp2);\n\t\t\tif (this.#REG_MOV.test(fp2)) {\t// GrpMov\n\t\t\t\thtm +=\n`<div class=\"col pe-0\">\n\t<div class=\"card text-bg-secondary\">\n\t\t<video controls controlsList=\"nodownload\" playsinline preload=\"metadata\" class=\"w-100\" src=\"${pathWp}${pp2}\" class=\"card-img-top\"></video>\n\t\t<div class=\"card-body\">\n\t\t\t<a href=\"${pathWp}${pp2}\" title=\"\" class=\"btn btn-primary\" title=\"\">${nm}</a>\n\t\t</div>\n\t</div>\n</div>`;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.#REG_GRP.test(pp2)) {\n\t\t\t\thtm +=\n`<div class=\"col pe-0\">\n\t<img loading=\"lazy\" src=\"${pathWp}${pp2}\" title=\"${nm}\"/>\n</div>`;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.#REG_SND.test(pp2)) {\n\t\t\t\thtm +=\n`<div class=\"col pe-0\">\n\t<div class=\"card text-bg-secondary\">\n\t\t<audio controls src=\"${pathWp}${pp2}\" class=\"card-img-top\"></audio>\n\t\t<div class=\"card-body\">\n\t\t\t<a href=\"${pathWp}${pp2}\" title=\"\" class=\"btn btn-primary\" title=\"\">${nm}</a>\n\t\t</div>\n\t</div>\n</div>`;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t}, ()=> { /* empty */ });\n\t\twv.postMessage({cmd: 'refresh', o: {htm}});\n\t}\n\t\treadonly #REG_MOV = /\\.(mp4|webm)$/;\n\t\t// (new RegExp('\\')) \n\t\treadonly #REG_GRP = new RegExp(`\\\\.${SEARCH_PATH_ARG_EXT.SP_GSM}$`);\n\t\treadonly #REG_SND = new RegExp(`\\\\.${SEARCH_PATH_ARG_EXT.SOUND}$`);\n\n\t//MARK: \n\tupdateDelay({path}: Uri) {\n\t\tconst uri = this.#uriOpen;\n\t\tif (! this.#wp || ! uri) return;\n\t\tconst fp = vsc2fp(path);\t\t\t// /c:/\n\t\tconst fpOF = vsc2fp(uri.path);\t// /C:/\n\t\tif (! fp.startsWith(fpOF)) return;\n\n\t\tif (this.#tiDelay) clearTimeout(this.#tiDelay);\t// \n\t\tthis.#tiDelay = setTimeout(()=> {\n\t\t\tthis.#tiDelay = undefined;\n\t\t\tthis.#update(uri);\n\t\t}, 500);\n\t}\n\t\t#tiDelay: NodeJS.Timeout | undefined = undefined;\n\n\n\t//MARK: \n\tisOpend(path: string) {\n\t\treturn this.#uriWvPrj && path.startsWith(this.#uriWvPrj.path);\n\t}\n\n\t//MARK: \n\tclose() {\n\t\tthis.#wp?.dispose();\n\t\tthis.#wp = undefined;\n\t\tthis.#uriOpen = null;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2019-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {docsel, vsc2fp, is_win, is_mac, type HArg, REQ_ID, fullSchPath2fp} from './CmnLib';\nimport {type ActivityBar, oIcon} from './ActivityBar';\nimport {Project} from './Project';\nimport {initDebug} from './DebugAdapter';\nimport {Debugger} from './Debugger';\nimport {CteScore} from './CteScore';\nimport {type PrjTreeItem, TASK_TYPE, updStatBreak} from './PrjTreeItem';\nimport type {T_MES_L2S} from '../server/src/LangSrv';\nimport type {T_ALL_L2S, T_ALL_S2L, T_ALL_S2L_WS} from '../server/src/LspWs';\nimport hMd from './md.json';\n\nimport {commands, EventEmitter, ExtensionContext, TaskProcessEndEvent, tasks, TreeDataProvider, TreeItem, TreeItemCollapsibleState, window, workspace, WorkspaceFolder, WorkspaceFoldersChangeEvent, languages, LanguageStatusItem, QuickPickItem, Uri, Hover, Position, ProviderResult, TextDocument, HoverProvider, DocumentDropEditProvider, CancellationToken, DataTransfer, DocumentDropEdit, env, window as vsc_win, ThemeIcon} from 'vscode';\nimport {existsSync} from 'fs-extra';\nimport {\n\tLanguageClient,\n\ttype LanguageClientOptions,\n\ttype ServerOptions,\n\tTransportKind\n} from 'vscode-languageclient/node';\n\n\nexport type QuickPickItemEx = QuickPickItem & {\n\turi?\t: Uri;\n}\nexport const aPickItems\t: QuickPickItemEx[] = [];\n\n\nexport\tfunction openURL(url: Uri, pathWs: string) {\n\tswitch (url.scheme) {\n\t\tcase 'ws-file':\n\t\t\tworkspace.openTextDocument(pathWs + url.path)\n\t\t\t.then(doc=> vsc_win.showTextDocument(doc));\n\t\t\tbreak;\n\n\t\tcase 'ws-folder':\n\t\t\tenv.openExternal(Uri.file(pathWs + url.path));\n\t\t\tbreak;\n\n\t\tdefault:\tenv.openExternal(url);\n\t}\n}\n\nexport const PRE_TASK_TYPE = 'SKYNovel Task';\n\n\nexport class WorkSpaces implements TreeDataProvider<TreeItem>, HoverProvider, DocumentDropEditProvider {\n\treadonly\t#aTiRoot\t\t: TreeItem[] = [];\n\n\treadonly\t#mPrj\t= new Map<string, Project>;\n\treadonly\t#lsp;\n\n\t//MARK: \n\tconstructor(private readonly ctx: ExtensionContext, private readonly actBar: ActivityBar) {\n\t\tconst itmStt = this.#addStatusItem('init');\n\t\titmStt.text = '...';\t// $(icon-name)\n\t\titmStt.busy = true;\t// \n\t\titmStt.detail = 'refresh';\t// text - detail \n\n// console.log(`Seq_ 1 fn:WorkSpaces.ts constructor`);\n\t\t// LSP\n\t\tconst module = ctx.asAbsolutePath('dist/LangSrv.js');\n\t\tconst so: ServerOptions = {\n\t\t\trun\t\t: {module, transport: TransportKind.ipc},\n\t\t\tdebug\t: {module, transport: TransportKind.ipc,\n\t\t\t\toptions: {execArgv: ['--nolazy',\n\t\t\t\t'--inspect='+ String(7000 + Math.round(Math.random() *999))\n\t\t\t\t// '--inspect=6009'\t// .vscode/launch.json \n\t\t\t]},}\n\t\t};\n\t\tconst co: LanguageClientOptions = {\n\t\t\tdocumentSelector: [docsel],\n\t\t\tsynchronize: {\n\t\t\t\tfileEvents: [\n\t\t\t\t\t// workspace.createFileSystemWatcher('**/.clientrc'),\n\t\t\t\t\tworkspace.createFileSystemWatcher('**/doc/prj/path.json'),\n\t\t\t\t\t\t// LSP\n\t\t\t\t],\n\t\t\t},\n\t\t};\n\t\tthis.#lsp = new LanguageClient(\n\t\t\t'SKYNovelLangSrv',\n\t\t\t'SKYNovel Language Server',\t// \n\t\t\tso,\n\t\t\tco,\n\t\t);\n\t\tctx.subscriptions.push(\n\t\t\tlanguages.registerHoverProvider(docsel, this),\n\t\t\twindow.registerTreeDataProvider('skynovel-ws', this),\n\t\t\t{dispose: ()=> this.#lsp.stop()},\n\t\t\tthis.#lsp.onRequest(REQ_ID, (hd: T_ALL_S2L)=> {\n\t\t\t\tswitch (hd.cmd) {\n\t\t\t\t\tcase 'log':\t//  'log' \n\t\t\t\t\tcase 'error':\tconsole.error(hd.txt);\treturn;\n\t\t\t\t}\n\t\t\t\tthis.onRequest(hd);\n\t\t\t}),\n\n\t\t\tworkspace.onDidChangeWorkspaceFolders(e=> this.#refresh(e)),\n\t\t);\n\n\t\tconst LEN_PRE_TASK_TYPE = PRE_TASK_TYPE.length;\n\t\ttasks.onDidEndTaskProcess(e=> this.#hOnEndTask.get(\n\t\t\t<TASK_TYPE>(e.execution.task.definition.type.slice(LEN_PRE_TASK_TYPE))\n\t\t)?.(e));\n\n\t\t// \n\t\titmStt.detail = 'initDebug';\t// text - detail \n\t\tconst emDbgLayTd = new EventEmitter<TreeItem | undefined>;\n//\t\tconst hLay2TI: {[layer: string]: TreeItem} = {};\n\t\tinitDebug(ctx, (o: HArg)=> {\n\t\t\tswitch (o.) {\n\t\t\t\tcase ':connect':\n\t\t\t\t\tthis.#tiLayers = [];\n\t\t\t\t\tbreak;\n\t\t\t\tcase ':disconnect':\n\t\t\t\t\tthis.#tiLayers = [];\n\t\t\t\t\temDbgLayTd.fire(undefined);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'add_lay':{\n\t\t\t\t\tconst t = new TreeItem(o.layer ?? '');\n\t\t\t\t\t// hLay2TI[o.layer] = t;\n\t\t\t\t\tif (o.class === 'txt') {\n\t\t\t\t\t\tt.iconPath = oIcon('comment');\n\t\t\t\t\t\tt.tooltip = ` layer=${o.layer ?? ''}`;\n//\t\t\t\t\t\tt.tooltip = new MarkdownString(` layer=${o.layer}`);\n\t\t\t\t\t\tt.collapsibleState = TreeItemCollapsibleState.Expanded;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tt.iconPath = oIcon(o.layer === 'base' ?'image' :'user');\n\t\t\t\t\t\tt.tooltip = ` layer=${o.layer ?? ''}`;\n//\t\t\t\t\t\tt.tooltip = new MarkdownString(` layer=${o.layer}`);\n\t\t\t\t\t}\n\t\t\t\t\t// t.collapsibleState = TreeItemCollapsibleState.Expanded;\n\t\t\t\t\tt.command = {\n\t\t\t\t\t\tcommand\t\t: 'skynovel.tiLayers.selectNode',\n\t\t\t\t\t\ttitle\t\t: 'Select Node',\n\t\t\t\t\t\targuments\t: [o.layer],\n\t\t\t\t\t};\n\t\t\t\t\tthis.#tiLayers.push(t);\n\t\t\t\t\temDbgLayTd.fire(undefined);\n\t\t\t\t}\tbreak;\n\n/*\n\t\t\t\tdefault:\n\t\t\t\t\tif ('layer' in o && 'fn' in o) {\n\t\t\t\t\t\tconst t = hLay2TI[o.layer];\n\t\t\t\t\t\tt.tooltip = new MarkdownString(\n` layer=${o.layer}\n***\n|  |  |  |\n|--|--|--|\n| layer |  | ${o.layer} |\n| fn |  | ${o.fn} $(pencil) |`,\n\t\t\t\t\t\t\ttrue,\n\t\t\t\t\t\t);\n\n\n\t/* === OK or \n- \n~~~~\n$(info)\t$(warning)\t$(symbol-event) $(globe)\thttps://microsoft.github.io/vscode-codicons/dist/codicon.html\n\n> \n> > \n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n*/\n\t\t\t}\n\t\t});\n\n\t\tctx.subscriptions.push(\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n\t\t\tcommands.registerCommand('skynovel.tiLayers.selectNode', node=> Debugger.send2SN('_selectNode', {node})),\n\t\t);\n\n\t\titmStt.detail = 'layers';\t// text - detail \n\t\tctx.subscriptions.push(window.registerTreeDataProvider('skynovel-layers', {\n\t\t\tgetChildren: t=> {\n\t\t\t\tif (! t) return this.#tiLayers;\n\t\t\t\tconst icon = t.iconPath;\n\t\t\t\tif (! icon) return this.#tiLayers;\n//\n\t\t\t\tconst a: {label: string, icon: string}[]\n\t\t\t\t= typeof icon === 'string'\n\t\t\t\t|| icon instanceof ThemeIcon\n\t\t\t\t|| icon instanceof Uri\n\t\t\t\t|| icon.dark.path.endsWith('comment.svg')\n\t\t\t\t? [\n\t\t\t\t\t{label: '',\t\ticon: 'hand-point-down'},\n//\t\t\t\t\t{label: '',\ticon: 'object-group'},\n\t\t\t\t]\n\t\t\t\t: [\n//\t\t\t\t\t{label: '',\t\ticon: 'images'},\n//\t\t\t\t\t{label: '',\ticon: 'object-group'},\n\t\t\t\t];\n\t\t\t\treturn a.map(v=> Object.assign(new TreeItem(v.label), {\n\t\t\t\t\ticonPath: oIcon(v.icon),\n\t\t\t\t\tcommand\t: {\n\t\t\t\t\t\tcommand\t\t: 'skynovel.tiLayers.selectNode',\n\t\t\t\t\t\ttitle\t\t: 'Select Node',\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/restrict-plus-operands, @typescript-eslint/no-base-to-string\n\t\t\t\t\t\targuments\t: [t.label +'/'+ v.label],\n\t\t\t\t\t},\n\t\t\t\t}));\n\t\t\t},\n\t\t\t/*getTreeItem: t=> {\n\t\t\t\tif (t.label === 'mes') treeView.reveal(t, {focus: true, select: true});\n\t\t\t\treturn t;\n\t\t\t},*/\n\t\t\tgetTreeItem: t=> t,\n\t\t\tonDidChangeTreeData: emDbgLayTd.event,\n\t\t}));\n\n\t\tctx.subscriptions.push(languages.registerDocumentDropEditProvider(docsel, this));\n\n\t\tCteScore.init(ctx);\n\n\t\tthis.#removeStatusItem('init');\n\n\t\tfor (const [tag_nm, {sum}] of Object.entries(hMd)) aPickItems.push({\n\t\t\tlabel\t\t: tag_nm,\n\t\t\tdescription\t: sum,\n\t\t\t//detail,\t// \n\t\t\turi\t\t\t: Uri.parse('https://famibee.github.io/SKYNovel/tag.html#'+ tag_nm),\n\t\t});\n\t}\n\t#tiLayers\t: TreeItem[]\t= [];\n\n\n\t// Shift\n\tasync\tprovideDocumentDropEdits(td: TextDocument, pos: Position, dataTransfer: DataTransfer, tkn: CancellationToken): Promise<DocumentDropEdit | null | undefined> {\n\t\t// uris \n\t\tconst dti = dataTransfer.get('text/uri-list');\n\t\t\t// L3,5 3 5 \n\t\tif (! dti) return null;\n\n\t\t// 'text/uri-list'  URI \n\t\tconst urlList = await dti.asString();\n\t\tif (tkn.isCancellationRequested) return null;\n\t\tconst aUri: Uri[] = [];\n\t\tfor (const res of urlList.split('\\n')) {\n\t\t\ttry { aUri.push(Uri.parse(res)); } catch {/* noop */}\n\t\t}\n\t\tif (aUri.length === 0) return null;\n\n\t\tfor (const [vfpWs ,prj] of this.#mPrj.entries()) {\n\t\t\tif (! td.uri.path.startsWith(vfpWs +'/doc/prj/')) continue;\n\n\t\t\treturn await prj.drop(td, pos, aUri) ?? {insertText: ''};\n\t\t\t\t// null \n\t\t}\n\t\treturn null;\n\t}\n\n\n\tprovideHover(doc: TextDocument, pos: Position): ProviderResult<Hover> {\n\t\tfor (const [vfpWs, prj] of this.#mPrj.entries()) {\n\t\t\tif (! doc.uri.path.startsWith(vfpWs +'/doc/prj/')) continue;\n\n\t\t\treturn prj.provideHover(doc, pos);\n\t\t}\n\t\treturn null;\n\t}\n\n\n\t//MARK: \n\tasync start() {\n// console.log('req_ 2 fn:WorkSpaces.ts lsp.start');\n\t\tawait this.#lsp.start();\n\t\tthis.#req2LSP = (uriWs, o)=> {\n\t\t\t// console.error - -\n// console.log(`Seq_11  cmd:${o.cmd} fn:WorkSpaces.ts lsp.sendRequest pathWs=${vsc2fp(uriWs.path)}=`);\n\t\t\treturn this.#lsp.sendRequest(REQ_ID, <T_MES_L2S>{...o, pathWs: fullSchPath2fp(uriWs.path)});\n\t\t};\n\n\t\tthis.ctx.subscriptions.push(\n\t\t\tcommands.registerCommand('skynovel.openReferencePallet', ()=> this.#openReferencePallet()),\n\t\t\tcommands.registerCommand('skynovel.opView', (uri: Uri)=> {\n\t\t\t\tconst {path} = uri;\n\t\t\t\tfor (const [vfpWs, prj] of this.#mPrj.entries()) {\n\t\t\t\t\tif (! path.startsWith(vfpWs)) continue;\n\t\t\t\t\tprj.opView(uri);\n\t\t\t\t}\n\t\t\t}),\n\t\t);\n\n\n\t\t//  #refresh() \n\t\tif (is_mac) updStatBreak('&&');\n\t\telse if (is_win) {\n\t\t\tconst chkShell = String(workspace.getConfiguration('terminal.integrated.shell').get('windows'));\n\t\t\tupdStatBreak(chkShell.endsWith('cmd.exe') ?'&' :';');\n\t\t}\n\t\tthis.#refresh();\n\n/*\t\t// server/src/LspWs.ts constructor \n\t\t// \n\t\tcommands.registerCommand('extension.skynovel.scanScr_trgParamHints', ()=> {\nconsole.error(`fn:WorkSpaces.ts scanScr_trgParamHints `);\n\t\t\tcommands.executeCommand('editor.action.triggerParameterHints')});\n*/\n\t}\n\t//MARK: LSP \n\t#req2LSP: (uriWs: Uri, o: T_ALL_L2S)=> Promise<void>\t= async ()=> { /* empty */ };\n\n\t#openReferencePallet() {\n\t\tconst aWsFld = workspace.workspaceFolders;\n\t\tconst at = window.activeTextEditor;\n\t\tif (! aWsFld || ! at) {\t\t// undefined\n\t\t\twindow.showQuickPick<QuickPickItemEx>(aPickItems, {\n\t\t\t\tplaceHolder\t\t\t: '?',\n\t\t\t\tmatchOnDescription\t: true,\n\t\t\t})\n\t\t\t.then(q=> {if (q?.uri) openURL(q.uri, '');});\n\t\t\treturn;\n\t\t}\n\n\t\tconst vfp = at.document.uri.path;\t// /c:/\n\t\tfor (const [vfpWs, prj] of this.#mPrj.entries()) {\n\t\t\tif (! vfp.startsWith(vfpWs)) continue;\n\t\t\tprj.openReferencePallet();\n\t\t}\n\t}\n\n\n\tget aLocalSNVer() {\n\t\treturn this.#mPrj.values().map(v=> v.getLocalSNVer()).toArray();\n\t}\n\n/*\n\t\titm.accessibilityInformation = {\n\t\t\tlabel: 'label',\n\t\t\trole: 'checkbox',\t// https://w3c.github.io/aria/#widget_roles\n\t\t};\n\t\t// itm.name = 'name';\t// \n\t\titmStt.severity = LanguageStatusSeverity.Error;\n\t\t\t// Information, Error, Warning\n\t\titmStt.text = '...$(loading~spin)';\t// $(icon-name)\n\t\titmStt.detail = 'detail';\t// text - detail \n\t\titmStt.busy = true;\t// \n\t//\titm.command: Command | undefined\n*/\n\treadonly\t#hItmLangStt\t: {[id: string]: LanguageStatusItem} = {};\n\t#addStatusItem(id: string): LanguageStatusItem {\n\t\tconst ret = this.#hItmLangStt[id] = languages.createLanguageStatusItem(id, docsel);\n\t\treturn ret;\n\t}\n\t#removeStatusItem(id: string) {\n\t\tthis.#hItmLangStt[id]?.dispose();\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete this.#hItmLangStt[id];\n\t}\n\n\n\t#refresh(e?: WorkspaceFoldersChangeEvent): void {\n\t\tconst aWsFld = workspace.workspaceFolders;\n\t\tif (! aWsFld) return;\t// undefined\n\n\t\t// len>1 \n\t\tif (! e)  {\t\t// \n\t\t\tfor (const wsFld of aWsFld) this.#makePrj(wsFld);\n\t\t\tif (this.#aTiRoot.length === 0) return;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tthis.#aTiRoot[0]!.collapsibleState = TreeItemCollapsibleState.Expanded;\t// \n\t\t\tthis.#emPrjTD.fire(undefined);\n\t\t\treturn;\n\t\t}\n\n\t\t// \n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\tif (e.added.length > 0) this.#makePrj(aWsFld.slice(-1)[0]!);\n\t\t\t// \n\t\telse {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst removed = e.removed[0]!;\n\t\t\tconst nm = removed.name;\t// \n\t\t\tconst del = this.#aTiRoot.findIndex(v=> v.label === nm);\n\t\t\tthis.#aTiRoot.splice(del, 1);\n\n\t\t\tthis.#mPrj.get(removed.uri.path)?.dispose();\n\t\t}\n\t\tthis.#emPrjTD.fire(undefined);\n\t}\n\treadonly #emPrjTD = new EventEmitter<TreeItem | undefined>;\n\treadonly onDidChangeTreeData = this.#emPrjTD.event;\n\n\n\tonRequest(hd: T_ALL_S2L_WS) {\n// console.log(`056 fn:WorkSpaces.ts  onRequest hd.cmd:${hd.cmd} hd.pathWs=${hd.pathWs}=`);\n\t\t// TODO: \n\t\tconst prj = this.#mPrj.get((is_win ?'/c:' :'')+ hd.pathWs);\n//\t\tconst prj = this.#mPrj.get(hd.pathWs);\n\t\tif (! prj) {\n\t\t\tconsole.error(`fn:WorkSpaces.ts onRequest 'project ${hd.pathWs} does not exist'`);\t// -\n\t\t\treturn;\n\t\t}\n\t\tprj.onRequest(hd);\n\t}\n\n\n\tenableBtn(enable: boolean): void {\n\t\tfor (const prj of this.#mPrj.values()) prj.enableBtn(enable);\n\t}\n\n\n\t#makePrj(wsFld: WorkspaceFolder) {\n\t\tconst vfpWs = wsFld.uri.path;\n\t\tconst pathWs = vsc2fp(vfpWs);\n// console.log(`010 fn:WorkSpaces.ts #makePrj  vfpWs=${vfpWs}=`);\n\t\tif (! existsSync(pathWs +'/package.json')\n\t\t|| ! existsSync(pathWs +'/doc/prj/prj.json')) return;\n\n\t\tthis.#mPrj.set(vfpWs, new Project(this.ctx, this.actBar, wsFld, this.#aTiRoot, this.#emPrjTD, this.#hOnEndTask, (o: T_ALL_L2S)=> this.#req2LSP(wsFld.uri, o)));\n\t}\n\n\t#hOnEndTask = new Map<TASK_TYPE, (e: TaskProcessEndEvent)=> void>([]);\n\n\tgetTreeItem = (t: TreeItem)=> t;\n\tgetChildren = (t?: TreeItem)=> t ?(<PrjTreeItem>t).children :this.#aTiRoot;\n\n\tdispose() {\n\t\tfor (const prj of this.#mPrj.values()) prj.dispose();\n\t\tthis.#mPrj.clear();\n\t\tfor (const [itm, v] of Object.entries(this.#hItmLangStt)) {\n\t\t\tif (Object.prototype.hasOwnProperty.call(this.#hItmLangStt, itm)) {\n\t\t\t\tv.dispose();\n\t\t\t}\n\t\t}\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_E2V_NOTICE_COMPONENT, T_E2V_OPTPIC, T_BJ_OPTPIC} from '../types';\nimport {creBJ_OPTPIC} from '../types';\nimport {chkUpdate, foldProc, getFn, replaceFile} from '../CmnLib';\nimport {FLD_PRJ_BASE} from '../PrjCmn';\nimport type {PrjCmn} from '../PrjCmn';\n\nimport {resolve, parse} from 'node:path';\nimport {window, ProgressLocation, type Progress, type CancellationToken} from 'vscode';\nimport {existsSync} from 'node:fs';\nimport {mkdirsSync, move, readJson, readJsonSync, remove, writeJson} from 'fs-extra/esm';\n\n\nexport const PROC_ID_PIC = 'cnv.mat.pic';\n\ntype T_modeInp\n\t= 'enable'\n\t| 'disable'\n\t| 'reconv'\n\t| 'prj_scan'\n\t| 'base_scan';\n\n\nconst REG_EXT_ORG\t= /\\.(jpe?g|png)$/;\n// (jpe?g|png|svg|webp|mp3|m4a|ogg|aac|flac|wav|mp4|webm|ogv)\nconst REG_EXT_HTML\t= /\\.(htm|html)$/;\nconst REG_REP_WEBPFLAG\t= /\\w+\\/\\*WEBP\\*\\//g;\n\nconst REG_REP_JSON_CNV\t= /(\"image\"\\s*:\\s*\")([^.]+(?:\\.\\d+x\\d+)?).*\\.(jpe?g|png)\"/;\nconst DEST_REP_JSON_CNV\t= '$1$2.webp\",\"image_bkup\":\"$2.$3\"';\n\t// https://regex101.com/r/Vd8HQp/1\t /g \n\nconst REG_REP_JSON_RESTORE\t= /webp\",\"image_bkup\":\".+(jpe?g|png)\"/;\nconst DEST_REP_JSON_RESTORE\t= '$1\"';\n\t// https://regex101.com/r/7dqoPZ/1\t /g \n\n\nexport class BatOptPic {\n\t\t\t\toBJ\t: T_BJ_OPTPIC;\n\treadonly\t#PATH_BJ;\n\n\tconstructor(private readonly pc: PrjCmn) {\n\t\tthis.#PATH_BJ\t= this.pc.PATH_WS +`/${this.pc.FLD_SRC}/batch/cnv_mat_pic.json`;\n\n\t\t(async ()=> {\n\t\t\tif (existsSync(this.#PATH_BJ)) {\n\t\t\t\tthis.oBJ = <T_BJ_OPTPIC>await readJson(this.#PATH_BJ, {encoding: 'utf8'});\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n\t\t\t\tif (this.oBJ.order) return;\t// v4.26.0 \n\t\t\t}\n\t\t\tawait writeJson(this.#PATH_BJ, this.oBJ = creBJ_OPTPIC());\n\t\t})();\n\t}\n\n\t//MARK: \n\tasync go(modeInp: T_modeInp) {\n\t\tconst o: T_E2V_NOTICE_COMPONENT = {cmd: 'notice.Component', id: PROC_ID_PIC, mode: 'wait'};\n\t\tawait this.pc.ps.cmd2Vue(o);\t// \n\n\t\tconst oWp = {\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: '',\n\t\t\tcancellable\t: true,\n\t\t};\n\t\tswitch (modeInp) {\n\t\t\tcase 'enable':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'disable':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'reconv':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'prj_scan':\toWp.title = 'prj';\tbreak;\n\t\t\tcase 'base_scan':\toWp.title = 'base';\tbreak;\n\t\t}\n\t\tawait window.withProgress(oWp, (prg, tknCancel)=> this.#proc(modeInp, prg, tknCancel));\n\n\t\to.mode = 'comp';\n\t\tawait this.pc.ps.cmd2Vue(o);\n\t}\n\n\t//MARK: \n\tdisp() {\n\t\treturn this.pc.ps.cmd2Vue(<T_E2V_OPTPIC>{\n\t\t\tcmd: 'update.optPic',\n\t\t\toOptPic: <T_BJ_OPTPIC>{...this.oBJ, sum: {\n\t\t\t\t...this.oBJ.sum,\n\t\t\t\tpathPicOpt\t: this.pc.ps.wvuWs +'/doc/prj/',\n\t\t\t\tpathPicBase\t: this.pc.ps.wvuWs +`/${this.pc.FLD_SRC}/${FLD_PRJ_BASE}/`,\n\t\t\t}},\n\t\t});\n\t}\n\n\t//MARK: \n\tasync chgBJ(fnc = async ()=> { /* empty */ }) {\n\t// async chgBJ(fnc: (oBJ: T_BJ_OPTPIC)=> Promise<void>) {\t// \n\t\tawait fnc();\n\t\tawait writeJson(this.#PATH_BJ, this.oBJ);\n\t\tawait this.disp();\n\t}\n\n\n\t//MARK: \n\tasync #proc(modeInp: T_modeInp, prg: Progress<{\n\t\tmessage?: string;\n\t\tincrement?: number;\n\t}>, tknCancel: CancellationToken) {\n\t\tthis.oBJ = {\n\t\t\t...creBJ_OPTPIC(),\n\t\t\torder: {\n\t\t\t\tquality\t\t: this.pc.ps.oWss['cnv.mat.webp_quality'],\n\t\t\t\tFLD_PRJ_BASE: `${this.pc.FLD_SRC}/${FLD_PRJ_BASE}/`,\n\t\t\t},\n\t\t};\n\n// console.log(`** start ** #cnv_mat_pic modeInp:${modeInp}`);\n// console.log(`--  quality   =${String(this.oBJ.order.quality)}`);\n// console.log(`--  curPrj    =${this.pc.PATH_PRJ}`);\n// console.log(`--  curPrjBase=${this.pc.PATH_PRJ_BASE}`);\n\n\n\t\t// \n\t\tprg.report({message: ''});\n\t\tconst aP: (()=> Promise<void>)[] = [];\n\t\tswitch (modeInp) {\n\t\t\tcase 'enable':\t\t// \n\t\t\t\tmkdirsSync(this.pc.PATH_PRJ_BASE);\n\t\t\t\tfoldProc(this.pc.PATH_PRJ, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ, dir), (url, nm)=> {\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (REG_EXT_ORG.test(nm)) {\n\t\t\t\t\t\t\taP.push(()=> this.#cnv(url, resolve(wdBase, nm)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// htmtrue/*WEBP*/\n\t\t\t\t\t\tif (REG_EXT_HTML.test(nm)) {\n\t\t\t\t\t\t\taP.push(()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tREG_REP_WEBPFLAG,\n\t\t\t\t\t\t\t\t'true/*WEBP*/',\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t)}));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// jsonpng\n\t\t\t\t\t\tif (nm.endsWith('.json')) aP.push(()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tREG_REP_JSON_CNV,\n\t\t\t\t\t\t\tDEST_REP_JSON_CNV,\n\t\t\t\t\t\t)}));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'disable':\t\t// \n\t\t\t\tfoldProc(this.pc.PATH_PRJ_BASE, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ_BASE, dir), (url, nm)=> {\n\t\t\t\t\t\tif (! REG_EXT_ORG.test(nm)) return;\n\n\t\t\t\t\t\t// \n\t\t\t\t\t\tconst urlPrj = resolve(this.pc.PATH_PRJ, dir, nm);\n\t\t\t\t\t\taP.push(()=> move(url, urlPrj, {overwrite: true}));\n\t\t\t\t\t\tconst {name} = parse(nm);\n\t\t\t\t\t\tconst delDest = resolve(this.pc.PATH_PRJ, dir, name +'.webp');\n\t\t\t\t\t\taP.push(()=> remove(delDest));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\n\t\t\t\tfoldProc(this.pc.PATH_PRJ, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ, dir), (url, nm)=> {\n\t\t\t\t\t\t// htm(true/*WEBP*/)\n\t\t\t\t\t\tif (REG_EXT_HTML.test(nm)) {\n\t\t\t\t\t\t\tREG_REP_WEBPFLAG.lastIndex = 0;\t// /g\n\t\t\t\t\t\t\taP.push(()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tREG_REP_WEBPFLAG,\n\t\t\t\t\t\t\t\t'false/*WEBP*/',\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t)}));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// jsonpng\n\t\t\t\t\t\tif (nm.endsWith('.json')) aP.push(()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tREG_REP_JSON_RESTORE,\n\t\t\t\t\t\t\tDEST_REP_JSON_RESTORE,\n\t\t\t\t\t\t)}));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'reconv':\t\t// \n\t\t\t\t// UI\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\t\t\t\tthis.oBJ.sum.baseSize =\n\t\t\t\tthis.oBJ.sum.webpSize = 0;\n\n\t\t\t\tfor (const {ext, fld_nm} of Object.values(this.oBJ.hSize)) {\n\t\t\t\t\taP.push(()=> this.#cnv(\n\t\t\t\t\t\tresolve(this.pc.PATH_PRJ, fld_nm + '.'+ ext),\n\t\t\t\t\t\tresolve(this.pc.PATH_PRJ_BASE, fld_nm + '.'+ ext),\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'prj_scan':\t// prj\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\n\t\t\t\tmkdirsSync(this.pc.PATH_PRJ_BASE);\n\t\t\t\tfoldProc(this.pc.PATH_PRJ, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ, dir), (url, nm)=> {\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (REG_EXT_ORG.test(nm)) {\n\t\t\t\t\t\t\t// log_enter() \n\t\t\t\t\t\t\tconst {name} = parse(nm);\n\t\t\t\t\t\t\tconst size = this.oBJ.hSize[name];\n\t\t\t\t\t\t\tif (size) {\n\t\t\t\t\t\t\t\tconst {baseSize=0, webpSize=0} = size;\n\t\t\t\t\t\t\t\tthis.oBJ.sum.baseSize -= baseSize;\n\t\t\t\t\t\t\t\tthis.oBJ.sum.webpSize -= webpSize;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// \n\t\t\t\t\t\t\taP.push(()=> this.#cnv(url, resolve(wdBase, nm)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// htmtrue/*WEBP*/\n\t\t\t\t\t\tif (REG_EXT_HTML.test(nm)) {\n\t\t\t\t\t\t\taP.push(async ()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\t\tREG_REP_WEBPFLAG,\n\t\t\t\t\t\t\t\t'true/*WEBP*/',\n\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t)}));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// jsonpng\n\t\t\t\t\t\tif (nm.endsWith('.json')) aP.push(()=> Promise.try(()=> {replaceFile(\n\t\t\t\t\t\t\turl,\n\t\t\t\t\t\t\tREG_REP_JSON_CNV,\n\t\t\t\t\t\t\tDEST_REP_JSON_CNV,\n\t\t\t\t\t\t)}));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'base_scan':\t// base\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\n\t\t\t\tfoldProc(this.pc.PATH_PRJ_BASE, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tconst wdPrj = resolve(this.pc.PATH_PRJ, dir);\n\t\t\t\t\tfoldProc(wdBase, (url, nm)=> {\n\t\t\t\t\t\tif (! REG_EXT_ORG.test(url)) return;\n\n\t\t\t\t\t\tconst toPath = resolve(wdPrj, nm.replace(REG_EXT_ORG, '.webp'));\n\t\t\t\t\t\tif (! chkUpdate(url, toPath)) return;\n\n\t\t\t\t\t\t// log_enter() \n\t\t\t\t\t\tconst {name} = parse(nm);\n\t\t\t\t\t\tconst size = this.oBJ.hSize[name];\n\t\t\t\t\t\tif (size) {\n\t\t\t\t\t\t\tconst {baseSize=0, webpSize=0} = size;\n\t\t\t\t\t\t\tthis.oBJ.sum.baseSize -= baseSize;\n\t\t\t\t\t\t\tthis.oBJ.sum.webpSize -= webpSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taP.push(()=> this.#cnv(toPath, url, false));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tdefault:\tconsole.error('fn:BatOptPic.ts line:288 ERR');\n\t\t}\n\n\n\t\tlet start_cnt = 0;\n\t\tconst cnt = ()=> prg.report({\n\t\t\tincrement: ++start_cnt /aP.length *100,\n\t\t\tmessage: ` ${String(start_cnt)}/${String(aP.length)} tasks`,\n\t\t});\n\n\t\tawait Promise.allSettled(aP.map(v=> (async ()=> {\n\t\t\tif (tknCancel.isCancellationRequested) return;\n\t\t\tawait v();\n\t\t\tcnt();\n\t\t})()))\n\t\t.catch((e: unknown)=> console.log(`fn:BatOptPic.ts ${String(e)}`));\n\n\n\t\t// finish\n\t\t// eslint-disable-next-line @typescript-eslint/require-await\n\t\tawait this.chgBJ(async ()=> {\n\t\t// await this.chgLog(async oBJ=> {\t// \n\t\t\tconst oBJ = this.oBJ;\n\t\t\toBJ.aOrder\n\t\t\t.sort((k1, k2)=> {\n\t\t\t\tconst n1 = k1.pathBase.toUpperCase();\n\t\t\t\tconst n2 = k2.pathBase.toUpperCase();\n\t\t\t\tif (n1 < n2) return -1;\n\t\t\t\tif (n1 > n2) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\n\t\t\tconst a = Object.entries(oBJ.hSize)\n\t\t\t.sort(([k1], [k2])=> {\n\t\t\t\tconst n1 = k1.toUpperCase();\n\t\t\t\tconst n2 = k2.toUpperCase();\n\t\t\t\tif (n1 < n2) return -1;\n\t\t\t\tif (n1 > n2) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\toBJ.hSize = Object.fromEntries(a);\n\t\t});\n\n\t\tif (this.oBJ.aOrder.length > 0) await this.pc.exeBatch(\n\t\t\t'cnv_mat_pic', '', exit_code=> {\n\t\t\tif (exit_code) return;\n\n\t\t\tthis.oBJ = <T_BJ_OPTPIC>readJsonSync(this.#PATH_BJ, {encoding: 'utf8'});\n\t\t\tvoid this.disp();\n\n\t\t\tswitch (modeInp) {\n\t\t\t\tcase 'enable':\t\t// \n\t\t\t\tcase 'disable':\t\t// \n\t\t\t\tcase 'reconv':\t\t// \n\t\t\t\tvoid this.pc.updPathJson();\tbreak;\n\t\t\t}\n\t\t});\n\n\t\tprg.report({message: ''});\n\t}\n\t//MARK: \n\tasync #cnv(pathPrj: string, pathBase: string, do_move = true) {\n\t\tif (do_move) await move(pathPrj, pathBase, {overwrite: true});\n\n\t\tthis.oBJ.aOrder.push({\n\t\t\tpathPrj\t: this.pc.fp2pp(pathPrj),\n\t\t\tpathBase: this.pc.src2pp(pathBase),\n\t\t})\n\t}\n\n\n\t//MARK: \n\t#log_enter(curPrj: string, curPrjBase: string) {\n\t\tconst o = this.oBJ;\n\t\tfor (const [fn, of] of Object.entries(this.oBJ.hSize)) {\n\t\t\tconst {fld_nm, ext, baseSize, webpSize} = of;\n\t\t\tconst pp = fld_nm + '.'+ ext;\n\t\t\tif (existsSync(resolve(curPrj, pp))\n\t\t\t|| existsSync(resolve(curPrjBase, pp))) o.hSize[fn] = of;\n\t\t\telse {\n\t\t\t\to.sum.baseSize -= baseSize;\n\t\t\t\to.sum.webpSize -= webpSize;\n\t\t\t}\n\t\t}\n\t\tthis.oBJ = o;\n\t}\n\n\n\t//MARK: \n\tasync delRes(path: string) {\n\t\tconst fn = getFn(path);\n\t\tif (! (fn in this.oBJ.hSize)) return;\n\n\t\tconst s = this.oBJ.hSize[fn];\n\t\tif (! s) return;\n\n\t\tconst {baseSize, webpSize} = s;\n\t\tthis.oBJ.sum.baseSize -= baseSize;\n\t\tthis.oBJ.sum.webpSize -= webpSize;\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete this.oBJ.hSize[fn];\n\n\t\tawait this.disp();\n\n\t\tawait writeJson(this.#PATH_BJ, this.oBJ, {encoding: 'utf8'});\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_E2V_NOTICE_COMPONENT, T_E2V_OPTSND, T_OPTSND, T_OPTSND_FILE} from '../types';\nimport {creOPTSND} from '../types';\nimport {chkUpdate, foldProc, getFn} from '../CmnLib';\nimport {type PrjCmn, FLD_PRJ_BASE} from '../PrjCmn';\n\nimport ffmpeg from 'fluent-ffmpeg';\n\nimport {resolve, parse, basename} from 'node:path';\nimport {existsSync, statSync} from 'node:fs';\nimport {mkdirsSync, move, moveSync, readJson, remove, writeJson} from 'fs-extra/esm';\nimport {window, ProgressLocation, type Progress, type CancellationToken} from 'vscode';\n\n\nexport const PROC_ID_SND = 'cnv.mat.snd';\n\ntype T_modeInp\n\t= 'enable'\n\t| 'disable'\n\t| 'reconv'\n\t| 'prj_scan'\n\t| 'base_scan';\n\n\nconst REG_EXT_ORG\t= /\\.(mp3|wav)$/;\t// (mp3|opus|m4a|ogg|aac|flac|wav)\n\n\nexport class BatOptSnd {\n\t\t\t\t#oBJ\t: T_OPTSND;\n\treadonly\t#PATH_BJ;\n\n\tconstructor(private readonly pc: PrjCmn) {\n\t\tthis.#PATH_BJ = this.pc.PATH_WS +`/${this.pc.FLD_SRC}/batch/cnv_mat_snd.json`;\n\n\t\t(async ()=> {\n\t\t\tif (existsSync(this.#PATH_BJ)) this.#oBJ = <T_OPTSND>await readJson(this.#PATH_BJ, {encoding: 'utf8'});\n\t\t\telse await writeJson(this.#PATH_BJ, this.#oBJ = creOPTSND());\n\t\t})();\n\t}\n\n\t//MARK: \n\tasync go(modeInp: T_modeInp) {\n\t\tconst o: T_E2V_NOTICE_COMPONENT = {cmd: 'notice.Component', id: PROC_ID_SND, mode: 'wait'};\n\t\tawait this.pc.ps.cmd2Vue(o);\t// \n\n\t\tconst oWp = {\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: '',\n\t\t\tcancellable\t: true,\n\t\t};\n\t\tswitch (modeInp) {\n\t\t\tcase 'enable':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'disable':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'reconv':\t\toWp.title = '';\tbreak;\n\t\t\tcase 'prj_scan':\toWp.title = 'prj';\tbreak;\n\t\t\tcase 'base_scan':\toWp.title = 'base';\tbreak;\n\t\t}\n\t\tawait window.withProgress(oWp, (prg, tknCancel)=> this.#proc(modeInp, prg, tknCancel));\n\n\t\to.mode = 'comp';\n\t\tawait this.pc.ps.cmd2Vue(o);\n\t}\n\n\t//MARK: \n\tdisp() {\n\t\treturn this.pc.ps.cmd2Vue(<T_E2V_OPTSND>{\n\t\t\tcmd: 'update.optSnd',\n\t\t\toOptSnd: {...this.#oBJ, sum: {\n\t\t\t\t...this.#oBJ.sum,\n\t\t\t\tpathSndOpt\t: this.pc.ps.wvuWs +'/doc/prj/',\n\t\t\t\tpathSndBase\t: this.pc.ps.wvuWs +`/${this.pc.FLD_SRC}/${FLD_PRJ_BASE}/`,\n\t\t\t}},\n\t\t});\n\t}\n\n\t//MARK: \n\tasync #chgBJ(fnc = async ()=> { /* empty */ }) {\n\t\tawait fnc();\n\t\tawait writeJson(this.#PATH_BJ, this.#oBJ);\n\t\tawait this.disp();\n\t}\n\n\n\t//MARK: \n\tasync #proc(modeInp: T_modeInp, prg: Progress<{\n\t\tmessage?: string;\n\t\tincrement?: number;\n\t}>, tknCancel: CancellationToken) {\n\t\tconst codec = this.pc.ps.oWss['cnv.mat.snd.codec'];\n// console.log(`** start ** #cnv_mat_snd modeInp:${modeInp}`);\n// console.log(`--  codec     =${codec}`);\n// console.log(`--  curPrj    =${this.#PATH_PRJ}`);\n// console.log(`--  curPrjBase=${this.#PATH_PRJ_BASE}`);\n\n\t\tconst extCnv = '.'+ codec;\n\t\tconst extOut = '.'+ (codec === 'opus' ?'m4a' :codec);\n\n\t\tthis.#oBJ = {\n\t\t\tsum\t\t: {\n\t\t\t\tbaseSize\t: 0,\n\t\t\t\toptSize\t\t: 0,\n\t\t\t\tpathSndOpt\t: '',\n\t\t\t\tpathSndBase\t: '',\n\t\t\t},\n\t\t\thSize\t: {},\n\t\t};\n\n\n\t\t// \n\t\tprg.report({message: ''});\n\t\tconst aP: (()=> Promise<void>)[] = [];\n\t\tswitch (modeInp) {\n\t\t\tcase 'enable':\t\t// \n\t\t\t\tmkdirsSync(this.pc.PATH_PRJ_BASE);\n\t\t\t\tfoldProc(this.pc.PATH_PRJ, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ, dir), (url, nm)=> {\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (! REG_EXT_ORG.test(nm)) return;\n\n\t\t\t\t\t\taP.push(()=> this.#cnv(extCnv, extOut, url, resolve(wdBase, nm)));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'disable':\t\t// \n\t\t\t\tfoldProc(this.pc.PATH_PRJ_BASE, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ_BASE, dir), (url, nm)=> {\n\t\t\t\t\t\tif (! REG_EXT_ORG.test(nm)) return;\n\n\t\t\t\t\t\t// \n\t\t\t\t\t\tconst urlPrj = resolve(this.pc.PATH_PRJ, dir, nm);\n\t\t\t\t\t\taP.push(async ()=> move(url, urlPrj, {overwrite: true}));\n\t\t\t\t\t\tconst delDest = urlPrj.slice(0, -3);\n\t\t\t\t\t\tfor (const ext of ['m4a','aac','ogg']) aP.push(()=> remove(delDest + ext));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'reconv':\t\t// \n\t\t\t\t// UI\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\t\t\t\tthis.#oBJ.sum.baseSize =\n\t\t\t\tthis.#oBJ.sum.optSize = 0;\n\n\t\t\t\tfor (const {ext, fld_nm} of Object.values(this.#oBJ.hSize)) {\n\t\t\t\t\taP.push(()=> this.#cnv(\n\t\t\t\t \t\textCnv, extOut,\n\t\t\t\t\t\tresolve(this.pc.PATH_PRJ, fld_nm + '.'+ ext),\n\t\t\t\t\t\tresolve(this.pc.PATH_PRJ_BASE, fld_nm + '.'+ ext),\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t));\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase 'prj_scan':\t// prj\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\n\t\t\t\tmkdirsSync(this.pc.PATH_PRJ_BASE);\n\t\t\t\tfoldProc(this.pc.PATH_PRJ, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tfoldProc(resolve(this.pc.PATH_PRJ, dir), (url, nm)=> {\n\t\t\t\t\t\t// \n\t\t\t\t\t\tif (REG_EXT_ORG.test(nm)) {\n\t\t\t\t\t\t\t// log_enter() \n\t\t\t\t\t\t\tconst {name} = parse(nm);\n\t\t\t\t\t\t\tconst size = this.#oBJ.hSize[name];\n\t\t\t\t\t\t\tif (size) {\n\t\t\t\t\t\t\t\tconst {baseSize=0, optSize=0} = size;\n\t\t\t\t\t\t\t\tthis.#oBJ.sum.baseSize -= baseSize;\n\t\t\t\t\t\t\t\tthis.#oBJ.sum.optSize -= optSize;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// \n\t\t\t\t\t\t\taP.push(()=> this.#cnv(extCnv, extOut, url, resolve(wdBase, nm)));\n\t\t\t\t\t\t}\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase 'base_scan':\t// base\n\t\t\t\tthis.#log_enter(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\n\t\t\t\tfoldProc(this.pc.PATH_PRJ_BASE, ()=> { /* empty */ }, dir=> {\n\t\t\t\t\tconst wdBase = resolve(this.pc.PATH_PRJ_BASE, dir);\n\t\t\t\t\tmkdirsSync(wdBase);\n\t\t\t\t\tconst wdPrj = resolve(this.pc.PATH_PRJ, dir);\n\t\t\t\t\tfoldProc(wdBase, (url, nm)=> {\n\t\t\t\t\t\tif (! REG_EXT_ORG.test(url)) return;\n\n\t\t\t\t\t\tconst toPath = resolve(wdPrj, nm.replace(REG_EXT_ORG, '.webp'));\n\t\t\t\t\t\tif (! chkUpdate(url, toPath)) return;\n\n\t\t\t\t\t\t// log_enter() \n\t\t\t\t\t\tconst {name} = parse(nm);\n\t\t\t\t\t\tconst size = this.#oBJ.hSize[name];\n\t\t\t\t\t\tif (size) {\n\t\t\t\t\t\t\tconst {baseSize=0, optSize=0} = size;\n\t\t\t\t\t\t\tthis.#oBJ.sum.baseSize -= baseSize;\n\t\t\t\t\t\t\tthis.#oBJ.sum.optSize -= optSize;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\taP.push(()=> this.#cnv(extCnv, extOut, toPath, url, false));\n\t\t\t\t\t}, ()=> { /* empty */ });\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tdefault:\tconsole.error('fn:BatOptSnd.ts line:216 ');\n\t\t}\n\n\n\t\tlet start_cnt = 0;\n\t\tconst cnt = ()=> prg.report({\n\t\t\tincrement: ++start_cnt /aP.length *100,\n\t\t\tmessage: ` ${String(start_cnt)}/${String(aP.length)} tasks`,\n\t\t});\n\n\t\tawait Promise.allSettled(aP.map(v=> (async ()=> {\n\t\t\tif (tknCancel.isCancellationRequested) return;\n\t\t\tawait v();\n\t\t\tcnt();\n\t\t})()))\n\t\t.catch((e: unknown)=> console.log(`fn:BatOptSnd.ts ${String(e)}`));\n\n\n\t\t// finish\n\t\t// eslint-disable-next-line @typescript-eslint/require-await\n\t\tawait this.#chgBJ(async ()=> {\n\t\t\tconst a = Object.entries(this.#oBJ.hSize)\n\t\t\t.sort(([k1], [k2])=> {\n\t\t\t\tconst n1 = k1.toUpperCase();\n\t\t\t\tconst n2 = k2.toUpperCase();\n\t\t\t\tif (n1 < n2) return -1;\n\t\t\t\tif (n1 > n2) return 1;\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\tthis.#oBJ.hSize = Object.fromEntries(a);\n\t\t});\n\n\t\tswitch (modeInp) {\n\t\t\tcase 'enable':\t\t// \n\t\t\tcase 'disable':\t\t// \n\t\t\tcase 'reconv':\t\t// \n\t\t\tvoid this.pc.updPathJson();\tbreak;\n\t\t}\n\n\t\tprg.report({message: ''});\n\t}\n\n\n\t//MARK: \n\t#log_enter(curPrj: string, curPrjBase: string) {\n\t\tconst o = this.#oBJ;\n\t\tfor (const [fn, of] of Object.entries(this.#oBJ.hSize)) {\n\t\t\tconst {fld_nm, ext, baseSize, optSize} = of;\n\t\t\tconst pp = fld_nm + '.'+ ext;\n\t\t\tif (existsSync(resolve(curPrj, pp))\n\t\t\t|| existsSync(resolve(curPrjBase, pp))) o.hSize[fn] = of;\n\t\t\telse {\n\t\t\t\to.sum.baseSize -= baseSize;\n\t\t\t\to.sum.optSize -= optSize;\n\t\t\t}\n\t\t}\n\t\tthis.#oBJ = o;\n\t}\n\n\n\t/**\n\t *\n\t * @param {string} pathPrj\t (jpe?g|png)\n\t * @param {string} pathBase\t (jpe?g|png)\n\t * @param {boolean} do_move\tmove\n\t * @returns {void} \n\t */\n\t//MARK: \n\tasync #cnv(extCnv: string, extOut: string, pathInp: string, pathBase: string, do_move = true): Promise<void> {\n\t\tconst {dir, name} = parse(pathInp);\n\t\tif (do_move) await move(pathInp, pathBase, {overwrite: true});\n\t\telse await Promise.allSettled(\n\t\t\t['m4a','aac','ogg']\n\t\t\t.map(ext=> remove(dir +'/'+ name +'.'+ ext))\n\t\t);\n\n\t\t// \n\t\tconst {dir: dirBase, ext} = parse(pathBase);\n\t\tconst pathWk = dirBase +'/'+ name + extCnv;\n\t\tconst fi = this.#oBJ.hSize[name] ??= {fld_nm: basename(dir) +'/'+ name, baseSize: 0, optSize: 0, ext: '',};\n\n\t\tawait new Promise<void>(re=> ffmpeg(pathBase)\n\t\t.save(pathWk)\t// \n\t//\t.on('start', (cl: any)=> console.log(`@@ ${cl} @@`))\n\t\t.on('error', (e: unknown)=> console.error(e))\n\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t.on('end', (_stdout: any, _stderr: any)=> {\n\t\t\tconst baseSize = statSync(pathBase).size;\n\t\t\tconst optSize = statSync(pathWk).size;\n\t\t\tthis.#oBJ.hSize[name] = {...fi, baseSize, optSize, ext: <T_OPTSND_FILE['ext']>ext.slice(1),};\n\t\t\t// this.#oBJ.hSize[name] = {...fi, baseSize, optSize, ext: <any>ext.slice(1),};\n\t\t\tthis.#oBJ.sum.baseSize += baseSize;\n\t\t\tthis.#oBJ.sum.optSize += optSize;\n\n\t\t\tmoveSync(pathWk, dir +'/'+ name + extOut, {overwrite: true});\n\t\t\tre();\n\t\t}));\n\t}\n\n\n\t//MARK: \n\tasync delRes(path: string) {\n\t\tconst fn = getFn(path);\n\t\tif (! (fn in this.#oBJ.hSize)) return;\n\n\t\tconst s = this.#oBJ.hSize[fn];\n\t\tif (! s) return;\n\n\t\tconst {baseSize, optSize} = s;\n\t\tthis.#oBJ.sum.baseSize -= baseSize;\n\t\tthis.#oBJ.sum.optSize -= optSize;\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete this.#oBJ.hSize[fn];\n\n\t\tawait this.#chgBJ();\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_BJ_Psd2Layer} from '../types';\nimport {getFn} from '../CmnLib';\nimport type {PrjCmn} from '../PrjCmn';\n\nimport * as T_PSD from 'psd';\nimport PSD from 'psd.js';\n\nimport {mkdtempSync} from 'node:fs';\nimport {remove, outputFile, ensureFile, writeJson} from 'fs-extra/esm';\n\n\nexport class BatPsdFace {\n\treadonly\t#PATH_BJ;\n\n\treadonly\t#PATH_TMP = mkdtempSync('/tmp/SKYNovel_PsdFace-');\n\n\n\tconstructor(private readonly pc: PrjCmn) {\n\t\tthis.#PATH_BJ = `${this.pc.PATH_WS}/${this.pc.FLD_SRC}/batch/cnv_psd_face.json`;\n\t}\n\n\t//MARK: \n\tasync go(src: string) {\n\t\tconst oBJ: T_BJ_Psd2Layer = {\n\t\t\taOrder: [],\n\t\t\terr: '',\n\t\t};\n\t\tconst aP: Promise<void>[] = [];\n\n\n\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-call, @typescript-eslint/no-unsafe-member-access\n\t\tconst psd = <T_PSD>await PSD.open(src);\n\n\t\tconst t = psd.tree();\n\t\tconst {document: {width, height}} = t.export();\n\t\tlet out = `;#ED FACE\n; *******************************************************\n;#ED {\"width\":${String(width)}, \"height\":${String(height)}}\n`;\n\n\t\tconst a = t.descendants(); // =lay+grp \n\t\tconst len = a.length;\n\t\tlet idxLast = len;\n\t\t// is_canvas_size\n\t\twhile (0 <= --idxLast) {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst {type, parent} = a[idxLast]!;\n\t\t\tif (type === 'group' || parent.isRoot()) break;\n\t\t}\n\n\t\tlet nm = '';\n\t\tconst hn = getFn(src);\n\t\ta.forEach((nc, i)=> {\n\t\t\tconst {type, name, parent} = nc;\n\t\t\tif (type === 'group') {\n\t\t\t\tout += `;#ED FACE_FOLDER ${name}\\n`;\n\t\t\t\tnm = '_'+ name;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (parent.isRoot()) {\n\t\t\t\tif (nm !== '') out += ';#ED FACE_FOLDER /\\n';\n\t\t\t\tnm = '';\n\t\t\t}\n\t\t\tout += this.#genPsd2Layer(hn + nm, nc, idxLast <= i, width, height, aP, oBJ);\n\t\t});\n\n\t\tout += `\n; *******************************************************\n\n[return]\\n`;\n\n\t\tconst fnOut = this.pc.PATH_PRJ +`face/face${hn}.sn`;\n\t\tawait ensureFile(fnOut);\t// \n\t\taP.push(outputFile(fnOut, out, 'utf8'));\n\t\tawait Promise.allSettled(aP);\n\n\n\t\tawait writeJson(this.#PATH_BJ, oBJ, {encoding: 'utf8'});\n\t\tawait this.pc.exeBatch('cnv_psd_face', '');\n\n\n\t\tawait remove(this.#PATH_TMP);\n\t}\n\t#genPsd2Layer(fld: string, {name, left, top, width, height, layer}: T_PSD.Node.Layer, is_canvas_size: boolean, cvsW: number, cvsH: number, aP: Promise<void>[], oLog: T_BJ_Psd2Layer) {\n\t\tconst fn = fld +'_'+ name.replaceAll(this.#REG_NG_PSD_LAYNM, '#');\t// \n\t\tconst pp_out = `face/${fn}.png`;\n\t\tconst path_out = this.pc.PATH_PRJ + pp_out;\n\t\tconst bm = layer.blendingMode();\n\t\tconst ret = `${\n\t\t\tis_canvas_size ?';' :''\n\t\t// eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\t\t}\\t[add_face name=${fn} dx=${left} dy=${top}${\n\t\t\tbm === 'normal' ?'' :` blendmode=${bm}`\n\t\t}]\\n`;\n\n\t\tif (! is_canvas_size) {\n\t\t\taP.push((async ()=> {\n\t\t\t\t// console.log(`fn:cnv_psd_face.ts f canvas(${cvsW},${cvsH}) layer(${String(left).padStart(4)}, ${String(top).padStart(4)}, ${String(width).padStart(4)}, ${String(height).padStart(4)}) name:${fn}:`);\n\n\t\t\t\tawait layer.image.saveAsPng(path_out);\n\t\t\t})());\n\t\t\t// aP.push(layer.image.saveAsPng(path_out));\n\t\t\treturn ret;\n\t\t}\n\n\t\t// tmp  -> prj\n\t\tconst fp_tmp = `${this.#PATH_TMP}/${fn}.png`;\n\t\taP.push((async ()=> {\n\t\t\ttry {\n\t\t\t\t// console.log(`fn:cnv_psd_face.ts b canvas(${cvsW},${cvsH}) layer(${String(left).padStart(4)}, ${String(top).padStart(4)}, ${String(width).padStart(4)}, ${String(height).padStart(4)}) name:${fn}:`);\n\t\t\t\tawait layer.image.saveAsPng(fp_tmp);\n\n\t\t\t\toLog.aOrder.push({\n\t\t\t\t\tfp_tmp,\t// sharp  fnTmp  temp \n\t\t\t\t\textend: {\n\t\t\t\t\t\tleft,\n\t\t\t\t\t\tright\t: cvsW -left -width,\n\t\t\t\t\t\ttop,\n\t\t\t\t\t\tbottom\t: cvsH -top -height,\n\t\t\t\t\t\tbackground\t: {r: 0, g: 0, b: 0, alpha: 0},\n\t\t\t\t\t},\n\t\t\t\t\tpp_out,\n\t\t\t\t})\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\t// console.log(`  extend(left:${left}, right:${cvsW -left -width}, top:${top}, bottom:${cvsH -top -height})`);\n\t\t\t\tconsole.error('  PSD '+ String(\n\t\t\t\t\tleft < 0 || cvsW -left -width < 0 ||\n\t\t\t\t\ttop < 0 || cvsH -top -height < 0\n\t\t\t\t) ?'' :'');\n\t\t\t\tconsole.error(`  [ERR] ${String(e)}`);\n\t\t\t}\n\t\t})());\n\n\t\treturn ret;\n\t}\n\t\treadonly #REG_NG_PSD_LAYNM\t= /[\\\\/:*?\"<>|.\\s]/g;\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {chkUpdate, getFn} from '../CmnLib';\nimport type {PrjCmn} from '../PrjCmn';\n\nimport {minimatch} from 'minimatch';\n\nimport type {FileRenameEvent} from 'vscode';\nimport {FileType, RelativePattern, Uri, workspace} from 'vscode';\nimport {existsSync, remove, statSync} from 'fs-extra';\n\n\ntype T_WATCHRP2CREDELPROC = {\n\tpat\t\t: string,\n\tcrechg?\t: (uri: Uri, cre: boolean)=> Promise<void>,\n\tdel?\t: (uri: Uri)=> Promise<boolean>,\n}\n\n\nexport class WatchFile {\n\t//MARK: \n\tconstructor(protected readonly pc: PrjCmn) {}\n\n\t//MARK: \n\tinitOnce(\n\t\tupdPathJson\t: ()=> Promise<void>,\n\t\tencIfNeeded\t: (uri: Uri)=> Promise<void>,\n\t) {\n\t\tWatchFile.#updPathJson = updPathJson;\n\t\tWatchFile.encIfNeeded = encIfNeeded;\n\n\t\t// \n\t\tworkspace.onDidRenameFiles(e=> this.#onDidRenameFiles(e));\n\n\t\t// \n\t\tconst ptnFld = 'doc/prj/*';\n\t\tconst fwFld = workspace.createFileSystemWatcher(new RelativePattern(this.pc.wsFld, ptnFld));\n\t\tfwFld.onDidCreate(newUri=> this.pc.addSeq(()=> this.#seqDidCreate(newUri), `CRE ${ptnFld}`));\n\t\tfwFld.onDidDelete(oldUri=> this.pc.addSeq(()=> this.#seqDidDelete(oldUri), `DEL ${ptnFld}`));\n\t}\n\t\t\t\tstatic\t#updPathJson\t: ()=> Promise<void>;\n\tprotected\tstatic\tencIfNeeded\t\t: (uri: Uri)=> Promise<void>;\n\n\tasync #onDidRenameFiles({files}: FileRenameEvent) {\n// console.log(`fn:WatchFile.ts onDidRenameFiles files:%o`, files);\n\t\tconst PATH_WS_LEN = this.pc.PATH_WS.length;\n\t\tfor (const {oldUri, newUri} of files) {\n\t\t\tconst ppOld = oldUri.path.slice(PATH_WS_LEN +1);\n\t\t\tconst isOldRnInPrj = ppOld.startsWith('doc/');\n\t\t\tconst ppNew = newUri.path.slice(PATH_WS_LEN +1);\n\t\t\tconst isNewRnInPrj = ppNew.startsWith('doc/');\n// console.log(`  newPath:${ppNew} isOldRnInPrj:${isOldRnInPrj} isNewRnInPrj:${isNewRnInPrj}`);\n\t\t\tfor (const w of this.#aWatchRp2CreDelProc) {\n\t\t\t\tconst {pat} = w;\n// if (minimatch(ppOld, pattern)) console.log(`  minimatch del:${!!w.del} crechg:${!!w.crechg} -- ptn:${pattern}`);\n\t\t\t\tif (isOldRnInPrj && w.del && minimatch(ppOld, pat)) await w.del(oldUri);\n\t\t\t\tif (isNewRnInPrj && w.crechg && minimatch(ppNew, pat)) await w.crechg(newUri, true);\n\t\t\t}\n\t\t}\n\t}\n\t#aWatchRp2CreDelProc: T_WATCHRP2CREDELPROC[]\t= [];\n\n\tasync #seqDidCreate(newUri: Uri) {\n// console.log(`fn:WatchFile.ts FLD/Create uri:${newUri.path}`);\n\t\tif (! statSync(newUri.path).isDirectory()) return;\n\n\t\tawait this.pc.ps.onCreDir(newUri);\t//NOTE: PrjJs \n\n\t\t// \n\t\tconst nm = getFn(newUri.path) +'/';\n\t\tconst aPp2 = (await workspace.fs.readDirectory(newUri))\n\t\t.filter(([, ty])=> ty === FileType.File)\n\t\t.map(([fp2pp, ])=> 'doc/prj/'+ nm + fp2pp);\n\t\tfor (const w of this.#aWatchRp2CreDelProc) {\n\t\t\tconst {pat} = w;\n\t\t\tif (! w.crechg || ! pat.startsWith('doc/prj/')) continue;\n\n\t\t\tfor (const pp2 of aPp2) {\n\t\t\t\tconst match = minimatch(pp2, pat);\n// console.log(`fn:WatchFile.ts ++ match:${match} pattern:${pattern} pp2:${pp2}`);\n\t\t\t\tif (match) await w.crechg(Uri.file(this.pc.PATH_WS +'/'+ pp2), true);\n\t\t\t}\n\t\t}\n\t}\n\tasync #seqDidDelete(oldUri: Uri) {\n// console.log(`fn:WatchFile.ts FLD/Delete uri:${oldUri.path}`);\n\t\t// if (! statSync(uri.path).isDirectory()) return;\t// \n\n\t\tawait this.pc.ps.onDelDir(oldUri);\t//NOTE: PrjJs \n\n\t\t// \n\t\tconst nm = getFn(oldUri.path) +'/';\n\t\tconst aPP2 = this.pc.diff.keysPP\n\t\t.filter(pp=> pp.startsWith(nm))\n\t\t.map(pp=> 'doc/prj/'+ pp);\n\t\tfor (const w of this.#aWatchRp2CreDelProc) {\n\t\t\tconst {pat} = w;\n\t\t\tif (! w.del || ! pat.startsWith('doc/prj/')) continue;\n\n\t\t\tfor (const pp2 of aPP2) {\n\t\t\t\tconst match = minimatch(pp2, pat);\n// console.log(`fn:WatchFile.ts -- match:${match} pattern:${pattern} pp2:${pp2}`);\n\t\t\t\tif (match) await w.del(Uri.file(this.pc.PATH_WS +'/'+ pp2));\n\t\t\t}\n\t\t}\n\t}\n\n\tasync init2th() {await WatchFile.#updPathJson()}\n\n\n\t//MARK:  PathJson \n\tprotected\tlasyPathJson() {\n\t\tif (this.#tiLasyPathJson) clearTimeout(this.#tiLasyPathJson);\n\t\tthis.#tiLasyPathJson = setTimeout(()=> {void WatchFile.#updPathJson()}, 500);\n\t}\n\t#tiLasyPathJson: NodeJS.Timeout | undefined = undefined;\n\n\n\t//MARK: \n\tprotected async watchFld(\n\t\tpat\t\t: string,\t//  Grb \n\t\tpathDest: string,\t//  Grb \n\t\tinit?\t: (uri: Uri)=> Promise<void>,\n\t\tcrechg?\t: (uri: Uri, cre: boolean)=> Promise<void>,\n\t\tdel?\t: (uri: Uri)=> Promise<boolean>,\n\t\tupdPathJson\t= false,\n\t) {\n\t\tthis.#aWatchRp2CreDelProc.push({pat, crechg, del});\n\n\t\tconst encIfNeeded = pat.startsWith('doc/prj/*/')\n\t\t\t? async (uri: Uri)=> {\n\t\t\t\t// \n\t\t\t\tif (existsSync(uri.path)) await WatchFile.encIfNeeded(uri)\n\t\t\t}\n\t\t\t: async ()=> { /* empty */ };\n\t\tif (init) await Promise.allSettled((await workspace.findFiles(pat))\n\t\t\t.map(async uri=> {\n\t\t\t\tawait init(uri);\t// \n\t\t\t\treturn encIfNeeded(uri);\n\t\t\t})\n\t\t);\n\t\tconst fw = workspace.createFileSystemWatcher(\n\t\t\tnew RelativePattern(this.pc.wsFld, pat),\n\t\t\t! crechg,\t// ignore  true\n\t\t\t! crechg,\n\t\t\t! del,\n\t\t);\n\t\tif (crechg) this.pc.ctx.subscriptions.push(\n\t\t\tfw.onDidCreate(uri=> {\n// console.log(`fn:WatchFile.ts watchFld CRE pat${pat} uri:${uri.path}`);\n\t\t\t\tthis.pc.addSeq(async ()=> {\n// console.log('fn:WatchFile.ts watchFld CRE - START');\n\t\t\t\t\tawait crechg(uri, true);\n\t\t\t\t\tawait encIfNeeded(uri);\n\t\t\t\t\tthis.pc.ps.pnlWVFolder.updateDelay(uri);\n\t\t\t\t\tif (updPathJson) this.lasyPathJson();\n// console.log('fn:WatchFile.ts watchFld CRE - END');\n\t\t\t\t}, `CRE ${pat}`);\n\t\t\t}),\n\t\t\tfw.onDidChange(uri=> {\n// console.log(`fn:WatchFile.ts watchFld CHG uri:${uri.path}`);\n\t\t\t\tthis.pc.addSeq(async ()=> {\n// console.log('fn:WatchFile.ts watchFld CHG = START');\n\t\t\t\t\tawait this.#delDest(pathDest, uri);\n\t\t\t\t\tawait crechg(uri, false);\n\t\t\t\t\tawait encIfNeeded(uri);\n\t\t\t\t\tthis.pc.ps.pnlWVFolder.updateDelay(uri);\n// console.log('fn:WatchFile.ts watchFld CHG = END');\n\t\t\t\t}, `CHG ${pat}`);\n\t\t\t}),\n\t\t);\n\t\tif (del) this.pc.ctx.subscriptions.push(fw.onDidDelete(uri=> {\n// console.log(`fn:WatchFile.ts watchFld DEL pat${pat} uri:${uri.path}`);\n\t\t\tthis.pc.addSeq(async ()=> {\n// console.log('fn:WatchFile.ts watchFld DEL --- START');\n\t\t\t\tawait this.#delDest(pathDest, uri);\n\t\t\t\tif (await del(uri)) {\n\t\t\t\t\tconst {pathCn, pp} = this.pc.diff.path2cn(uri.path);\n\t\t\t\t\tif (pathCn) await remove(pathCn);\n\n\t\t\t\t\tthis.pc.diff.del(pp);\n\t\t\t\t\tawait this.pc.diff.save();\n\t\t\t\t}\n\t\t\t\tthis.pc.ps.pnlWVFolder.updateDelay(uri);\n\t\t\t\tif (updPathJson) this.lasyPathJson();\n// console.log('fn:WatchFile.ts watchFld DEL --- END');\n\t\t\t}, `DEL ${pat}`);\n\t\t}));\n\t}\n\n\t//MARK: \n\tprotected chkUpdateByDiff(pathSrc: string, pathDest: string) {\n\t\tif (this.pc.isCryptoMode()) {\n\t\t\tconst {pathCn} = this.pc.diff.path2cn(pathDest);\n\t\t\tif (! pathCn) return true;\n\t\t\treturn chkUpdate(pathSrc, pathCn);\n\t\t}\n\n\t\treturn chkUpdate(pathSrc, pathDest);\n\t}\n\n\t//MARK: \n\tasync #delDest(ptDest: string, {path}: Uri) {\n\t\tif (ptDest === '') return;\n\n\t\tconst hn = getFn(path);\n\t\tconst aUri = await workspace.findFiles(ptDest.replaceAll('[FN]', hn));\n\t\tawait Promise.allSettled(aUri.map(async ({path})=> {\n\t\t\t// \n\t\t\tawait remove(path);\n\n\t\t\t// \n\t\t\tconst {pathCn, pp} = this.pc.diff.path2cn(path);\n\t\t\tif (pathCn) await remove(pathCn);\n\t\t\tthis.pc.diff.del(pp);\n\t\t}));\n\t\tawait this.pc.diff.save();\n\t}\n\n\n\tprotected async delOldDiff(reg: RegExp) {\n\t\tif (! this.pc.isCryptoMode()) return;\n\n\t\tawait this.pc.diff.filter(reg);\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_H_ADIAG, T_H_ADIAG_L2S} from '../../server/src/LspWs';\nimport {type T_H_FONTJSON, type T_H_BJ_subset_font, type T_E2V_CNVFONT, type T_E2V_NOTICE_COMPONENT, type T_BJ_subset_font, type T_INF_INTFONT, H_FONTJSON_nm_DEF_FONT} from '../types';\nimport type {FULL_PATH} from '../CmnLib';\nimport {foldProc, getFn, is_win} from '../CmnLib';\nimport type {PrjCmn} from '../PrjCmn';\nimport {WatchFile} from './WatchFile';\n\nimport {extname} from 'node:path';\nimport {userInfo} from 'node:os';\nimport {stat} from 'node:fs/promises';\nimport {exec} from 'node:child_process';\nimport {copy, existsSync, outputFile, outputFileSync, outputJson, readJson, removeSync} from 'fs-extra';\nimport {window, ProgressLocation, type Progress, CancellationToken} from 'vscode';\n\nconst PROC_ID = 'cnv.font.subset';\n\n\nexport class WfbOptFont extends WatchFile {\n\treadonly\t#PATH_FONT_JSON\t: FULL_PATH;\n\treadonly\t#A_DIR_FONT\t\t: FULL_PATH[]\t= [];\n\treadonly\t#A_REP_MASKP2FP\t: ((path: FULL_PATH)=> string)[]\t= [];\n\treadonly\t#A_REP_FP2MASKP\t: ((path: string)=> string)[]\t= [];\n\treadonly\t#PATH_BATOUT_JSON\t: FULL_PATH;\n\n\treadonly\t#getHead2Mes\t: (inp: string)=> string;\n\n\n\t//MARK: \n\tconstructor(pc: PrjCmn) {\n\t\tsuper(pc);\n\n\t\tconst PATH_FONT = `${pc.PATH_WS}/${pc.FLD_SRC}/font`;\n\t\tthis.#PATH_FONT_JSON = `${PATH_FONT}/font.json`;\n\t\tthis.#PATH_BATOUT_JSON = `${PATH_FONT}/subset_font.json`;\n\n\t\tconst {username} = userInfo();\n\t\tconst aMat: {mask_path: FULL_PATH, fp: FULL_PATH}[] = [\n\t\t\t{mask_path: '::PATH_PRJ_FONTS::', fp: PATH_FONT},\n\t\t\t{mask_path: '::PATH_USER_FONTS::', fp: is_win\n\t\t\t\t? `C:/Users/${username}/AppData/Local/Microsoft/Windows/Fonts`\n\t\t\t\t: `/Users/${username}/Library/Fonts`},\n\t\t\t{mask_path: '::PATH_OS_FONTS::', fp: is_win\n\t\t\t\t? 'C:/Windows/Fonts'\n\t\t\t\t: '/Library/Fonts'},\n\t\t\t{mask_path: '::PATH_WS::', fp: pc.PATH_WS},\n\t\t];\n\t\tfor (const o of aMat) {\n\t\t\tthis.#A_DIR_FONT.push(o.fp);\n\t\t\tthis.#A_REP_MASKP2FP.push(p=> p.replace(o.mask_path, o.fp));\n\t\t\tthis.#A_REP_FP2MASKP.push(p=> p.replace(o.fp, o.mask_path));\n\t\t}\n\n\t\t// \n\t\tconst H_HEAD2MES: {[head: string]: string} = {\n\t\t\t'::PATH_PRJ_'\t: `${pc.FLD_SRC}/font/ `,\n\t\t\t'::PATH_USER'\t: 'OS',\n\t\t\t'::PATH_OS_F'\t: 'OS',\n\t\t};\n\t\tthis.#getHead2Mes = inp=> H_HEAD2MES[inp.slice(0, 11)] ?? inp;\n\t}\n\n\t//MARK: \n\tasync init(\n\t\tnoticeChgTxt\t: (fp: string)=> Promise<void>,\n\t\tnoticeDelTxt\t: (fp: string)=> Promise<boolean>,\n\t\tsendNeedGo\t\t: ()=> Promise<void>,\n\t) {\n\t\t// \n\t\treturn this.watchFld(\n\t\t\t'doc/prj/*/*.{sn,json,woff2,woff,otf,ttf,htm,html,css,js}', '',\n\t\t\tasync ()=> { /* empty */ },\t// \n\t\t\tasync ({path}, cre)=> {\n\t\t\t\tif (cre && /\\.ss?n$/.test(path)) await sendNeedGo();\n\t\t\t\treturn noticeChgTxt(path);\n\t\t\t},\n\t\t\tasync ({path})=> {\n\t\t\t\tif (/\\.ss?n$/.test(path)) await sendNeedGo();\n\t\t\t\treturn noticeDelTxt(path);\n\t\t\t},\n\t\t\ttrue,\n\t\t);\n\t}\n\n\t//MARK: \n\tenable() {return this.#procOnOff(true)}\n\n\t//MARK: \n\tdisable() {return this.#procOnOff(false)}\n\n\tasync\t#procOnOff(minify: boolean) {\n\t\tthis.pc.watchFile = false;\n\n\t\tconst o: T_E2V_NOTICE_COMPONENT = {cmd: 'notice.Component', id: PROC_ID, mode: 'wait'};\n\t\tawait this.pc.ps.cmd2Vue(o);\t// \n\n\t\t// \n\t\tfoldProc(\n\t\t\tthis.pc.PATH_PRJ +'script/',\n\t\t\t(fp, nm)=> {if (this.#REG_EXT_FONT.test(nm)) removeSync(fp)},\n\t\t\t()=> { /* empty */ },\n\t\t);\n\n\t\tif (! minify) {\n\t\t\t// \n\t\t\tawait this.#proc(false);\n\n\t\t\to.mode = 'comp';\n\t\t\tawait this.pc.ps.cmd2Vue(o);\n\n\t\t\tthis.pc.watchFile = true;\n\t\t\treturn;\n\t\t}\n\n\t\t// \n\t\tconst hFont: T_H_FONTJSON = {};\n\t\thFont[H_FONTJSON_nm_DEF_FONT] = {inp: '', txt: ''};\n// console.log(`fn:WfbOptFont.ts procOnOff this.#InfFont:${JSON.stringify(this.#InfFont, undefined, 4)}`);\n\n\t\tfor (const f2s of Object.values(this.#InfFont.hSn2Font2Str)) {\n\t\t\tfor (const [font_nm, str] of Object.entries(f2s)) {\n\t\t\t\tthis.#ensureFont2Str(font_nm, hFont);\n\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t\thFont[font_nm]!.txt += str;\t// ensureFont2Str  !\n\t\t\t}\n\t\t}\n\t\tthis.#ensureFont2Str(this.#InfFont.defaultFontName, hFont);\n\t\t\t// [span]\n\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\thFont[this.#InfFont.defaultFontName]!.txt += hFont[H_FONTJSON_nm_DEF_FONT].txt;\n\t\t\t// ensureFont2Str  !\n\t\t// eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\t\tdelete hFont[H_FONTJSON_nm_DEF_FONT];\n\n\t\t// \n\t\tfor (const fj of Object.values(hFont)) {\n\t\t\tconst s = new Set<string>(Array.from(fj.txt));\t// \n\t\t\t\t// txt.split('') [...txt] \n\t\t\tfj.txt = [...s].sort().join('');\n\t\t\t\t// sort()github\n\t\t}\n\t\tawait outputJson(this.#PATH_FONT_JSON, hFont);\n\t\t\t// off\n\n\t\t// \n\t\tawait this.#proc(true, hFont);\n\n\t\to.mode = 'comp';\n\t\tawait this.pc.ps.cmd2Vue(o);\n\n\t\tthis.pc.watchFile = true;\n\t}\n\treadonly\t#REG_EXT_FONT\t= /\\.(woff2?|otf|ttf)$/i;\n\t\t\t\t#InfFont\t: T_INF_INTFONT\t= {\t// \n\t\tdefaultFontName\t: '',\n\t\thSn2Font2Str\t: {},\n\t\thFp2FontErr\t\t: {},\n\t};\n\treadonly\t#ensureFont2Str = (font_nm: string, hFont: T_H_FONTJSON)=> {hFont[font_nm] ??= {\n\t\tinp\t: this.#getFontNm2path(font_nm)\n\t\t\t.replace(new RegExp(`^.+/${this.pc.FLD_SRC}/font`), '::PATH_PRJ_FONTS::')\n\t\t\t\t// (new RegExp('\\')) \n\t\t\t.replace(\n\t\t\t\tis_win\n\t\t\t\t? /C:\\/Users\\/[^/]+\\/AppData\\/Local\\/Microsoft\\/Windows\\/Fonts/\n\t\t\t\t: /\\/Users\\/[^/]+\\/Library\\/Fonts/,\n\t\t\t\t'::PATH_USER_FONTS::'\n\t\t\t)\n\t\t\t.replace(is_win ?'C:/Windows/Fonts' :'/Library/Fonts', '::PATH_OS_FONTS::'),\n\t\ttxt\t: '',\n\t}};\n\n\t//MARK: \n\tasync #proc(minify: boolean, hFont?: T_H_FONTJSON) {\n\t\tconst oFont = hFont ?? <T_H_FONTJSON>await readJson(this.#PATH_FONT_JSON, {encoding: 'utf8'});\n\n\t\tconst aP: Promise<void>[] = [];\n\t\tlet start_cnt = 0;\n\nconst cnv: (ssf: T_BJ_subset_font, nm: string, str: string, prg: Progress<{\n\tmessage?: string;\n\tincrement?: number;\n}>, tknCancel: CancellationToken)=> Promise<void> = minify\n\t? async (ssf, nm, str, prg, tknCancel)=> {\n\t\ttry {\n\t\t\tif (tknCancel.isCancellationRequested) return;\n\n\t\t\tconst fnTmp = this.#PATH_BATOUT_JSON.slice(0, -5) +`_${nm}.txt`;\n\t\t\tawait outputFile(fnTmp, str, {encoding: 'utf8'});\n\t\t\t\t// views/vue/StgPkg.vue \n\n\t\t\tawait new Promise<void>((re, rj)=> exec(`pyftsubset \"${ssf.inp}\" --text-file=\"${fnTmp}\" --layout-features='*' --flavor=woff2 --output-file=\"${ssf.out}\" --verbose`, (e, _stdout, stderr)=> {\n\t\t\t\tif (e) {\n\t\t\t\t\tconst m = `${nm} `+ e.message.replace(/--text-file=[^\\n]+/, '...');\n\t\t\t\t\tconsole.error(m);\n\t\t\t\t\tssf.err += m +'\\n';\n\t\t\t\t\trj(new Error(m));\t// \n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst err = stderr.replaceAll(this.pc.PATH_WS, '::PATH_WS::');\n\t\t\t\toutputFileSync(fnTmp, err, {encoding: 'utf8'});\n\n\t\t\t\tprg.report({\n\t\t\t\t\tincrement: ++start_cnt /aP.length *100,\n\t\t\t\t\tmessage: ` ${String(start_cnt)}/${String(aP.length)} tasks`,\n\t\t\t\t});\n\n\t\t\t\tconst a = /Missing glyphs for requested Unicodes: (\\[[^\\]]+])/.exec(err);\t// 1 match (45 steps, 100us) PCRE2 https://regex101.com/r/q0SRoe/1\n\t\t\t\tif (a) {\n\t\t\t\t\tconst aCode = <string[]>JSON.parse(a[1]?.replaceAll('\\'', '\"') ?? '[]');\n\t\t\t\t\trj(new Error(`${nm} ${\n\t\t\t\t\t\taCode.map(c=> String.fromCharCode(\n\t\t\t\t\t\t\tparseInt(c.slice(2), 16)\n\t\t\t\t\t\t)).join()\n\t\t\t\t\t}[Open]Missing glyphs ...`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tre();\n\t\t\t}));\n\t\t} catch (e) {\n\t\t\tif (e instanceof Error) ssf.err += e.message.replace(/--text-file=[^\\n]+/, '...') +'\\n';\n\t\t\telse ssf.err += `err pyftsubset \"${ssf.inp}\"`;\n\t\t}\n\t}\n\t: ssf=> copy(ssf.inp, ssf.out);\n\n\n\t\tconst oBJ: T_H_BJ_subset_font = {};\n\t\tawait window.withProgress({\n\t\t\tlocation\t: ProgressLocation.Notification,\n\t\t\ttitle\t\t: '',\n\t\t\tcancellable\t: true,\n\t\t}, async (prg: Progress<{\n\t\t\tmessage?: string;\n\t\t\tincrement?: number;\n\t\t}>, tknCancel: CancellationToken)=> {\n\t\t\tfor (const [nm, {inp, txt}] of Object.entries(oFont)) {\n\t\t\t\tlet inp2 = inp;\n\t\t\t\tfor (const fnc of this.#A_REP_MASKP2FP) inp2 = fnc(inp2);\n\t\t\t\tconst ssf = oBJ[nm] = {\n\t\t\t\t\tinp: inp2,\n\t\t\t\t\tout: `${this.pc.PATH_WS}/doc/prj/script/${nm}${minify ?'.woff2' :extname(inp)}`,\n\t\t\t\t\tiSize: 1, oSize: 1, err: '',\n\t\t\t\t};\n\t\t\t\tif (! existsSync(inp2)) {\n\t\t\t\t\tssf.err = ` ${getFn(inp) + extname(inp)} `;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\taP.push(cnv(ssf, nm, txt, prg, tknCancel));\n\t\t\t}\n\t\t\tawait Promise.allSettled(aP);\n\t\t});\n\n\t\tfor (const [nm, ssf] of Object.entries(oBJ)) {\n\t\t\tif (! existsSync(ssf.out)) {\n\t\t\t\tssf.err += ` ${ssf.out} `;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tssf.iSize = (await stat(ssf.inp)).size;\n\t\t\tssf.oSize = (await stat(ssf.out)).size;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tssf.inp = oFont[nm]!.inp;\t// \n\t\t}\n\n\t\t// \n\t\tawait this.disp(oBJ);\n\t}\n\n\n\tupdDiag(InfFont: T_INF_INTFONT): T_H_ADIAG_L2S {\n\t\tthis.#InfFont = InfFont;\n\n\t\tconst haDiag: T_H_ADIAG_L2S = {};\n\t\tfor (const [fp, a] of Object.entries(InfFont.hFp2FontErr)) {\n\t\t\tconst aD: T_H_ADIAG[] = [];\n\t\t\tfor (const {err, nm} of a) {\n\t\t\t\tif (this.#getFontNm2path(nm)) continue;\n\n\t\t\t\taD.push({mes: err, sev: 'E'});\n\t\t\t}\n\t\t\tif (aD.length > 0) haDiag[fp] = aD;\n\t\t}\n\t\treturn haDiag;\n\t}\n\t\t#getFontNm2path(font_nm: string): FULL_PATH {\n\t\t\tfor (const base of this.#A_DIR_FONT) {\n\t\t\t\tfor (const ext of ['woff2','otf','ttf','WOFF2','OTF','TTF']) {\n\t\t\t\t\tconst path = `${base}/${font_nm}.${ext}`;\n\t\t\t\t\tif (existsSync(path)) return path;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn '';\n\t\t}\n\n\tasync disp(oBJ?: T_H_BJ_subset_font) {\n\t\tif (oBJ) {\n\t\t\tfor (const ssf of Object.values(oBJ)) {\n\t\t\t\tlet i = ssf.out;\n\t\t\t\tfor (const fnc of this.#A_REP_FP2MASKP) i = fnc(i);\n\t\t\t\tssf.out = i;\n\t\t\t}\n\t\t\tawait outputJson(this.#PATH_BATOUT_JSON, oBJ);\n\t\t}\n\t\telse {\n\t\t\tif (! existsSync(this.#PATH_BATOUT_JSON)) {\n\t\t\t\tawait this.pc.ps.cmd2Vue(<T_E2V_CNVFONT>{cmd: 'update.cnvFont', aCnvFont: []});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// eslint-disable-next-line no-param-reassign\n\t\t\toBJ = <T_H_BJ_subset_font>await readJson(this.#PATH_BATOUT_JSON);\n\t\t}\n\n\t\tconst o: T_E2V_CNVFONT = {\n\t\t\tcmd\t\t: 'update.cnvFont',\n\t\t\taCnvFont: Object.entries(oBJ).map(([nm, ssf])=> ({\n\t\t\t\tnm,\n\t\t\t\tmes\t\t: this.#getHead2Mes(ssf.inp),\n\t\t\t\tiSize\t: ssf.iSize,\n\t\t\t\toSize\t: ssf.oSize,\n\t\t\t\terr\t\t: ssf.err,\n\t\t\t})).sort(),\n\t\t};\n\t\tawait this.pc.ps.cmd2Vue(o);\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_E2V_SELECT_ICON_INFO, T_BJ_cut_round, T_V2E_CHG_RANGE_WEBP_Q, T_V2E_CHG_RANGE_WEBP_Q_DEF, T_V2E_selectFile} from '../types';\nimport {getFn, vsc2fp, WORKSPACE_PATH} from '../CmnLib';\nimport {FLD_PRJ_BASE} from '../PrjCmn';\nimport {WatchFile} from './WatchFile';\nimport {BatOptPic, PROC_ID_PIC} from './BatOptPic';\nimport {BatPsdFace} from './BatPsdFace';\n\nimport {Uri, window, workspace} from 'vscode';\nimport {existsSync} from 'node:fs';\nimport {mkdirs, readJsonSync, remove, writeJson} from 'fs-extra/esm';\n\n\nconst ptnSrcBaseInPrj\t= 'doc/prj/*/*.{jpg,jpeg,png}';\nconst ptnSrcOptInPrj\t= 'doc/prj/*/*.webp';\n\n\nexport class WfbOptPic extends WatchFile {\n\t#bat\t\t: BatOptPic;\n\t#batPsdFace\t: BatPsdFace;\n\n\treadonly\t#PATH_BJ_cut_round = this.pc.PATH_WS +`/${this.pc.FLD_SRC}/batch/cut_round.json`;\n\n\n\t//MARK: \n\tasync init() {\n\t\tawait Promise.allSettled([\n\t\t\t// \n\t\t\tthis.watchFld(\n\t\t\t\tptnSrcBaseInPrj,\n\t\t\t\t'doc/prj/*/[FN].webp',\n\t\t\t\tasync ()=> { /* empty */ },\t// \n\t\t\t\t(uri, cre)=> this.#onCreChg(uri, cre),\n\t\t\t\turi=> this.#onDel(uri),\n\t\t\t\ttrue,\n\t\t\t),\n\t\t\t// \n\t\t\tthis.watchFld(\n\t\t\t\t`${this.pc.FLD_SRC}/${FLD_PRJ_BASE}/*/*.{jpg,jpeg,png}`,\n\t\t\t\t'',\n\t\t\t\tundefined,\n\t\t\t\t(uri, cre)=> this.#onCreChg(uri, cre),\n\t\t\t\turi=> this.#onDel(uri),\n\t\t\t\ttrue,\n\t\t\t),\n\n\t\t\t// \n\t\t\tmkdirs(this.pc.PATH_WS +`/${this.pc.FLD_SRC}/resource/`),\n\t\t\tthis.watchFld(\n\t\t\t\t`${this.pc.FLD_SRC}/resource/*.psd`,\n\t\t\t\t`{doc/prj,${this.pc.FLD_SRC}/${FLD_PRJ_BASE}}/face/{[FN]_*.png,[FN]_*.webp,face[FN].sn}`,\n\t\t\t\turi=> this.#onInitFacePsd(uri),\n\t\t\t\t(uri, cre)=> this.#onCreChgFacePsd(uri, cre),\n\t\t\t\t()=> Promise.resolve(true),\t// \n\t\t\t\ttrue,\n\t\t\t),\n\t\t]);\n\t\tthis.#bat = new BatOptPic(this.pc);\n\t\tthis.#batPsdFace = new BatPsdFace(this.pc);\n\t}\n\n\t//MARK: #on\n\tasync #onCreChg(uri: Uri, _cre=false) {\n// console.log(`fn:WfbOptPic.ts onCreChgInp sw:${! WatchFile2Batch.ps.oWss[PROC_ID]} uri:${uri.path} cre:${_cre}`);\n\t\tif (! this.pc.ps.oWss[PROC_ID_PIC]) return;\n\n\t\t// \n\t\tconst path = vsc2fp(uri.path);\n\t\tconst isBase = this.pc.isBaseUrl(path);\n\t\tawait this.#bat.go(isBase ?'base_scan' :'prj_scan');\n\n\t\t// \n\t\tconst pathEncOpt = this.#prjBase2Prj(path);\t// isBase \n\t\tawait this.pc.encIfNeeded(Uri.file(pathEncOpt));\n\t}\n\t\t#prjBase2Prj(path: string) {\n\t\t\treturn path\n\t\t\t.replace(this.pc.PATH_PRJ_BASE, this.pc.PATH_PRJ)\n\t\t\t.replace(this.#REG_SRC_EXT, '.webp');\n\t\t}\n\t\treadonly\t#REG_SRC_EXT\t= /\\.(jpeg|jpg|png)$/;\n\n\t//MARK: #on\n\tasync #onDel(uri: Uri) {\n// console.log(`fn:WfbOptPic.ts onDelInp sw:${! WatchFile2Batch.ps.oWss[PROC_ID]} uri:${uri.path}`);\n\t\tif (! this.pc.ps.oWss[PROC_ID_PIC]) return true;\n\n\t\tconst path = vsc2fp(uri.path);\n\t\tconst isBase = this.pc.isBaseUrl(path);\n\t\tif (! isBase) {\n\t\t\t// \n\t\t\tawait remove(this.wpOpt2Base(path));\n\t\t\t// \n\t\t\t// const path2 = path.replace(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\t\t\t// await Promise.allSettled(\n\t\t\t// \t['jpeg','jpg','png']\n\t\t\t// \t.map(ext=> remove(path2.replace(/webp$/, ext)))\n\t\t\t// );\n\t\t\treturn true;\n\t\t}\n\n\t\t// \n\t\tawait remove(this.#prjBase2Prj(path));\n\n\t\t// \n\t\tawait this.#bat.delRes(path);\n\n\t\treturn true;\n\t}\n\n\t//MARK: \n\twpOpt2Base(wp: WORKSPACE_PATH): WORKSPACE_PATH {\n\t\tif (! wp.endsWith('.webp')) return wp;\n\n\t\tconst ret = wp\n\t\t.replace(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE)\n\t\t.slice(0, -4);\n\n\t\tconst ext = ['jpeg','jpg','png'].find(ext=> existsSync(ret + ext));\n\t\treturn ext ?ret + ext :wp;\n\t}\n\n\t//MARK: \n\tdisp() {return this.#bat.disp()}\n\n\n\t//MARK: \n\tenable() {return this.#procOnOff('enable', ptnSrcOptInPrj)}\n\n\t//MARK: \n\tdisable() {return this.#procOnOff('disable', ptnSrcBaseInPrj)}\n\n\tasync #procOnOff(proc: 'enable'|'disable', ptn: string) {\n\t\tthis.pc.watchFile = false;\n\n\t\t// \n\t\tawait this.delOldDiff(/\\.(jpe?g|png|svg|webp)$/);\n\n\t\t// \n\t\tawait this.#bat.go(proc);\n\n\t\t// \n\t\tawait Promise.allSettled((await workspace.findFiles(ptn))\n\t\t\t.map(uri=> this.pc.encIfNeeded(uri))\n\t\t);\n\n\t\tthis.pc.watchFile = true;\n\t}\n\n\n\t//MARK: \n\tasync cnvIconShape({title, openlabel, path}: T_V2E_selectFile, pathIcon: string) {\n\t\t//if (id !== 'icon') return;\n\t\tconst fileUri = await window.showOpenDialog({\n\t\t\ttitle\t: `${title}`,\n\t\t\topenLabel\t\t: openlabel || '',\n\t\t\tcanSelectMany\t: false,\n\t\t\tcanSelectFiles\t: false,\n\t\t\tcanSelectFolders: false,\n\t\t});\n\t\tconst src = fileUri?.[0]?.fsPath;\n\t\tif (! src) return;\t// \n\n\t\tconst cmd2Vue = (err_mes: string)=> {void this.pc.ps.cmd2Vue(<T_E2V_SELECT_ICON_INFO>{\n\t\t\tcmd\t\t: 'updpic',\n\t\t\tpathIcon,\n\t\t\terr_mes,\n\t\t})};\n\t\tconst is_src_pp = src.startsWith(this.pc.PATH_PRJ_BASE);\n\t\tconst oBJ: T_BJ_cut_round = {\n\t\t\torder: {\n\t\t\t\twp_src\t\t: is_src_pp ?this.pc.src2pp(src) :src,\n\t\t\t\tis_src_pp,\n\t\t\t\tshape\t\t: this.pc.ps.oWss['cnv.icon.shape'],\n\t\t\t\twp_dest\t\t: path,\n\t\t\t\tis_new_tmp\t: this.pc.IS_NEW_TMP,\n\t\t\t},\n\t\t\terr: '',\n\t\t};\n\t\tawait writeJson(this.#PATH_BJ_cut_round, oBJ, {encoding: 'utf8'});\n\t\tawait this.pc.exeBatch('cut_round', '', exit_code=> {\n\t\t\tif (exit_code) {cmd2Vue(''); return}\n\n\t\t\tconst oBJRes = <T_BJ_cut_round>readJsonSync(this.#PATH_BJ_cut_round, {encoding: 'utf8'});\n\t\t\tcmd2Vue(oBJRes.err);\n\t\t});\n\t}\n\n\n\t//MARK: PSD \n\tasync #onInitFacePsd(uri: Uri) {\n\t\tconst {fsPath} = uri;\n// console.log(`fn:WfbOptPic.ts onInitFacePsd fsPath:${fsPath}`);\n\t\tconst hn = getFn(fsPath);\n\t\tif (this.chkUpdateByDiff(fsPath, `${this.pc.PATH_PRJ}face/face${hn}.sn`)) await this.#onCreChgFacePsd(uri, false);\n\t}\n\t//MARK: PSD \n\tasync #onCreChgFacePsd(uri: Uri, _cre=false) {\n\t\tconst {fsPath} = uri;\n// console.log(`fn:WfbOptPic.ts onCreChgFacePsd _cre:${String(_cre)} fsPath:${fsPath}`);\n\t\tawait this.#batPsdFace.go(fsPath);\n\n\n\t\t// \n\t\tif (this.pc.ps.oWss[PROC_ID_PIC]) await this.#bat.go('prj_scan');\n\n\t\t// \n\t\tconst hn = getFn(fsPath);\n\t\tconst aUri = await workspace.findFiles('doc/prj/*/[FN]_*.{jpg,jpeg,png,webp}'.replaceAll('[FN]', hn));\n\n\t\t// aUri doc/prj/*/face[FN].sn \n\t\tconst pathSn = aUri.at(0)?.path.replace(/[^/]+\\.\\w+$/, `face${hn}.sn`);\n\t\tif (pathSn && existsSync(pathSn)) aUri.push(Uri.file(pathSn));\n\n\t\tawait Promise.allSettled(aUri.map(u=> this.pc.encIfNeeded(u)));\n\t}\n\n\n\t//MARK: \n\tasync chgWebp_q_def(e: T_V2E_CHG_RANGE_WEBP_Q_DEF) {\n\t\t//  'update.oWss' \n\t\tif (! this.pc.ps.oWss[PROC_ID_PIC]) return;\n\n\t\tthis.pc.watchFile = false;\n\n\t\tawait this.pc.wss.update('cnv.mat.webp_quality', this.pc.ps.oWss['cnv.mat.webp_quality'] = e.webp_q);\n\n\t\tawait this.#bat.go('reconv');\n\n\t\tthis.pc.watchFile = true;\n\t}\n\n\t//MARK: \n\tasync chgWebp_q(o: T_V2E_CHG_RANGE_WEBP_Q) {\n\t\tif (! this.pc.ps.oWss[PROC_ID_PIC]) return;\n\n\t\tthis.pc.watchFile = false;\n\n\t\tawait this.#bat.chgBJ(async ()=> {\n\t\t\tconst {oBJ} = this.#bat;\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\tconst fi = oBJ.hSize[o.nm]!;\n\t\t\tif (o.no_def) fi.webp_q = o.webp_q;\n\t\t\telse delete fi.webp_q;\n\n\t\t\t// Base\n\t\t\tawait this.#onCreChg(Uri.file(this.pc.PATH_PRJ_BASE + fi.fld_nm +'.'+ fi.ext));\n\t\t});\n\n\t\tthis.pc.watchFile = true;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport {vsc2fp} from '../CmnLib';\nimport {FLD_PRJ_BASE} from '../PrjCmn';\nimport {WatchFile} from './WatchFile';\nimport {BatOptSnd, PROC_ID_SND} from './BatOptSnd';\n\nimport {Uri, workspace} from 'vscode';\nimport {existsSync, remove} from 'fs-extra';\n\n\nconst ptnSrcBaseInPrj\t= 'doc/prj/*/*.{mp3,wav}';\nconst ptnSrcOptInPrj\t= 'doc/prj/*/*.{m4a,aac,ogg}';\n\n\nexport class WfbOptSnd extends WatchFile {\n\t#bat: BatOptSnd;\n\n\t//MARK: \n\tasync init() {\n\t\tawait Promise.allSettled([\n\t\t\t// \n\t\t\tthis.watchFld(\n\t\t\t\tptnSrcBaseInPrj,\n\t\t\t\t'doc/prj/*/[FN].{m4a,aac,ogg}',\n\t\t\t\tasync ()=> { /* empty */ },\t// \n\t\t\t\t(uri, cre)=> this.#onCreChg(uri, cre),\n\t\t\t\turi=> this.#onDel(uri),\n\t\t\t\ttrue,\n\t\t\t),\n\t\t\t// \n\t\t\tthis.watchFld(\n\t\t\t\t`${this.pc.FLD_SRC}/${FLD_PRJ_BASE}/*/*.{mp3,wav}`,\n\t\t\t\t'',\n\t\t\t\tundefined,\n\t\t\t\t(uri, cre)=> this.#onCreChg(uri, cre),\n\t\t\t\turi=> this.#onDel(uri),\n\t\t\t\ttrue,\n\t\t\t),\n\t\t]);\n\t\tthis.#bat = new BatOptSnd(this.pc);\n\t}\n\n\t//MARK: #on\n\tasync #onCreChg(uri: Uri, _cre=false) {\n// console.log(`fn:WfbOptSnd.ts onCreChgInp sw:${! WatchFile2Batch.ps.oWss[PROC_ID]} uri:${uri.path} cre:${_cre}`);\n\t\tif (! this.pc.ps.oWss[PROC_ID_SND]) return;\n\n\t\t// \n\t\tconst path = vsc2fp(uri.path);\n\t\tconst isBase = this.pc.isBaseUrl(path);\n\t\tawait this.#bat.go(isBase ?'base_scan' :'prj_scan');\n\n\t\t// \n\t\tawait this.pc.encIfNeeded(\n\t\t\tUri.file(this.#prjBase2Prj(path))\t// isBase \n\t\t);\n\t}\n\t\t#prjBase2Prj(path: string) {\n\t\t\tconst pathRet = path\n\t\t\t.replace(this.pc.PATH_PRJ_BASE, this.pc.PATH_PRJ);\n\t\t\tfor (const ext of ['m4a','aac','ogg']) {\n\t\t\t\tconst pathDest = pathRet\n\t\t\t\t.replace(this.#REG_SRC_EXT, '.'+ ext);\n\t\t\t\tif (existsSync(pathDest)) return pathDest;\n\t\t\t}\n\n\t\t\treturn pathRet;\n\t\t}\n\t\treadonly\t#REG_SRC_EXT\t= /\\.(mp3|wav)$/;\n\n\t//MARK: #on\n\tasync #onDel(uri: Uri): Promise<boolean> {\n// console.log(`fn:OptSnd.ts onDelInp sw:${! WatchFile2Batch.ps.oWss[PROC_ID]} uri:${uri.path}`);\n\t\tif (! this.pc.ps.oWss[PROC_ID_SND]) return true;\n\n\t\tconst path = vsc2fp(uri.path);\n\t\tconst isBase = this.pc.isBaseUrl(path);\n\t\tif (! isBase) {\n\t\t\t// \n\t\t\tconst path2 = path.replace(this.pc.PATH_PRJ, this.pc.PATH_PRJ_BASE);\n\t\t\tawait Promise.allSettled(\n\t\t\t\t['mp3','wav']\n\t\t\t\t.map(ext=> remove(path2.replace(/(m4a|aac|ogg)$/, ext)))\n\t\t\t);\n\t\t\treturn true;\n\t\t}\n\n\t\t// \n\t\tawait Promise.allSettled(\n\t\t\t['m4a','aac','ogg']\n\t\t\t.map(ext=> remove(\n\t\t\t\tpath\n\t\t\t\t.replace(this.pc.PATH_PRJ_BASE, this.pc.PATH_PRJ)\n\t\t\t\t.replace(this.#REG_SRC_EXT, '.'+ ext)\n\t\t\t))\n\t\t);\n\n\t\t// \n\t\tawait this.#bat.delRes(path);\n\n\t\treturn true;\n\t}\n\n\t//MARK: \n\tdisp() {return this.#bat.disp()}\n\n\n\t//MARK: \n\tenable() {return this.#procOnOff('enable', ptnSrcOptInPrj)}\n\n\t//MARK: \n\tdisable() {return this.#procOnOff('disable', ptnSrcBaseInPrj)}\n\n\tasync #procOnOff(proc: 'enable'|'disable', ptn: string) {\n\t\tthis.pc.watchFile = false;\n\n\t\t// \n\t\tawait this.delOldDiff(this.#REG_DiffExtSnd);\n\n\t\t// \n\t\tawait this.#bat.go(proc);\n\n\t\t// \n\t\tawait Promise.allSettled((await workspace.findFiles(ptn))\n\t\t\t.map(uri=> this.pc.encIfNeeded(uri))\n\t\t);\n\n\t\tthis.pc.watchFile = true;\n\t}\n\treadonly\t#REG_DiffExtSnd\t= /\\.(mp3|m4a|ogg|aac|flac|wav)$/;\n\n\n\t//MARK: \n\tasync reconv() {\n\t\tif (! this.pc.ps.oWss[PROC_ID_SND]) return;\n\n\t\tthis.pc.watchFile = false;\n\n\t\t// UI\n\t\t// \n\t\tawait this.delOldDiff(this.#REG_DiffExtSnd);\n\n\t\tawait this.#bat.go('reconv');\n\n\t\tthis.pc.watchFile = true;\n\t}\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2025-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {T_E2V_TEMP, T_TEMP, T_V2E_aTemp} from '../types';\nimport {REG_SN2TEMP} from '../types';\nimport {replaceRegsFile} from '../CmnLib';\nimport type {T_reqPrj2LSP} from '../Project';\nimport type {PrjCmn} from '../PrjCmn';\nimport {WatchFile} from './WatchFile';\nimport type {T_PP2SNSTR} from '../../server/src/LspWs';\n\nimport {workspace} from 'vscode';\nimport {readFileSync} from 'fs-extra';\n\n\nexport class WfbSettingSn extends WatchFile {\n\t//MARK: \n\tconstructor(\n\t\t\t\t\t\t\tpc\t\t\t: PrjCmn,\n\t\tprivate readonly\treqPrj2LSP\t: T_reqPrj2LSP,\n\t) {super(pc)}\n\n\t//MARK: \n\tasync init() {\n\t\t// \n\t\tawait this.watchFld(\n\t\t\t'doc/prj/*/setting.sn', '',\n\t\t\tasync ({path})=> Promise.try(()=> {\n\t\t\t\tthis.#fnSetting = path;\t// \n\t\t\t\tthis.chkMultiMatch = ()=> this.#chkMultiMatch_proc();\n\t\t\t\tthis.chkMultiMatch();\n\t\t\t\tthis.update = e=> this.#update_proc(e);\n\t\t\t}),\n\t\t\tasync (_uri, cre)=> Promise.try(()=> {\n\t\t\t\tif (cre) this.chkMultiMatch();\n\t\t\t\t// else this.onChgSettingSn(uri);\t// \n\t\t\t}), async ()=> Promise.resolve(true),\n\t\t);\n\n\t\tworkspace.onDidSaveTextDocument(e=> {\n\t\t\tif (e.fileName.endsWith('/setting.sn')) this.chkMultiMatch();\n\t\t}, null, this.pc.ctx.subscriptions);\n\t}\n\n\n\t#preventUpdHowl = true;\t// \n\t\t//  'update.aTemp'  true \n\n\t//MARK: \n\tchkMultiMatch = ()=> { /* empty */ };\n\t#chkMultiMatch_proc() {\n\t\tthis.#preventUpdHowl = true;\n\n\t\tconst aTemp\t: T_TEMP[]\t= [];\n\n\t\tconst src = readFileSync(this.#fnSetting, {encoding: 'utf8'});\n\t\tfor (const [full, nm1, nm2, val='', sep='', lbl_json=''] of src.matchAll(REG_SN2TEMP)) {\n\t\t\tif (full.at(0) === ';') continue;\n\n\t\t\tconst lbl = lbl_json.trim();\n\t\t\tif (lbl === '' || lbl.startsWith('(HIDE GUI)')) continue;\n\n\t\t\tconst nm = nm1 ?? nm2 ?? '';\n\t\t\tlet o: T_TEMP = {\n\t\t\t\tid\t: '/setting.sn:'+ nm,\n\t\t\t\tnm,\n\t\t\t\tlbl,\n\t\t\t\ttype: 'txt',\n\t\t\t\tval\t: sep ?val.slice(1, -1) :val,\n\t\t\t};\n\t\t\tif (lbl.at(0) === '{') o = {...o, ...<T_TEMP>JSON.parse(lbl)};\n\t\t\tswitch (o.type) {\t// \n\t\t\t\tcase 'rng':\tbreak;\n\t\t/*\n\t\t\tdocument.querySelectorAll('.form-range').forEach(c=> {\n\t\t\t\tconst rngV = c.closest('.range-wrap').querySelector('.range-badge');\n\t\t\t\tconst setValue = ()=> {\n\t\t\t\t\tconst\tval = Number( (c.value - c.min) *100 /(c.max - c.min) ),\n\t\t\t\t\t\t\tpos = 10 -(val *0.2);\n\t\t\t\t\trngV.innerHTML = `<span>${c.value}</span>`;\n\t\t\t\t\trngV.style.left = `calc(${val}% + (${pos}px))`;\n\t\t\t\t};\n\t\t\t\tsetValue();\n\t\t\t\tc.addEventListener('input', setValue, {passive: true});\n\t\t\t});\n\t\t*/\n\n\t\t\t\tdefault:\n\t\t\t\t\tif (val === 'true' || val === 'false') o.type = 'chk';\n\t\t\t}\n\t\t\taTemp.push(o);\n\t\t}\n\t\tvoid this.pc.ps.cmd2Vue(<T_E2V_TEMP>{\n\t\t\tcmd\t\t: 'update.aTemp',\n\t\t\terr\t\t: '',\n\t\t\taTemp,\n\t\t});\n\t}\n\t\t#fnSetting\t= '';\n\n\t//MARK: \n\tupdate = (_e: T_V2E_aTemp)=> { /* empty */ };\n\t#update_proc(e: T_V2E_aTemp) {\n\t\tif (this.#preventUpdHowl) {\n\t\t\tthis.#preventUpdHowl = false;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.#tiDelay) clearTimeout(this.#tiDelay);\t// \n\t\tthis.#tiDelay = setTimeout(()=> {\n\t\t\tconst a: [r: RegExp, rep: string][] = [];\n\t\t\tfor (const {nm, val} of e.aRes) a.push([\n\t\t\t\tnew RegExp(`(&${nm}\\\\s*=\\\\s*)(([\"'#]).+?\\\\3|[^;\\\\s]+)`),\n\t\t\t\t`$1$3${val}$3`,\t\t// https://regex101.com/r/jD2znK/1\n\t\t\t]);\t// (new RegExp('\\')) \n\t\t\tif (replaceRegsFile(this.#fnSetting, a, false)) {\n\t\t\t\tconst fp = this.#fnSetting;\n\t\t\t\tconst pp = this.pc.diff.fp2pp(fp);\n\t\t\t\tconst pp2s: T_PP2SNSTR = {};\n\t\t\t\tpp2s[pp] = readFileSync(fp, {encoding: 'utf8'});\n\t\t\t\tvoid this.reqPrj2LSP({cmd: 'onchg_scr', pp2s});\n\t\t\t}\n\t\t\t\t// file:///Users/... LSP doc \n\t\t}, 500);\n\t}\n\t\t#tiDelay: NodeJS.Timeout | undefined = undefined;\n\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n\tCopyright (c) 2022-2025 Famibee (famibee.blog38.fc2.com)\n\n\tThis software is released under the MIT License.\n\thttp://opensource.org/licenses/mit-license.php\n** ***** END LICENSE BLOCK ***** */\n\nimport type {FULL_PATH, PROJECT_PATH, WORKSPACE_PATH} from './CmnLib';\n\n//MARK: \nexport type T_WSS = {\n\t'cnv.font.subset'\t\t: boolean;\n//\t'cnv.icon.cut_round'\t: boolean;\t\t// cnv.icon.shape \n\t'cnv.icon.shape'\t\t: number;\n\t'cnv.mat.pic'\t\t\t: boolean;\n\t'cnv.mat.webp_quality'\t: number;\n\t'cnv.mat.snd'\t\t\t: boolean;\n\t'cnv.mat.snd.codec'\t\t: string;\n}\nexport type TK_WSS = keyof T_WSS;\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-assertions\nexport const DEF_WSS: T_WSS = {\n\t'cnv.font.subset'\t\t: false,\n\t'cnv.icon.shape'\t\t: 0,\n\t'cnv.mat.pic'\t\t\t: false,\n\t'cnv.mat.webp_quality'\t: 90,\n\t'cnv.mat.snd'\t\t\t: false,\n\t'cnv.mat.snd.codec'\t\t: 'opus',\n} as const;\n\n\n// --------------------------------------------------------------------\n//MARK: prj.json\nexport type T_CFG = {\n\tbook?\t: {\n\t\ttitle?\t\t: string;\t// \n\t\tcreator?\t: string;\t// \n\t\tcre_url?\t: string;\t// URL\n\t\tpublisher?\t: string;\t// \n\t\tpub_url?\t: string;\t// URL\n\t\tdetail?\t\t: string;\t// \n\t\tversion?\t: string;\t// version\n\t};\n\tsave_ns?\t\t: string;\n\twindow?\t: {\t\t// \n\t\twidth\t: number;\n\t\theight\t: number;\n\t};\n\tlog?\t: {max_len: number};\t// \n\tinit?\t: {\n\t\tbg_color\t\t\t: string;\t// \n\t\ttagch_msecwait\t\t: number;\t// \n\t\tauto_msecpagewait\t: number;\t// \n\t\tescape\t\t\t\t: string;\t// \n\t};\n\tdebug?\t: {\t// \n\t\tdevtool\t\t: boolean;\n\t\tdumpHtm\t\t: boolean;\n\t\ttoken\t\t: boolean;\n\t\ttag\t\t\t: boolean;\n\t\tputCh\t\t: boolean;\n\t\tdebugLog\t: boolean;\n\t\tbaseTx\t\t: boolean;\n\t\tmasume\t\t: boolean;\t// \n\t\tvariable\t: boolean;\n\t},\n\tcode?\t: {[fold_nm: string]: boolean};\t// \n\tdebuger_token?\t: string;\t// \n}\n\n// eslint-disable-next-line @typescript-eslint/consistent-type-assertions\nexport const DEF_CFG: T_CFG = {\n\tbook\t: {\n\t\ttitle\t\t: '',\n\t\tcreator\t\t: '',\n\t\tcre_url\t\t: '',\n\t\tpublisher\t: '',\n\t\tpub_url\t\t: '',\n\t\tdetail\t\t: '',\n\t\tversion\t\t: '1.0',\n\t},\n\tsave_ns\t\t: '',\n\twindow\t: {\n\t\twidth\t: 300,\n\t\theight\t: 300,\n\t},\n\tlog\t\t: {max_len: 1024},\n\tinit\t: {\n\t\tbg_color\t\t\t: '#000000',\n\t\ttagch_msecwait\t\t: 10,\n\t\tauto_msecpagewait\t: 3500,\n\t\tescape\t\t\t\t: '',\n\t},\n\tdebug\t: {\n\t\tdevtool\t\t: false,\n\t\tdumpHtm\t\t: false,\n\t\ttoken\t\t: false,\n\t\ttag\t\t\t: false,\n\t\tputCh\t\t: false,\n\t\tdebugLog\t: false,\n\t\tbaseTx\t\t: false,\n\t\tmasume\t\t: false,\n\t\tvariable\t: false,\n\t},\n\tcode\t: {},\n\tdebuger_token\t: '',\n} as const;\n\n// vue\n// eslint-disable-next-line @typescript-eslint/consistent-type-assertions\nexport const DEF_CFG4TST: T_CFG = {\n\tbook\t: {\n\t\ttitle\t\t: '()',\n\t\tcreator\t\t: '()',\n//\t\tcre_url\t\t: 'https://twitter.com/',\n\t\tcre_url\t\t: 'ugainovel@gmail.com',\n\t\tpublisher\t: '()',\n\t\tpub_url\t\t: 'https://ugainovel.blog.fc2.com/',\n\t\tdetail\t\t: '()',\n\t\tversion\t\t: '1.2.3',\n\t},\n\tsave_ns\t\t: 'tst_save_ns',\n\twindow\t: {\n\t\twidth\t: 800,\n\t\theight\t: 600,\n\t},\n\tlog\t\t: {max_len: 1024},\n\tinit\t: {\n\t\tbg_color\t\t\t: '#008800',\n\t\ttagch_msecwait\t\t: 10,\n\t\tauto_msecpagewait\t: 3500,\n\t\tescape\t\t\t\t: '\\\\',\n\t},\n\tdebug\t: {\n\t\tdevtool\t\t: false,\n\t\tdumpHtm\t\t: false,\n\t\ttoken\t\t: false,\n\t\ttag\t\t\t: false,\n\t\tputCh\t\t: false,\n\t\tdebugLog\t: false,\n\t\tbaseTx\t\t: false,\n\t\tmasume\t\t: false,\n\t\tvariable\t: false,\n\t},\n\tcode\t: {script: true, dummy: false},\n\tdebuger_token\t: '',\n} as const;\n\n\n// --------------------------------------------------------------------\n//MARK: cut_round\nexport type T_BJ_cut_round = {\n\torder: {\n\t\twp_src\t\t: WORKSPACE_PATH;\n\t\tis_src_pp\t: boolean;\n\t\tshape\t\t: number;\n\t\twp_dest\t\t: WORKSPACE_PATH;\n\t\tis_new_tmp\t: boolean;\n\t};\n\n\terr: string;\n}\n\n\n// --------------------------------------------------------------------\n//MARK: cnv_psd_face\nexport type T_BJ_Psd2Layer = {\n\taOrder: {\n\t\tfp_tmp\t: FULL_PATH;\n\t\textend: {\n\t\t\tleft\t\t: number;\n\t\t\tright\t\t: number;\n\t\t\ttop\t\t\t: number;\n\t\t\tbottom\t\t: number;\n\t\t\tbackground\t: {r: number; g: number; b: number; alpha: number};\n\t\t};\n\t\tpp_out\t: PROJECT_PATH;\n\t}[];\n\n\terr: string;\n}\n\n\n// --------------------------------------------------------------------\n// core/font/font.json\n//\t\nexport type T_FONTJSON = {\n\tinp\t\t: string;\t// \n\ttxt\t\t: string;\t// \n}\nexport type T_H_FONTJSON = {[font_nm: string]: T_FONTJSON};\n\nexport const H_FONTJSON_nm_DEF_FONT = ':DEF_FONT:';\n\n\n// \nexport type T_H_FONT2STR = {\n\t[font_nm: string]: string;\n}\n\n// \nexport type T_INF_INTFONT = {\n\tdefaultFontName\t: string;\n\thSn2Font2Str\t: {[pp: PROJECT_PATH]: T_H_FONT2STR};\n\thFp2FontErr\t\t: {[fp: FULL_PATH]: {\n\t\t\t\t\t\terr\t: string;\n\t\t\t\t\t\tnm\t: string;\n\t\t\t\t\t\tsl\t: number;\n\t\t\t\t\t\tsc\t: number;\n\t\t\t\t\t\tel\t: number;\n\t\t\t\t\t\tec\t: number;\n\t\t\t\t\t}[]};\n}\n\n//MARK: subset_font\nexport type T_BJ_subset_font = {\t// core/font/subset_font.json\n\tinp\t\t: string;\n\tout\t\t: string;\n\tiSize\t: number;\n\toSize\t: number;\n\terr\t\t: string;\n}\nexport type T_H_BJ_subset_font = {[nm: string]: T_BJ_subset_font};\n\n// 2Vue\nexport type T_A_CNVFONT = {\n\tnm\t\t: string;\n\tmes\t\t: string;\n\tiSize\t: number;\n\toSize\t: number;\n\terr\t\t: string;\n}[]\n\n\n// --------------------------------------------------------------------\n//MARK: cnv_mat_pic\nexport type T_OPTPIC_FILE = {\n\tbaseSize\t: number;\n\twebpSize\t: number;\n\tfld_nm\t\t: string;\n\text\t\t\t: ''|'jpg'|'jpeg'|'png';\n\twebp_q?\t\t: number;\n}\nexport type T_OPTPIC_FILE_AND_KEY = {\n\tkey\t\t: number;\n\tnm\t\t: string;\n\tid\t\t: string;\n} & T_OPTPIC_FILE;\nexport type T_BJ_OPTPIC = {\n\torder: {\n\t\tquality\t\t\t: number;\n\t\tFLD_PRJ_BASE\t: string;\n\t},\n\taOrder: {\n\t\tpathPrj\t: PROJECT_PATH;\n\t\tpathBase: WORKSPACE_PATH;\n\t}[];\n\n\tsum: {\n\t\tbaseSize\t\t: number;\n\t\twebpSize\t\t: number;\n\t\tpathPicCmpWebP\t: string;\n\t\tpathPicCmpBase\t: string;\n\t};\n\thSize: {[fn: string]: T_OPTPIC_FILE};\n}\n\nexport function creBJ_OPTPIC(): T_BJ_OPTPIC {return {\n\torder: {\n\t\tquality\t: 0,\n\t\tFLD_PRJ_BASE\t: '',\n\t},\n\taOrder: [],\n\tsum: {\n\t\tbaseSize\t\t: 0,\n\t\twebpSize\t\t: 0,\n\t\tpathPicCmpWebP\t: '',\n\t\tpathPicCmpBase\t: '',\n\t},\n\thSize\t: {},\n}}\nexport function creBJ_OPTPIC4TST(): T_BJ_OPTPIC {return {\n\torder: {\n\t\tquality\t: 0,\n\t\tFLD_PRJ_BASE\t: '',\n\t},\n\taOrder: [],\n\tsum: {\n\t\tbaseSize\t\t: 4510000,\n\t\twebpSize\t\t: 1550000,\n\t\tpathPicCmpWebP\t: '../',\n\t\tpathPicCmpBase\t: '../',\n\t},\n\thSize: {\t// \n\t\t'title_base'\t: {baseSize: 6000, webpSize: 1000, fld_nm: 'test/title_base', ext: 'jpg'},\n\t\t'breakpage_b'\t: {baseSize: 6002, webpSize: 3000, fld_nm: 'test/breakpage_b', ext: 'png', webp_q: 45,},\n\t\t'breakline.5x20': {baseSize: 6001, webpSize: 2000, fld_nm: 'test/breakline.5x20', ext: 'png'},\n\t},\n}}\n\n\n// --------------------------------------------------------------------\n//MARK: cnv_mat_snd\nexport type T_OPTSND_FILE = {\n\tbaseSize\t: number;\n\toptSize\t\t: number;\n\tfld_nm\t\t: string;\n\text\t\t\t: ''|'mp4'|'wav';\t// mp3|opus|m4a|ogg|aac|flac|wav\n//\twebp_q?\t\t: number;\n}\nexport type T_OPTSND_FILE_AND_KEY = {\n\tkey\t\t: number;\n\tnm\t\t: string;\n\tid\t\t: string;\n} & T_OPTSND_FILE;\nexport type T_OPTSND = {\n\tsum: {\n\t\tbaseSize\t: number;\n\t\toptSize\t\t: number;\n\t\tpathSndOpt\t: string;\n\t\tpathSndBase\t: string;\n\t};\n\thSize: {[fn: string]: T_OPTSND_FILE};\n}\nexport function creOPTSND(): T_OPTSND {return {\n\tsum: {\n\t\tbaseSize\t: 0,\n\t\toptSize\t\t: 0,\n\t\tpathSndOpt\t: '',\n\t\tpathSndBase\t: '',\n\t},\n\thSize\t: {},\n}}\nexport function creOPTSND4TST(): T_OPTSND {return {\n\tsum: {\n\t\tbaseSize\t: 4510001,\n\t\toptSize\t\t: 1550001,\n\t\tpathSndOpt\t: '../',\n\t\tpathSndBase\t: '../',\n\t},\n\thSize: {\t// \n\t\t'free0509'\t: {baseSize: 4000, optSize: 1010, fld_nm: 'test/free0509', ext: 'wav'},\n\t\t'bow'\t: {baseSize: 4002, optSize: 3010, fld_nm: 'test/bow', ext: 'mp4',},\n\t\t'wood04': {baseSize: 4001, optSize: 2010, fld_nm: 'test/wood04', ext: 'wav'},\n\t},\n}}\n\n\n// --------------------------------------------------------------------\n//MARK: \nexport const REG_SN2TEMP = /;[^\\n]*|(?:&(\\S+)|\\[let\\s+name\\s*=\\s*(\\S+)\\s+text)\\s*=\\s*(([\"'#]).+?\\4|[^;\\s]+)(?:[^;\\n]*;(.*))?/g;\t// https://regex101.com/r/FpmGwf/1\n\nexport type T_TEMP = {\n\tid\t\t: string;\n\tnm\t\t: string;\n\tlbl\t\t: string;\n\ttype\t: 'txt'|'num'|'rng'|'chk'|'fn'|'fn_grp'|'fn_snd';\n\t\t\t\t\t\t// TODO: type\n\tval\t\t: string;\n\tbol?\t: boolean;\n\tnum?\t: number;\n\tmax?\t: number;\n\tmin?\t: number;\n\tstep?\t: number;\n}\nexport const DEF_TEMP: T_TEMP[] = []\n// eslint-disable-next-line @typescript-eslint/consistent-type-assertions\nexport const DEF_TEMP4TST: T_TEMP[] = [\n\t{id: '/setting.sn:sys:TextLayer.Back.Alpha', nm: 'sys:TextLayer.Back.Alpha', lbl: '', type: 'rng', val: '0.7', num: 0.7, max: 1, min: 0, step: 0.05,},\n\t{id: '/setting.sn:sysse_ok1', nm: 'sysse_ok1', lbl: '', type: 'txt', val: 'BurstB_11'},\n\t{id: '/setting.sn:sysse_ok2', nm: 'sysse_ok2', lbl: '', type: 'txt', val: 'BellA_16'},\n\t{id: '/setting.sn:sysse_ok2_long', nm: 'sysse_ok2_long', lbl: '', type: 'txt', val: 'BellB_11'},\n\t{id: '/setting.sn:sysse_cancel', nm: 'sysse_cancel', lbl: '', type: 'txt', val: 'bell05'},\n\t{id: '/setting.sn:sysse_choice', nm: 'sysse_choice', lbl: '', type: 'txt', val: 'wood04'},\n\t{id: '/setting.sn:useSysMenu', nm: 'useSysMenu', lbl: '', type: 'chk', val: 'false', bol: false},\n\t{id: '/setting.sn:def_fonts', nm: 'def_fonts', lbl: '', type: 'txt', val: 'ipamjm, QuiMi_mincho'},\n\t{id: '/setting.sn:autoResume', nm: 'autoResume', lbl: '', type: 'chk', val: 'true', bol: true},\n] as const;\n\n\n// --------------------------------------------------------------------\n//MARK: Ex2Vue\nexport type T_Ex2VueBase = {\n\tcmd\t\t: unknown;\n}\nexport type T_Ex2Vue_cmd = T_E2V['cmd'];\n\nexport type T_E2V_INIT = T_Ex2VueBase & {\n\tcmd\t\t: '!';\n\toCfg\t: T_CFG;\n\toWss\t: T_WSS;\n\tpathIcon: string;\n\tfld_src\t: string;\n\toTemp\t: T_E2V_TEMP_SUB;\n}\n\nexport type T_E2V_CFG = T_Ex2VueBase & {\n\tcmd\t\t: 'update.oCfg';\n\toCfg\t: T_CFG;\n}\n\nexport type T_E2V_INITVUE = T_Ex2VueBase & {\t// stVSCode.ts ->  Vue \n\tcmd\t\t: 'init.Vue';\n}\n\nexport type T_E2V_CNVFONT = T_Ex2VueBase & {\n\tcmd\t\t\t: 'update.cnvFont';\n\taCnvFont\t: T_A_CNVFONT;\n}\nexport type T_E2V_OPTPIC = T_Ex2VueBase & {\n\tcmd\t\t\t: 'update.optPic';\n\toOptPic\t\t: T_BJ_OPTPIC;\n}\nexport type T_E2V_OPTSND = T_Ex2VueBase & {\n\tcmd\t\t\t: 'update.optSnd';\n\toOptSnd\t\t: T_OPTSND;\n}\n\nexport type T_E2V_NOTICE_COMPONENT = T_Ex2VueBase & {\n\tcmd\t\t: 'notice.Component';\n\tid\t\t: 'cnv.font.subset'|'cnv.mat.pic'\n\t\t\t|'cnv.mat.snd'|'cnv.mat.snd.codec';\n\tmode\t: 'wait'|'comp'|'cancel';\n}\n\nexport type T_E2V_TEMP = T_Ex2VueBase & T_E2V_TEMP_SUB & {\n\tcmd\t\t: 'update.aTemp';\n}\n\texport type T_E2V_TEMP_SUB = {\n\t\taTemp\t: T_TEMP[];\n\t\terr\t\t: string;\n\t};\n\nexport type T_E2V_SELECT_ICON_INFO = T_Vue2ExBase & {\n\tcmd\t\t\t: 'updpic';\n\tpathIcon\t: string;\n\terr_mes\t\t: string;\n}\n\nexport type T_E2V\n\t= T_E2V_INIT\n\t| T_E2V_CFG\n\t| T_E2V_INITVUE\n\t| T_E2V_CNVFONT\n\t| T_E2V_OPTPIC\n\t| T_E2V_OPTSND\n\t| T_E2V_NOTICE_COMPONENT\n\t| T_E2V_TEMP\n\t| T_E2V_SELECT_ICON_INFO\n;\n\n\n// --------------------------------------------------------------------\n//MARK: Vue2Ex\nexport type T_Vue2ExBase = {\n\tcmd\t\t: unknown;\n}\nexport type T_Vue2Ex_cmd = T_V2E['cmd'];\n\nexport type T_V2E_Q = T_Vue2ExBase & {\n\tcmd\t\t: '?';\n}\n\nexport type T_V2E_CFG = T_Vue2ExBase & {\n\tcmd\t\t: 'update.oCfg';\n\toCfg\t: T_CFG;\n}\n\nexport type T_V2E_CHG_RANGE_WEBP_Q_DEF = T_Vue2ExBase & {\n\tcmd\t\t: 'change.range.webp_q_def';\n\twebp_q\t: number;\n}\n\nexport type T_V2E_CHG_RANGE_WEBP_Q = T_Vue2ExBase & {\n\tcmd\t\t: 'change.range.webp_q';\n\tnm\t\t: string;\n\tno_def\t: boolean;\n\twebp_q\t: number;\n}\n\nexport type T_V2E_oWss = T_Vue2ExBase & {\n\tcmd\t\t: 'update.oWss';\n\toWss\t: T_WSS;\n}\n\nexport type T_V2E_aTemp = T_Vue2ExBase & {\n\tcmd\t\t: 'update.aTemp';\n\taRes\t: {\n\t\tnm\t\t: string;\n\t\tval\t\t: string;\n\t}[]\n}\n\nexport type T_V2E_info = T_Vue2ExBase & {\n\tcmd\t\t: 'info';\n\tmes\t\t: string;\n}\n\nexport type T_V2E_warn = T_Vue2ExBase & {\n\tcmd\t\t: 'warn';\n\tmes\t\t: string;\n}\n\nexport type T_V2E_openURL = T_Vue2ExBase & {\n\tcmd\t\t: 'openURL';\n\turl\t\t: string;\n}\n\nexport type T_V2E_copyTxt = T_Vue2ExBase & {\n\tcmd\t\t: 'copyTxt';\n\tid\t\t: string;\n}\n\nexport type T_V2E_selectFile = T_Vue2ExBase & {\n\tcmd\t\t\t: 'selectFile';\n\ttitle\t\t: string;\n\topenlabel\t: string;\n\tpath\t\t: string;\n}\n\nexport type T_V2E\n\t= T_V2E_Q\n\t| T_V2E_CFG\n\t| T_V2E_CHG_RANGE_WEBP_Q_DEF\n\t| T_V2E_CHG_RANGE_WEBP_Q\n\t| T_V2E_oWss\n\t| T_V2E_aTemp\n\t| T_V2E_info\n\t| T_V2E_warn\n\t| T_V2E_openURL\n\t| T_V2E_copyTxt\n\t| T_V2E_selectFile\n\n\n// --------------------------------------------------------------------\n//MARK: \nexport type T_TMPWIZ = {\n\tcmd\t\t: 'get'|'info'|'input'|'tmp_cjs_hatsune'|'tmp_cjs_uc'|'tmp_cjs_sample'|'tmp_esm_uc';\n\tid\t\t: string;\n\ttext\t: string;\n\tval\t\t: string;\n}\n"],"names":[],"sourceRoot":""}